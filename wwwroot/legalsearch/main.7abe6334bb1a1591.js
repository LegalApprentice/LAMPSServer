"use strict";var joe=Object.defineProperty,Uoe=Object.defineProperties,$oe=Object.getOwnPropertyDescriptors,PH=Object.getOwnPropertySymbols,zoe=Object.prototype.hasOwnProperty,Koe=Object.prototype.propertyIsEnumerable,FH=($r,W,Z)=>W in $r?joe($r,W,{enumerable:!0,configurable:!0,writable:!0,value:Z}):$r[W]=Z,Pi=($r,W)=>{for(var Z in W||(W={}))zoe.call(W,Z)&&FH($r,Z,W[Z]);if(PH)for(var Z of PH(W))Koe.call(W,Z)&&FH($r,Z,W[Z]);return $r},Hv=($r,W)=>Uoe($r,$oe(W));(self.webpackChunklegalsearch=self.webpackChunklegalsearch||[]).push([[179],{721:($r,W,Z)=>{function At(n){return"function"==typeof n}function he(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const je=he(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Fi(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Gt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const d of e)d.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(At(r))try{r()}catch(d){t=d instanceof je?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{Vv(d)}catch(p){t=null!=t?t:[],p instanceof je?t=[...t,...p.errors]:t.push(p)}}if(t)throw new je(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Vv(t);else{if(t instanceof Gt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Fi(e,t)}remove(t){const{_finalizers:e}=this;e&&Fi(e,t),t instanceof Gt&&t._removeParent(this)}}Gt.EMPTY=(()=>{const n=new Gt;return n.closed=!0,n})();const yr=Gt.EMPTY;function Aa(n){return n instanceof Gt||n&&"closed"in n&&At(n.remove)&&At(n.add)&&At(n.unsubscribe)}function Vv(n){At(n)?n():n.unsubscribe()}const Oa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Td={setTimeout(n,t,...e){const{delegate:r}=Td;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Td;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Rd(n){Td.setTimeout(()=>{const{onUnhandledError:t}=Oa;if(!t)throw n;t(n)})}function Ni(){}const xa=Jc("C",void 0,void 0);function Jc(n,t,e){return{kind:n,value:t,error:e}}let Ia=null;function Ad(n){if(Oa.useDeprecatedSynchronousErrorHandling){const t=!Ia;if(t&&(Ia={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Ia;if(Ia=null,e)throw r}}else n()}class hs extends Gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Aa(t)&&t.add(this)):this.destination=bS}static create(t,e,r){return new Od(t,e,r)}next(t){this.isStopped?Ol(function Bv(n){return Jc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ol(function yS(n){return Jc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ol(xa,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const CS=Function.prototype.bind;function af(n,t){return CS.call(n,t)}class Wv{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){ii(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){ii(r)}else ii(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ii(e)}}}class Od extends hs{constructor(t,e,r){let a;if(super(),At(t)||!t)a={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let d;this&&Oa.useDeprecatedNextContext?(d=Object.create(t),d.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&af(t.next,d),error:t.error&&af(t.error,d),complete:t.complete&&af(t.complete,d)}):a=t}this.destination=new Wv(a)}}function ii(n){Oa.useDeprecatedSynchronousErrorHandling?function Zt(n){Oa.useDeprecatedSynchronousErrorHandling&&Ia&&(Ia.errorThrown=!0,Ia.error=n)}(n):Rd(n)}function Ol(n,t){const{onStoppedNotification:e}=Oa;e&&Td.setTimeout(()=>e(n,t))}const bS={closed:!0,next:Ni,error:function lf(n){throw n},complete:Ni},Xc="function"==typeof Symbol&&Symbol.observable||"@@observable";function ri(n){return n}let sn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,a){const d=function Zc(n){return n&&n instanceof hs||function wS(n){return n&&At(n.next)&&At(n.error)&&At(n.complete)}(n)&&Aa(n)}(e)?e:new Od(e,r,a);return Ad(()=>{const{operator:p,source:f}=this;d.add(p?p.call(d,f):f?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=$s(r))((a,d)=>{const p=new Od({next:f=>{try{e(f)}catch(m){d(m),p.unsubscribe()}},error:d,complete:a});this.subscribe(p)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Xc](){return this}pipe(...e){return function xd(n){return 0===n.length?ri:1===n.length?n[0]:function(e){return n.reduce((r,a)=>a(r),e)}}(e)(this)}toPromise(e){return new(e=$s(e))((r,a)=>{let d;this.subscribe(p=>d=p,p=>a(p),()=>r(d))})}}return n.create=t=>new n(t),n})();function $s(n){var t;return null!==(t=null!=n?n:Oa.Promise)&&void 0!==t?t:Promise}const xl=he(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pe=(()=>{class n extends sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new jv(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new xl}next(e){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:a,observers:d}=this;return r||a?yr:(this.currentObservers=null,d.push(e),new Gt(()=>{this.currentObservers=null,Fi(d,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:a,isStopped:d}=this;r?e.error(a):d&&e.complete()}asObservable(){const e=new sn;return e.source=this,e}}return n.create=(t,e)=>new jv(t,e),n})();class jv extends pe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:yr}}function cf(n){return At(null==n?void 0:n.lift)}function Rn(n){return t=>{if(cf(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function An(n,t,e,r,a){return new SS(n,t,e,r,a)}class SS extends hs{constructor(t,e,r,a,d,p){super(t),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=e?function(f){try{e(f)}catch(m){t.error(m)}}:super._next,this._error=a?function(f){try{a(f)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Je(n,t){return Rn((e,r)=>{let a=0;e.subscribe(An(r,d=>{r.next(n.call(t,d,a++))}))})}function DS(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function Wo(n){return this instanceof Wo?(this.v=n,this):new Wo(n)}function Yv(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=e.apply(n,t||[]),d=[];return a={},p("next"),p("throw"),p("return"),a[Symbol.asyncIterator]=function(){return this},a;function p(T){r[T]&&(a[T]=function(M){return new Promise(function(H,$){d.push([T,M,H,$])>1||f(T,M)})})}function f(T,M){try{!function m(T){T.value instanceof Wo?Promise.resolve(T.value.v).then(v,C):b(d[0][2],T)}(r[T](M))}catch(H){b(d[0][3],H)}}function v(T){f("next",T)}function C(T){f("throw",T)}function b(T,M){T(M),d.shift(),d.length&&f(d[0][0],d[0][1])}}function OS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Cr(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(d){e[d]=n[d]&&function(p){return new Promise(function(f,m){!function a(d,p,f,m){Promise.resolve(m).then(function(v){d({value:v,done:f})},p)}(f,m,(p=n[d](p)).done,p.value)})}}}const tu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function pf(n){return At(null==n?void 0:n.then)}function Id(n){return At(n[Xc])}function Md(n){return Symbol.asyncIterator&&At(null==n?void 0:n[Symbol.asyncIterator])}function Pd(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fs=function qv(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hf(n){return At(null==n?void 0:n[fs])}function Qv(n){return Yv(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:a}=yield Wo(e.read());if(a)return yield Wo(void 0);yield yield Wo(r)}}finally{e.releaseLock()}})}function ff(n){return At(null==n?void 0:n.getReader)}function br(n){if(n instanceof sn)return n;if(null!=n){if(Id(n))return function Jv(n){return new sn(t=>{const e=n[Xc]();if(At(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(tu(n))return function MS(n){return new sn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(pf(n))return function gf(n){return new sn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Rd)})}(n);if(Md(n))return di(n);if(hf(n))return function Se(n){return new sn(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ff(n))return function xe(n){return di(Qv(n))}(n)}throw Pd(n)}function di(n){return new sn(t=>{(function P(n,t){var e,r,a,d;return function Kv(n,t,e,r){return new(e||(e=Promise))(function(d,p){function f(C){try{v(r.next(C))}catch(b){p(b)}}function m(C){try{v(r.throw(C))}catch(b){p(b)}}function v(C){C.done?d(C.value):function a(d){return d instanceof e?d:new e(function(p){p(d)})}(C.value).then(f,m)}v((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=OS(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(p){a={error:p}}finally{try{r&&!r.done&&(d=e.return)&&(yield d.call(e))}finally{if(a)throw a.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function mt(n,t,e,r=0,a=!1){const d=t.schedule(function(){e(),a?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(d),!a)return d}function Ft(n,t,e=1/0){return At(t)?Ft((r,a)=>Je((d,p)=>t(r,d,a,p))(br(n(r,a))),e):("number"==typeof t&&(e=t),Rn((r,a)=>function Xv(n,t,e,r,a,d,p,f){const m=[];let v=0,C=0,b=!1;const T=()=>{b&&!m.length&&!v&&t.complete()},M=$=>v<r?H($):m.push($),H=$=>{d&&t.next($),v++;let Q=!1;br(e($,C++)).subscribe(An(t,te=>{null==a||a(te),d?M(te):t.next(te)},()=>{Q=!0},void 0,()=>{if(Q)try{for(v--;m.length&&v<r;){const te=m.shift();p?mt(t,p,()=>H(te)):H(te)}T()}catch(te){t.error(te)}}))};return n.subscribe(An(t,M,()=>{b=!0,T()})),()=>{null==f||f()}}(r,a,n,e)))}function fo(n=1/0){return Ft(ri,n)}const zr=new sn(n=>n.complete());function q(n){return n&&At(n.schedule)}function tt(n){return n[n.length-1]}function Ma(n){return At(tt(n))?n.pop():void 0}function nu(n){return q(tt(n))?n.pop():void 0}function Zv(n,t=0){return Rn((e,r)=>{e.subscribe(An(r,a=>mt(r,n,()=>r.next(a),t),()=>mt(r,n,()=>r.complete(),t),a=>mt(r,n,()=>r.error(a),t)))})}function pi(n,t=0){return Rn((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Fd(n,t){if(!n)throw new Error("Iterable cannot be null");return new sn(e=>{mt(e,t,()=>{const r=n[Symbol.asyncIterator]();mt(e,t,()=>{r.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function $n(n,t){return t?function jo(n,t){if(null!=n){if(Id(n))return function bn(n,t){return br(n).pipe(pi(t),Zv(t))}(n,t);if(tu(n))return function e_(n,t){return new sn(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(pf(n))return function PS(n,t){return br(n).pipe(pi(t),Zv(t))}(n,t);if(Md(n))return Fd(n,t);if(hf(n))return function FS(n,t){return new sn(e=>{let r;return mt(e,t,()=>{r=n[fs](),mt(e,t,()=>{let a,d;try{({value:a,done:d}=r.next())}catch(p){return void e.error(p)}d?e.complete():e.next(a)},0,!0)}),()=>At(null==r?void 0:r.return)&&r.return()})}(n,t);if(ff(n))return function Il(n,t){return Fd(Qv(n),t)}(n,t)}throw Pd(n)}(n,t):br(n)}function wr(...n){const t=nu(n),e=function Mt(n,t){return"number"==typeof tt(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?br(r[0]):fo(e)($n(r,t)):zr}function er(n){return n<=0?()=>zr:Rn((t,e)=>{let r=0;t.subscribe(An(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Pa(n={}){const{connector:t=(()=>new pe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=n;return d=>{let p=null,f=null,m=null,v=0,C=!1,b=!1;const T=()=>{null==f||f.unsubscribe(),f=null},M=()=>{T(),p=m=null,C=b=!1},H=()=>{const $=p;M(),null==$||$.unsubscribe()};return Rn(($,Q)=>{v++,!b&&!C&&T();const te=m=null!=m?m:t();Q.add(()=>{v--,0===v&&!b&&!C&&(f=Ml(H,a))}),te.subscribe(Q),p||(p=new Od({next:Y=>te.next(Y),error:Y=>{b=!0,T(),f=Ml(M,e,Y),te.error(Y)},complete:()=>{C=!0,T(),f=Ml(M,r),te.complete()}}),$n($).subscribe(p))})(d)}}function Ml(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(er(1)).subscribe(()=>n())}function en(n){for(let t in n)if(n[t]===en)return t;throw Error("Could not find renamed property on target object.")}function vf(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ut(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ut).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Nd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const NS=en({__forward_ref__:en});function Ht(n){return n.__forward_ref__=Ht,n.toString=function(){return Ut(this())},n}function ie(n){return t_(n)?n():n}function t_(n){return"function"==typeof n&&n.hasOwnProperty(NS)&&n.__forward_ref__===Ht}class Ve extends Error{constructor(t,e){super(function Ld(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function G(n){return"string"==typeof n?n:null==n?"":String(n)}function Si(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():G(n)}function iu(n,t){const e=t?` in ${t}`:"";throw new Ve(-201,`No provider for ${Si(n)} found${e}`)}function Yt(n,t){null==n&&function mn(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function _e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $e(n){return{providers:n.providers||[],imports:n.imports||[]}}function yf(n){return a_(n,kd)||a_(n,c_)}function a_(n,t){return n.hasOwnProperty(t)?n[t]:null}function l_(n){return n&&(n.hasOwnProperty(bf)||n.hasOwnProperty(u_))?n[bf]:null}const kd=en({\u0275prov:en}),bf=en({\u0275inj:en}),c_=en({ngInjectableDef:en}),u_=en({ngInjectorDef:en});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let wf;function zs(n){const t=wf;return wf=n,t}function go(n,t,e){const r=yf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&dt.Optional?null:void 0!==t?t:void iu(Ut(n),"Injector")}function vs(n){return{toString:n}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Kr=(()=>{return(n=Kr||(Kr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Kr;var n})();const jS="undefined"!=typeof globalThis&&globalThis,Sf="undefined"!=typeof window&&window,Pl="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,tn=jS||"undefined"!=typeof global&&global||Sf||Pl,Ks={},Qt=[],Fl=en({\u0275cmp:en}),ru=en({\u0275dir:en}),ou=en({\u0275pipe:en}),Gd=en({\u0275mod:en}),zn=en({\u0275fac:en}),Ys=en({__NG_ELEMENT_ID__:en});let Hd=0;function Ce(n){return vs(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,id:"c",styles:n.styles||Qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},a=n.directives,d=n.features,p=n.pipes;return r.id+=Hd++,r.inputs=Df(n.inputs,e),r.outputs=Df(n.outputs),d&&d.forEach(f=>f(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(Na):null,r.pipeDefs=p?()=>("function"==typeof p?p():p).map(su):null,r})}function Fa(n,t,e){const r=n.\u0275cmp;r.directiveDefs=()=>t.map(Na),r.pipeDefs=()=>e.map(su)}function Na(n){return Ei(n)||function qs(n){return n[ru]||null}(n)}function su(n){return function Uo(n){return n[ou]||null}(n)}const Ef={};function Ke(n){return vs(()=>{const t={type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ef[n.id]=n.type),t})}function Df(n,t){if(null==n)return Ks;const e={};for(const r in n)if(n.hasOwnProperty(r)){let a=n[r],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),e[a]=r,t&&(t[a]=d)}return e}const ce=Ce;function hi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ei(n){return n[Fl]||null}function Ie(n,t){const e=n[Gd]||null;if(!e&&!0===t)throw new Error(`Type ${Ut(n)} does not have '\u0275mod' property.`);return e}function Qr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Dr(n){return Array.isArray(n)&&!0===n[1]}function Vd(n){return 0!=(8&n.flags)}function Zs(n){return 2==(2&n.flags)}function Tr(n){return 1==(1&n.flags)}function _o(n){return null!==n.template}function ka(n){return 0!=(512&n[2])}function ea(n,t){return n.hasOwnProperty(zn)?n[zn]:null}class qS{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return jd}function jd(n){return n.type.prototype.ngOnChanges&&(n.setInput=QS),Ud}function Ud(){const n=lu(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Ks)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function QS(n,t,e,r){const a=lu(n)||function JS(n,t){return n[Ll]=t}(n,{previous:Ks,current:null}),d=a.current||(a.current={}),p=a.previous,f=this.declaredInputs[e],m=p[f];d[f]=new qS(m&&m.currentValue,t,p===Ks),n[r]=t}$t.ngInherit=!0;const Ll="__ngSimpleChanges__";function lu(n){return n[Ll]||null}let Yd;function ta(){return void 0!==Yd?Yd:"undefined"!=typeof document?document:void 0}function Pn(n){return!!n.listen}const ys={createRenderer:(n,t)=>ta()};function Yn(n){for(;Array.isArray(n);)n=n[0];return n}function kl(n,t){return Yn(t[n])}function Ar(n,t){return Yn(t[n.index])}function Of(n,t){return n.data[t]}function Ha(n,t){return n[t]}function wn(n,t){const e=t[n];return Qr(e)?e:e[0]}function si(n){return 4==(4&n[2])}function xf(n){return 128==(128&n[2])}function ia(n,t){return null==t?null:n[t]}function qd(n){n[18]=0}function Qd(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const it={lFrame:Ff(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function R_(){return it.bindingsEnabled}function ye(){return it.lFrame.lView}function Nt(){return it.lFrame.tView}function J(n){return it.lFrame.contextLView=n,n[8]}function Bn(){let n=A_();for(;null!==n&&64===n.type;)n=n.parent;return n}function A_(){return it.lFrame.currentTNode}function $o(n,t){const e=it.lFrame;e.currentTNode=n,e.isParent=t}function Me(){return it.lFrame.isParent}function Cs(){it.lFrame.isParent=!1}function Jd(){return it.isInCheckNoChangesMode}function Gl(n){it.isInCheckNoChangesMode=n}function ai(){const n=it.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Hl(){return it.lFrame.bindingIndex++}function yo(n){const t=it.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function lE(n,t){const e=it.lFrame;e.bindingIndex=e.bindingRootIndex=n,Zd(t)}function Zd(n){it.lFrame.currentDirectiveIndex=n}function Mf(n){const t=it.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function O_(){return it.lFrame.currentQueryIndex}function Pf(n){it.lFrame.currentQueryIndex=n}function x_(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function I_(n,t,e){if(e&dt.SkipSelf){let a=t,d=n;for(;!(a=a.parent,null!==a||e&dt.Host||(a=x_(d),null===a||(d=d[15],10&a.type))););if(null===a)return!1;t=a,n=d}const r=it.lFrame=ep();return r.currentTNode=t,r.lView=n,!0}function cu(n){const t=ep(),e=n[1];it.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ep(){const n=it.lFrame,t=null===n?null:n.child;return null===t?Ff(n):t}function Ff(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function M_(){const n=it.lFrame;return it.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const be=M_;function tp(){const n=M_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function On(){return it.lFrame.selectedIndex}function ra(n){it.lFrame.selectedIndex=n}function xn(){const n=it.lFrame;return Of(n.tView,n.selectedIndex)}function bs(){it.lFrame.currentNamespace="svg"}function np(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const d=n.data[e].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:v,ngOnDestroy:C}=d;p&&(n.contentHooks||(n.contentHooks=[])).push(-e,p),f&&((n.contentHooks||(n.contentHooks=[])).push(e,f),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,f)),m&&(n.viewHooks||(n.viewHooks=[])).push(-e,m),v&&((n.viewHooks||(n.viewHooks=[])).push(e,v),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,v)),null!=C&&(n.destroyHooks||(n.destroyHooks=[])).push(e,C)}}function Va(n,t,e){F_(n,t,3,e)}function uu(n,t,e,r){(3&n[2])===e&&F_(n,t,e,r)}function kf(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function F_(n,t,e,r){const d=null!=r?r:-1,p=t.length-1;let f=0;for(let m=void 0!==r?65535&n[18]:0;m<p;m++)if("number"==typeof t[m+1]){if(f=t[m],null!=r&&f>=r)break}else t[m]<0&&(n[18]+=65536),(f<d||-1==d)&&(N_(n,e,t,m),n[18]=(4294901760&n[18])+m+2),m++}function N_(n,t,e,r){const a=e[r]<0,d=e[r+1],f=n[a?-e[r]:e[r]];if(a){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{d.call(f)}finally{}}}else try{d.call(f)}finally{}}class Vl{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function ip(n,t,e){const r=Pn(n);let a=0;for(;a<e.length;){const d=e[a];if("number"==typeof d){if(0!==d)break;a++;const p=e[a++],f=e[a++],m=e[a++];r?n.setAttribute(t,f,m,p):t.setAttributeNS(p,f,m)}else{const p=d,f=e[++a];Hf(p)?r&&n.setProperty(t,p,f):r?n.setAttribute(t,p,f):t.setAttribute(p,f),a++}}return a}function Hi(n){return 3===n||4===n||6===n}function Hf(n){return 64===n.charCodeAt(0)}function Bl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?e=a:0===e||Wl(n,e,a,null,-1===e||2===e?t[++r]:null)}}return n}function Wl(n,t,e,r,a){let d=0,p=n.length;if(-1===t)p=-1;else for(;d<n.length;){const f=n[d++];if("number"==typeof f){if(f===t){p=-1;break}if(f>t){p=d-1;break}}}for(;d<n.length;){const f=n[d];if("number"==typeof f)break;if(f===e){if(null===r)return void(null!==a&&(n[d+1]=a));if(r===n[d+1])return void(n[d+2]=a)}d++,null!==r&&d++,null!==a&&d++}-1!==p&&(n.splice(p,0,t),d=p+1),n.splice(d++,0,e),null!==r&&n.splice(d++,0,r),null!==a&&n.splice(d++,0,a)}function Vf(n){return-1!==n}function ja(n){return 32767&n}function jl(n,t){let e=function Bf(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let rp=!0;function op(n){const t=rp;return rp=n,t}let fE=0;function du(n,t){const e=pu(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Ul(r.data,n),Ul(t,null),Ul(r.blueprint,null));const a=sp(n,t),d=n.injectorIndex;if(Vf(a)){const p=ja(a),f=jl(a,t),m=f[1].data;for(let v=0;v<8;v++)t[d+v]=f[p+v]|m[p+v]}return t[d+8]=a,d}function Ul(n,t){n.push(0,0,0,0,0,0,0,0,t)}function pu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function sp(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,a=t;for(;null!==a;){const d=a[1],p=d.type;if(r=2===p?d.declTNode:1===p?a[6]:null,null===r)return-1;if(e++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Ua(n,t,e){!function gE(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ys)&&(r=e[Ys]),null==r&&(r=e[Ys]=fE++);const a=255&r;t.data[n+(a>>5)]|=1<<a}(n,t,e)}function H_(n,t,e){if(e&dt.Optional)return n;iu(t,"NodeInjector")}function lp(n,t,e,r){if(e&dt.Optional&&void 0===r&&(r=null),0==(e&(dt.Self|dt.Host))){const a=n[9],d=zs(void 0);try{return a?a.get(t,r,e&dt.Optional):go(t,r,e&dt.Optional)}finally{zs(d)}}return H_(r,t,e)}function Wf(n,t,e,r=dt.Default,a){if(null!==n){const d=function _E(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ys)?n[Ys]:void 0;return"number"==typeof t?t>=0?255&t:mE:t}(e);if("function"==typeof d){if(!I_(t,n,r))return r&dt.Host?H_(a,e,r):lp(t,e,r,a);try{const p=d(r);if(null!=p||r&dt.Optional)return p;iu(e)}finally{be()}}else if("number"==typeof d){let p=null,f=pu(n,t),m=-1,v=r&dt.Host?t[16][6]:null;for((-1===f||r&dt.SkipSelf)&&(m=-1===f?sp(n,t):t[f+8],-1!==m&&B_(r,!1)?(p=t[1],f=ja(m),t=jl(m,t)):f=-1);-1!==f;){const C=t[1];if(bo(d,f,C.data)){const b=vE(f,t,e,p,r,v);if(b!==V_)return b}m=t[f+8],-1!==m&&B_(r,t[1].data[f+8]===v)&&bo(d,f,t)?(p=C,f=ja(m),t=jl(m,t)):f=-1}}}return lp(t,e,r,a)}const V_={};function mE(){return new $l(Bn(),ye())}function vE(n,t,e,r,a,d){const p=t[1],f=p.data[n+8],C=hu(f,p,e,null==r?Zs(f)&&rp:r!=p&&0!=(3&f.type),a&dt.Host&&d===f);return null!==C?Vi(t,p,C,f):V_}function hu(n,t,e,r,a){const d=n.providerIndexes,p=t.data,f=1048575&d,m=n.directiveStart,C=d>>20,T=a?f+C:n.directiveEnd;for(let M=r?f:f+C;M<T;M++){const H=p[M];if(M<m&&e===H||M>=m&&H.type===e)return M}if(a){const M=p[m];if(M&&_o(M)&&M.type===e)return m}return null}function Vi(n,t,e,r){let a=n[e];const d=t.data;if(function Gf(n){return n instanceof Vl}(a)){const p=a;p.resolving&&function LS(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${n}${e}`)}(Si(d[e]));const f=op(p.canSeeViewProviders);p.resolving=!0;const m=p.injectImpl?zs(p.injectImpl):null;I_(n,r,dt.Default);try{a=n[e]=p.factory(void 0,d,n,r),t.firstCreatePass&&e>=r.directiveStart&&function zo(n,t,e){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(r){const p=jd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,p),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,p)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,a),d&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,d))}(e,d[e],t)}finally{null!==m&&zs(m),op(f),p.resolving=!1,be()}}return a}function bo(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function B_(n,t){return!(n&dt.Self||n&dt.Host&&t)}class $l{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Wf(this._tNode,this._lView,t,r,e)}}function Jt(n){return vs(()=>{const t=n.prototype.constructor,e=t[zn]||jf(t),r=Object.prototype;let a=Object.getPrototypeOf(n.prototype).constructor;for(;a&&a!==r;){const d=a[zn]||jf(a);if(d&&d!==e)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function jf(n){return t_(n)?()=>{const t=jf(ie(n));return t&&t()}:ea(n)}function Ko(n){return function ap(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let a=0;for(;a<r;){const d=e[a];if(Hi(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<r&&"string"==typeof e[a];)a++;else{if(d===t)return e[a+1];a+=2}}}return null}(Bn(),n)}const zl="__parameters__",Kl="__prop__metadata__";function $f(n){return function(...e){if(n){const r=n(...e);for(const a in r)this[a]=r[a]}}}function $a(n,t,e){return vs(()=>{const r=$f(t);function a(...d){if(this instanceof a)return r.apply(this,d),this;const p=new a(...d);return f.annotation=p,f;function f(m,v,C){const b=m.hasOwnProperty(zl)?m[zl]:Object.defineProperty(m,zl,{value:[]})[zl];for(;b.length<=C;)b.push(null);return(b[C]=b[C]||[]).push(p),m}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=n,a.annotationCls=a,a})}function za(n,t,e,r){return vs(()=>{const a=$f(t);function d(...p){if(this instanceof d)return a.apply(this,p),this;const f=new d(...p);return function m(v,C){const b=v.constructor,T=b.hasOwnProperty(Kl)?b[Kl]:Object.defineProperty(b,Kl,{value:{}})[Kl];T[C]=T.hasOwnProperty(C)&&T[C]||[],T[C].unshift(f),r&&r(v,C,...p)}}return e&&(d.prototype=Object.create(e.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Ee{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_e({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zf=new Ee("AnalyzeForEntryComponents");class cp{}const W_=za("ContentChildren",(n,t={})=>Object.assign({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t),cp),gu=Function;function Jr(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Jr(r,t)):t!==n&&t.push(r)}return t}function So(n,t){n.forEach(e=>Array.isArray(e)?So(e,t):t(e))}function up(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function dp(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Eo(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function xr(n,t,e){let r=ws(n,t);return r>=0?n[1|r]=e:(r=~r,function vu(n,t,e,r){let a=n.length;if(a==t)n.push(e,r);else if(1===a)n.push(r,n[0]),n[0]=e;else{for(a--,n.push(n[a-1],n[a]);a>t;)n[a]=n[a-2],a--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Yf(n,t){const e=ws(n,t);if(e>=0)return n[1|e]}function ws(n,t){return function qf(n,t,e){let r=0,a=n.length>>e;for(;a!==r;){const d=r+(a-r>>1),p=n[d<<e];if(t===p)return d<<e;p>t?a=d:r=d+1}return~(a<<e)}(n,t,1)}const _u={},Xf="__NG_DI_FLAG__",gp="ngTempTokenPath",Zf=/\n/gm,K_="__source",RE=en({provide:String,useValue:en});let yu;function eg(n){const t=yu;return yu=n,t}function AE(n,t=dt.Default){if(void 0===yu)throw new Ve(203,"");return null===yu?go(n,void 0,t):yu.get(n,t&dt.Optional?null:void 0,t)}function K(n,t=dt.Default){return(function d_(){return wf}()||AE)(ie(n),t)}const mp=K;function tg(n){const t=[];for(let e=0;e<n.length;e++){const r=ie(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Ve(900,"");let a,d=dt.Default;for(let p=0;p<r.length;p++){const f=r[p],m=OE(f);"number"==typeof m?-1===m?a=f.token:d|=m:a=f}t.push(K(a,d))}else t.push(K(r))}return t}function Cu(n,t){return n[Xf]=t,n.prototype[Xf]=t,n}function OE(n){return n[Xf]}const vp=Cu($a("Inject",n=>({token:n})),-1),Ti=Cu($a("Optional"),8),sa=Cu($a("SkipSelf"),4);let wu,yp;function Ya(n){var t;return(null===(t=function Su(){if(void 0===wu&&(wu=null,tn.trustedTypes))try{wu=tn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wu}())||void 0===t?void 0:t.createHTML(n))||n}function J_(n){var t;return(null===(t=function sg(){if(void 0===yp&&(yp=null,tn.trustedTypes))try{yp=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return yp}())||void 0===t?void 0:t.createHTML(n))||n}class qa{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kE extends qa{getTypeName(){return"HTML"}}class GE extends qa{getTypeName(){return"Style"}}class HE extends qa{getTypeName(){return"Script"}}class VE extends qa{getTypeName(){return"URL"}}class BE extends qa{getTypeName(){return"ResourceURL"}}function Ir(n){return n instanceof qa?n.changingThisBreaksApplicationSecurity:n}function Xr(n,t){const e=pt(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function pt(n){return n instanceof qa&&n.getTypeName()||null}class zE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ya(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class KE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ya(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Ya(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let a=e.length-1;0<a;a--){const p=e.item(a).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&t.removeAttribute(p)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Cp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Du(n){return(n=String(n)).match(Cp)||n.match(qE)?n:"unsafe:"+n}function Yo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Tu(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const lg=Yo("area,br,col,hr,img,wbr"),ny=Yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iy=Yo("rp,rt"),qo=Tu(lg,Tu(ny,Yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tu(iy,Yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tu(iy,ny)),Ru=Yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cg=Yo("srcset"),li=Tu(Ru,cg,Yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QE=Yo("script,style,template");class JE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=this.checkClobberedElement(e,e.nextSibling);if(a){e=a;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qo.hasOwnProperty(e))return this.sanitizedSomething=!0,!QE.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let a=0;a<r.length;a++){const d=r.item(a),p=d.name,f=p.toLowerCase();if(!li.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let m=d.value;Ru[f]&&(m=Du(m)),cg[f]&&(n=m,m=(n=String(n)).split(",").map(t=>Du(t.trim())).join(", ")),this.buf.push(" ",p,'="',ry(m),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qo.hasOwnProperty(e)&&!lg.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ry(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const XE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aa=/([^\#-~ |!])/g;function ry(n){return n.replace(/&/g,"&amp;").replace(XE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(aa,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wi;function ug(n,t){let e=null;try{Wi=Wi||function ey(n){const t=new KE(n);return function YE(){try{return!!(new window.DOMParser).parseFromString(Ya(""),"text/html")}catch(n){return!1}}()?new zE(t):t}(n);let r=t?String(t):"";e=Wi.getInertBodyElement(r);let a=5,d=r;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,r=d,d=e.innerHTML,e=Wi.getInertBodyElement(r)}while(r!==d);return Ya((new JE).sanitizeChildren(bp(e)||e))}finally{if(e){const r=bp(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function bp(n){return"content"in n&&function ZE(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vt=(()=>((Vt=Vt||{})[Vt.NONE=0]="NONE",Vt[Vt.HTML=1]="HTML",Vt[Vt.STYLE=2]="STYLE",Vt[Vt.SCRIPT=3]="SCRIPT",Vt[Vt.URL=4]="URL",Vt[Vt.RESOURCE_URL=5]="RESOURCE_URL",Vt))();function Ss(n){const t=Jl();return t?J_(t.sanitize(Vt.HTML,n)||""):Xr(n,"HTML")?J_(Ir(n)):ug(ta(),G(n))}function Qa(n){const t=Jl();return t?t.sanitize(Vt.URL,n)||"":Xr(n,"URL")?Ir(n):Du(G(n))}function Jl(){const n=ye();return n&&n[12]}const hg="__ngContext__";function Ui(n,t){n[hg]=t}function Sp(n){const t=function la(n){return n[hg]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function mg(n){return n.ngOriginalError}function ly(n,...t){n.error(...t)}class Es{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function xu(n){return n&&n.ngErrorLogger||ly}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&mg(t);for(;e&&mg(e);)e=mg(e);return e||null}}const yg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tn))();function Cg(n){return n.ownerDocument.defaultView}function Mr(n){return n instanceof Function?n():n}var Pr=(()=>((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr))();function bg(n,t){return undefined(n,t)}function Mu(n){const t=n[3];return Dr(t)?t[3]:t}function Rp(n){return Sg(n[13])}function wg(n){return Sg(n[4])}function Sg(n){for(;null!==n&&!Dr(n);)n=n[4];return n}function Ds(n,t,e,r,a){if(null!=r){let d,p=!1;Dr(r)?d=r:Qr(r)&&(p=!0,r=r[0]);const f=Yn(r);0===n&&null!==e?null==a?Ip(t,e,f):ca(t,e,f,a||null,!0):1===n&&null!==e?ca(t,e,f,a||null,!0):2===n?function Ag(n,t,e){const r=Mp(n,t);r&&function Qo(n,t,e,r){Pn(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,f,p):3===n&&t.destroyNode(f),null!=d&&function CD(n,t,e,r,a){const d=e[7];d!==Yn(e)&&Ds(t,n,r,d,a);for(let f=10;f<e.length;f++){const m=e[f];Fu(m[1],m,n,t,r,d)}}(t,n,d,e,a)}}function Ap(n,t,e){if(Pn(n))return n.createElement(t,e);{const r=null!==e?function S_(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function gy(n,t){const e=n[9],r=e.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,Qd(a,-1)),e.splice(r,1)}function tc(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const a=r[17];null!==a&&a!==n&&gy(a,r),t>0&&(n[e-1][4]=r[4]);const d=dp(n,10+t);!function mD(n,t){Fu(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const p=d[19];null!==p&&p.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Zr(n,t){if(!(256&t[2])){const e=t[11];Pn(e)&&e.destroyNode&&Fu(n,t,e,3,null,null),function vD(n){let t=n[13];if(!t)return xp(n[1],n);for(;t;){let e=null;if(Qr(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Qr(t)&&xp(t[1],t),t=t[3];null===t&&(t=n),Qr(t)&&xp(t[1],t),e=t&&t[4]}t=e}}(t)}}function xp(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Pu(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const a=t[e[r]];if(!(a instanceof Vl)){const d=e[r+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const f=a[d[p]],m=d[p+1];try{m.call(f)}finally{}}else try{d.call(a)}finally{}}}}(n,t),function yD(n,t){const e=n.cleanup,r=t[7];let a=-1;if(null!==e)for(let d=0;d<e.length-1;d+=2)if("string"==typeof e[d]){const p=e[d+1],f="function"==typeof p?p(t):Yn(t[p]),m=r[a=e[d+2]],v=e[d+3];"boolean"==typeof v?f.removeEventListener(e[d],m,v):v>=0?r[a=v]():r[a=-v].unsubscribe(),d+=2}else{const p=r[a=e[d+1]];e[d].call(p)}if(null!==r){for(let d=a+1;d<r.length;d++)r[d]();t[7]=null}}(n,t),1===t[1].type&&Pn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Dr(t[3])){e!==t[3]&&gy(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Tg(n,t,e){return function my(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const a=n.data[r.directiveStart].encapsulation;if(a===Kr.None||a===Kr.Emulated)return null}return Ar(r,e)}(n,t.parent,e)}function ca(n,t,e,r,a){Pn(n)?n.insertBefore(t,e,r,a):t.insertBefore(e,r,a)}function Ip(n,t,e){Pn(n)?n.appendChild(t,e):t.appendChild(e)}function vy(n,t,e,r,a){null!==r?ca(n,t,e,r,a):Ip(n,t,e)}function Mp(n,t){return Pn(n)?n.parentNode(t):t.parentNode}function yy(n,t,e){return Fr(n,t,e)}let Fr=function Pp(n,t,e){return 40&n.type?Ar(n,e):null};function Np(n,t,e,r){const a=Tg(n,r,t),d=t[11],f=yy(r.parent||t[6],r,t);if(null!=a)if(Array.isArray(e))for(let m=0;m<e.length;m++)vy(d,a,e[m],f,!1);else vy(d,a,e,f,!1)}function $i(n,t){if(null!==t){const e=t.type;if(3&e)return Ar(t,n);if(4&e)return Lp(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return $i(n,r);{const a=n[t.index];return Dr(a)?Lp(-1,a):Yn(a)}}if(32&e)return bg(t,n)()||Yn(n[t.index]);{const r=Rg(n,t);return null!==r?Array.isArray(r)?r[0]:$i(Mu(n[16]),r):$i(n,t.next)}}return null}function Rg(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Lp(n,t){const e=10+n+1;if(e<t.length){const r=t[e],a=r[1].firstChild;if(null!==a)return $i(r,a)}return t[7]}function kp(n,t,e,r,a,d,p){for(;null!=e;){const f=r[e.index],m=e.type;if(p&&0===t&&(f&&Ui(Yn(f),r),e.flags|=4),64!=(64&e.flags))if(8&m)kp(n,t,e.child,r,a,d,!1),Ds(t,n,a,f,d);else if(32&m){const v=bg(e,r);let C;for(;C=v();)Ds(t,n,a,C,d);Ds(t,n,a,f,d)}else 16&m?by(n,t,r,e,a,d):Ds(t,n,a,f,d);e=p?e.projectionNext:e.next}}function Fu(n,t,e,r,a,d){kp(e,r,n.firstChild,t,a,d,!1)}function by(n,t,e,r,a,d){const p=e[16],m=p[6].projection[r.projection];if(Array.isArray(m))for(let v=0;v<m.length;v++)Ds(t,n,a,m[v],d);else kp(n,t,m,p[3],a,d,!0)}function wy(n,t,e){Pn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Og(n,t,e){Pn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function xg(n,t,e){let r=n.length;for(;;){const a=n.indexOf(t,e);if(-1===a)return a;if(0===a||n.charCodeAt(a-1)<=32){const d=t.length;if(a+d===r||n.charCodeAt(a+d)<=32)return a}e=a+1}}const Sy="ng-template";function Ey(n,t,e){let r=0;for(;r<n.length;){let a=n[r++];if(e&&"class"===a){if(a=n[r],-1!==xg(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<n.length&&"string"==typeof(a=n[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function Dy(n){return 4===n.type&&n.value!==Sy}function bD(n,t,e){return t===(4!==n.type||e?n.value:Sy)}function Ty(n,t,e){let r=4;const a=n.attrs||[],d=function ED(n){for(let t=0;t<n.length;t++)if(Hi(n[t]))return t;return n.length}(a);let p=!1;for(let f=0;f<t.length;f++){const m=t[f];if("number"!=typeof m){if(!p)if(4&r){if(r=2|1&r,""!==m&&!bD(n,m,e)||""===m&&1===t.length){if(To(r))return!1;p=!0}}else{const v=8&r?m:t[++f];if(8&r&&null!==n.attrs){if(!Ey(n.attrs,v,e)){if(To(r))return!1;p=!0}continue}const b=wD(8&r?"class":m,a,Dy(n),e);if(-1===b){if(To(r))return!1;p=!0;continue}if(""!==v){let T;T=b>d?"":a[b+1].toLowerCase();const M=8&r?T:null;if(M&&-1!==xg(M,v,0)||2&r&&v!==T){if(To(r))return!1;p=!0}}}}else{if(!p&&!To(r)&&!To(m))return!1;if(p&&To(m))continue;p=!1,r=m|1&r}}return To(r)||p}function To(n){return 0==(1&n)}function wD(n,t,e,r){if(null===t)return-1;let a=0;if(r||!e){let d=!1;for(;a<t.length;){const p=t[a];if(p===n)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let f=t[++a];for(;"string"==typeof f;)f=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function el(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Gp(n,t,e=!1){for(let r=0;r<t.length;r++)if(Ty(n,t[r],e))return!0;return!1}function DD(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let a=0;a<n.length;a++)if(n[a]!==r[a])continue e;return!0}}return!1}function Ry(n,t){return n?":not("+t.trim()+")":t}function TD(n){let t=n[0],e=1,r=2,a="",d=!1;for(;e<n.length;){let p=n[e];if("string"==typeof p)if(2&r){const f=n[++e];a+="["+p+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?a+="."+p:4&r&&(a+=" "+p);else""!==a&&!To(p)&&(t+=Ry(d,a),a=""),r=p,d=d||!To(r);e++}return""!==a&&(t+=Ry(d,a)),t}const ht={};function D(n){Ay(Nt(),ye(),On()+n,Jd())}function Ay(n,t,e,r){if(!r)if(3==(3&t[2])){const d=n.preOrderCheckHooks;null!==d&&Va(t,d,e)}else{const d=n.preOrderHooks;null!==d&&uu(t,d,0,e)}ra(e)}function Tt(n,t){return n<<17|t<<2}function eo(n){return n>>17&32767}function Mg(n){return 2|n}function Jo(n){return(131068&n)>>2}function Pg(n,t){return-131069&n|t<<2}function Vp(n){return 1|n}function Hg(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const a=e[r],d=e[r+1];if(-1!==d){const p=n.data[d];Pf(a),p.contentQueries(2,t[d],d)}}}function rc(n,t,e,r,a,d,p,f,m,v){const C=t.blueprint.slice();return C[0]=a,C[2]=140|r,qd(C),C[3]=C[15]=n,C[8]=e,C[10]=p||n&&n[10],C[11]=f||n&&n[11],C[12]=m||n&&n[12]||null,C[9]=v||n&&n[9]||null,C[6]=d,C[16]=2==t.type?n[16]:C,C}function oc(n,t,e,r,a){let d=n.data[t];if(null===d)d=function $p(n,t,e,r,a){const d=A_(),p=Me(),m=n.data[t]=function HD(n,t,e,r,a,d){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,e,t,r,a);return null===n.firstChild&&(n.firstChild=m),null!==d&&(p?null==d.child&&null!==m.parent&&(d.child=m):null===d.next&&(d.next=m)),m}(n,t,e,r,a),function aE(){return it.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=e,d.value=r,d.attrs=a;const p=function fn(){const n=it.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return $o(d,!0),d}function sc(n,t,e,r){if(0===e)return-1;const a=t.length;for(let d=0;d<e;d++)t.push(r),n.blueprint.push(r),n.data.push(null);return a}function As(n,t,e){cu(t);try{const r=n.viewQuery;null!==r&&Jp(1,r,e);const a=n.template;null!==a&&Vg(n,t,a,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Hg(n,t),n.staticViewQueries&&Jp(2,n.viewQuery,e);const d=n.components;null!==d&&function kD(n,t){for(let e=0;e<t.length;e++)ZD(n,t[e])}(t,d)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,tp()}}function il(n,t,e,r){const a=t[2];if(256==(256&a))return;cu(t);const d=Jd();try{qd(t),function Xd(n){return it.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Vg(n,t,e,2,r);const p=3==(3&a);if(!d)if(p){const v=n.preOrderCheckHooks;null!==v&&Va(t,v,null)}else{const v=n.preOrderHooks;null!==v&&uu(t,v,0,null),kf(t,0)}if(function XD(n){for(let t=Rp(n);null!==t;t=wg(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const a=e[r],d=a[3];0==(1024&a[2])&&Qd(d,1),a[2]|=1024}}}(t),function qy(n){for(let t=Rp(n);null!==t;t=wg(t))for(let e=10;e<t.length;e++){const r=t[e],a=r[1];xf(r)&&il(a,r,a.template,r[8])}}(t),null!==n.contentQueries&&Hg(n,t),!d)if(p){const v=n.contentCheckHooks;null!==v&&Va(t,v)}else{const v=n.contentHooks;null!==v&&uu(t,v,1),kf(t,1)}!function LD(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const a=e[r];if(a<0)ra(~a);else{const d=a,p=e[++r],f=e[++r];lE(p,d),f(2,t[d])}}}finally{ra(-1)}}(n,t);const f=n.components;null!==f&&function Vy(n,t){for(let e=0;e<t.length;e++)Jg(n,t[e])}(t,f);const m=n.viewQuery;if(null!==m&&Jp(2,m,r),!d)if(p){const v=n.viewCheckHooks;null!==v&&Va(t,v)}else{const v=n.viewHooks;null!==v&&uu(t,v,2),kf(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),d||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qd(t[3],-1))}finally{tp()}}function GD(n,t,e,r){const a=t[10],d=!Jd(),p=si(t);try{d&&!p&&a.begin&&a.begin(),p&&As(n,t,r),il(n,t,e,r)}finally{d&&!p&&a.end&&a.end()}}function Vg(n,t,e,r,a){const d=On(),p=2&r;try{ra(-1),p&&t.length>20&&Ay(n,t,20,Jd()),e(r,a)}finally{ra(d)}}function Bg(n,t,e){if(Vd(t)){const a=t.directiveEnd;for(let d=t.directiveStart;d<a;d++){const p=n.data[d];p.contentQueries&&p.contentQueries(1,e[d],d)}}}function Wg(n,t,e){!R_()||(function zy(n,t,e,r){const a=e.directiveStart,d=e.directiveEnd;n.firstCreatePass||du(e,t),Ui(r,t);const p=e.initialInputs;for(let f=a;f<d;f++){const m=n.data[f],v=_o(m);v&&qg(t,e,m);const C=Vi(t,n,f,e);Ui(C,t),null!==p&&Qg(0,f-a,C,m,0,p),v&&(wn(e.index,t)[8]=C)}}(n,t,e,Ar(e,t)),128==(128&e.flags)&&function KD(n,t,e){const r=e.directiveStart,a=e.directiveEnd,p=e.index,f=function me(){return it.lFrame.currentDirectiveIndex}();try{ra(p);for(let m=r;m<a;m++){const v=n.data[m],C=t[m];Zd(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&zg(v,C)}}finally{ra(-1),Zd(f)}}(n,t,e))}function Gu(n,t,e=Ar){const r=t.localNames;if(null!==r){let a=t.index+1;for(let d=0;d<r.length;d+=2){const p=r[d+1],f=-1===p?e(t,n):n[p];n[a++]=f}}}function By(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=zp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function zp(n,t,e,r,a,d,p,f,m,v){const C=20+r,b=C+a,T=function jg(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ht);return e}(C,b),M="function"==typeof v?v():v;return T[1]={type:n,blueprint:T,template:e,queries:null,viewQuery:f,declTNode:t,data:T.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:m,consts:M,incompleteFirstPass:!1}}function jy(n,t,e,r){const a=Xy(t);null===e?a.push(r):(a.push(e),n.firstCreatePass&&Zy(n).push(r,a.length-1))}function ac(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const a=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,a):e[r]=[t,a]}return e}function nr(n,t,e,r,a,d,p,f){const m=Ar(t,e);let C,v=t.inputs;!f&&null!=v&&(C=v[r])?(em(n,e,C,r,a),Zs(t)&&function BD(n,t){const e=wn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function VD(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),a=null!=p?p(a,t.value||"",r):a,Pn(d)?d.setProperty(m,r,a):Hf(r)||(m.setProperty?m.setProperty(r,a):m[r]=a))}function $g(n,t,e,r){let a=!1;if(R_()){const d=function YD(n,t,e){const r=n.directiveRegistry;let a=null;if(r)for(let d=0;d<r.length;d++){const p=r[d];Gp(e,p.selectors,!1)&&(a||(a=[]),Ua(du(e,t),n,p.type),_o(p)?(Ky(n,e),a.unshift(p)):a.push(p))}return a}(n,t,e),p=null===r?null:{"":-1};if(null!==d){a=!0,Yy(e,n.data.length,d.length);for(let C=0;C<d.length;C++){const b=d[C];b.providersResolver&&b.providersResolver(b)}let f=!1,m=!1,v=sc(n,t,d.length,null);for(let C=0;C<d.length;C++){const b=d[C];e.mergedAttrs=Bl(e.mergedAttrs,b.hostAttrs),Yg(n,e,t,v,b),qD(v,b,p),null!==b.contentQueries&&(e.flags|=8),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(e.flags|=128);const T=b.type.prototype;!f&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),f=!0),!m&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),m=!0),v++}!function Uy(n,t){const r=t.directiveEnd,a=n.data,d=t.attrs,p=[];let f=null,m=null;for(let v=t.directiveStart;v<r;v++){const C=a[v],b=C.inputs,T=null===d||Dy(t)?null:QD(b,d);p.push(T),f=ac(b,v,f),m=ac(C.outputs,v,m)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=16),f.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=f,t.outputs=m}(n,e)}p&&function Kg(n,t,e){if(t){const r=n.localNames=[];for(let a=0;a<t.length;a+=2){const d=e[t[a+1]];if(null==d)throw new Ve(-301,!1);r.push(t[a],d)}}}(e,r,p)}return e.mergedAttrs=Bl(e.mergedAttrs,e.attrs),a}function lc(n,t,e,r,a,d){const p=d.hostBindings;if(p){let f=n.hostBindingOpCodes;null===f&&(f=n.hostBindingOpCodes=[]);const m=~t.index;(function zD(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(f)!=m&&f.push(m),f.push(r,a,p)}}function zg(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ky(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function qD(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;_o(t)&&(e[""]=n)}}function Yy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Yg(n,t,e,r,a){n.data[r]=a;const d=a.factory||(a.factory=ea(a.type)),p=new Vl(d,_o(a),null);n.blueprint[r]=p,e[r]=p,lc(n,t,0,r,sc(n,e,a.hostVars,ht),a)}function qg(n,t,e){const r=Ar(t,n),a=By(e),d=n[10],p=Ri(n,rc(n,a,null,e.onPush?64:16,r,t,d,d.createRenderer(r,e),null,null));n[t.index]=p}function Xo(n,t,e,r,a,d){const p=Ar(n,t);!function Hu(n,t,e,r,a,d,p){if(null==d)Pn(n)?n.removeAttribute(t,a,e):t.removeAttribute(a);else{const f=null==p?G(d):p(d,r||"",a);Pn(n)?n.setAttribute(t,a,f,e):e?t.setAttributeNS(e,a,f):t.setAttribute(a,f)}}(t[11],p,d,n.value,e,r,a)}function Qg(n,t,e,r,a,d){const p=d[t];if(null!==p){const f=r.setInput;for(let m=0;m<p.length;){const v=p[m++],C=p[m++],b=p[m++];null!==f?r.setInput(e,b,v,C):e[C]=b}}}function QD(n,t){let e=null,r=0;for(;r<t.length;){const a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;n.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,n[a],t[r+1])),r+=2}else r+=2;else r+=4}return e}function cc(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function Jg(n,t){const e=wn(t,n);if(xf(e)){const r=e[1];80&e[2]?il(r,e,r.template,e[8]):e[5]>0&&Yp(e)}}function Yp(n){for(let r=Rp(n);null!==r;r=wg(r))for(let a=10;a<r.length;a++){const d=r[a];if(1024&d[2]){const p=d[1];il(p,d,p.template,d[8])}else d[5]>0&&Yp(d)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const a=wn(e[r],n);xf(a)&&a[5]>0&&Yp(a)}}function ZD(n,t){const e=wn(t,n),r=e[1];(function qp(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),As(r,e,e[8])}function Ri(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Qp(n){for(;n;){n[2]|=64;const t=Mu(n);if(ka(n)&&!t)return n;n=t}return null}function Xg(n,t,e){const r=t[10];r.begin&&r.begin();try{il(n,t,n.template,e)}catch(a){throw Zg(t,a),a}finally{r.end&&r.end()}}function Qy(n){!function uc(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=Sp(e),a=r[1];GD(a,r,a.template,e)}}(n[8])}function Jp(n,t,e){Pf(0),t(n,e)}const no=(()=>Promise.resolve(null))();function Xy(n){return n[7]||(n[7]=[])}function Zy(n){return n.cleanup||(n.cleanup=[])}function eC(n,t,e){return(null===n||_o(n))&&(e=function D_(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function Zg(n,t){const e=n[9],r=e?e.get(Es,null):null;r&&r.handleError(t)}function em(n,t,e,r,a){for(let d=0;d<e.length;){const p=e[d++],f=e[d++],m=t[p],v=n.data[p];null!==v.setInput?v.setInput(m,a,r,f):m[f]=a}}function Os(n,t,e){const r=kl(t,n);!function ec(n,t,e){Pn(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function xs(n,t,e){let r=e?n.styles:null,a=e?n.classes:null,d=0;if(null!==t)for(let p=0;p<t.length;p++){const f=t[p];"number"==typeof f?d=f:1==d?a=Nd(a,f):2==d&&(r=Nd(r,f+": "+t[++p]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=a:n.classesWithoutHost=a}const Ao=new Ee("INJECTOR",-1);class tm{get(t,e=_u){if(e===_u){const r=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw r.name="NullInjectorError",r}return e}}const nm=new Ee("Set Injector scope."),dc={},tC={};let im;function rm(){return void 0===im&&(im=new tm),im}function nC(n,t=null,e=null,r){const a=pc(n,t,e,r);return a._resolveInjectorDefTypes(),a}function pc(n,t=null,e=null,r){return new om(n,e,t||rm(),r)}class om{constructor(t,e,r,a=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];e&&So(e,f=>this.processProvider(f,t,e)),So([t],f=>this.processInjectorType(f,[],d)),this.records.set(Ao,hc(void 0,this));const p=this.records.get(nm);this.scope=null!=p?p.value:null,this.source=a||("object"==typeof t?null:Ut(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_u,r=dt.Default){this.assertNotDestroyed();const a=eg(this),d=zs(void 0);try{if(!(r&dt.SkipSelf)){let f=this.records.get(t);if(void 0===f){const m=function Is(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ee}(t)&&yf(t);f=m&&this.injectableDefInScope(m)?hc(sm(t),dc):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&dt.Self?rm():this.parent).get(t,e=r&dt.Optional&&e===_u?null:e)}catch(p){if("NullInjectorError"===p.name){if((p[gp]=p[gp]||[]).unshift(Ut(t)),a)throw p;return function xE(n,t,e,r){const a=n[gp];throw t[K_]&&a.unshift(t[K_]),n.message=function IE(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let a=Ut(t);if(Array.isArray(t))a=t.map(Ut).join(" -> ");else if("object"==typeof t){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let f=t[p];d.push(p+":"+("string"==typeof f?JSON.stringify(f):Ut(f)))}a=`{${d.join(", ")}}`}return`${e}${r?"("+r+")":""}[${a}]: ${n.replace(Zf,"\n  ")}`}("\n"+n.message,a,e,r),n.ngTokenPath=a,n[gp]=null,n}(p,t,"R3InjectorError",this.source)}throw p}finally{zs(d),eg(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,a)=>t.push(Ut(a))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(t,e,r){if(!(t=ie(t)))return!1;let a=l_(t);const d=null==a&&t.ngModule||void 0,p=void 0===d?t:d,f=-1!==r.indexOf(p);if(void 0!==d&&(a=l_(d)),null==a)return!1;if(null!=a.imports&&!f){let C;r.push(p);try{So(a.imports,b=>{this.processInjectorType(b,e,r)&&(void 0===C&&(C=[]),C.push(b))})}finally{}if(void 0!==C)for(let b=0;b<C.length;b++){const{ngModule:T,providers:M}=C[b];So(M,H=>this.processProvider(H,T,M||Qt))}}this.injectorDefTypes.add(p);const m=ea(p)||(()=>new p);this.records.set(p,hc(m,dc));const v=a.providers;if(null!=v&&!f){const C=t;So(v,b=>this.processProvider(b,C,v))}return void 0!==d&&void 0!==t.providers}processProvider(t,e,r){let a=fc(t=ie(t))?t:ie(t&&t.provide);const d=function iT(n,t,e){return eh(n)?hc(void 0,n.useValue):hc(Zp(n),dc)}(t);if(fc(t)||!0!==t.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=hc(void 0,dc,!0),p.factory=()=>tg(p.multi),this.records.set(a,p)),a=t,p.multi.push(t)}this.records.set(a,d)}hydrate(t,e){return e.value===dc&&(e.value=tC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ie(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function sm(n){const t=yf(n),e=null!==t?t.factory:ea(n);if(null!==e)return e;if(n instanceof Ee)throw new Ve(204,!1);if(n instanceof Function)return function Xp(n){const t=n.length;if(t>0)throw Eo(t,"?"),new Ve(204,!1);const e=function WS(n){const t=n&&(n[kd]||n[c_]);if(t){const e=function Cf(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Ve(204,!1)}function Zp(n,t,e){let r;if(fc(n)){const a=ie(n);return ea(a)||sm(a)}if(eh(n))r=()=>ie(n.useValue);else if(function iC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...tg(n.deps||[]));else if(function rT(n){return!(!n||!n.useExisting)}(n))r=()=>K(ie(n.useExisting));else{const a=ie(n&&(n.useClass||n.provide));if(!function rC(n){return!!n.deps}(n))return ea(a)||sm(a);r=()=>new a(...tg(n.deps))}return r}function hc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function eh(n){return null!==n&&"object"==typeof n&&RE in n}function fc(n){return"function"==typeof n}let qt=(()=>{class n{static create(e,r){var a;if(Array.isArray(e))return nC({name:""},r,e,"");{const d=null!==(a=e.name)&&void 0!==a?a:"";return nC({name:d},e.parent,e.providers,d)}}}return n.THROW_IF_NOT_FOUND=_u,n.NULL=new tm,n.\u0275prov=_e({token:n,providedIn:"any",factory:()=>K(Ao)}),n.__NG_ELEMENT_ID__=-1,n})();function uT(n,t){np(Sp(n)[1],Bn())}function ke(n){let t=function dm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let a;if(_o(n))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ve(903,"");a=t.\u0275dir}if(a){if(e){r.push(a);const p=n;p.inputs=Bu(n.inputs),p.declaredInputs=Bu(n.declaredInputs),p.outputs=Bu(n.outputs);const f=a.hostBindings;f&&rh(n,f);const m=a.viewQuery,v=a.contentQueries;if(m&&pT(n,m),v&&hT(n,v),vf(n.inputs,a.inputs),vf(n.declaredInputs,a.declaredInputs),vf(n.outputs,a.outputs),_o(a)&&a.data.animation){const C=n.data;C.animation=(C.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const f=d[p];f&&f.ngInherit&&f(n),f===ke&&(e=!1)}}t=Object.getPrototypeOf(t)}!function dT(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const a=n[r];a.hostVars=t+=a.hostVars,a.hostAttrs=Bl(a.hostAttrs,e=Bl(e,a.hostAttrs))}}(r)}function Bu(n){return n===Ks?{}:n===Qt?[]:n}function pT(n,t){const e=n.viewQuery;n.viewQuery=e?(r,a)=>{t(r,a),e(r,a)}:t}function hT(n,t){const e=n.contentQueries;n.contentQueries=e?(r,a,d)=>{t(r,a,d),e(r,a,d)}:t}function rh(n,t){const e=n.hostBindings;n.hostBindings=e?(r,a)=>{t(r,a),e(r,a)}:t}let Wu=null;function Ps(){if(!Wu){const n=tn.Symbol;if(n&&n.iterator)Wu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Wu=r)}}}return Wu}function ju(n){return!!hm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ps()in n)}function hm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zo(n,t,e){return n[t]=e}function zi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function es(n,t,e,r){const a=zi(n,t,e);return zi(n,t+1,r)||a}function rt(n,t,e,r){const a=ye();return zi(a,Hl(),t)&&(Nt(),Xo(xn(),a,n,t,e,r)),rt}function vc(n,t,e,r){return zi(n,Hl(),e)?t+G(e)+r:ht}function pa(n,t,e,r,a,d){const f=es(n,function qn(){return it.lFrame.bindingIndex}(),e,a);return yo(2),f?t+G(e)+r+G(a)+d:ht}function V(n,t,e,r,a,d,p,f){const m=ye(),v=Nt(),C=n+20,b=v.firstCreatePass?function ah(n,t,e,r,a,d,p,f,m){const v=t.consts,C=oc(t,n,4,p||null,ia(v,f));$g(t,e,C,ia(v,m)),np(t,C);const b=C.tViews=zp(2,C,r,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v);return null!==t.queries&&(t.queries.template(t,C),b.queries=t.queries.embeddedTView(C)),C}(C,v,m,t,e,r,a,d,p):v.data[C];$o(b,!1);const T=m[11].createComment("");Np(v,m,T,b),Ui(T,m),Ri(m,m[C]=cc(T,m,T,b)),Tr(b)&&Wg(v,m,b),null!=p&&Gu(m,b,f)}function Lr(n){return Ha(function sE(){return it.lFrame.contextLView}(),20+n)}function R(n,t=dt.Default){const e=ye();return null===e?K(n,t):Wf(Bn(),e,ie(n),t)}function Dm(){throw new Error("invalid")}function I(n,t,e){const r=ye();return zi(r,Hl(),t)&&nr(Nt(),xn(),r,n,t,r[11],e,!1),I}function dh(n,t,e,r,a){const p=a?"class":"style";em(n,e,t.inputs[p],p,r)}function S(n,t,e,r){const a=ye(),d=Nt(),p=20+n,f=a[11],m=a[p]=Ap(f,t,function dE(){return it.lFrame.currentNamespace}()),v=d.firstCreatePass?function xT(n,t,e,r,a,d,p){const f=t.consts,v=oc(t,n,2,a,ia(f,d));return $g(t,e,v,ia(f,p)),null!==v.attrs&&xs(v,v.attrs,!1),null!==v.mergedAttrs&&xs(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(p,d,a,0,t,e,r):d.data[p];$o(v,!0);const C=v.mergedAttrs;null!==C&&ip(f,m,C);const b=v.classes;null!==b&&Og(f,m,b);const T=v.styles;return null!==T&&wy(f,m,T),64!=(64&v.flags)&&Np(d,a,m,v),0===function nE(){return it.lFrame.elementDepthCount}()&&Ui(m,a),function iE(){it.lFrame.elementDepthCount++}(),Tr(v)&&(Wg(d,a,v),Bg(d,v,a)),null!==r&&Gu(a,v),S}function E(){let n=Bn();Me()?Cs():(n=n.parent,$o(n,!1));const t=n;!function rE(){it.lFrame.elementDepthCount--}();const e=Nt();return e.firstCreatePass&&(np(e,n),Vd(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function hE(n){return 0!=(16&n.flags)}(t)&&dh(e,t,ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Wa(n){return 0!=(32&n.flags)}(t)&&dh(e,t,ye(),t.stylesWithoutHost,!1),E}function X(n,t,e,r){return S(n,t,e,r),E(),X}function gi(n,t,e){const r=ye(),a=Nt(),d=n+20,p=a.firstCreatePass?function ts(n,t,e,r,a){const d=t.consts,p=ia(d,r),f=oc(t,n,8,"ng-container",p);return null!==p&&xs(f,p,!0),$g(t,e,f,ia(d,a)),null!==t.queries&&t.queries.elementStart(t,f),f}(d,a,r,t,e):a.data[d];$o(p,!0);const f=r[d]=r[11].createComment("");return Np(a,r,f,p),Ui(f,r),Tr(p)&&(Wg(a,r,p),Bg(a,p,r)),null!=e&&Gu(r,p),gi}function mi(){let n=Bn();const t=Nt();return Me()?Cs():(n=n.parent,$o(n,!1)),t.firstCreatePass&&(np(t,n),Vd(n)&&t.queries.elementEnd(n)),mi}function le(){return ye()}function Ec(n){return!!n&&"function"==typeof n.then}const ph=function xC(n){return!!n&&"function"==typeof n.subscribe};function U(n,t,e,r){const a=ye(),d=Nt(),p=Bn();return Rm(d,a,a[11],p,n,t,!!e,r),U}function Tm(n,t){const e=Bn(),r=ye(),a=Nt();return Rm(a,r,eC(Mf(a.data),e,r),e,n,t,!1),Tm}function Rm(n,t,e,r,a,d,p,f){const m=Tr(r),C=n.firstCreatePass&&Zy(n),b=t[8],T=Xy(t);let M=!0;if(3&r.type||f){const Q=Ar(r,t),te=f?f(Q):Q,Y=T.length,se=f?De=>f(Yn(De[r.index])):r.index;if(Pn(e)){let De=null;if(!f&&m&&(De=function Dc(n,t,e,r){const a=n.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===e&&a[d+1]===r){const f=t[7],m=a[d+2];return f.length>m?f[m]:null}"string"==typeof p&&(d+=2)}return null}(n,t,a,r.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=d,De.__ngLastListenerFn__=d,M=!1;else{d=fa(r,t,b,d,!1);const Fe=e.listen(te,a,d);T.push(d,Fe),C&&C.push(a,se,Y,Y+1)}}else d=fa(r,t,b,d,!0),te.addEventListener(a,d,p),T.push(d),C&&C.push(a,se,Y,p)}else d=fa(r,t,b,d,!1);const H=r.outputs;let $;if(M&&null!==H&&($=H[a])){const Q=$.length;if(Q)for(let te=0;te<Q;te+=2){const st=t[$[te]][$[te+1]].subscribe(d),yt=T.length;T.push(d,st),C&&C.push(a,r.index,yt,-(yt+1))}}}function IC(n,t,e,r){try{return!1!==e(r)}catch(a){return Zg(n,a),!1}}function fa(n,t,e,r,a){return function d(p){if(p===Function)return r;const f=2&n.flags?wn(n.index,t):t;0==(32&t[2])&&Qp(f);let m=IC(t,0,r,p),v=d.__ngNextListenerFn__;for(;v;)m=IC(t,0,v,p)&&m,v=v.__ngNextListenerFn__;return a&&!1===m&&(p.preventDefault(),p.returnValue=!1),m}}function L(n=1){return function Nf(n){return(it.lFrame.contextLView=function P_(n,t){for(;n>0;)t=t[15],n--;return t}(n,it.lFrame.contextLView))[8]}(n)}function MC(n,t){let e=null;const r=function SD(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let a=0;a<t.length;a++){const d=t[a];if("*"!==d){if(null===r?Gp(n,d,!0):DD(r,d))return a}else e=a}return e}function an(n){const t=ye()[16][6];if(!t.projection){const r=t.projection=Eo(n?n.length:1,null),a=r.slice();let d=t.child;for(;null!==d;){const p=n?MC(d,n):0;null!==p&&(a[p]?a[p].projectionNext=d:r[p]=d,a[p]=d),d=d.next}}}function ft(n,t=0,e){const r=ye(),a=Nt(),d=oc(a,20+n,16,null,e||null);null===d.projection&&(d.projection=t),Cs(),64!=(64&d.flags)&&function Nr(n,t,e){by(t[11],0,t,e,Tg(n,e,t),yy(e.parent||t[6],e,t))}(a,r,d)}function Fn(n,t,e){return ll(n,"",t,"",e),Fn}function ll(n,t,e,r,a){const d=ye(),p=vc(d,t,e,r);return p!==ht&&nr(Nt(),xn(),d,n,p,d[11],a,!1),ll}function x(n,t,e,r,a){const d=n[e+1],p=null===t;let f=r?eo(d):Jo(d),m=!1;for(;0!==f&&(!1===m||p);){const C=n[f+1];k(n[f],t)&&(m=!0,n[f+1]=r?Vp(C):Mg(C)),f=r?eo(C):Jo(C)}m&&(n[e+1]=r?Mg(d):Vp(d))}function k(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ws(n,t)>=0}const B={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j(n){return n.substring(B.key,B.keyEnd)}function we(n,t){const e=B.textEnd;return e===t?-1:(t=B.keyEnd=function Dt(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,B.key=t,e),We(n,t,e))}function We(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ln(n,t,e){return Ns(n,t,e,!1),ln}function Ue(n,t){return Ns(n,t,null,!0),Ue}function cn(n){!function Ls(n,t,e,r){const a=Nt(),d=yo(2);a.firstUpdatePass&&vI(a,null,d,r);const p=ye();if(e!==ht&&zi(p,d,e)){const f=a.data[On()];if(bI(f,r)&&!mI(a,d)){let m=r?f.classesWithoutHost:f.stylesWithoutHost;null!==m&&(e=Nd(m,e||"")),dh(a,f,p,e,r)}else!function VH(n,t,e,r,a,d,p,f){a===ht&&(a=Qt);let m=0,v=0,C=0<a.length?a[0]:null,b=0<d.length?d[0]:null;for(;null!==C||null!==b;){const T=m<a.length?a[m+1]:void 0,M=v<d.length?d[v+1]:void 0;let $,H=null;C===b?(m+=2,v+=2,T!==M&&(H=b,$=M)):null===b||null!==C&&C<b?(m+=2,H=C):(v+=2,H=b,$=M),null!==H&&yI(n,t,e,r,H,$,p,f),C=m<a.length?a[m]:null,b=v<d.length?d[v]:null}}(a,f,p,p[11],p[d+1],p[d+1]=function HH(n,t,e){if(null==e||""===e)return Qt;const r=[],a=Ir(e);if(Array.isArray(a))for(let d=0;d<a.length;d++)n(r,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&n(r,d,a[d]);else"string"==typeof a&&t(r,a);return r}(n,t,e),r,d)}}(xr,ga,n,!0)}function ga(n,t){for(let e=function re(n){return function Te(n){B.key=0,B.keyEnd=0,B.value=0,B.valueEnd=0,B.textEnd=n.length}(n),we(n,We(n,0,B.textEnd))}(t);e>=0;e=we(t,e))xr(n,j(t),!0)}function Ns(n,t,e,r){const a=ye(),d=Nt(),p=yo(2);d.firstUpdatePass&&vI(d,n,p,r),t!==ht&&zi(a,p,t)&&yI(d,d.data[On()],a,a[11],n,a[p+1]=function BH(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ut(Ir(n)))),n}(t,e),r,p)}function mI(n,t){return t>=n.expandoStartIndex}function vI(n,t,e,r){const a=n.data;if(null===a[e+1]){const d=a[On()],p=mI(n,e);bI(d,r)&&null===t&&!p&&(t=!1),t=function NH(n,t,e,r){const a=Mf(n);let d=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(e=Om(e=IT(null,n,t,e,r),t.attrs,r),d=null);else{const p=t.directiveStylingLast;if(-1===p||n[p]!==a)if(e=IT(a,n,t,e,r),null===d){let m=function LH(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Jo(r))return n[eo(r)]}(n,t,r);void 0!==m&&Array.isArray(m)&&(m=IT(null,n,t,m[1],r),m=Om(m,t.attrs,r),function kH(n,t,e,r){n[eo(e?t.classBindings:t.styleBindings)]=r}(n,t,r,m))}else d=function GH(n,t,e){let r;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)r=Om(r,n[d].hostAttrs,e);return Om(r,t.attrs,e)}(n,t,r)}return void 0!==d&&(r?t.residualClasses=d:t.residualStyles=d),e}(a,d,t,r),function y(n,t,e,r,a,d){let p=d?t.classBindings:t.styleBindings,f=eo(p),m=Jo(p);n[r]=e;let C,v=!1;if(Array.isArray(e)){const b=e;C=b[1],(null===C||ws(b,C)>0)&&(v=!0)}else C=e;if(a)if(0!==m){const T=eo(n[f+1]);n[r+1]=Tt(T,f),0!==T&&(n[T+1]=Pg(n[T+1],r)),n[f+1]=function xy(n,t){return 131071&n|t<<17}(n[f+1],r)}else n[r+1]=Tt(f,0),0!==f&&(n[f+1]=Pg(n[f+1],r)),f=r;else n[r+1]=Tt(m,0),0===f?f=r:n[m+1]=Pg(n[m+1],r),m=r;v&&(n[r+1]=Mg(n[r+1])),x(n,C,r,!0),x(n,C,r,!1),function w(n,t,e,r,a){const d=a?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof t&&ws(d,t)>=0&&(e[r+1]=Vp(e[r+1]))}(t,C,n,r,d),p=Tt(f,m),d?t.classBindings=p:t.styleBindings=p}(a,d,t,e,p,r)}}function IT(n,t,e,r,a){let d=null;const p=e.directiveEnd;let f=e.directiveStylingLast;for(-1===f?f=e.directiveStart:f++;f<p&&(d=t[f],r=Om(r,d.hostAttrs,a),d!==n);)f++;return null!==n&&(e.directiveStylingLast=f),r}function Om(n,t,e){const r=e?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?a=p:a===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xr(n,p,!!e||t[++d]))}return void 0===n?null:n}function yI(n,t,e,r,a,d,p,f){if(!(3&t.type))return;const m=n.data,v=m[f+1];PC(function Fg(n){return 1==(1&n)}(v)?CI(m,t,e,a,Jo(v),p):void 0)||(PC(d)||function Oy(n){return 2==(2&n)}(v)&&(d=CI(m,null,e,a,f,p)),function nc(n,t,e,r,a){const d=Pn(n);if(t)a?d?n.addClass(e,r):e.classList.add(r):d?n.removeClass(e,r):e.classList.remove(r);else{let p=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==a)d?n.removeStyle(e,r,p):e.style.removeProperty(r);else{const f="string"==typeof a&&a.endsWith("!important");f&&(a=a.slice(0,-10),p|=Pr.Important),d?n.setStyle(e,r,a,p):e.style.setProperty(r,a,f?"important":"")}}}(r,p,kl(On(),e),a,d))}function CI(n,t,e,r,a,d){const p=null===t;let f;for(;a>0;){const m=n[a],v=Array.isArray(m),C=v?m[1]:m,b=null===C;let T=e[a+1];T===ht&&(T=b?Qt:void 0);let M=b?Yf(T,r):C===r?T:void 0;if(v&&!PC(M)&&(M=Yf(m,r)),PC(M)&&(f=M,p))return f;const H=n[a+1];a=p?eo(H):Jo(H)}if(null!==t){let m=d?t.residualClasses:t.residualStyles;null!=m&&(f=Yf(m,r))}return f}function PC(n){return void 0!==n}function bI(n,t){return 0!=(n.flags&(t?16:32))}function F(n,t=""){const e=ye(),r=Nt(),a=n+20,d=r.firstCreatePass?oc(r,a,1,t,null):r.data[a],p=e[a]=function Eg(n,t){return Pn(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Np(r,e,p,d),$o(d,!1)}function Ae(n){return _t("",n,""),Ae}function _t(n,t,e){const r=ye(),a=vc(r,n,t,e);return a!==ht&&Os(r,On(),a),_t}function ns(n,t,e,r,a){const d=ye(),p=pa(d,n,t,e,r,a);return p!==ht&&Os(d,On(),p),ns}function ks(n,t,e){const r=ye();return zi(r,Hl(),t)&&nr(Nt(),xn(),r,n,t,r[11],e,!0),ks}function FC(n,t,e){const r=ye();if(zi(r,Hl(),t)){const d=Nt(),p=xn();nr(d,p,r,n,t,eC(Mf(d.data),p,r),e,!0)}return FC}const NC="en-US";let BI=NC;function FT(n,t,e,r,a){if(n=ie(n),Array.isArray(n))for(let d=0;d<n.length;d++)FT(n[d],t,e,r,a);else{const d=Nt(),p=ye();let f=fc(n)?n:ie(n.provide),m=Zp(n);const v=Bn(),C=1048575&v.providerIndexes,b=v.directiveStart,T=v.providerIndexes>>20;if(fc(n)||!n.multi){const M=new Vl(m,a,R),H=LT(f,t,a?C:C+T,b);-1===H?(Ua(du(v,p),d,f),NT(d,n,t.length),t.push(f),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),e.push(M),p.push(M)):(e[H]=M,p[H]=M)}else{const M=LT(f,t,C+T,b),H=LT(f,t,C,C+T),$=M>=0&&e[M],Q=H>=0&&e[H];if(a&&!Q||!a&&!$){Ua(du(v,p),d,f);const te=function oB(n,t,e,r,a){const d=new Vl(n,e,R);return d.multi=[],d.index=t,d.componentProviders=0,dM(d,a,r&&!e),d}(a?rB:iB,e.length,a,r,m);!a&&Q&&(e[H].providerFactory=te),NT(d,n,t.length,0),t.push(f),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),e.push(te),p.push(te)}else NT(d,n,M>-1?M:H,dM(e[a?H:M],m,!a&&r));!a&&r&&Q&&e[H].componentProviders++}}}function NT(n,t,e,r){const a=fc(t),d=function th(n){return!!n.useClass}(t);if(a||d){const m=(d?ie(t.useClass):t).prototype.ngOnDestroy;if(m){const v=n.destroyHooks||(n.destroyHooks=[]);if(!a&&t.multi){const C=v.indexOf(e);-1===C?v.push(e,[r,m]):v[C+1].push(r,m)}else v.push(e,m)}}}function dM(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function LT(n,t,e,r){for(let a=e;a<r;a++)if(t[a]===n)return a;return-1}function iB(n,t,e,r){return kT(this.multi,[])}function rB(n,t,e,r){const a=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,f=Vi(e,e[1],this.providerFactory.index,r);d=f.slice(0,p),kT(a,d);for(let m=p;m<f.length;m++)d.push(f[m])}else d=[],kT(a,d);return d}function kT(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gt(n,t=[]){return e=>{e.providersResolver=(r,a)=>function nB(n,t,e){const r=Nt();if(r.firstCreatePass){const a=_o(n);FT(e,r.data,r.blueprint,a,!0),FT(t,r.data,r.blueprint,a,!1)}}(r,a?a(n):n,t)}}class pM{}class lB{resolveComponentFactory(t){throw function aB(n){const t=Error(`No component factory found for ${Ut(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Oo=(()=>{class n{}return n.NULL=new lB,n})();function cB(){return gh(Bn(),ye())}function gh(n,t){return new Ge(Ar(n,t))}let Ge=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=cB,n})();function uB(n){return n instanceof Ge?n.nativeElement:n}class Tc{}let ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function pB(){const n=ye(),e=wn(Bn().index,n);return function dB(n){return n[11]}(Qr(e)?e:n)}(),n})(),hB=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>null}),n})();class Rc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fB=new Rc("13.3.3"),GT={};function VC(n,t,e,r,a=!1){for(;null!==e;){const d=t[e.index];if(null!==d&&r.push(Yn(d)),Dr(d))for(let f=10;f<d.length;f++){const m=d[f],v=m[1].firstChild;null!==v&&VC(m[1],m,v,r)}const p=e.type;if(8&p)VC(n,t,e.child,r);else if(32&p){const f=bg(e,t);let m;for(;m=f();)r.push(m)}else if(16&p){const f=Rg(t,e);if(Array.isArray(f))r.push(...f);else{const m=Mu(t[16]);VC(m[1],m,f,r,!0)}}e=a?e.projectionNext:e.next}return r}class Fm{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return VC(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Dr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(tc(t,r),dp(e,r))}this._attachedToViewContainer=!1}Zr(this._lView[1],this._lView)}onDestroy(t){jy(this._lView[1],this._lView,null,t)}markForCheck(){Qp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function tT(n,t,e){Gl(!0);try{Xg(n,t,e)}finally{Gl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Op(n,t){Fu(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=t}}class gB extends Fm{constructor(t){super(t),this._view=t}detectChanges(){Qy(this._view)}checkNoChanges(){!function Jy(n){Gl(!0);try{Qy(n)}finally{Gl(!1)}}(this._view)}get context(){return null}}class fM extends Oo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ei(t);return new HT(e,this.ngModule)}}function gM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class HT extends pM{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function RD(n){return n.map(TD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return gM(this.componentDef.inputs)}get outputs(){return gM(this.componentDef.outputs)}create(t,e,r,a){const d=(a=a||this.ngModule)?function vB(n,t){return{get:(e,r,a)=>{const d=n.get(e,GT,a);return d!==GT||r===GT?d:t.get(e,r,a)}}}(t,a.injector):t,p=d.get(Tc,ys),f=d.get(hB,null),m=p.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=r?function Kp(n,t,e){if(Pn(n))return n.selectRootElement(t,e===Kr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(m,r,this.componentDef.encapsulation):Ap(p.createRenderer(null,this.componentDef),v,function mB(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),b=this.componentDef.onPush?576:528,T=function fC(n,t){return{components:[],scheduler:n||yg,clean:no,playerHandler:t||null,flags:0}}(),M=zp(0,null,null,1,0,null,null,null,null,null),H=rc(null,M,T,b,null,null,p,m,f,d);let $,Q;cu(H);try{const te=function hC(n,t,e,r,a,d){const p=e[1];e[20]=n;const m=oc(p,20,2,"#host",null),v=m.mergedAttrs=t.hostAttrs;null!==v&&(xs(m,v,!0),null!==n&&(ip(a,n,v),null!==m.classes&&Og(a,n,m.classes),null!==m.styles&&wy(a,n,m.styles)));const C=r.createRenderer(n,t),b=rc(e,By(t),null,t.onPush?64:16,e[20],m,r,C,d||null,null);return p.firstCreatePass&&(Ua(du(m,e),p,t.type),Ky(p,m),Yy(m,e.length,1)),Ri(e,b),e[20]=b}(C,this.componentDef,H,p,m);if(C)if(r)ip(m,C,["ng-version",fB.full]);else{const{attrs:Y,classes:se}=function Hp(n){const t=[],e=[];let r=1,a=2;for(;r<n.length;){let d=n[r];if("string"==typeof d)2===a?""!==d&&t.push(d,n[++r]):8===a&&e.push(d);else{if(!To(a))break;a=d}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);Y&&ip(m,C,Y),se&&se.length>0&&Og(m,C,se.join(" "))}if(Q=Of(M,20),void 0!==e){const Y=Q.projection=[];for(let se=0;se<this.ngContentSelectors.length;se++){const De=e[se];Y.push(null!=De?Array.from(De):null)}}$=function Ms(n,t,e,r,a){const d=e[1],p=function $D(n,t,e){const r=Bn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Yg(n,r,t,sc(n,t,1,null),e));const a=Vi(t,n,r.directiveStart,r);Ui(a,t);const d=Ar(r,t);return d&&Ui(d,t),a}(d,e,t);if(r.components.push(p),n[8]=p,a&&a.forEach(m=>m(p,t)),t.contentQueries){const m=Bn();t.contentQueries(1,p,m.directiveStart)}const f=Bn();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ra(f.index),lc(e[1],f,0,f.directiveStart,f.directiveEnd,t),zg(t,p)),p}(te,this.componentDef,H,T,[uT]),As(M,H,null)}finally{tp()}return new yB(this.componentType,$,gh(Q,H),H,Q)}}class yB extends class sB{}{constructor(t,e,r,a,d){super(),this.location=r,this._rootLView=a,this._tNode=d,this.instance=e,this.hostView=this.changeDetectorRef=new gB(a),this.componentType=t}get injector(){return new $l(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class cl{}class mM{}const mh=new Map;class yM extends cl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fM(this);const r=Ie(t);this._bootstrapComponents=Mr(r.bootstrap),this._r3Injector=pc(t,e,[{provide:cl,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],Ut(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qt.THROW_IF_NOT_FOUND,r=dt.Default){return t===qt||t===cl||t===Ao?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class VT extends mM{constructor(t){super(),this.moduleType=t,null!==Ie(t)&&function bB(n){const t=new Set;!function e(r){const a=Ie(r,!0),d=a.id;null!==d&&(function vM(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ut(t)} vs ${Ut(t.name)}`)}(d,mh.get(d),r),mh.set(d,r));const p=Mr(a.imports);for(const f of p)t.has(f)||(t.add(f),e(f))}(n)}(t)}create(t){return new yM(this.moduleType,t)}}function rr(n,t,e,r){return bM(ye(),ai(),n,t,e,r)}function BC(n,t,e,r,a){return function wM(n,t,e,r,a,d,p){const f=t+e;return es(n,f,a,d)?Zo(n,f+2,p?r.call(p,a,d):r(a,d)):Nm(n,f+2)}(ye(),ai(),n,t,e,r,a)}function Nm(n,t){const e=n[t];return e===ht?void 0:e}function bM(n,t,e,r,a,d){const p=t+e;return zi(n,p,a)?Zo(n,p+1,d?r.call(d,a):r(a)):Nm(n,p+1)}function Ku(n,t){const e=Nt();let r;const a=n+20;e.firstCreatePass?(r=function OB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[a]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(a,r.onDestroy)):r=e.data[a];const d=r.factory||(r.factory=ea(r.type)),p=zs(R);try{const f=op(!1),m=d();return op(f),function vT(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,ye(),a,m),m}finally{zs(p)}}function Yu(n,t,e){const r=n+20,a=ye(),d=Ha(a,r);return function Lm(n,t){return n[1].data[t].pure}(a,r)?bM(a,ai(),t,d.transform,e,d):d.transform(e)}function BT(n){return t=>{setTimeout(n,void 0,t)}}const z=class FB extends pe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var a,d,p;let f=t,m=e||(()=>null),v=r;if(t&&"object"==typeof t){const b=t;f=null===(a=b.next)||void 0===a?void 0:a.bind(b),m=null===(d=b.error)||void 0===d?void 0:d.bind(b),v=null===(p=b.complete)||void 0===p?void 0:p.bind(b)}this.__isAsync&&(m=BT(m),f&&(f=BT(f)),v&&(v=BT(v)));const C=super.subscribe({next:f,error:m,complete:v});return t instanceof Gt&&t.add(C),C}};function NB(){return this._results[Ps()]()}class is{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ps(),r=is.prototype;r[e]||(r[e]=NB)}get changes(){return this._changes||(this._changes=new z)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const a=Jr(t);(this._changesDetected=!function wt(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let a=n[r],d=t[r];if(e&&(a=e(a),d=e(d)),d!==a)return!1}return!0}(r._results,a,e))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=GB,n})();const LB=Xn,kB=class extends LB{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=rc(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(e)),As(e,r,t),new Fm(r)}};function GB(){return WC(Bn(),ye())}function WC(n,t){return 4&n.type?new kB(t,n,gh(n,t)):null}let Nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=HB,n})();function HB(){return AM(Bn(),ye())}const VB=Nn,TM=class extends VB{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return gh(this._hostTNode,this._hostLView)}get injector(){return new $l(this._hostTNode,this._hostLView)}get parentInjector(){const t=sp(this._hostTNode,this._hostLView);if(Vf(t)){const e=jl(t,this._hostLView),r=ja(t);return new $l(e[1].data[r+8],e)}return new $l(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=RM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const a=t.createEmbeddedView(e||{});return this.insert(a,r),a}createComponent(t,e,r,a,d){const p=t&&!function mu(n){return"function"==typeof n}(t);let f;if(p)f=e;else{const b=e||{};f=b.index,r=b.injector,a=b.projectableNodes,d=b.ngModuleRef}const m=p?t:new HT(Ei(t)),v=r||this.parentInjector;if(!d&&null==m.ngModule){const T=(p?v:this.parentInjector).get(cl,null);T&&(d=T)}const C=m.create(v,a,void 0,d);return this.insert(C.hostView,f),C}insert(t,e){const r=t._lView,a=r[1];if(function eE(n){return Dr(n[3])}(r)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const b=r[3],T=new TM(b,b[6],b[3]);T.detach(T.indexOf(t))}}const d=this._adjustIndex(e),p=this._lContainer;!function _D(n,t,e,r){const a=10+r,d=e.length;r>0&&(e[a-1][4]=t),r<d-10?(t[4]=e[a],up(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const p=t[17];null!==p&&e!==p&&function fy(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(p,t);const f=t[19];null!==f&&f.insertView(n),t[2]|=128}(a,r,p,d);const f=Lp(d,p),m=r[11],v=Mp(m,p[7]);return null!==v&&function Dg(n,t,e,r,a,d){r[0]=a,r[6]=t,Fu(n,r,e,1,a,d)}(a,p[6],m,r,v,f),t.attachToViewContainerRef(),up(WT(p),d,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=RM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=tc(this._lContainer,e);r&&(dp(WT(this._lContainer),e),Zr(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=tc(this._lContainer,e);return r&&null!=dp(WT(this._lContainer),e)?new Fm(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function RM(n){return n[8]}function WT(n){return n[8]||(n[8]=[])}function AM(n,t){let e;const r=t[n.index];if(Dr(r))e=r;else{let a;if(8&n.type)a=Yn(r);else{const d=t[11];a=d.createComment("");const p=Ar(n,t);ca(d,Mp(d,p),a,function _y(n,t){return Pn(n)?n.nextSibling(t):t.nextSibling}(d,p),!1)}t[n.index]=e=cc(r,t,a,n),Ri(t,e)}return new TM(e,n,t)}class jT{constructor(t){this.queryList=t,this.matches=null}clone(){return new jT(this.queryList)}setDirty(){this.queryList.setDirty()}}class UT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,a=[];for(let d=0;d<r;d++){const p=e.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new UT(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==PM(t,e).matches&&this.queries[e].setDirty()}}class OM{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class $T{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const a=null!==e?e.length:0,d=this.getByIndex(r).embeddedTView(t,a);d&&(d.indexInDeclarationView=r,null!==e?e.push(d):e=[d])}return null!==e?new $T(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zT{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new zT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const d=r[a];this.matchTNodeWithReadOption(t,e,jB(e,d)),this.matchTNodeWithReadOption(t,e,hu(e,t,d,!1,!1))}else r===Xn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hu(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===Ge||a===Nn||a===Xn&&4&e.type)this.addMatch(e.index,-2);else{const d=hu(e,t,a,!1,!1);null!==d&&this.addMatch(e.index,d)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function jB(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function $B(n,t,e,r){return-1===e?function UB(n,t){return 11&n.type?gh(n,t):4&n.type?WC(n,t):null}(t,n):-2===e?function zB(n,t,e){return e===Ge?gh(t,n):e===Xn?WC(t,n):e===Nn?AM(t,n):void 0}(n,t,r):Vi(n,n[1],e,t)}function xM(n,t,e,r){const a=t[19].queries[r];if(null===a.matches){const d=n.data,p=e.matches,f=[];for(let m=0;m<p.length;m+=2){const v=p[m];f.push(v<0?null:$B(t,d[v],p[m+1],e.metadata.read))}a.matches=f}return a.matches}function KT(n,t,e,r){const a=n.queries.getByIndex(e),d=a.matches;if(null!==d){const p=xM(n,t,a,e);for(let f=0;f<d.length;f+=2){const m=d[f];if(m>0)r.push(p[f/2]);else{const v=d[f+1],C=t[-m];for(let b=10;b<C.length;b++){const T=C[b];T[17]===T[3]&&KT(T[1],T,v,r)}if(null!==C[9]){const b=C[9];for(let T=0;T<b.length;T++){const M=b[T];KT(M[1],M,v,r)}}}}}return r}function qe(n){const t=ye(),e=Nt(),r=O_();Pf(r+1);const a=PM(e,r);if(n.dirty&&si(t)===(2==(2&a.metadata.flags))){if(null===a.matches)n.reset([]);else{const d=a.crossesNgTemplate?KT(e,t,r,[]):xM(e,t,a,r);n.reset(d,uB),n.notifyOnChanges()}return!0}return!1}function Ln(n,t,e){const r=Nt();r.firstCreatePass&&(MM(r,new OM(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),IM(r,ye(),t)}function Bt(n,t,e,r){const a=Nt();if(a.firstCreatePass){const d=Bn();MM(a,new OM(t,e,r),d.index),function YB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(a,n),2==(2&e)&&(a.staticContentQueries=!0)}IM(a,ye(),e)}function Qe(){return function KB(n,t){return n[19].queries[t].queryList}(ye(),O_())}function IM(n,t,e){const r=new is(4==(4&e));jy(n,t,r,r.destroy),null===t[19]&&(t[19]=new UT),t[19].queries.push(new jT(r))}function MM(n,t,e){null===n.queries&&(n.queries=new $T),n.queries.track(new zT(t,e))}function PM(n,t){return n.queries.getByIndex(t)}const N=za("Input",n=>({bindingPropertyName:n})),Le=za("Output",n=>({bindingPropertyName:n}));function $C(...n){}const ZT=new Ee("Application Initializer");let e0=(()=>{class n{constructor(e){this.appInits=e,this.resolve=$C,this.reject=$C,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if(Ec(d))e.push(d);else if(ph(d)){const p=new Promise((f,m)=>{d.subscribe({complete:f,error:m})});e.push(p)}}Promise.all(e).then(()=>{r()}).catch(a=>{this.reject(a)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(K(ZT,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gm=new Ee("AppId",{providedIn:"root",factory:function XM(){return`${t0()}${t0()}${t0()}`}});function t0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZM=new Ee("Platform Initializer"),_h=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eP=new Ee("appBootstrapListener");let pW=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ul=new Ee("LocaleId",{providedIn:"root",factory:()=>mp(ul,dt.Optional|dt.SkipSelf)||function hW(){return"undefined"!=typeof $localize&&$localize.locale||NC}()});class gW{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let tP=(()=>{class n{compileModuleSync(e){return new VT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),d=Mr(Ie(e).declarations).reduce((p,f)=>{const m=Ei(f);return m&&p.push(new HT(m)),p},[]);return new gW(r,d)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vW=(()=>Promise.resolve(0))();function n0(n){"undefined"==typeof Zone?vW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class et{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new z(!1),this.onMicrotaskEmpty=new z(!1),this.onStable=new z(!1),this.onError=new z(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&e,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function _W(){let n=tn.requestAnimationFrame,t=tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function bW(n){const t=()=>{!function CW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,o0(n),n.isCheckStableRunning=!0,r0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),o0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,a,d,p,f)=>{try{return nP(n),e.invokeTask(a,d,p,f)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&t(),iP(n)}},onInvoke:(e,r,a,d,p,f,m)=>{try{return nP(n),e.invoke(a,d,p,f,m)}finally{n.shouldCoalesceRunChangeDetection&&t(),iP(n)}},onHasTask:(e,r,a,d)=>{e.hasTask(a,d),r===a&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,o0(n),r0(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(e,r,a,d)=>(e.handleError(a,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!et.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(et.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,t,yW,$C,$C);try{return d.runTask(p,e,r)}finally{d.cancelTask(p)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const yW={};function r0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iP(n){n._nesting--,r0(n)}class wW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new z,this.onMicrotaskEmpty=new z,this.onStable=new z,this.onError=new z}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,a){return t.apply(e,r)}}let s0=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{et.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,a){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:d,updateCb:a})}whenStable(e,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,a){return[]}}return n.\u0275fac=function(e){return new(e||n)(K(et))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),SW=(()=>{class n{constructor(){this._applications=new Map,a0.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return a0.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class EW{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let Gs,a0=new EW;const rP=new Ee("AllowMultipleToken");class oP{constructor(t,e){this.name=t,this.token=e}}function sP(n,t,e=[]){const r=`Platform: ${t}`,a=new Ee(r);return(d=[])=>{let p=aP();if(!p||p.injector.get(rP,!1))if(n)n(e.concat(d).concat({provide:a,useValue:!0}));else{const f=e.concat(d).concat({provide:a,useValue:!0},{provide:nm,useValue:"platform"});!function AW(n){if(Gs&&!Gs.destroyed&&!Gs.injector.get(rP,!1))throw new Ve(400,"");Gs=n.get(xW);const t=n.get(ZM,null);t&&t.forEach(e=>e())}(qt.create({providers:f,name:r}))}return function OW(n){const t=aP();if(!t)throw new Ve(401,"");return t}()}}function aP(){return Gs&&!Gs.destroyed?Gs:null}let xW=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const f=function IW(n,t){let e;return e="noop"===n?new wW:("zone.js"===n?void 0:n)||new et({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),m=[{provide:et,useValue:f}];return f.run(()=>{const v=qt.create({providers:m,parent:this.injector,name:e.moduleType.name}),C=e.create(v),b=C.injector.get(Es,null);if(!b)throw new Ve(402,"");return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:M=>{b.handleError(M)}});C.onDestroy(()=>{l0(this._modules,C),T.unsubscribe()})}),function MW(n,t,e){try{const r=e();return Ec(r)?r.catch(a=>{throw t.runOutsideAngular(()=>n.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(b,f,()=>{const T=C.injector.get(e0);return T.runInitializers(),T.donePromise.then(()=>(function dV(n){Yt(n,"Expected localeId to be defined"),"string"==typeof n&&(BI=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(ul,NC)||NC),this._moduleDoBootstrap(C),C))})})}bootstrapModule(e,r=[]){const a=lP({},r);return function TW(n,t,e){const r=new VT(e);return Promise.resolve(r)}(0,0,e).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(e){const r=e.injector.get(Ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new Ve(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function lP(n,t){return Array.isArray(t)?t.reduce(lP,n):Object.assign(Object.assign({},n),t)}let Ac=(()=>{class n{constructor(e,r,a,d){this._zone=e,this._injector=r,this._exceptionHandler=a,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new sn(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),f=new sn(m=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{et.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{et.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{v.unsubscribe(),C.unsubscribe()}});this.isStable=wr(p,f.pipe(Pa()))}bootstrap(e,r){if(!this._initStatus.done)throw new Ve(405,"");let a;a=e instanceof pM?e:this._injector.get(Oo).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const d=function RW(n){return n.isBoundToModule}(a)?void 0:this._injector.get(cl),f=a.create(qt.NULL,[],r||a.selector,d),m=f.location.nativeElement,v=f.injector.get(s0,null),C=v&&f.injector.get(SW);return v&&C&&C.registerApplication(m,v),f.onDestroy(()=>{this.detachView(f.hostView),l0(this.components,f),C&&C.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;l0(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(eP,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(K(et),K(qt),K(Es),K(e0))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let uP=!0,dP=!1;function pP(){return dP=!0,uP}let _n=(()=>{class n{}return n.__NG_ELEMENT_ID__=NW,n})();function NW(n){return function LW(n,t,e){if(Zs(n)&&!e){const r=wn(n.index,t);return new Fm(r,r)}return 47&n.type?new Fm(t[16],t):null}(Bn(),ye(),16==(16&n))}class mP{constructor(){}supports(t){return ju(t)}create(t){return new WW(t)}}const BW=(n,t)=>t;class WW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||BW}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,a=0,d=null;for(;e||r;){const p=!r||e&&e.currentIndex<_P(r,a,d)?e:r,f=_P(p,a,d),m=p.currentIndex;if(p===r)a--,r=r._nextRemoved;else if(e=e._next,null==p.previousIndex)a++;else{d||(d=[]);const v=f-a,C=m-a;if(v!=C){for(let T=0;T<v;T++){const M=T<d.length?d[T]:d[T]=0,H=M+T;C<=H&&H<v&&(d[T]=M+1)}d[p.previousIndex]=C-v}}f!==m&&t(p,f,m)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ju(t))throw new Ve(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,p,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)d=t[f],p=this._trackByFn(f,d),null!==e&&Object.is(e.trackById,p)?(r&&(e=this._verifyReinsertion(e,d,p,f)),Object.is(e.item,d)||this._addIdentityChange(e,d)):(e=this._mismatch(e,d,p,f),r=!0),e=e._next}else a=0,function vC(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ps()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,f=>{p=this._trackByFn(a,f),null!==e&&Object.is(e.trackById,p)?(r&&(e=this._verifyReinsertion(e,f,p,a)),Object.is(e.item,f)||this._addIdentityChange(e,f)):(e=this._mismatch(e,f,p,a),r=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,d,a)):t=this._addAfter(new jW(e,r),d,a),t}_verifyReinsertion(t,e,r,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const a=null===e?this._itHead:e._next;return t._next=a,t._prev=e,null===a?this._itTail=t:a._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vP),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jW{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class vP{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new UW,this.map.set(e,r)),r.add(t)}get(t,e){const a=this.map.get(t);return a?a.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _P(n,t,e){const r=n.previousIndex;if(null===r)return r;let a=0;return e&&r<e.length&&(a=e[r]),r+t+a}class yP{constructor(){}supports(t){return t instanceof Map||hm(t)}create(){return new $W}}class $W{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||hm(t)))throw new Ve(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(e&&e.key===a)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const d=this._getOrCreateRecordForKey(a,r);e=this._insertBeforeOrAppend(e,d)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,e);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const r=new zW(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class zW{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CP(){return new YC([new mP])}let YC=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const a=r.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||CP()),deps:[[n,new sa,new Ti]]}}find(e){const r=this.factories.find(a=>a.supports(e));if(null!=r)return r;throw new Ve(901,"")}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:CP}),n})();function bP(){return new Hm([new yP])}let Hm=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const a=r.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||bP()),deps:[[n,new sa,new Ti]]}}find(e){const r=this.factories.find(d=>d.supports(e));if(r)return r;throw new Ve(901,"")}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:bP}),n})();const qW=sP(null,"core",[]);let QW=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(K(Ac))},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})(),qC=null;function ma(){return qC}const Xe=new Ee("DocumentToken");let Qu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return function e3(){return K(wP)}()},providedIn:"platform"}),n})();const t3=new Ee("Location Initialized");let wP=(()=>{class n extends Qu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ma().getBaseHref(this._doc)}onPopState(e){const r=ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){SP()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){SP()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:function(){return function n3(){return new wP(K(Xe))}()},providedIn:"platform"}),n})();function SP(){return!!window.history.pushState}function h0(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function EP(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function dl(n){return n&&"?"!==n[0]?"?"+n:n}let yh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return function i3(n){const t=K(Xe).location;return new DP(K(Qu),t&&t.origin||"")}()},providedIn:"root"}),n})();const f0=new Ee("appBaseHref");let DP=(()=>{class n extends yh{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return h0(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+dl(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,d){const p=this.prepareExternalUrl(a+dl(d));this._platformLocation.pushState(e,r,p)}replaceState(e,r,a,d){const p=this.prepareExternalUrl(a+dl(d));this._platformLocation.replaceState(e,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(K(Qu),K(f0,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),r3=(()=>{class n extends yh{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=h0(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,d){let p=this.prepareExternalUrl(a+dl(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,r,p)}replaceState(e,r,a,d){let p=this.prepareExternalUrl(a+dl(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(K(Qu),K(f0,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Vm=(()=>{class n{constructor(e,r){this._subject=new z,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=EP(TP(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+dl(r))}normalize(e){return n.stripTrailingSlash(function s3(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,TP(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dl(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dl(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=dl,n.joinWithSlash=h0,n.stripTrailingSlash=EP,n.\u0275fac=function(e){return new(e||n)(K(yh),K(Qu))},n.\u0275prov=_e({token:n,factory:function(){return function o3(){return new Vm(K(yh),K(Qu))}()},providedIn:"root"}),n})();function TP(n){return n.replace(/\/index.html$/,"")}function NP(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,d]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}let va=(()=>{class n{constructor(e,r,a,d){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ju(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ut(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(R(YC),R(Hm),R(Ge),R(ir))},n.\u0275dir=ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class U3{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new U3(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)r.remove(null===d?void 0:d);else if(null!==d){const f=r.get(d);r.move(f,p),LP(f,a)}});for(let a=0,d=r.length;a<d;a++){const f=r.get(a).context;f.index=a,f.count=d,f.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{LP(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(R(Nn),R(Xn),R(YC))},n.\u0275dir=ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function LP(n,t){n.context.$implicit=t.item}let ut=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new $3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(R(Nn),R(Xn))},n.\u0275dir=ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $3{constructor(){this.$implicit=null,this.ngIf=null}}function kP(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ut(t)}'.`)}let VP=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=hi({name:"json",type:n,pure:!1}),n})(),so=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();const WP="browser";function A0(n){return n===WP}let vj=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new _j(K(Xe),window)}),n})();class _j{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function yj(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jP(this.window.history)||jP(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function jP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class UP{}class O0 extends class Cj extends class ZW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function XW(n){qC||(qC=n)}(new O0)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function bj(){return jm=jm||document.querySelector("base"),jm?jm.getAttribute("href"):null}();return null==e?null:function wj(n){sb=sb||document.createElement("a"),sb.setAttribute("href",n);const t=sb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){jm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return NP(document.cookie,t)}}let sb,jm=null;const $P=new Ee("TRANSITION_ID"),Ej=[{provide:ZT,useFactory:function Sj(n,t,e){return()=>{e.get(e0).donePromise.then(()=>{const r=ma(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)r.remove(a[d])})}},deps:[$P,Xe,qt],multi:!0}];class x0{static init(){!function DW(n){a0=n}(new x0)}addToWindow(t){tn.getAngularTestability=(r,a=!0)=>{const d=t.findTestabilityInTree(r,a);if(null==d)throw new Error("Could not find testability for element.");return d},tn.getAllAngularTestabilities=()=>t.getAllTestabilities(),tn.getAllAngularRootElements=()=>t.getAllRootElements(),tn.frameworkStabilizers||(tn.frameworkStabilizers=[]),tn.frameworkStabilizers.push(r=>{const a=tn.getAllAngularTestabilities();let d=a.length,p=!1;const f=function(m){p=p||m,d--,0==d&&r(p)};a.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?ma().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Dj=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const ab=new Ee("EventManagerPlugins");let lb=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(K(ab),K(et))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class zP{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=ma().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let KP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Um=(()=>{class n extends KP{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(r.appendChild(p))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(YP),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(YP))}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function YP(n){ma().remove(n)}const I0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M0=/%COMP%/g;function cb(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?cb(n,a,e):(a=a.replace(M0,n),e.push(a))}return e}function JP(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ub=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new P0(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Kr.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ij(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case Kr.ShadowDom:return new Mj(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=cb(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(K(lb),K(Um),K(Gm))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class P0{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(I0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const d=I0[a];d?t.setAttributeNS(d,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=I0[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(Pr.DashCase|Pr.Important)?t.style.setProperty(e,r,a&Pr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Pr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,JP(r)):this.eventManager.addEventListener(t,e,JP(r))}}class Ij extends P0{constructor(t,e,r,a){super(t),this.component=r;const d=cb(a+"-"+r.id,r.styles,[]);e.addStyles(d),this.contentAttr=function Aj(n){return"_ngcontent-%COMP%".replace(M0,n)}(a+"-"+r.id),this.hostAttr=function Oj(n){return"_nghost-%COMP%".replace(M0,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Mj extends P0{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=cb(a.id,a.styles,[]);for(let p=0;p<d.length;p++){const f=document.createElement("style");f.textContent=d[p],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Pj=(()=>{class n extends zP{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const ZP=["alt","control","meta","shift"],Nj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},e1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kj=(()=>{class n extends zP{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const d=n.parseEventName(r),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ma().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(r.pop());let p="";if(ZP.forEach(m=>{const v=r.indexOf(m);v>-1&&(r.splice(v,1),p+=m+".")}),p+=d,0!=r.length||0===d.length)return null;const f={};return f.domEventName=a,f.fullKey=p,f}static getEventFullKey(e){let r="",a=function Gj(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&e1.hasOwnProperty(t)&&(t=e1[t]))}return Nj[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ZP.forEach(d=>{d!=a&&Lj[d](e)&&(r+=d+".")}),r+=a,r}static eventCallback(e,r,a){return d=>{n.getEventFullKey(d)===e&&a.runGuarded(()=>r(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const Wj=sP(qW,"browser",[{provide:_h,useValue:WP},{provide:ZM,useValue:function Hj(){O0.makeCurrent(),x0.init()},multi:!0},{provide:Xe,useFactory:function Bj(){return function E_(n){Yd=n}(document),document},deps:[]}]),jj=[{provide:nm,useValue:"root"},{provide:Es,useFactory:function Vj(){return new Es},deps:[]},{provide:ab,useClass:Pj,multi:!0,deps:[Xe,et,_h]},{provide:ab,useClass:kj,multi:!0,deps:[Xe]},{provide:ub,useClass:ub,deps:[lb,Um,Gm]},{provide:Tc,useExisting:ub},{provide:KP,useExisting:Um},{provide:Um,useClass:Um,deps:[Xe]},{provide:s0,useClass:s0,deps:[et]},{provide:lb,useClass:lb,deps:[ab,et]},{provide:UP,useClass:Dj,deps:[]}];let t1=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Gm,useValue:e.appId},{provide:$P,useExisting:Gm},Ej]}}}return n.\u0275fac=function(e){return new(e||n)(K(n,12))},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:jj,imports:[so,QW]}),n})(),F0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:function(e){let r=null;return r=e?new e:function $j(){return new F0(K(Xe))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let bh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(e){let r=null;return r=e?new(e||n):K(o1),r},providedIn:"root"}),n})(),o1=(()=>{class n extends bh{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Vt.NONE:return r;case Vt.HTML:return Xr(r,"HTML")?Ir(r):ug(this._doc,String(r)).toString();case Vt.STYLE:return Xr(r,"Style")?Ir(r):r;case Vt.SCRIPT:if(Xr(r,"Script"))return Ir(r);throw new Error("unsafe value used in a script context");case Vt.URL:return pt(r),Xr(r,"URL")?Ir(r):Du(String(r));case Vt.RESOURCE_URL:if(Xr(r,"ResourceURL"))return Ir(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function ag(n){return new kE(n)}(e)}bypassSecurityTrustStyle(e){return function WE(n){return new GE(n)}(e)}bypassSecurityTrustScript(e){return function jE(n){return new HE(n)}(e)}bypassSecurityTrustUrl(e){return function UE(n){return new VE(n)}(e)}bypassSecurityTrustResourceUrl(e){return function $E(n){return new BE(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:function(e){let r=null;return r=e?new e:function Zj(n){return new o1(n.get(Xe))}(K(qt)),r},providedIn:"root"}),n})();const{isArray:eU}=Array,{getPrototypeOf:tU,prototype:nU,keys:iU}=Object;function s1(n){if(1===n.length){const t=n[0];if(eU(t))return{args:t,keys:null};if(function rU(n){return n&&"object"==typeof n&&tU(n)===nU}(t)){const e=iU(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:oU}=Array;function L0(n){return Je(t=>function sU(n,t){return oU(t)?n(...t):n(t)}(n,t))}function a1(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}function l1(...n){const t=Ma(n),{args:e,keys:r}=s1(n),a=new sn(d=>{const{length:p}=e;if(!p)return void d.complete();const f=new Array(p);let m=p,v=p;for(let C=0;C<p;C++){let b=!1;br(e[C]).subscribe(An(d,T=>{b||(b=!0,v--),f[C]=T},()=>m--,void 0,()=>{(!m||!b)&&(v||d.next(r?a1(r,f):f),d.complete())}))}});return t?a.pipe(L0(t)):a}let c1=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(R(ir),R(Ge))},n.\u0275dir=ce({type:n}),n})(),Ju=(()=>{class n extends c1{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,features:[ke]}),n})();const _a=new Ee("NgValueAccessor"),aU={provide:_a,useExisting:Ht(()=>db),multi:!0};let db=(()=>{class n extends Ju{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&U("change",function(d){return r.onChange(d.target.checked)})("blur",function(){return r.onTouched()})},features:[gt([aU]),ke]}),n})();const lU={provide:_a,useExisting:Ht(()=>Yi),multi:!0},uU=new Ee("CompositionEventMode");let Yi=(()=>{class n extends c1{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cU(){const n=ma()?ma().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(R(ir),R(Ge),R(uU,8))},n.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&U("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[gt([lU]),ke]}),n})();function xc(n){return null==n||0===n.length}function u1(n){return null!=n&&"number"==typeof n.length}const hr=new Ee("NgValidators"),Ic=new Ee("NgAsyncValidators"),dU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class or{static min(t){return function d1(n){return t=>{if(xc(t.value)||xc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function p1(n){return t=>{if(xc(t.value)||xc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function h1(n){return xc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function f1(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function g1(n){return xc(n.value)||dU.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function m1(n){return t=>xc(t.value)||!u1(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function v1(n){return t=>u1(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function _1(n){if(!n)return pb;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(xc(r.value))return null;const a=r.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return E1(t)}static composeAsync(t){return D1(t)}}function pb(n){return null}function y1(n){return null!=n}function C1(n){const t=Ec(n)?$n(n):n;return ph(t),t}function b1(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function w1(n,t){return t.map(e=>e(n))}function S1(n){return n.map(t=>function pU(n){return!n.validate}(t)?t:e=>t.validate(e))}function E1(n){if(!n)return null;const t=n.filter(y1);return 0==t.length?null:function(e){return b1(w1(e,t))}}function k0(n){return null!=n?E1(S1(n)):null}function D1(n){if(!n)return null;const t=n.filter(y1);return 0==t.length?null:function(e){return l1(w1(e,t).map(C1)).pipe(Je(b1))}}function G0(n){return null!=n?D1(S1(n)):null}function T1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function R1(n){return n._rawValidators}function A1(n){return n._rawAsyncValidators}function H0(n){return n?Array.isArray(n)?n:[n]:[]}function hb(n,t){return Array.isArray(n)?n.includes(t):n===t}function O1(n,t){const e=H0(t);return H0(n).forEach(a=>{hb(e,a)||e.push(a)}),e}function x1(n,t){return H0(t).filter(e=>!hb(n,e))}class I1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=k0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=G0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class hl extends I1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hr extends I1{get formDirective(){return null}get path(){return null}}class M1{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}let fr=(()=>{class n extends M1{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(R(hl,2))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ue("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),n})(),ss=(()=>{class n extends M1{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Hr,10))},n.\u0275dir=ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ue("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ke]}),n})();function gb(n,t){return[...t.path,n]}function $m(n,t){W0(n,t),t.valueAccessor.writeValue(n.value),function CU(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&F1(n,t)})}(n,t),function wU(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function bU(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&F1(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function yU(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mb(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),_b(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function W0(n,t){const e=R1(n);null!==t.validator?n.setValidators(T1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=A1(n);null!==t.asyncValidator?n.setAsyncValidators(T1(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();vb(t._rawValidators,a),vb(t._rawAsyncValidators,a)}function _b(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=R1(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=A1(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const r=()=>{};return vb(t._rawValidators,r),vb(t._rawAsyncValidators,r),e}function F1(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function j0(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function U0(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(d=>{d.constructor===Yi?e=d:function DU(n){return Object.getPrototypeOf(n.constructor)===Ju}(d)?r=d:a=d}),a||r||e||null}function $0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const zm="VALID",yb="INVALID",wh="PENDING",Km="DISABLED";function K0(n){return(Cb(n)?n.validators:n)||null}function G1(n){return Array.isArray(n)?k0(n):n||null}function Y0(n,t){return(Cb(t)?t.asyncValidators:n)||null}function H1(n){return Array.isArray(n)?G0(n):n||null}function Cb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const q0=n=>n instanceof J0,bb=n=>n instanceof wb,V1=n=>n instanceof U1;function B1(n){return q0(n)?n.value:n.getRawValue()}function W1(n,t){const e=bb(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ve(1e3,"");if(!r[t])throw new Ve(1001,"")}function j1(n,t){bb(n),n._forEachChild((r,a)=>{if(void 0===t[a])throw new Ve(1002,"")})}class Q0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=G1(this._rawValidators),this._composedAsyncValidatorFn=H1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zm}get invalid(){return this.status===yb}get pending(){return this.status==wh}get disabled(){return this.status===Km}get enabled(){return this.status!==Km}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=G1(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=H1(t)}addValidators(t){this.setValidators(O1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(O1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(x1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(x1(t,this._rawAsyncValidators))}hasValidator(t){return hb(this._rawValidators,t)}hasAsyncValidator(t){return hb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Km,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zm,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zm||this.status===wh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Km:zm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wh,this._hasOwnPendingAsyncValidator=!0;const e=C1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function TU(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=bb(r)?r.controls.hasOwnProperty(a)?r.controls[a]:null:V1(r)&&r.at(a)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?Km:this.errors?yb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wh)?wh:this._anyControlsHaveStatus(yb)?yb:zm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class J0 extends Q0{constructor(t=null,e,r){super(K0(e),Y0(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cb(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wb extends Q0{constructor(t,e,r){super(K0(e),Y0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){j1(this,t),Object.keys(t).forEach(r=>{W1(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=B1(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,d)=>{r=e(r,a,d)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class U1 extends Q0{constructor(t,e,r){super(K0(e),Y0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){j1(this,t),t.forEach((r,a)=>{W1(this,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>B1(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const OU={provide:hl,useExisting:Ht(()=>Sh)},K1=(()=>Promise.resolve(null))();let Sh=(()=>{class n extends hl{constructor(e,r,a,d,p){super(),this._changeDetectorRef=p,this.control=new J0,this._registered=!1,this.update=new z,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=U0(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),j0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$m(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){K1.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;K1.then(()=>{var d;a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),null===(d=this._changeDetectorRef)||void 0===d||d.markForCheck()})}_getPath(e){return this._parent?gb(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(R(Hr,9),R(hr,10),R(Ic,10),R(_a,10),R(_n,8))},n.\u0275dir=ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([OU]),ke,$t]}),n})(),as=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();const X0=new Ee("NgModelWithFormControlWarning"),NU={provide:Hr,useExisting:Ht(()=>Vr)};let Vr=(()=>{class n extends Hr{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new z,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_b(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return $m(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){mb(e.control||null,e,!1),$0(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function k1(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,a=this.form.get(e.path);r!==a&&(mb(r||null,e),q0(a)&&($m(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function N1(n,t){W0(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function SU(n,t){return _b(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){W0(this.form,this),this._oldForm&&_b(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(R(hr,10),R(Ic,10))},n.\u0275dir=ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&U("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([NU]),ke,$t]}),n})();const GU={provide:hl,useExisting:Ht(()=>xo)};let xo=(()=>{class n extends hl{constructor(e,r,a,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new z,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=U0(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),j0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(R(Hr,13),R(hr,10),R(Ic,10),R(_a,10),R(X0,8))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gt([GU]),ke,$t]}),n})(),dF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[q1]]}),n})(),e$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[dF]}),n})(),pF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:X0,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[dF]}),n})(),Bs=(()=>{class n{group(e,r=null){const a=this._reduceControls(e);let f,d=null,p=null;return null!=r&&(function t$(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(d=null!=r.validators?r.validators:null,p=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(d=null!=r.validator?r.validator:null,p=null!=r.asyncValidator?r.asyncValidator:null)),new wb(a,{asyncValidators:p,updateOn:f,validators:d})}control(e,r,a){return new J0(e,r,a)}array(e,r,a){const d=e.map(p=>this._createControl(p));return new U1(d,r,a)}_reduceControls(e){const r={};return Object.keys(e).forEach(a=>{r[a]=this._createControl(e[a])}),r}_createControl(e){return q0(e)||bb(e)||V1(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:pF}),n})();function hF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function Be(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?hF(Object(e),!0).forEach(function(r){r$(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hF(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Eb(n){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function fF(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function r$(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rR(n,t){return function a$(n){if(Array.isArray(n))return n}(n)||function c$(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var p,f,r=[],a=!0,d=!1;try{for(e=e.call(n);!(a=(p=e.next()).done)&&(r.push(p.value),!t||r.length!==t);a=!0);}catch(m){d=!0,f=m}finally{try{!a&&null!=e.return&&e.return()}finally{if(d)throw f}}return r}}(n,t)||gF(n,t)||function d$(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tb(n){return function s$(n){if(Array.isArray(n))return oR(n)}(n)||function l$(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||gF(n)||function u$(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gF(n,t){if(n){if("string"==typeof n)return oR(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return oR(n,t)}}function oR(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var mF=function(){},sR={},vF={},_F=null,yF={mark:mF,measure:mF};try{"undefined"!=typeof window&&(sR=window),"undefined"!=typeof document&&(vF=document),"undefined"!=typeof MutationObserver&&(_F=MutationObserver),"undefined"!=typeof performance&&(yF=performance)}catch(n){}var CF=(sR.navigator||{}).userAgent,bF=void 0===CF?"":CF,Mc=sR,In=vF,wF=_F,Rb=yF,fl=!!In.documentElement&&!!In.head&&"function"==typeof In.addEventListener&&"function"==typeof In.createElement,SF=~bF.indexOf("MSIE")||~bF.indexOf("Trident/"),gl="___FONT_AWESOME___",DF="svg-inline--fa",Zu="data-fa-i2svg",lR="data-fa-pseudo-element",cR="data-prefix",uR="data-icon",TF="fontawesome-i2svg",g$=["HTML","HEAD","STYLE","SCRIPT"],RF=function(){try{return!0}catch(n){return!1}}(),dR={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Ab={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},AF={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},m$={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},v$=/fa[srltdbk\-\ ]/,OF="fa-layers-text",_$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,y$={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},xF=[1,2,3,4,5,6,7,8,9,10],C$=xF.concat([11,12,13,14,15,16,17,18,19,20]),b$=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],w$=[].concat(Tb(Object.keys(Ab)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(xF.map(function(n){return"".concat(n,"x")})).concat(C$.map(function(n){return"w-".concat(n)})),IF=Mc.FontAwesomeConfig||{};In&&"function"==typeof In.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=rR(n,2),r=t[1],a=function E$(n){return""===n||"false"!==n&&("true"===n||n)}(function S$(n){var t=In.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=a&&(IF[r]=a)});var Qm=Be(Be({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:DF,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),IF);Qm.autoReplaceSvg||(Qm.observeMutations=!1);var nt={};Object.keys(Qm).forEach(function(n){Object.defineProperty(nt,n,{enumerable:!0,set:function(e){Qm[n]=e,Ob.forEach(function(r){return r(nt)})},get:function(){return Qm[n]}})}),Mc.FontAwesomeConfig=nt;var Ob=[],ya={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Jm(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Eh(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function pR(n){return n.classList?Eh(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function MF(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xb(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function hR(n){return n.size!==ya.size||n.x!==ya.x||n.y!==ya.y||n.rotate!==ya.rotate||n.flipX||n.flipY}function PF(){var n="fa",t=DF,e=nt.familyPrefix,r=nt.replacementClass,a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||r!==t){var d=new RegExp("\\.".concat(n,"\\-"),"g"),p=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(t),"g");a=a.replace(d,".".concat(e,"-")).replace(p,"--".concat(e,"-")).replace(f,".".concat(r))}return a}var FF=!1;function fR(){nt.autoAddCss&&!FF&&(function A$(n){if(n&&fl){var t=In.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=In.head.childNodes,r=null,a=e.length-1;a>-1;a--){var d=e[a],p=(d.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(p)>-1&&(r=d)}In.head.insertBefore(t,r)}}(PF()),FF=!0)}var F$={mixout:function(){return{dom:{css:PF,insertCss:fR}}},hooks:function(){return{beforeDOMElementCreation:function(){fR()},beforeI2svg:function(){fR()}}}},ml=Mc||{};ml[gl]||(ml[gl]={}),ml[gl].styles||(ml[gl].styles={}),ml[gl].hooks||(ml[gl].hooks={}),ml[gl].shims||(ml[gl].shims=[]);var Ws=ml[gl],NF=[],Ib=!1;function L$(n){!fl||(Ib?setTimeout(n,0):NF.push(n))}function Xm(n){var t=n.tag,e=n.attributes,r=void 0===e?{}:e,a=n.children,d=void 0===a?[]:a;return"string"==typeof n?MF(n):"<".concat(t," ").concat(function x$(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(MF(n[e]),'" ')},"").trim()}(r),">").concat(d.map(Xm).join(""),"</").concat(t,">")}function LF(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}fl&&((Ib=(In.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(In.readyState))||In.addEventListener("DOMContentLoaded",function n(){In.removeEventListener("DOMContentLoaded",n),Ib=1,NF.map(function(t){return t()})}));var gR=function(t,e,r,a){var m,v,C,d=Object.keys(t),p=d.length,f=void 0!==a?function(t,e){return function(r,a,d,p){return t.call(e,r,a,d,p)}}(e,a):e;for(void 0===r?(m=1,C=t[d[0]]):(m=0,C=r);m<p;m++)C=f(C,t[v=d[m]],v,t);return C};function mR(n){var t=function G$(n){for(var t=[],e=0,r=n.length;e<r;){var a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<r){var d=n.charCodeAt(e++);56320==(64512&d)?t.push(((1023&a)<<10)+(1023&d)+65536):(t.push(a),e--)}else t.push(a)}return t}(n);return 1===t.length?t[0].toString(16):null}function kF(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function vR(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.skipHooks,a=void 0!==r&&r,d=kF(t);"function"!=typeof Ws.hooks.addPack||a?Ws.styles[n]=Be(Be({},Ws.styles[n]||{}),d):Ws.hooks.addPack(n,kF(t)),"fas"===n&&vR("fa",t)}var Zm=Ws.styles,V$=Ws.shims,B$=Object.values(AF),_R=null,GF={},HF={},VF={},BF={},WF={},W$=Object.keys(dR);function U$(n,t){var e=t.split("-"),r=e[0],a=e.slice(1).join("-");return r!==n||""===a||function j$(n){return~w$.indexOf(n)}(a)?null:a}var jF=function(){var t=function(d){return gR(Zm,function(p,f,m){return p[m]=gR(f,d,{}),p},{})};GF=t(function(a,d,p){return d[3]&&(a[d[3]]=p),d[2]&&d[2].filter(function(m){return"number"==typeof m}).forEach(function(m){a[m.toString(16)]=p}),a}),HF=t(function(a,d,p){return a[p]=p,d[2]&&d[2].filter(function(m){return"string"==typeof m}).forEach(function(m){a[m]=p}),a}),WF=t(function(a,d,p){var f=d[2];return a[p]=p,f.forEach(function(m){a[m]=p}),a});var e="far"in Zm||nt.autoFetchSvg,r=gR(V$,function(a,d){var p=d[0],f=d[1],m=d[2];return"far"===f&&!e&&(f="fas"),"string"==typeof p&&(a.names[p]={prefix:f,iconName:m}),"number"==typeof p&&(a.unicodes[p.toString(16)]={prefix:f,iconName:m}),a},{names:{},unicodes:{}});VF=r.names,BF=r.unicodes,_R=Mb(nt.styleDefault)};function yR(n,t){return(GF[n]||{})[t]}function Dh(n,t){return(WF[n]||{})[t]}function UF(n){return VF[n]||{prefix:null,iconName:null}}function Fc(){return _R}function Mb(n){return Ab[n]||Ab[dR[n]]||(n in Ws.styles?n:null)||null}function Pb(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.skipLookups,r=void 0!==e&&e,a=null,d=n.reduce(function(p,f){var m=U$(nt.familyPrefix,f);if(Zm[f]?(f=B$.includes(f)?m$[f]:f,a=f,p.prefix=f):W$.indexOf(f)>-1?(a=f,p.prefix=Mb(f)):m?p.iconName=m:f!==nt.replacementClass&&p.rest.push(f),!r&&p.prefix&&p.iconName){var v="fa"===a?UF(p.iconName):{},C=Dh(p.prefix,p.iconName);v.prefix&&(a=null),p.iconName=v.iconName||C||p.iconName,p.prefix=v.prefix||p.prefix,"far"===p.prefix&&!Zm.far&&Zm.fas&&!nt.autoFetchSvg&&(p.prefix="fas")}return p},{prefix:null,iconName:null,rest:[]});return("fa"===d.prefix||"fa"===a)&&(d.prefix=Fc()||"fas"),d}(function R$(n){Ob.push(n)})(function(n){_R=Mb(n.styleDefault)}),jF();var K$=function(){function n(){(function n$(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function i$(n,t,e){t&&fF(n.prototype,t),e&&fF(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];var p=a.reduce(this._pullDefinitions,{});Object.keys(p).forEach(function(f){e.definitions[f]=Be(Be({},e.definitions[f]||{}),p[f]),vR(f,p[f]);var m=AF[f];m&&vR(m,p[f]),jF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(d){var p=a[d],f=p.prefix,m=p.iconName,v=p.icon,C=v[2];e[f]||(e[f]={}),C.length>0&&C.forEach(function(b){"string"==typeof b&&(e[f][b]=v)}),e[f][m]=v}),e}}]),n}(),$F=[],Th={},Rh={},Y$=Object.keys(Rh);function bR(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),a=2;a<e;a++)r[a-2]=arguments[a];var d=Th[n]||[];return d.forEach(function(p){t=p.apply(null,[t].concat(r))}),t}function td(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var a=Th[n]||[];a.forEach(function(d){d.apply(null,e)})}function vl(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Rh[n]?Rh[n].apply(null,t):void 0}function wR(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Fc();if(t)return t=Dh(e,t)||t,LF(zF.definitions,e,t)||LF(Ws.styles,e,t)}var zF=new K$,J$={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fl?(td("beforeI2svg",t),vl("pseudoElements2svg",t),vl("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===nt.autoReplaceSvg&&(nt.autoReplaceSvg=!0),nt.observeMutations=!0,L$(function(){Z$({autoReplaceSvgRoot:e}),td("watch",t)})}},Io={noAuto:function(){nt.autoReplaceSvg=!1,nt.observeMutations=!1,td("noAuto")},config:nt,dom:J$,parse:{icon:function(t){if(null===t)return null;if("object"===Eb(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Dh(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=Mb(t[0]);return{prefix:r,iconName:Dh(r,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(nt.familyPrefix,"-"))>-1||t.match(v$))){var a=Pb(t.split(" "),{skipLookups:!0});return{prefix:a.prefix||Fc(),iconName:Dh(a.prefix,a.iconName)||a.iconName}}if("string"==typeof t){var d=Fc();return{prefix:d,iconName:Dh(d,t)||t}}}},library:zF,findIconDefinition:wR,toHtml:Xm},Z$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,r=void 0===e?In:e;(Object.keys(Ws.styles).length>0||nt.autoFetchSvg)&&fl&&nt.autoReplaceSvg&&Io.dom.i2svg({node:r})};function Fb(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Xm(r)})}}),Object.defineProperty(n,"node",{get:function(){if(fl){var r=In.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function SR(n){var t=n.icons,e=t.main,r=t.mask,a=n.prefix,d=n.iconName,p=n.transform,f=n.symbol,m=n.title,v=n.maskId,C=n.titleId,b=n.extra,T=n.watchable,M=void 0!==T&&T,H=r.found?r:e,$=H.width,Q=H.height,te="fak"===a,Y=[nt.replacementClass,d?"".concat(nt.familyPrefix,"-").concat(d):""].filter(function(jt){return-1===b.classes.indexOf(jt)}).filter(function(jt){return""!==jt||!!jt}).concat(b.classes).join(" "),se={children:[],attributes:Be(Be({},b.attributes),{},{"data-prefix":a,"data-icon":d,class:Y,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat($," ").concat(Q)})},De=te&&!~b.classes.indexOf("fa-fw")?{width:"".concat($/Q*16*.0625,"em")}:{};M&&(se.attributes[Zu]=""),m&&(se.children.push({tag:"title",attributes:{id:se.attributes["aria-labelledby"]||"title-".concat(C||Jm())},children:[m]}),delete se.attributes.title);var Fe=Be(Be({},se),{},{prefix:a,iconName:d,main:e,mask:r,maskId:v,transform:p,symbol:f,styles:Be(Be({},De),b.styles)}),st=r.found&&e.found?vl("generateAbstractMask",Fe)||{children:[],attributes:{}}:vl("generateAbstractIcon",Fe)||{children:[],attributes:{}},Tn=st.attributes;return Fe.children=st.children,Fe.attributes=Tn,f?function tz(n){var e=n.iconName,r=n.children,a=n.attributes,d=n.symbol,p=!0===d?"".concat(n.prefix,"-").concat(nt.familyPrefix,"-").concat(e):d;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Be(Be({},a),{},{id:p}),children:r}]}]}(Fe):function ez(n){var t=n.children,e=n.main,r=n.mask,a=n.attributes,d=n.styles,p=n.transform;if(hR(p)&&e.found&&!r.found){var v={x:e.width/e.height/2,y:.5};a.style=xb(Be(Be({},d),{},{"transform-origin":"".concat(v.x+p.x/16,"em ").concat(v.y+p.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(Fe)}function KF(n){var t=n.content,e=n.width,r=n.height,a=n.transform,d=n.title,p=n.extra,f=n.watchable,m=void 0!==f&&f,v=Be(Be(Be({},p.attributes),d?{title:d}:{}),{},{class:p.classes.join(" ")});m&&(v[Zu]="");var C=Be({},p.styles);hR(a)&&(C.transform=function M$(n){var t=n.transform,e=n.width,a=n.height,d=void 0===a?16:a,p=n.startCentered,f=void 0!==p&&p,m="";return m+=f&&SF?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-d/2,"em) "):f?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(m+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:a,startCentered:!0,width:e,height:r}),C["-webkit-transform"]=C.transform);var b=xb(C);b.length>0&&(v.style=b);var T=[];return T.push({tag:"span",attributes:v,children:[t]}),d&&T.push({tag:"span",attributes:{class:"sr-only"},children:[d]}),T}function nz(n){var t=n.content,e=n.title,r=n.extra,a=Be(Be(Be({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),d=xb(r.styles);d.length>0&&(a.style=d);var p=[];return p.push({tag:"span",attributes:a,children:[t]}),e&&p.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),p}var ER=Ws.styles;function DR(n){var t=n[0],e=n[1],d=rR(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(d)?{tag:"g",attributes:{class:"".concat(nt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(nt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:d[0]}},{tag:"path",attributes:{class:"".concat(nt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:d[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d}}}}var iz={found:!1,width:512,height:512};function TR(n,t){var e=t;return"fa"===t&&null!==nt.styleDefault&&(t=Fc()),new Promise(function(r,a){if(vl("missingIconAbstract"),"fa"===e){var p=UF(n)||{};n=p.iconName||n,t=p.prefix||t}if(n&&t&&ER[t]&&ER[t][n])return r(DR(ER[t][n]));(function rz(n,t){!RF&&!nt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),r(Be(Be({},iz),{},{icon:nt.showMissingIcons&&n&&vl("missingIconAbstract")||{}}))})}var YF=function(){},RR=nt.measurePerformance&&Rb&&Rb.mark&&Rb.measure?Rb:{mark:YF,measure:YF},ev='FA "6.1.1"',AR_begin=function(t){return RR.mark("".concat(ev," ").concat(t," begins")),function(){return function(t){RR.mark("".concat(ev," ").concat(t," ends")),RR.measure("".concat(ev," ").concat(t),"".concat(ev," ").concat(t," begins"),"".concat(ev," ").concat(t," ends"))}(t)}},Nb=function(){};function QF(n){return"string"==typeof(n.getAttribute?n.getAttribute(Zu):null)}function cz(n){return In.createElementNS("http://www.w3.org/2000/svg",n)}function uz(n){return In.createElement(n)}function JF(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,r=void 0===e?"svg"===n.tag?cz:uz:e;if("string"==typeof n)return In.createTextNode(n);var a=r(n.tag);Object.keys(n.attributes||[]).forEach(function(p){a.setAttribute(p,n.attributes[p])});var d=n.children||[];return d.forEach(function(p){a.appendChild(JF(p,{ceFn:r}))}),a}var Lb={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(a){e.parentNode.insertBefore(JF(a),e)}),null===e.getAttribute(Zu)&&nt.keepOriginalSource){var r=In.createComment(function dz(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~pR(e).indexOf(nt.replacementClass))return Lb.replace(t);var a=new RegExp("".concat(nt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var d=r[0].attributes.class.split(" ").reduce(function(f,m){return m===nt.replacementClass||m.match(a)?f.toSvg.push(m):f.toNode.push(m),f},{toNode:[],toSvg:[]});r[0].attributes.class=d.toSvg.join(" "),0===d.toNode.length?e.removeAttribute("class"):e.setAttribute("class",d.toNode.join(" "))}var p=r.map(function(f){return Xm(f)}).join("\n");e.setAttribute(Zu,""),e.innerHTML=p}};function XF(n){n()}function ZF(n,t){var e="function"==typeof t?t:Nb;if(0===n.length)e();else{var r=XF;"async"===nt.mutateApproach&&(r=Mc.requestAnimationFrame||XF),r(function(){var a=function lz(){return!0===nt.autoReplaceSvg?Lb.replace:Lb[nt.autoReplaceSvg]||Lb.replace}(),d=AR_begin("mutate");n.map(a),d(),e()})}}var OR=!1;function eN(){OR=!0}function xR(){OR=!1}var kb=null;function tN(n){if(wF&&nt.observeMutations){var t=n.treeCallback,e=void 0===t?Nb:t,r=n.nodeCallback,a=void 0===r?Nb:r,d=n.pseudoElementsCallback,p=void 0===d?Nb:d,f=n.observeMutationsRoot,m=void 0===f?In:f;kb=new wF(function(v){if(!OR){var C=Fc();Eh(v).forEach(function(b){if("childList"===b.type&&b.addedNodes.length>0&&!QF(b.addedNodes[0])&&(nt.searchPseudoElements&&p(b.target),e(b.target)),"attributes"===b.type&&b.target.parentNode&&nt.searchPseudoElements&&p(b.target.parentNode),"attributes"===b.type&&QF(b.target)&&~b$.indexOf(b.attributeName))if("class"===b.attributeName&&function sz(n){var t=n.getAttribute?n.getAttribute(cR):null,e=n.getAttribute?n.getAttribute(uR):null;return t&&e}(b.target)){var T=Pb(pR(b.target)),H=T.iconName;b.target.setAttribute(cR,T.prefix||C),H&&b.target.setAttribute(uR,H)}else(function az(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(nt.replacementClass)})(b.target)&&a(b.target)})}}),fl&&kb.observe(m,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function hz(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,a){var d=a.split(":"),p=d[0],f=d.slice(1);return p&&f.length>0&&(r[p]=f.join(":").trim()),r},{})),e}function fz(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",a=Pb(pR(n));return a.prefix||(a.prefix=Fc()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||a.prefix&&r.length>0&&(a.iconName=function $$(n,t){return(HF[n]||{})[t]}(a.prefix,n.innerText)||yR(a.prefix,mR(n.innerText))),a}function gz(n){var t=Eh(n.attributes).reduce(function(a,d){return"class"!==a.name&&"style"!==a.name&&(a[d.name]=d.value),a},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return nt.autoA11y&&(e?t["aria-labelledby"]="".concat(nt.replacementClass,"-title-").concat(r||Jm()):(t["aria-hidden"]="true",t.focusable="false")),t}function nN(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=fz(n),r=e.iconName,a=e.prefix,d=e.rest,p=gz(n),f=bR("parseNodeAttributes",{},n),m=t.styleParser?hz(n):[];return Be({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:a,transform:ya,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:d,styles:m,attributes:p}},f)}var vz=Ws.styles;function iN(n){var t="nest"===nt.autoReplaceSvg?nN(n,{styleParser:!1}):nN(n);return~t.extra.classes.indexOf(OF)?vl("generateLayersText",n,t):vl("generateSvgReplacementMutation",n,t)}function rN(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!fl)return Promise.resolve();var e=In.documentElement.classList,r=function(b){return e.add("".concat(TF,"-").concat(b))},a=function(b){return e.remove("".concat(TF,"-").concat(b))},d=Object.keys(nt.autoFetchSvg?dR:vz),p=[".".concat(OF,":not([").concat(Zu,"])")].concat(d.map(function(C){return".".concat(C,":not([").concat(Zu,"])")})).join(", ");if(0===p.length)return Promise.resolve();var f=[];try{f=Eh(n.querySelectorAll(p))}catch(C){}if(!(f.length>0))return Promise.resolve();r("pending"),a("complete");var m=AR_begin("onTree"),v=f.reduce(function(C,b){try{var T=iN(b);T&&C.push(T)}catch(M){RF||"MissingIcon"===M.name&&console.error(M)}return C},[]);return new Promise(function(C,b){Promise.all(v).then(function(T){ZF(T,function(){r("active"),r("complete"),a("pending"),"function"==typeof t&&t(),m(),C()})}).catch(function(T){m(),b(T)})})}function _z(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iN(n).then(function(e){e&&ZF([e],t)})}var Cz=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,a=void 0===r?ya:r,d=e.symbol,p=void 0!==d&&d,f=e.mask,m=void 0===f?null:f,v=e.maskId,C=void 0===v?null:v,b=e.title,T=void 0===b?null:b,M=e.titleId,H=void 0===M?null:M,$=e.classes,Q=void 0===$?[]:$,te=e.attributes,Y=void 0===te?{}:te,se=e.styles,De=void 0===se?{}:se;if(t){var Fe=t.prefix,st=t.iconName,yt=t.icon;return Fb(Be({type:"icon"},t),function(){return td("beforeDOMElementCreation",{iconDefinition:t,params:e}),nt.autoA11y&&(T?Y["aria-labelledby"]="".concat(nt.replacementClass,"-title-").concat(H||Jm()):(Y["aria-hidden"]="true",Y.focusable="false")),SR({icons:{main:DR(yt),mask:m?DR(m.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Fe,iconName:st,transform:Be(Be({},ya),a),symbol:p,title:T,maskId:C,titleId:H,extra:{attributes:Y,styles:De,classes:Q}})})}},bz={mixout:function(){return{icon:(n=Cz,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:wR(t||{}),a=e.mask;return a&&(a=(a||{}).icon?a:wR(a||{})),n(r,Be(Be({},e),{},{mask:a}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=rN,e.nodeCallback=_z,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,d=e.callback;return rN(void 0===r?In:r,void 0===d?function(){}:d)},t.generateSvgReplacementMutation=function(e,r){var a=r.iconName,d=r.title,p=r.titleId,f=r.prefix,m=r.transform,v=r.symbol,C=r.mask,b=r.maskId,T=r.extra;return new Promise(function(M,H){Promise.all([TR(a,f),C.iconName?TR(C.iconName,C.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function($){var Q=rR($,2);M([e,SR({icons:{main:Q[0],mask:Q[1]},prefix:f,iconName:a,transform:m,symbol:v,maskId:b,title:d,titleId:p,extra:T,watchable:!0})])}).catch(H)})},t.generateAbstractIcon=function(e){var v,r=e.children,a=e.attributes,d=e.main,p=e.transform,m=xb(e.styles);return m.length>0&&(a.style=m),hR(p)&&(v=vl("generateAbstractTransformGrouping",{main:d,transform:p,containerWidth:d.width,iconWidth:d.width})),r.push(v||d.icon),{children:r,attributes:a}}}},wz={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,d=void 0===a?[]:a;return Fb({type:"layer"},function(){td("beforeDOMElementCreation",{assembler:e,params:r});var p=[];return e(function(f){Array.isArray(f)?f.map(function(m){p=p.concat(m.abstract)}):p=p.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(nt.familyPrefix,"-layers")].concat(Tb(d)).join(" ")},children:p}]})}}}},Sz={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,d=void 0===a?null:a,p=r.classes,f=void 0===p?[]:p,m=r.attributes,v=void 0===m?{}:m,C=r.styles,b=void 0===C?{}:C;return Fb({type:"counter",content:e},function(){return td("beforeDOMElementCreation",{content:e,params:r}),nz({content:e.toString(),title:d,extra:{attributes:v,styles:b,classes:["".concat(nt.familyPrefix,"-layers-counter")].concat(Tb(f))}})})}}}},Ez={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,d=void 0===a?ya:a,p=r.title,f=void 0===p?null:p,m=r.classes,v=void 0===m?[]:m,C=r.attributes,b=void 0===C?{}:C,T=r.styles,M=void 0===T?{}:T;return Fb({type:"text",content:e},function(){return td("beforeDOMElementCreation",{content:e,params:r}),KF({content:e,transform:Be(Be({},ya),d),title:f,extra:{attributes:b,styles:M,classes:["".concat(nt.familyPrefix,"-layers-text")].concat(Tb(v))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var a=r.title,d=r.transform,p=r.extra,f=null,m=null;if(SF){var v=parseInt(getComputedStyle(e).fontSize,10),C=e.getBoundingClientRect();f=C.width/v,m=C.height/v}return nt.autoA11y&&!a&&(p.attributes["aria-hidden"]="true"),Promise.resolve([e,KF({content:e.innerHTML,width:f,height:m,transform:d,title:a,extra:p,watchable:!0})])}}},Dz=new RegExp('"',"ug"),oN=[1105920,1112319];function sN(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,a){if(null!==n.getAttribute(e))return r();var p=Eh(n.children).filter(function(st){return st.getAttribute(lR)===t})[0],f=Mc.getComputedStyle(n,t),m=f.getPropertyValue("font-family").match(_$),v=f.getPropertyValue("font-weight"),C=f.getPropertyValue("content");if(p&&!m)return n.removeChild(p),r();if(m&&"none"!==C&&""!==C){var b=f.getPropertyValue("content"),T=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(m[2])?Ab[m[2].toLowerCase()]:y$[v],M=function Tz(n){var t=n.replace(Dz,""),e=function H$(n,t){var a,e=n.length,r=n.charCodeAt(t);return r>=55296&&r<=56319&&e>t+1&&(a=n.charCodeAt(t+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(t,0),r=e>=oN[0]&&e<=oN[1],a=2===t.length&&t[0]===t[1];return{value:mR(a?t[0]:t),isSecondary:r||a}}(b),H=M.value,$=M.isSecondary,Q=m[0].startsWith("FontAwesome"),te=yR(T,H),Y=te;if(Q){var se=function z$(n){var t=BF[n],e=yR("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(H);se.iconName&&se.prefix&&(te=se.iconName,T=se.prefix)}if(!te||$||p&&p.getAttribute(cR)===T&&p.getAttribute(uR)===Y)r();else{n.setAttribute(e,Y),p&&n.removeChild(p);var De=function mz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ya,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Fe=De.extra;Fe.attributes[lR]=t,TR(te,T).then(function(st){var yt=SR(Be(Be({},De),{},{icons:{main:st,mask:{prefix:null,iconName:null,rest:[]}},prefix:T,iconName:Y,extra:Fe,watchable:!0})),Tn=In.createElement("svg");"::before"===t?n.insertBefore(Tn,n.firstChild):n.appendChild(Tn),Tn.outerHTML=yt.map(function(jt){return Xm(jt)}).join("\n"),n.removeAttribute(e),r()}).catch(a)}}else r()})}function Rz(n){return Promise.all([sN(n,"::before"),sN(n,"::after")])}function Az(n){return!(n.parentNode===document.head||~g$.indexOf(n.tagName.toUpperCase())||n.getAttribute(lR)||n.parentNode&&"svg"===n.parentNode.tagName)}function aN(n){if(fl)return new Promise(function(t,e){var r=Eh(n.querySelectorAll("*")).filter(Az).map(Rz),a=AR_begin("searchPseudoElements");eN(),Promise.all(r).then(function(){a(),xR(),t()}).catch(function(){a(),xR(),e()})})}var lN=!1,cN=function(t){return t.toLowerCase().split(" ").reduce(function(r,a){var d=a.toLowerCase().split("-"),p=d[0],f=d.slice(1).join("-");if(p&&"h"===f)return r.flipX=!0,r;if(p&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(p){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},IR={x:0,y:0,width:"100%",height:"100%"};function uN(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}!function q$(n,t){var e=t.mixoutsTo;$F=n,Th={},Object.keys(Rh).forEach(function(r){-1===Y$.indexOf(r)&&delete Rh[r]}),$F.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(p){"function"==typeof a[p]&&(e[p]=a[p]),"object"===Eb(a[p])&&Object.keys(a[p]).forEach(function(f){e[p]||(e[p]={}),e[p][f]=a[p][f]})}),r.hooks){var d=r.hooks();Object.keys(d).forEach(function(p){Th[p]||(Th[p]=[]),Th[p].push(d[p])})}r.provides&&r.provides(Rh)})}([F$,bz,wz,Sz,Ez,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=aN,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node;nt.searchPseudoElements&&aN(void 0===r?In:r)}}},{mixout:function(){return{dom:{unwatch:function(){eN(),lN=!0}}}},hooks:function(){return{bootstrap:function(){tN(bR("mutationObserverCallbacks",{}))},noAuto:function(){!function pz(){!kb||kb.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;lN?xR():tN(bR("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return cN(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-transform");return a&&(e.transform=cN(a)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,a=e.transform,p=e.iconWidth,f={transform:"translate(".concat(e.containerWidth/2," 256)")},m="translate(".concat(32*a.x,", ").concat(32*a.y,") "),v="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),C="rotate(".concat(a.rotate," 0 0)"),M={outer:f,inner:{transform:"".concat(m," ").concat(v," ").concat(C)},path:{transform:"translate(".concat(p/2*-1," -256)")}};return{tag:"g",attributes:Be({},M.outer),children:[{tag:"g",attributes:Be({},M.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Be(Be({},r.icon.attributes),M.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-mask"),d=a?Pb(a.split(" ").map(function(p){return p.trim()})):{prefix:null,iconName:null,rest:[]};return d.prefix||(d.prefix=Fc()),e.mask=d,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,r=e.children,a=e.attributes,d=e.main,p=e.mask,f=e.maskId,C=d.icon,T=p.icon,M=function I$(n){var t=n.transform,r=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},d="translate(".concat(32*t.x,", ").concat(32*t.y,") "),p="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),f="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(d," ").concat(p," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:p.width,iconWidth:d.width}),H={tag:"rect",attributes:Be(Be({},IR),{},{fill:"white"})},$=C.children?{children:C.children.map(uN)}:{},Q={tag:"g",attributes:Be({},M.inner),children:[uN(Be({tag:C.tag,attributes:Be(Be({},C.attributes),M.path)},$))]},te={tag:"g",attributes:Be({},M.outer),children:[Q]},Y="mask-".concat(f||Jm()),se="clip-".concat(f||Jm()),De={tag:"mask",attributes:Be(Be({},IR),{},{id:Y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[H,te]},Fe={tag:"defs",children:[{tag:"clipPath",attributes:{id:se},children:(n=T,"g"===n.tag?n.children:[n])},De]};return r.push(Fe,{tag:"rect",attributes:Be({fill:"currentColor","clip-path":"url(#".concat(se,")"),mask:"url(#".concat(Y,")")},IR)}),{children:r,attributes:a}}}},{provides:function(t){var e=!1;Mc.matchMedia&&(e=Mc.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},d={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Be(Be({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var p=Be(Be({},d),{},{attributeName:"opacity"}),f={tag:"circle",attributes:Be(Be({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||f.children.push({tag:"animate",attributes:Be(Be({},d),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Be(Be({},p),{},{values:"1;0;1;1;0;1;"})}),r.push(f),r.push({tag:"path",attributes:Be(Be({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Be(Be({},p),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:Be(Be({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Be(Be({},p),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-symbol");return e.symbol=null!==a&&(""===a||a),e}}}}],{mixoutsTo:Io});let Gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();class Gb{}const _l="*";function Nc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mo(n,t=null){return{type:4,styles:t,timings:n}}function dN(n,t=null){return{type:2,steps:n,options:t}}function gn(n){return{type:6,styles:n,offset:null}}function Oi(n,t,e){return{type:0,name:n,styles:t,options:e}}function ls(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function pN(n){Promise.resolve(null).then(n)}class tv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class hN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const d=this.players.length;0==d?pN(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++e==d&&this._onFinish()}),p.onDestroy(()=>{++r==d&&this._onDestroy()}),p.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,f)=>Math.max(p,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Lt=!1;function fN(n){return new Ve(3e3,Lt)}function y4(){return"undefined"!=typeof window&&void 0!==window.document}function PR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lc(n){switch(n.length){case 0:return new tv;case 1:return n[0];default:return new hN(n)}}function gN(n,t,e,r,a={},d={}){const p=[],f=[];let m=-1,v=null;if(r.forEach(C=>{const b=C.offset,T=b==m,M=T&&v||{};Object.keys(C).forEach(H=>{let $=H,Q=C[H];if("offset"!==H)switch($=t.normalizePropertyName($,p),Q){case"!":Q=a[H];break;case _l:Q=d[H];break;default:Q=t.normalizeStyleValue(H,$,Q,p)}M[$]=Q}),T||f.push(M),v=M,m=b}),p.length)throw function l4(n){return new Ve(3502,Lt)}();return f}function FR(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&NR(e,"start",n)));break;case"done":n.onDone(()=>r(e&&NR(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&NR(e,"destroy",n)))}}function NR(n,t,e){const r=e.totalTime,d=LR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),p=n._data;return null!=p&&(d._data=p),d}function LR(n,t,e,r,a="",d=0,p){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:d,disabled:!!p}}function Po(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function mN(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let kR=(n,t)=>!1,vN=(n,t,e)=>[],_N=null;function GR(n){const t=n.parentNode||n.host;return t===_N?null:t}(PR()||"undefined"!=typeof Element)&&(y4()?(_N=(()=>document.documentElement)(),kR=(n,t)=>{for(;t;){if(t===n)return!0;t=GR(t)}return!1}):kR=(n,t)=>n.contains(t),vN=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let nd=null,yN=!1;function CN(n){nd||(nd=function b4(){return"undefined"!=typeof document?document.body:null}()||{},yN=!!nd.style&&"WebkitAppearance"in nd.style);let t=!0;return nd.style&&!function C4(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in nd.style,!t&&yN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in nd.style)),t}const bN=kR,wN=vN;let SN=(()=>{class n{validateStyleProperty(e){return CN(e)}matchesElement(e,r){return!1}containsElement(e,r){return bN(e,r)}getParentElement(e){return GR(e)}query(e,r,a){return wN(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,d,p,f=[],m){return new tv(a,d)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),HR=(()=>{class n{}return n.NOOP=new SN,n})();const VR="ng-enter",Vb="ng-leave",Bb="ng-trigger",Wb=".ng-trigger",DN="ng-animating",BR=".ng-animating";function id(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:WR(parseFloat(t[1]),t[2])}function WR(n,t){return"s"===t?1e3*n:n}function jb(n,t,e){return n.hasOwnProperty("duration")?n:function E4(n,t,e){let a,d=0,p="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(fN()),{duration:0,delay:0,easing:""};a=WR(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(d=WR(parseFloat(m),f[4]));const v=f[5];v&&(p=v)}else a=n;if(!e){let f=!1,m=t.length;a<0&&(t.push(function Vz(){return new Ve(3100,Lt)}()),f=!0),d<0&&(t.push(function Bz(){return new Ve(3101,Lt)}()),f=!0),f&&t.splice(m,0,fN())}return{duration:a,delay:d,easing:p}}(n,t,e)}function Ah(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function kc(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Ah(n,e);return e}function RN(n,t,e){return e?t+":"+e+";":""}function AN(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=RN(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=RN(0,R4(e),n.style[e]));n.setAttribute("style",t)}function Ca(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=UR(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),PR()&&AN(n))}function rd(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=UR(e);n.style[r]=""}),PR()&&AN(n))}function nv(n){return Array.isArray(n)?1==n.length?n[0]:dN(n):n}const jR=new RegExp("{{\\s*(.+?)\\s*}}","g");function ON(n){let t=[];if("string"==typeof n){let e;for(;e=jR.exec(n);)t.push(e[1]);jR.lastIndex=0}return t}function Ub(n,t,e){const r=n.toString(),a=r.replace(jR,(d,p)=>{let f=t[p];return t.hasOwnProperty(p)||(e.push(function jz(n){return new Ve(3003,Lt)}()),f=""),f.toString()});return a==r?n:a}function $b(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const T4=/-+([a-z0-9])/g;function UR(n){return n.replace(T4,(...t)=>t[1].toUpperCase())}function R4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Uz(n){return new Ve(3004,Lt)}()}}function xN(n,t){return window.getComputedStyle(n)[t]}function P4(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function F4(n,t,e){if(":"==n[0]){const m=function N4(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function r4(n){return new Ve(3016,Lt)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function i4(n){return new Ve(3015,Lt)}()),t;const a=r[1],d=r[2],p=r[3];t.push(IN(a,p));"<"==d[0]&&!("*"==a&&"*"==p)&&t.push(IN(p,a))}(r,e,t)):e.push(n),e}const qb=new Set(["true","1"]),Qb=new Set(["false","0"]);function IN(n,t){const e=qb.has(n)||Qb.has(n),r=qb.has(t)||Qb.has(t);return(a,d)=>{let p="*"==n||n==a,f="*"==t||t==d;return!p&&e&&"boolean"==typeof a&&(p=a?qb.has(n):Qb.has(n)),!f&&r&&"boolean"==typeof d&&(f=d?qb.has(t):Qb.has(t)),p&&f}}const L4=new RegExp("s*:selfs*,?","g");function $R(n,t,e,r){return new k4(n).build(t,e,r)}class k4{constructor(t){this._driver=t}build(t,e,r){const a=new V4(e);this._resetContextStyleTimingState(a);const d=Fo(this,nv(t),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),d}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const d=[],p=[];return"@"==t.name.charAt(0)&&e.errors.push(function zz(){return new Ve(3006,Lt)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,d.push(this.visitState(m,e))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,e);r+=m.queryCount,a+=m.depCount,p.push(m)}else e.errors.push(function Kz(){return new Ve(3007,Lt)}())}),{type:7,name:t.name,states:d,transitions:p,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const d=new Set,p=a||{};r.styles.forEach(f=>{if(Jb(f)){const m=f;Object.keys(m).forEach(v=>{ON(m[v]).forEach(C=>{p.hasOwnProperty(C)||d.add(C)})})}}),d.size&&($b(d.values()),e.errors.push(function Yz(n,t){return new Ve(3008,Lt)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Fo(this,nv(t.animation),e);return{type:1,matchers:P4(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:od(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Fo(this,r,e)),options:od(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const d=t.steps.map(p=>{e.currentTime=r;const f=Fo(this,p,e);return a=Math.max(a,e.currentTime),f});return e.currentTime=a,{type:3,steps:d,options:od(t.options)}}visitAnimate(t,e){const r=function W4(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return zR(jb(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=zR(0,0,"");return d.dynamic=!0,d.strValue=e,d}const a=jb(e,t);return zR(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,d=t.styles?t.styles:gn({});if(5==d.type)a=this.visitKeyframes(d,e);else{let p=t.styles,f=!1;if(!p){f=!0;const v={};r.easing&&(v.easing=r.easing),p=gn(v)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(p,e);m.isEmptyStep=f,a=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(p=>{"string"==typeof p?p==_l?r.push(p):e.errors.push(function qz(n){return new Ve(3002,Lt)}()):r.push(p)}):r.push(t.styles);let a=!1,d=null;return r.forEach(p=>{if(Jb(p)){const f=p,m=f.easing;if(m&&(d=m,delete f.easing),!a)for(let v in f)if(f[v].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:d,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,d=e.currentTime;r&&d>0&&(d-=r.duration+r.delay),t.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete p[f],void e.unsupportedCSSPropertiesFound.add(f);const m=e.collectedStyles[e.currentQuerySelector],v=m[f];let C=!0;v&&(d!=a&&d>=v.startTime&&a<=v.endTime&&(e.errors.push(function Qz(n,t,e,r,a){return new Ve(3010,Lt)}()),C=!1),d=v.startTime),C&&(m[f]={startTime:d,endTime:a}),e.options&&function D4(n,t,e){const r=t.params||{},a=ON(n);a.length&&a.forEach(d=>{r.hasOwnProperty(d)||e.push(function Wz(n){return new Ve(3001,Lt)}())})}(p[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Jz(){return new Ve(3011,Lt)}()),r;let d=0;const p=[];let f=!1,m=!1,v=0;const C=t.steps.map(te=>{const Y=this._makeStyleAst(te,e);let se=null!=Y.offset?Y.offset:function B4(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Jb(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Jb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Y.styles),De=0;return null!=se&&(d++,De=Y.offset=se),m=m||De<0||De>1,f=f||De<v,v=De,p.push(De),Y});m&&e.errors.push(function Xz(){return new Ve(3012,Lt)}()),f&&e.errors.push(function Zz(){return new Ve(3200,Lt)}());const b=t.steps.length;let T=0;d>0&&d<b?e.errors.push(function e4(){return new Ve(3202,Lt)}()):0==d&&(T=1/(b-1));const M=b-1,H=e.currentTime,$=e.currentAnimateTimings,Q=$.duration;return C.forEach((te,Y)=>{const se=T>0?Y==M?1:T*Y:p[Y],De=se*Q;e.currentTime=H+$.delay+De,$.duration=De,this._validateStyleAst(te,e),te.offset=se,r.styles.push(te)}),r}visitReference(t,e){return{type:8,animation:Fo(this,nv(t.animation),e),options:od(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:od(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:od(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[d,p]=function G4(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(L4,"")),n=n.replace(/@\*/g,Wb).replace(/@\w+/g,e=>Wb+"-"+e.substr(1)).replace(/:animating/g,BR),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+d:d,Po(e.collectedStyles,e.currentQuerySelector,{});const f=Fo(this,nv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:f,originalSelector:t.selector,options:od(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function t4(){return new Ve(3013,Lt)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:jb(t.timings,e.errors,!0);return{type:12,animation:Fo(this,nv(t.animation),e),timings:r,options:null}}}class V4{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jb(n){return!Array.isArray(n)&&"object"==typeof n}function od(n){return n?(n=Ah(n)).params&&(n.params=function H4(n){return n?Ah(n):null}(n.params)):n={},n}function zR(n,t,e){return{duration:n,delay:t,easing:e}}function KR(n,t,e,r,a,d,p=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:d,totalTime:a+d,easing:p,subTimeline:f}}class Xb{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $4=new RegExp(":enter","g"),K4=new RegExp(":leave","g");function YR(n,t,e,r,a,d={},p={},f,m,v=[]){return(new Y4).buildKeyframes(n,t,e,r,a,d,p,f,m,v)}class Y4{buildKeyframes(t,e,r,a,d,p,f,m,v,C=[]){v=v||new Xb;const b=new qR(t,e,v,a,d,C,[]);b.options=m,b.currentTimeline.setStyles([p],null,b.errors,m),Fo(this,r,b);const T=b.timelines.filter(M=>M.containsAnimation());if(Object.keys(f).length){let M;for(let H=T.length-1;H>=0;H--){const $=T[H];if($.element===e){M=$;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([f],null,b.errors,m)}return T.length?T.map(M=>M.buildKeyframes()):[KR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),d=e.currentTimeline.currentTime,p=this._visitSubInstructions(r,a,a.options);d!=p&&e.transformIntoNewTimeline(p)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let d=e.currentTimeline.currentTime;const p=null!=r.duration?id(r.duration):null,f=null!=r.delay?id(r.delay):null;return 0!==p&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,p,f);d=Math.max(d,v.duration+v.delay)}),d}visitReference(t,e){e.updateOptions(t.options,!0),Fo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const d=t.options;if(d&&(d.params||d.delay)&&(a=e.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Zb);const p=id(d.delay);a.delayNextStep(p)}t.steps.length&&(t.steps.forEach(p=>Fo(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const d=t.options&&t.options.delay?id(t.options.delay):0;t.steps.forEach(p=>{const f=e.createSubContext(t.options);d&&f.delayNextStep(d),Fo(this,p,f),a=Math.max(a,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return jb(e.params?Ub(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const d=t.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(r.duration),this.visitStyle(d,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const d=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(d):r.setStyles(t.styles,d,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,d=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*d),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(a+d),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},d=a.delay?id(a.delay):0;d&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zb);let p=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((v,C)=>{e.currentQueryIndex=C;const b=e.createSubContext(t.options,v);d&&b.delayNextStep(d),v===e.element&&(m=b.currentTimeline),Fo(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,b.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,d=t.timings,p=Math.abs(d.duration),f=p*(e.currentQueryTotal-1);let m=p*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const C=e.currentTimeline;m&&C.delayNextStep(m);const b=C.currentTime;Fo(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-b+(a.startTime-r.currentTimeline.startTime)}}const Zb={};class qR{constructor(t,e,r,a,d,p,f,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=d,this.errors=p,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new ew(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=id(r.duration)),null!=r.delay&&(a.delay=id(r.delay));const d=r.params;if(d){let p=a.params;p||(p=this.options.params={}),Object.keys(d).forEach(f=>{(!e||!p.hasOwnProperty(f))&&(p[f]=Ub(d[f],p,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,d=new qR(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(t),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(t){return this.previousNode=Zb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},d=new q4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,d,p){let f=[];if(a&&f.push(this.element),t.length>0){t=(t=t.replace($4,"."+this._enterClassName)).replace(K4,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!d&&0==f.length&&p.push(function n4(n){return new Ve(3014,Lt)}()),f}}class ew{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ew(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||_l,this._currentKeyframe[e]=_l}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const d=a&&a.params||{},p=function Q4(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(d=>{e[d]=_l})):kc(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(p).forEach(f=>{const m=Ub(p[f],d,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:_l),this._updateStyle(f,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((f,m)=>{const v=kc(f,!0);Object.keys(v).forEach(C=>{const b=v[C];"!"==b?t.add(C):b==_l&&e.add(C)}),r||(v.offset=m/this.duration),a.push(v)});const d=t.size?$b(t.values()):[],p=e.size?$b(e.values()):[];if(r){const f=a[0],m=Ah(f);f.offset=0,m.offset=1,a=[f,m]}return KR(this.element,a,d,p,this.duration,this.startTime,this.easing,!1)}}class q4 extends ew{constructor(t,e,r,a,d,p,f=!1){super(t,e,p.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=f,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],p=r+e,f=e/p,m=kc(t[0],!1);m.offset=0,d.push(m);const v=kc(t[0],!1);v.offset=FN(f),d.push(v);const C=t.length-1;for(let b=1;b<=C;b++){let T=kc(t[b],!1);T.offset=FN((e+T.offset*r)/p),d.push(T)}r=p,e=0,a="",t=d}return KR(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function FN(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class QR{}class J4 extends QR{normalizePropertyName(t,e){return UR(t)}normalizeStyleValue(t,e,r,a){let d="";const p=r.toString().trim();if(X4[e]&&0!==r&&"0"!==r)if("number"==typeof r)d="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&a.push(function $z(n,t){return new Ve(3005,Lt)}())}return p+d}}const X4=(()=>function Z4(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NN(n,t,e,r,a,d,p,f,m,v,C,b,T){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:d,toState:r,toStyles:p,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:b,errors:T}}const JR={};class LN{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function e5(n,t,e,r,a){return n.some(d=>d(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],d=this._stateStyles[t],p=a?a.buildStyles(e,r):{};return d?d.buildStyles(e,r):p}build(t,e,r,a,d,p,f,m,v,C){const b=[],T=this.ast.options&&this.ast.options.params||JR,H=this.buildStyles(r,f&&f.params||JR,b),$=m&&m.params||JR,Q=this.buildStyles(a,$,b),te=new Set,Y=new Map,se=new Map,De="void"===a,Fe={params:Object.assign(Object.assign({},T),$)},st=C?[]:YR(t,e,this.ast.animation,d,p,H,Q,Fe,v,b);let yt=0;if(st.forEach(jt=>{yt=Math.max(jt.duration+jt.delay,yt)}),b.length)return NN(e,this._triggerName,r,a,De,H,Q,[],[],Y,se,yt,b);st.forEach(jt=>{const jn=jt.element,Tl=Po(Y,jn,{});jt.preStyleProps.forEach(uo=>Tl[uo]=!0);const ps=Po(se,jn,{});jt.postStyleProps.forEach(uo=>ps[uo]=!0),jn!==e&&te.add(jn)});const Tn=$b(te.values());return NN(e,this._triggerName,r,a,De,H,Q,st,Tn,Y,se,yt)}}class t5{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=Ah(this.defaultParams);return Object.keys(t).forEach(d=>{const p=t[d];null!=p&&(a[d]=p)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const p=d;Object.keys(p).forEach(f=>{let m=p[f];m.length>1&&(m=Ub(m,a,e));const v=this.normalizer.normalizePropertyName(f,e);m=this.normalizer.normalizeStyleValue(f,v,m,e),r[v]=m})}}),r}}class r5{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new t5(a.style,a.options&&a.options.params||{},r)}),kN(this.states,"true","1"),kN(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new LN(t,a,this.states))}),this.fallbackTransition=function o5(n,t,e){return new LN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(p=>p.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function kN(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const s5=new Xb;class a5{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],d=$R(this._driver,e,r,[]);if(r.length)throw function c4(n){return new Ve(3503,Lt)}();this._animations[t]=d}_buildPlayer(t,e,r){const a=t.element,d=gN(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,d,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],d=this._animations[t];let p;const f=new Map;if(d?(p=YR(this._driver,e,d,VR,Vb,{},{},r,s5,a),p.forEach(C=>{const b=Po(f,C.element,{});C.postStyleProps.forEach(T=>b[T]=null)})):(a.push(function u4(){return new Ve(3300,Lt)}()),p=[]),a.length)throw function d4(n){return new Ve(3504,Lt)}();f.forEach((C,b)=>{Object.keys(C).forEach(T=>{C[T]=this._driver.computeStyle(b,T,_l)})});const v=Lc(p.map(C=>{const b=f.get(C.element);return this._buildPlayer(C,{},b)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function p4(n){return new Ve(3301,Lt)}();return e}listen(t,e,r,a){const d=LR(e,"","","");return FR(this._getPlayer(t),r,d,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const d=this._getPlayer(t);switch(r){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const GN="ng-animate-queued",XR="ng-animate-disabled",p5=[],HN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},h5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cs="__ng_removed";class ZR{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function v5(n){return null!=n?n:null}(r?t.value:t),r){const d=Ah(t);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const iv="void",eA=new ZR(iv);class f5{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,us(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw function h4(n,t){return new Ve(3302,Lt)}();if(null==r||0==r.length)throw function f4(n){return new Ve(3303,Lt)}();if(!function _5(n){return"start"==n||"done"==n}(r))throw function g4(n,t){return new Ve(3400,Lt)}();const d=Po(this._elementListeners,t,[]),p={name:e,phase:r,callback:a};d.push(p);const f=Po(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(us(t,Bb),us(t,Bb+"-"+e),f[e]=eA),()=>{this._engine.afterFlush(()=>{const m=d.indexOf(p);m>=0&&d.splice(m,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function m4(n){return new Ve(3401,Lt)}();return e}trigger(t,e,r,a=!0){const d=this._getTrigger(e),p=new tA(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(us(t,Bb),us(t,Bb+"-"+e),this._engine.statesByElement.set(t,f={}));let m=f[e];const v=new ZR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f[e]=v,m||(m=eA),v.value!==iv&&m.value===v.value){if(!function b5(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const d=e[a];if(!t.hasOwnProperty(d)||n[d]!==t[d])return!1}return!0}(m.params,v.params)){const $=[],Q=d.matchStyles(m.value,m.params,$),te=d.matchStyles(v.value,v.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{rd(t,Q),Ca(t,te)})}return}const T=Po(this._engine.playersByElement,t,[]);T.forEach($=>{$.namespaceId==this.id&&$.triggerName==e&&$.queued&&$.destroy()});let M=d.matchTransition(m.value,v.value,t,v.params),H=!1;if(!M){if(!a)return;M=d.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:m,toState:v,player:p,isFallbackTransition:H}),H||(us(t,GN),p.onStart(()=>{Oh(t,GN)})),p.onDone(()=>{let $=this.players.indexOf(p);$>=0&&this.players.splice($,1);const Q=this._engine.playersByElement.get(t);if(Q){let te=Q.indexOf(p);te>=0&&Q.splice(te,1)}}),this.players.push(p),T.push(p),p}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Wb,!0);r.forEach(a=>{if(a[cs])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(p=>p.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const d=this._engine.statesByElement.get(t),p=new Map;if(d){const f=[];if(Object.keys(d).forEach(m=>{if(p.set(m,d[m].value),this._triggers[m]){const v=this.trigger(t,m,iv,a);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,p),r&&Lc(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(d=>{const p=d.name;if(a.has(p))return;a.add(p);const m=this._triggers[p].fallbackTransition,v=r[p]||eA,C=new ZR(iv),b=new tA(this.id,p,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:p,transition:m,fromState:v,toState:C,player:b,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const d=r.players.length?r.playersByQueriedElement.get(t):[];if(d&&d.length)a=!0;else{let p=t;for(;p=p.parentNode;)if(r.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const d=t[cs];(!d||d===HN)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){us(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const d=r.element,p=this._elementListeners.get(d);p&&p.forEach(f=>{if(f.name==r.triggerName){const m=LR(d,r.triggerName,r.fromState.value,r.toState.value);m._data=t,FR(r.player,f.phase,m,f.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const d=r.transition.ast.depCount,p=a.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class g5{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new f5(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement,d=r.length-1;if(d>=0){let p=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const m=a.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,t),p=!0;break}f=this.driver.getParentElement(f)}}else for(let f=d;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,e)){r.splice(f+1,0,t),p=!0;break}p||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let d=0;d<a.length;d++){const p=r[a[d]].namespaceId;if(p){const f=this._fetchNamespace(p);f&&e.add(f)}}}return e}trigger(t,e,r,a){if(tw(e)){const d=this._fetchNamespace(t);if(d)return d.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!tw(e))return;const d=e[cs];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(t){const p=this._fetchNamespace(t);p&&p.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),us(t,XR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Oh(t,XR))}removeNode(t,e,r,a){if(tw(e)){const d=t?this._fetchNamespace(t):null;if(d?d.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const p=this.namespacesByHostElement.get(e);p&&p.id!==t&&p.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,d){this.collectedLeaveElements.push(e),e[cs]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:d}}listen(t,e,r,a,d){return tw(e)?this._fetchNamespace(t).listen(e,r,a,d):()=>{}}_buildInstruction(t,e,r,a,d){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,d)}destroyInnerAnimations(t){let e=this.driver.query(t,Wb,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BR,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lc(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[cs];if(r&&r.setForRemoval){if(t[cs]=HN,r.namespaceId){this.destroyInnerAnimations(t);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(XR))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)us(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Lc(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function v4(n){return new Ve(3402,Lt)}()}_flushAnimations(t,e){const r=new Xb,a=[],d=new Map,p=[],f=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(He=>{C.add(He);const Ye=this.driver.query(He,".ng-animate-queued",!0);for(let at=0;at<Ye.length;at++)C.add(Ye[at])});const b=this.bodyNode,T=Array.from(this.statesByElement.keys()),M=WN(T,this.collectedEnterElements),H=new Map;let $=0;M.forEach((He,Ye)=>{const at=VR+$++;H.set(Ye,at),He.forEach(Kt=>us(Kt,at))});const Q=[],te=new Set,Y=new Set;for(let He=0;He<this.collectedLeaveElements.length;He++){const Ye=this.collectedLeaveElements[He],at=Ye[cs];at&&at.setForRemoval&&(Q.push(Ye),te.add(Ye),at.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(Kt=>te.add(Kt)):Y.add(Ye))}const se=new Map,De=WN(T,Array.from(te));De.forEach((He,Ye)=>{const at=Vb+$++;se.set(Ye,at),He.forEach(Kt=>us(Kt,at))}),t.push(()=>{M.forEach((He,Ye)=>{const at=H.get(Ye);He.forEach(Kt=>Oh(Kt,at))}),De.forEach((He,Ye)=>{const at=se.get(Ye);He.forEach(Kt=>Oh(Kt,at))}),Q.forEach(He=>{this.processLeaveNode(He)})});const Fe=[],st=[];for(let He=this._namespaceList.length-1;He>=0;He--)this._namespaceList[He].drainQueuedTransitions(e).forEach(at=>{const Kt=at.player,Zi=at.element;if(Fe.push(Kt),this.collectedEnterElements.length){const Ur=Zi[cs];if(Ur&&Ur.setForMove){if(Ur.previousTriggersValues&&Ur.previousTriggersValues.has(at.triggerName)){const Ed=Ur.previousTriggersValues.get(at.triggerName),Qc=this.statesByElement.get(at.element);Qc&&Qc[at.triggerName]&&(Qc[at.triggerName].value=Ed)}return void Kt.destroy()}}const Ra=!b||!this.driver.containsElement(b,Zi),Bo=se.get(Zi),qc=H.get(Zi),Un=this._buildInstruction(at,r,qc,Bo,Ra);if(Un.errors&&Un.errors.length)return void st.push(Un);if(Ra)return Kt.onStart(()=>rd(Zi,Un.fromStyles)),Kt.onDestroy(()=>Ca(Zi,Un.toStyles)),void a.push(Kt);if(at.isFallbackTransition)return Kt.onStart(()=>rd(Zi,Un.fromStyles)),Kt.onDestroy(()=>Ca(Zi,Un.toStyles)),void a.push(Kt);const MH=[];Un.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||MH.push(Ur)}),Un.timelines=MH,r.append(Zi,Un.timelines),p.push({instruction:Un,player:Kt,element:Zi}),Un.queriedElements.forEach(Ur=>Po(f,Ur,[]).push(Kt)),Un.preStyleProps.forEach((Ur,Ed)=>{const Qc=Object.keys(Ur);if(Qc.length){let Dd=m.get(Ed);Dd||m.set(Ed,Dd=new Set),Qc.forEach(px=>Dd.add(px))}}),Un.postStyleProps.forEach((Ur,Ed)=>{const Qc=Object.keys(Ur);let Dd=v.get(Ed);Dd||v.set(Ed,Dd=new Set),Qc.forEach(px=>Dd.add(px))})});if(st.length){const He=[];st.forEach(Ye=>{He.push(function _4(n,t){return new Ve(3505,Lt)}())}),Fe.forEach(Ye=>Ye.destroy()),this.reportError(He)}const yt=new Map,Tn=new Map;p.forEach(He=>{const Ye=He.element;r.has(Ye)&&(Tn.set(Ye,Ye),this._beforeAnimationBuild(He.player.namespaceId,He.instruction,yt))}),a.forEach(He=>{const Ye=He.element;this._getPreviousPlayers(Ye,!1,He.namespaceId,He.triggerName,null).forEach(Kt=>{Po(yt,Ye,[]).push(Kt),Kt.destroy()})});const jt=Q.filter(He=>UN(He,m,v)),jn=new Map;BN(jn,this.driver,Y,v,_l).forEach(He=>{UN(He,m,v)&&jt.push(He)});const ps=new Map;M.forEach((He,Ye)=>{BN(ps,this.driver,new Set(He),m,"!")}),jt.forEach(He=>{const Ye=jn.get(He),at=ps.get(He);jn.set(He,Object.assign(Object.assign({},Ye),at))});const uo=[],Rl=[],Al={};p.forEach(He=>{const{element:Ye,player:at,instruction:Kt}=He;if(r.has(Ye)){if(C.has(Ye))return at.onDestroy(()=>Ca(Ye,Kt.toStyles)),at.disabled=!0,at.overrideTotalTime(Kt.totalTime),void a.push(at);let Zi=Al;if(Tn.size>1){let Bo=Ye;const qc=[];for(;Bo=Bo.parentNode;){const Un=Tn.get(Bo);if(Un){Zi=Un;break}qc.push(Bo)}qc.forEach(Un=>Tn.set(Un,Zi))}const Ra=this._buildAnimation(at.namespaceId,Kt,yt,d,ps,jn);if(at.setRealPlayer(Ra),Zi===Al)uo.push(at);else{const Bo=this.playersByElement.get(Zi);Bo&&Bo.length&&(at.parentPlayer=Lc(Bo)),a.push(at)}}else rd(Ye,Kt.fromStyles),at.onDestroy(()=>Ca(Ye,Kt.toStyles)),Rl.push(at),C.has(Ye)&&a.push(at)}),Rl.forEach(He=>{const Ye=d.get(He.element);if(Ye&&Ye.length){const at=Lc(Ye);He.setRealPlayer(at)}}),a.forEach(He=>{He.parentPlayer?He.syncPlayerEvents(He.parentPlayer):He.destroy()});for(let He=0;He<Q.length;He++){const Ye=Q[He],at=Ye[cs];if(Oh(Ye,Vb),at&&at.hasAnimation)continue;let Kt=[];if(f.size){let Ra=f.get(Ye);Ra&&Ra.length&&Kt.push(...Ra);let Bo=this.driver.query(Ye,BR,!0);for(let qc=0;qc<Bo.length;qc++){let Un=f.get(Bo[qc]);Un&&Un.length&&Kt.push(...Un)}}const Zi=Kt.filter(Ra=>!Ra.destroyed);Zi.length?y5(this,Ye,Zi):this.processLeaveNode(Ye)}return Q.length=0,uo.forEach(He=>{this.players.push(He),He.onDone(()=>{He.destroy();const Ye=this.players.indexOf(He);this.players.splice(Ye,1)}),He.play()}),uo}elementContainsData(t,e){let r=!1;const a=e[cs];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,d){let p=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(p=f)}else{const f=this.playersByElement.get(t);if(f){const m=!d||d==iv;f.forEach(v=>{v.queued||!m&&v.triggerName!=a||p.push(v)})}}return(r||a)&&(p=p.filter(f=>!(r&&r!=f.namespaceId||a&&a!=f.triggerName))),p}_beforeAnimationBuild(t,e,r){const d=e.element,p=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,C=v!==d,b=Po(r,v,[]);this._getPreviousPlayers(v,C,p,f,e.toState).forEach(M=>{const H=M.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),M.destroy(),b.push(M)})}rd(d,e.fromStyles)}_buildAnimation(t,e,r,a,d,p){const f=e.triggerName,m=e.element,v=[],C=new Set,b=new Set,T=e.timelines.map(H=>{const $=H.element;C.add($);const Q=$[cs];if(Q&&Q.removedBeforeQueried)return new tv(H.duration,H.delay);const te=$!==m,Y=function C5(n){const t=[];return jN(n,t),t}((r.get($)||p5).map(yt=>yt.getRealPlayer())).filter(yt=>!!yt.element&&yt.element===$),se=d.get($),De=p.get($),Fe=gN(0,this._normalizer,0,H.keyframes,se,De),st=this._buildPlayer(H,Fe,Y);if(H.subTimeline&&a&&b.add($),te){const yt=new tA(t,f,$);yt.setRealPlayer(st),v.push(yt)}return st});v.forEach(H=>{Po(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function m5(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,H.element,H))}),C.forEach(H=>us(H,DN));const M=Lc(T);return M.onDestroy(()=>{C.forEach(H=>Oh(H,DN)),Ca(m,e.toStyles)}),b.forEach(H=>{Po(a,H,[]).push(M)}),M}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new tv(t.duration,t.delay)}}class tA{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new tv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>FR(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Po(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function tw(n){return n&&1===n.nodeType}function VN(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function BN(n,t,e,r,a){const d=[];e.forEach(m=>d.push(VN(m)));const p=[];r.forEach((m,v)=>{const C={};m.forEach(b=>{const T=C[b]=t.computeStyle(v,b,a);(!T||0==T.length)&&(v[cs]=h5,p.push(v))}),n.set(v,C)});let f=0;return e.forEach(m=>VN(m,d[f++])),p}function WN(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const a=new Set(t),d=new Map;function p(f){if(!f)return 1;let m=d.get(f);if(m)return m;const v=f.parentNode;return m=e.has(v)?v:a.has(v)?1:p(v),d.set(f,m),m}return t.forEach(f=>{const m=p(f);1!==m&&e.get(m).push(f)}),e}function us(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Oh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function y5(n,t,e){Lc(e).onDone(()=>n.processLeaveNode(t))}function jN(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof hN?jN(r.players,t):t.push(r)}}function UN(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(d=>a.add(d)):t.set(n,r),e.delete(n),!0}class nw{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new g5(t,e,r),this._timelineEngine=new a5(t,e,r),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(t,e,r,a,d){const p=t+"-"+a;let f=this._triggerCache[p];if(!f){const m=[],C=$R(this._driver,d,m,[]);if(m.length)throw function a4(n,t){return new Ve(3404,Lt)}();f=function n5(n,t,e){return new r5(n,t,e)}(a,C,this._normalizer),this._triggerCache[p]=f}this._transitionEngine.registerTrigger(e,a,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[d,p]=mN(r);this._timelineEngine.command(d,e,p,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,d){if("@"==r.charAt(0)){const[p,f]=mN(r);return this._timelineEngine.listen(p,e,f,d)}return this._transitionEngine.listen(t,e,r,a,d)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let S5=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let d=n.initialStylesByElement.get(e);d||n.initialStylesByElement.set(e,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ca(this._element,this._initialStyles),this._endStyles&&(Ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),Ca(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nA(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];E5(a)&&(t=t||{},t[a]=n[a])}return t}function E5(n){return"display"===n||"position"===n}class $N{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:xN(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class D5{validateStyleProperty(t){return CN(t)}matchesElement(t,e){return!1}containsElement(t,e){return bN(t,e)}getParentElement(t){return GR(t)}query(t,e,r){return wN(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,d,p=[]){const m={duration:r,delay:a,fill:0==a?"both":"forwards"};d&&(m.easing=d);const v={},C=p.filter(T=>T instanceof $N);(function A4(n,t){return 0===n||0===t})(r,a)&&C.forEach(T=>{let M=T.currentSnapshot;Object.keys(M).forEach(H=>v[H]=M[H])}),e=function O4(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let d=t[0],p=[];if(r.forEach(f=>{d.hasOwnProperty(f)||p.push(f),d[f]=e[f]}),p.length)for(var a=1;a<t.length;a++){let f=t[a];p.forEach(function(m){f[m]=xN(n,m)})}}return t}(t,e=e.map(T=>kc(T,!1)),v);const b=function w5(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=nA(t[0]),t.length>1&&(r=nA(t[t.length-1]))):t&&(e=nA(t)),e||r?new S5(n,e,r):null}(t,e);return new $N(t,e,m,b)}}let T5=(()=>{class n extends Gb{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:Kr.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?dN(e):e;return zN(this._renderer,null,r,"register",[a]),new R5(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(K(Tc),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class R5 extends class Hz{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new A5(this._id,t,e||{},this._renderer)}}class A5{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zN(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zN(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const KN="@.disabled";let O5=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(d,p)=>{const f=null==p?void 0:p.parentNode(d);f&&p.removeChild(f,d)}}createRenderer(e,r){const d=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(d);return C||(C=new YN("",d,this.engine),this._rendererCache.set(d,C)),C}const p=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(p,f,e,C.name,C)};return r.data.animation.forEach(m),new x5(this,f,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,f]=d;p(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(K(Tc),K(nw),K(et))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class YN{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==KN?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class x5 extends YN{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==KN?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function I5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let d=e.substr(1),p="";return"@"!=d.charAt(0)&&([d,p]=function M5(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(d)),this.engine.listen(this.namespaceId,a,d,p,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let P5=(()=>{class n extends nw{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(HR),K(QR))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const yi=new Ee("AnimationModuleType"),qN=[{provide:Gb,useClass:T5},{provide:QR,useFactory:function F5(){return new J4}},{provide:nw,useClass:P5},{provide:Tc,useFactory:function N5(n,t,e){return new O5(n,t,e)},deps:[ub,nw,et]}],QN=[{provide:HR,useFactory:()=>new D5},{provide:yi,useValue:"BrowserAnimations"},...qN],L5=[{provide:HR,useClass:SN},{provide:yi,useValue:"NoopAnimations"},...qN];let k5=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?L5:QN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:QN,imports:[t1]}),n})();const JN=["toast-component",""];function G5(n,t){if(1&n){const e=le();S(0,"button",5),U("click",function(){return J(e),L().remove()}),S(1,"span",6),F(2,"\xd7"),E()()}}function H5(n,t){if(1&n&&(gi(0),F(1),mi()),2&n){const e=L(2);D(1),_t("[",e.duplicatesCount+1,"]")}}function V5(n,t){if(1&n&&(S(0,"div"),F(1),V(2,H5,2,1,"ng-container",4),E()),2&n){const e=L();cn(e.options.titleClass),rt("aria-label",e.title),D(1),_t(" ",e.title," "),D(1),I("ngIf",e.duplicatesCount)}}function B5(n,t){if(1&n&&X(0,"div",7),2&n){const e=L();cn(e.options.messageClass),I("innerHTML",e.message,Ss)}}function W5(n,t){if(1&n&&(S(0,"div",8),F(1),E()),2&n){const e=L();cn(e.options.messageClass),rt("aria-label",e.message),D(1),_t(" ",e.message," ")}}function j5(n,t){if(1&n&&(S(0,"div"),X(1,"div",9),E()),2&n){const e=L();D(1),ln("width",e.width+"%")}}function U5(n,t){if(1&n){const e=le();S(0,"button",5),U("click",function(){return J(e),L().remove()}),S(1,"span",6),F(2,"\xd7"),E()()}}function $5(n,t){if(1&n&&(gi(0),F(1),mi()),2&n){const e=L(2);D(1),_t("[",e.duplicatesCount+1,"]")}}function z5(n,t){if(1&n&&(S(0,"div"),F(1),V(2,$5,2,1,"ng-container",4),E()),2&n){const e=L();cn(e.options.titleClass),rt("aria-label",e.title),D(1),_t(" ",e.title," "),D(1),I("ngIf",e.duplicatesCount)}}function K5(n,t){if(1&n&&X(0,"div",7),2&n){const e=L();cn(e.options.messageClass),I("innerHTML",e.message,Ss)}}function Y5(n,t){if(1&n&&(S(0,"div",8),F(1),E()),2&n){const e=L();cn(e.options.messageClass),rt("aria-label",e.message),D(1),_t(" ",e.message," ")}}function q5(n,t){if(1&n&&(S(0,"div"),X(1,"div",9),E()),2&n){const e=L();D(1),ln("width",e.width+"%")}}class rw{constructor(t,e,r,a,d,p){this.toastId=t,this.config=e,this.message=r,this.title=a,this.toastType=d,this.toastRef=p,this._onTap=new pe,this._onAction=new pe,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const iA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},rv=new Ee("ToastConfig");class Q5{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class X5 extends class J5{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let a;return a=r.create(t.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let XN=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({factory:function(){return new n(K(Xe))},token:n,providedIn:"root"}),n})();class Z5{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let ZN=(()=>{class n{constructor(e,r,a,d){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=a,this._document=d,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new X5(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Z5(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(K(XN),K(Oo),K(Ac),K(Xe))},n.\u0275prov=_e({factory:function(){return new n(K(XN),K(Oo),K(Ac),K(Xe))},token:n,providedIn:"root"}),n})();class e6{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new pe,this._activate=new pe,this._manualClose=new pe,this._resetTimeout=new pe,this._countDuplicate=new pe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class t6{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,r){return t===rw?this._toastPackage:this._parentInjector.get(t,e,r)}}let rA=(()=>{class n{constructor(e,r,a,d,p){this.overlay=r,this._injector=a,this.sanitizer=d,this.ngZone=p,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,r,a={},d=""){return this._preBuildNotification(d,e,r,this.applyConfig(a))}success(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(a))}error(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(a))}info(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(a))}warning(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(a))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",r="",a,d){const{includeTitleDuplicates:p}=this.toastrConfig;for(const f of this.toasts){const m=p&&f.title===e;if((!p||m)&&f.message===r)return f.toastRef.onDuplicate(a,d),f}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,a,d){return d.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,a,d)):this._buildNotification(e,r,a,d)}_buildNotification(e,r,a,d){if(!d.toastComponent)throw new Error("toastComponent required");const p=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&d.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==p)return p;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(d.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&d.enableHtml&&(v=this.sanitizer.sanitize(Vt.HTML,r));const C=new e6(m),b=new rw(this.index,d,v,a,e,C),T=new t6(b,this._injector),M=new Q5(d.toastComponent,T),H=m.attach(M,this.toastrConfig.newestOnTop);C.componentInstance=H.instance;const $={toastId:this.index,title:a||"",message:r||"",toastRef:C,onShown:C.afterActivate(),onHidden:C.afterClosed(),onTap:b.onTap(),onAction:b.onAction(),portal:H};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$.toastRef.activate()})),this.toasts.push($),$}}return n.\u0275fac=function(e){return new(e||n)(K(rv),K(ZN),K(qt),K(bh),K(et))},n.\u0275prov=_e({factory:function(){return new n(K(rv),K(ZN),K(Ao),K(bh),K(et))},token:n,providedIn:"root"}),n})(),n6=(()=>{class n{constructor(e,r,a){this.toastrService=e,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(R(rA),R(rw),R(et))},n.\u0275cmp=Ce({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&U("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(FC("@flyInOut",r.state),cn(r.toastClasses),ln("display",r.displayStyle))},attrs:JN,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,r){1&e&&(V(0,G5,3,0,"button",0),V(1,V5,3,5,"div",1),V(2,B5,1,3,"div",2),V(3,W5,2,4,"div",3),V(4,j5,2,2,"div",4)),2&e&&(I("ngIf",r.options.closeButton),D(1),I("ngIf",r.title),D(1),I("ngIf",r.message&&r.options.enableHtml),D(1),I("ngIf",r.message&&!r.options.enableHtml),D(1),I("ngIf",r.options.progressBar))},directives:[ut],encapsulation:2,data:{animation:[Nc("flyInOut",[Oi("inactive",gn({opacity:0})),Oi("active",gn({opacity:1})),Oi("removed",gn({opacity:0})),ls("inactive => active",Mo("{{ easeTime }}ms {{ easing }}")),ls("active => removed",Mo("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const i6=Object.assign(Object.assign({},iA),{toastComponent:n6});let eL=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:rv,useValue:{default:i6,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})(),r6=(()=>{class n{constructor(e,r,a){this.toastrService=e,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(e){return new(e||n)(R(rA),R(rw),R(Ac))},n.\u0275cmp=Ce({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,r){1&e&&U("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(cn(r.toastClasses),ln("display",r.displayStyle))},attrs:JN,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,r){1&e&&(V(0,U5,3,0,"button",0),V(1,z5,3,5,"div",1),V(2,K5,1,3,"div",2),V(3,Y5,2,4,"div",3),V(4,q5,2,2,"div",4)),2&e&&(I("ngIf",r.options.closeButton),D(1),I("ngIf",r.title),D(1),I("ngIf",r.message&&r.options.enableHtml),D(1),I("ngIf",r.message&&!r.options.enableHtml),D(1),I("ngIf",r.options.progressBar))},directives:[ut],encapsulation:2}),n})();Object.assign(Object.assign({},iA),{toastComponent:r6});class s6{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const a6={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function oA(n,t=a6){const e=(n||"").trim();if(0===e.length)return[];const r=e.split(/\s+/).map(d=>d.split(":")).map(d=>{const p=t[d[0]]||d;return new s6(p[0],p[1])}),a=r.filter(d=>d.isManual());if(a.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===a.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const kn="undefined"!=typeof window&&window||{};var ow=(()=>{return(n=ow||(ow={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",ow;var n})();let No;function sA(){if(void 0===kn.document)return"bs4";const n=kn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),kn.document.head.appendChild(n);const t=n.getBoundingClientRect(),e=kn.getComputedStyle(n).paddingLeft;return!t||t&&0!==t.top?(kn.document.head.removeChild(n),"bs3"):e&&parseFloat(e)?(kn.document.head.removeChild(n),"bs4"):(kn.document.head.removeChild(n),"bs5")}function yl(){return void 0===kn||(void 0===kn.__theme?(No||(No=sA()),"bs3"===No):"bs3"===kn.__theme)}function tL(){return!yl()&&(No||(No=sA()),"bs4"===No)}function xh(){return{isBs3:yl(),isBs4:tL(),isBs5:!yl()&&!tL()&&(No||(No=sA()),"bs5"===No)}}function h6(){const n="Change";return function(e,r){const a=` __${r}Value`;Object.defineProperty(e,r,{get(){return this[a]},set(d){const p=this[a];this[a]=d,p!==d&&this[r+n]&&this[r+n].emit(d)}})}}const nL={},g6="undefined"==typeof console||!("warn"in console);function Lo(n){!pP()||g6||n in nL||(nL[n]=!0,console.warn(n))}let aA,m6=(()=>{class n{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(a=>a!==e);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(e),e._enable()}deregister(e){e._disable();const r=this._focusTrapStack,a=r.indexOf(e);-1!==a&&(r.splice(a,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{aA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){aA=!1}let iL=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?A0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(K(_h))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rL=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function _6(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function v6(n){try{return n.frameElement}catch(t){return null}}(function T6(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===sL(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),d=sL(e);return e.hasAttribute("contenteditable")?-1!==d:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function E6(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==d:"video"===a?-1!==d&&(null!==d||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function D6(n){return!function C6(n){return function w6(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function y6(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function b6(n){return function S6(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||oL(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(K(iL))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function sL(n){if(!oL(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function aL(n){return null!=n&&"false"!=`${n}`}class R6{constructor(t,e,r,a,d=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(er(1)).subscribe(t)}}let A6=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new R6(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(K(rL),K(et),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O6=(()=>{class n{constructor(e,r,a){this._elementRef=e,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=a,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=aL(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=aL(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const r=e.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(A6),R(Xe))},n.\u0275dir=ce({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[$t]}),n})(),lL=(()=>{class n{static forRoot(){return{ngModule:n,providers:[m6,iL,rL]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})();const x6=["addListener","removeListener"],I6=["addEventListener","removeEventListener"],M6=["on","off"];function ba(n,t,e,r){if(At(e)&&(r=e,e=void 0),r)return ba(n,t,e).pipe(L0(r));const[a,d]=function N6(n){return At(n.addEventListener)&&At(n.removeEventListener)}(n)?I6.map(p=>f=>n[p](t,f,e)):function P6(n){return At(n.addListener)&&At(n.removeListener)}(n)?x6.map(cL(n,t)):function F6(n){return At(n.on)&&At(n.off)}(n)?M6.map(cL(n,t)):[];if(!a&&tu(n))return Ft(p=>ba(p,t,e))(br(n));if(!a)throw new TypeError("Invalid event target");return new sn(p=>{const f=(...m)=>p.next(1<m.length?m:m[0]);return a(f),()=>d(f)})}function cL(n,t){return e=>r=>n[e](t,r)}function Re(...n){return $n(n,nu(n))}class L6 extends Gt{constructor(t,e){super()}schedule(t,e=0){return this}}const sw={setInterval(n,t,...e){const{delegate:r}=sw;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=sw;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class lA extends L6{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,r=0){return sw.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;sw.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let a,r=!1;try{this.work(t)}catch(d){r=!0,a=d||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ov={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ov;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const a=t(d=>{e=void 0,n(d)});return new Gt(()=>null==e?void 0:e(a))},requestAnimationFrame(...n){const{delegate:t}=ov;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ov;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},cA={now:()=>(cA.delegate||Date).now(),delegate:void 0};class sv{constructor(t,e=sv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}sv.now=cA.now;class uA extends sv{constructor(t,e=sv.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const dA=new class G6 extends uA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class k6 extends lA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ov.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(ov.cancelAnimationFrame(e),t._scheduled=void 0)}});var aw=(()=>{return(n=aw||(aw={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",aw;var n})(),Ih=(()=>{return(n=Ih||(Ih={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Ih;var n})();function sd(n,t){if(1!==n.nodeType)return[];const e=n.ownerDocument.defaultView,r=null==e?void 0:e.getComputedStyle(n,null);return t?r&&r[t]:r}function pA(n){if(!n)return document.documentElement;let r,e=null==n?void 0:n.offsetParent;for(;null===e&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,e=r.offsetParent;const a=e&&e.nodeName;return a&&"BODY"!==a&&"HTML"!==a?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===sd(e,"position")?pA(e):e:r?r.ownerDocument.documentElement:document.documentElement}function hA(n){return null!==n.parentNode?hA(n.parentNode):n}function lw(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?n:t,a=e?t:n,d=document.createRange();d.setStart(r,0),d.setEnd(a,0);const p=d.commonAncestorContainer;if(n!==p&&t!==p||r.contains(a))return function H6(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||pA(n.firstElementChild)===n)}(p)?p:pA(p);const f=hA(n);return f.host?lw(f.host,t):lw(n,hA(t).host)}function uL(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;(null==t?void 0:t.parentElement)&&"none"===sd(t,"transform");)t=t.parentElement;return t||document.documentElement}function dL(n,t){const e="x"===t?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${r}Width`])}function pL(n,t,e,r){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function hL(n){const t=n.body,e=n.documentElement;return{height:pL("Height",t,e),width:pL("Width",t,e)}}function av(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Gn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function fL(n){const t=n.getBoundingClientRect();if(!(t&&Gn(t.top)&&Gn(t.left)&&Gn(t.bottom)&&Gn(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===n.nodeName?hL(n.ownerDocument):void 0,a=(null==r?void 0:r.width)||n.clientWidth||Gn(t.right)&&Gn(e.left)&&t.right-e.left||0,d=(null==r?void 0:r.height)||n.clientHeight||Gn(t.bottom)&&Gn(e.top)&&t.bottom-e.top||0;let p=n.offsetWidth-a,f=n.offsetHeight-d;if(p||f){const m=sd(n);p-=dL(m,"x"),f-=dL(m,"y"),e.width-=p,e.height-=f}return av(e)}function fA(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function gA(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:r}=sd(n);return/(auto|scroll|overlay)/.test(String(t)+String(r)+String(e))?n:gA(fA(n))}function mA(n,t,e=!1){var r,a,d,p,f,m;const v="HTML"===t.nodeName,C=fL(n),b=fL(t),M=(gA(n),sd(t)),H=parseFloat(M.borderTopWidth),$=parseFloat(M.borderLeftWidth);e&&v&&(b.top=Math.max(null!==(r=b.top)&&void 0!==r?r:0,0),b.left=Math.max(null!==(a=b.left)&&void 0!==a?a:0,0));const Q=av({top:(null!==(d=C.top)&&void 0!==d?d:0)-(null!==(p=b.top)&&void 0!==p?p:0)-H,left:(null!==(f=C.left)&&void 0!==f?f:0)-(null!==(m=b.left)&&void 0!==m?m:0)-$,width:C.width,height:C.height});if(Q.marginTop=0,Q.marginLeft=0,v){const te=parseFloat(M.marginTop),Y=parseFloat(M.marginLeft);Gn(Q.top)&&(Q.top-=H-te),Gn(Q.bottom)&&(Q.bottom-=H-te),Gn(Q.left)&&(Q.left-=$-Y),Gn(Q.right)&&(Q.right-=$-Y),Q.marginTop=te,Q.marginLeft=Y}return Q}function gL(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const a=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||a)[e]}return n[e]}function mL(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===sd(n,"position")||mL(fA(n)))}function vA(n,t,e=0,r,a=!1){let d={top:0,left:0};const p=a?uL(n):lw(n,t);if("viewport"===r)d=function B6(n,t=!1){const e=n.ownerDocument.documentElement,r=mA(n,e),a=Math.max(e.clientWidth,window.innerWidth||0),d=Math.max(e.clientHeight,window.innerHeight||0),p=t?0:gL(e),f=t?0:gL(e,"left");return av({top:p-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:a,height:d})}(p,a);else{let f;"scrollParent"===r?(f=gA(fA(t)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const m=mA(f,p,a);if(m&&"HTML"===f.nodeName&&!mL(p)){const{height:v,width:C}=hL(n.ownerDocument);Gn(d.top)&&Gn(m.top)&&Gn(m.marginTop)&&(d.top+=m.top-m.marginTop),Gn(d.top)&&(d.bottom=Number(v)+Number(m.top)),Gn(d.left)&&Gn(m.left)&&Gn(m.marginLeft)&&(d.left+=m.left-m.marginLeft),Gn(d.top)&&(d.right=Number(C)+Number(m.left))}else m&&(d=m)}return Gn(d.left)&&(d.left+=e),Gn(d.top)&&(d.top+=e),Gn(d.right)&&(d.right-=e),Gn(d.bottom)&&(d.bottom-=e),d}function W6({width:n,height:t}){return n*t}function vL(n,t,e,r,a=["top","bottom","right","left"],d="viewport",p=0){var f,m,v,C,b,T,M,H,$,Q,te,Y;if(-1===n.indexOf("auto"))return n;const se=vA(e,r,p,d),De={top:{width:null!==(f=null==se?void 0:se.width)&&void 0!==f?f:0,height:(null!==(m=null==t?void 0:t.top)&&void 0!==m?m:0)-(null!==(v=null==se?void 0:se.top)&&void 0!==v?v:0)},right:{width:(null!==(C=null==se?void 0:se.right)&&void 0!==C?C:0)-(null!==(b=null==t?void 0:t.right)&&void 0!==b?b:0),height:null!==(T=null==se?void 0:se.height)&&void 0!==T?T:0},bottom:{width:null!==(M=null==se?void 0:se.width)&&void 0!==M?M:0,height:(null!==(H=null==se?void 0:se.bottom)&&void 0!==H?H:0)-(null!==($=null==t?void 0:t.bottom)&&void 0!==$?$:0)},left:{width:(null!==(Q=t.left)&&void 0!==Q?Q:0)-(null!==(te=null==se?void 0:se.left)&&void 0!==te?te:0),height:null!==(Y=null==se?void 0:se.height)&&void 0!==Y?Y:0}},Fe=Object.keys(De).map(jt=>Object.assign(Object.assign({position:jt},De[jt]),{area:W6(De[jt])})).sort((jt,jn)=>jn.area-jt.area);let st=Fe.filter(({width:jt,height:jn})=>jt>=e.clientWidth&&jn>=e.clientHeight);st=st.filter(({position:jt})=>a.some(jn=>jn===jt));const yt=st.length>0?st[0].position:Fe[0].position,Tn=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${xh().isBs5?Ih[yt]:yt}`),yt+(Tn?`-${Tn}`:"")}const cw=(n,t=0)=>n?parseFloat(n):t;function _L(n){const t=n.ownerDocument.defaultView,e=null==t?void 0:t.getComputedStyle(n),r=cw(null==e?void 0:e.marginTop)+cw(null==e?void 0:e.marginBottom),a=cw(null==e?void 0:e.marginLeft)+cw(null==e?void 0:e.marginRight);return{width:Number(n.offsetWidth)+a,height:Number(n.offsetHeight)+r}}function yL(n,t,e){return mA(t,e?uL(n):lw(n,t),e)}function _A(n,t,e){var r,a,d;const p=e.split(" ")[0],f=_L(n),m={width:f.width,height:f.height},v=-1!==["right","left"].indexOf(p),C=v?"top":"left",b=v?"left":"top",T=v?"height":"width",M=v?"width":"height";return m[C]=(null!==(r=t[C])&&void 0!==r?r:0)+t[T]/2-f[T]/2,m[b]=p===b?(null!==(a=t[b])&&void 0!==a?a:0)-f[M]:null!==(d=t[function U6(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(b)])&&void 0!==d?d:0,m}function CL(n,t){var e;return!!(null===(e=n.modifiers[t])||void 0===e?void 0:e.enabled)}const z6={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function uw(n,t){return!!xh().isBs5&&z6[t].includes(n)}function bL(n,t,e){!n||!t||Object.keys(t).forEach(r=>{let a="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function V6(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[r])&&(a="px"),e?e.setStyle(n,r,`${String(t[r])}${a}`):n.style[r]=String(t[r])+a})}function q6(n){var t,e,r,a,d,p;let f=n.offsets.target;const m=n.instance.target.querySelector(".arrow");if(!m)return n;const v=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),C=v?"height":"width",b=v?"Top":"Left",T=b.toLowerCase(),M=v?"left":"top",H=v?"bottom":"right",$=_L(m)[C],Q=n.placement.split(" ")[1];(null!==(t=n.offsets.host[H])&&void 0!==t?t:0)-$<(null!==(e=f[T])&&void 0!==e?e:0)&&(f[T]-=(null!==(r=f[T])&&void 0!==r?r:0)-((null!==(a=n.offsets.host[H])&&void 0!==a?a:0)-$)),Number(n.offsets.host[T])+Number($)>(null!==(d=f[H])&&void 0!==d?d:0)&&(f[T]+=Number(n.offsets.host[T])+Number($)-Number(f[H])),f=av(f);const te=sd(n.instance.target),Y=parseFloat(te[`margin${b}`])||0,se=parseFloat(te[`border${b}Width`])||0;let De;if(Q){const st=parseFloat(te.borderRadius)||0,yt=Number(Y+se+st);De=T===Q?Number(n.offsets.host[T])+yt:Number(n.offsets.host[T])+Number(n.offsets.host[C]-yt)}else De=Number(n.offsets.host[T])+Number(n.offsets.host[C]/2-$/2);let Fe=De-(null!==(p=f[T])&&void 0!==p?p:0)-Y-se;return Fe=Math.max(Math.min(f[C]-($+5),Fe),0),n.offsets.arrow={[T]:Math.round(Fe),[M]:""},n.instance.arrow=m,n}function Q6(n){if(n.offsets.target=av(n.offsets.target),!CL(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),_A(n.instance.target,n.offsets.host,n.placement)),n;const t=vA(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=vL("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),m=[e,f];return m.forEach((v,C)=>{var b,T,M,H,$,Q,te,Y,se,De,Fe,st,yt,Tn,jt,jn;if(e!==v||m.length===C+1)return;e=n.placement.split(" ")[0];const Tl="left"===e&&Math.floor(null!==(b=n.offsets.target.right)&&void 0!==b?b:0)>Math.floor(null!==(T=n.offsets.host.left)&&void 0!==T?T:0)||"right"===e&&Math.floor(null!==(M=n.offsets.target.left)&&void 0!==M?M:0)<Math.floor(null!==(H=n.offsets.host.right)&&void 0!==H?H:0)||"top"===e&&Math.floor(null!==($=n.offsets.target.bottom)&&void 0!==$?$:0)>Math.floor(null!==(Q=n.offsets.host.top)&&void 0!==Q?Q:0)||"bottom"===e&&Math.floor(null!==(te=n.offsets.target.top)&&void 0!==te?te:0)<Math.floor(null!==(Y=n.offsets.host.bottom)&&void 0!==Y?Y:0),ps=Math.floor(null!==(se=n.offsets.target.left)&&void 0!==se?se:0)<Math.floor(null!==(De=t.left)&&void 0!==De?De:0),uo=Math.floor(null!==(Fe=n.offsets.target.right)&&void 0!==Fe?Fe:0)>Math.floor(null!==(st=t.right)&&void 0!==st?st:0),Rl=Math.floor(null!==(yt=n.offsets.target.top)&&void 0!==yt?yt:0)<Math.floor(null!==(Tn=t.top)&&void 0!==Tn?Tn:0),Al=Math.floor(null!==(jt=n.offsets.target.bottom)&&void 0!==jt?jt:0)>Math.floor(null!==(jn=t.bottom)&&void 0!==jn?jn:0),He="left"===e&&ps||"right"===e&&uo||"top"===e&&Rl||"bottom"===e&&Al,Ye=-1!==["top","bottom"].indexOf(e),at=Ye&&"left"===r&&ps||Ye&&"right"===r&&uo||!Ye&&"left"===r&&Rl||!Ye&&"right"===r&&Al;(Tl||He||at)&&((Tl||He)&&(e=m[C+1]),at&&(r=function $6(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=e+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),_A(n.instance.target,n.offsets.host,n.placement)))}),n}function X6(n){var t;if(!CL(n.options,"preventOverflow"))return n;const e="transform",r=n.instance.target.style,{top:a,left:d,[e]:p}=r;r.top="",r.left="",r[e]="";const f=vA(n.instance.target,n.instance.host,0,(null===(t=n.options.modifiers.preventOverflow)||void 0===t?void 0:t.boundariesElement)||"scrollParent",!1);r.top=a,r.left=d,r[e]=p;const v={primary(C){var b,T,M,H;let $=n.offsets.target[C];return(null!==(b=n.offsets.target[C])&&void 0!==b?b:0)<(null!==(T=f[C])&&void 0!==T?T:0)&&($=Math.max(null!==(M=n.offsets.target[C])&&void 0!==M?M:0,null!==(H=f[C])&&void 0!==H?H:0)),{[C]:$}},secondary(C){var b,T,M,H;const $="right"===C,Q=$?"left":"top";let Y=n.offsets.target[Q];return(null!==(b=n.offsets.target[C])&&void 0!==b?b:0)>(null!==(T=f[C])&&void 0!==T?T:0)&&(Y=Math.min(null!==(M=n.offsets.target[Q])&&void 0!==M?M:0,(null!==(H=f[C])&&void 0!==H?H:0)-n.offsets.target[$?"width":"height"])),{[Q]:Y}}};return["left","right","top","bottom"].forEach(C=>{const b=-1!==["left","top","start"].indexOf(C)?v.primary:v.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),b(C))}),n}function Z6(n){var t;const e=n.placement,r=e.split(" ")[0],a=e.split(" ")[1];if(a){const{host:d,target:p}=n.offsets,f=-1!==["bottom","top"].indexOf(r),m=f?"left":"top",v=f?"width":"height",C={start:{[m]:d[m]},end:{[m]:(null!==(t=d[m])&&void 0!==t?t:0)+d[v]-p[v]}};n.offsets.target=Object.assign(Object.assign({},p),{[m]:m===a?C.start[m]:C.end[m]})}return n}const t8=new class e8{position(t,e){return this.offset(t,e)}offset(t,e){return yL(e,t)}positionElements(t,e,r,a,d){const p=[Q6,Z6,X6,q6],m=function J6(n,t,e,r){if(!n||!t)return;const a=yL(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const d=!!e.match(/auto/g);let p=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const f=p.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(p=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(p)&&(p="auto"),p=vL(p,a,n,t,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:_A(n,a,p),host:a,arrow:void 0},positionFixed:!1,placement:p,placementAuto:d}}(e,t,aw[r],d);if(m)return p.reduce((v,C)=>C(v),m)}};function n8(n,t,e,r,a,d){const p=t8.positionElements(n,t,e,r,a);if(!p)return;const f=function j6(n){var t,e,r,a;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(t=n.offsets.target.left)&&void 0!==t?t:0),top:Math.round(null!==(e=n.offsets.target.top)&&void 0!==e?e:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(a=n.offsets.target.right)&&void 0!==a?a:0)}}(p);bL(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},d),p.instance.arrow&&bL(p.instance.arrow,p.offsets.arrow,d),function Y6(n,t){const e=n.instance.target;let r=e.className;const a=xh().isBs5?Ih[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${a}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${a}`),r=r.replace(/\sauto/g,` ${a}`),-1!==r.indexOf("popover")&&(r=r+" "+function K6(n){return xh().isBs5?uw(n,"end")?"ms-2":uw(n,"start")?"me-2":uw(n,"top")?"mb-2":uw(n,"bottom")?"mt-2":"":""}(a)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${a.split(" ")[0]}`),t?t.setAttribute(e,"class",r):e.className=r}(p,d)}let Mh=(()=>{class n{constructor(e,r,a){this.update$$=new pe,this.positionElements=new Map,this.isDisabled=!1,A0(a)&&e.runOutsideAngular(()=>{this.triggerEvent$=wr(ba(window,"scroll",{passive:!0}),ba(window,"resize",{passive:!0}),Re(0,dA),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(d=>{n8(dw(d.target),dw(d.element),d.attachment,d.appendToBody,this.options,r.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(dw(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(dw(e))}setOptions(e){this.options=e}}return n.\u0275fac=function(e){return new(e||n)(K(et),K(Tc),K(_h))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dw(n){return"string"==typeof n?document.querySelector(n):n instanceof Ge?n.nativeElement:null!=n?n:null}class lv{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}class i8{constructor(t,e,r,a,d,p,f,m){this._viewContainerRef=t,this._renderer=e,this._elementRef=r,this._injector=a,this._componentFactoryResolver=d,this._ngZone=p,this._applicationRef=f,this._posService=m,this.onBeforeShow=new z,this.onShown=new z,this.onBeforeHide=new z,this.onHidden=new z,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=qt.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Ge&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){var e,r,a,d,p,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const m=this._componentRef.location.nativeElement;return null===(e=m.parentNode)||void 0===e||e.removeChild(m),null===(a=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===a||a.destroy(),this._viewContainerRef&&(null===(d=this._contentRef)||void 0===d?void 0:d.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(p=this._contentRef)||void 0===p?void 0:p.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){var e;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||(null===(e=this._elementRef)||void 0===e?void 0:e.nativeElement);const r=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),a=this._listenOpts.show=p=>{t.show?t.show(p):this.show(p),p()};return this._renderer&&(this._unregisterListenersFn=function l6(n,t){const e=oA(t.triggers),r=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const a=[],d=[],p=()=>{d.forEach(f=>a.push(f())),d.length=0};return e.forEach(f=>{const m=f.open===f.close,v=m?t.toggle:t.show;if(!m&&f.close&&t.hide){const C=n.listen(r,f.close,t.hide);d.push(()=>C)}v&&a.push(n.listen(r,f.open,()=>v(p)))}),()=>{a.forEach(f=>f())}}(this._renderer,{target:t.target,triggers:t.triggers,show:a,hide:r,toggle:p=>{this.isShown?r():a(p)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function c6(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(r=>r.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function u6(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(r=>r.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var t;this._posService.position({element:null===(t=this._componentRef)||void 0===t?void 0:t.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,r){if(!t)return new lv([]);if(t instanceof Xn){if(this._viewContainerRef){const p=this._viewContainerRef.createEmbeddedView(t,e);return p.markForCheck(),new lv([p.rootNodes],p)}const d=t.createEmbeddedView({});return this._applicationRef.attachView(d),new lv([d.rootNodes],d)}if("function"==typeof t){const d=this._componentFactoryResolver.resolveComponentFactory(t),p=qt.create({providers:this._providers,parent:this._injector}),f=d.create(p);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new lv([[f.location.nativeElement]],f.hostView,f)}const a=this._renderer?[this._renderer.createText(`${t}`)]:[];return new lv([a])}}let ad=(()=>{class n{constructor(e,r,a,d,p){this._componentFactoryResolver=e,this._ngZone=r,this._injector=a,this._posService=d,this._applicationRef=p}createLoader(e,r,a){return new i8(r,a,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(e){return new(e||n)(K(Oo),K(et),K(qt),K(Mh),K(Ac))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r8=["*"];let wL=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pw={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},o8=new Ee("override-default-config");let s8=(()=>{class n{constructor(e,r,a){this._element=r,this._renderer=a,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,yl()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var e;null===(e=this.bsModalService)||void 0===e||e.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){var r,a;!this.isShown||((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(a=this.bsModalService)||void 0===a||a.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,yl()?"in":"show"),setTimeout(()=>{var e,r;this.isShown=!1,document&&document.body&&1===(null===(e=this.bsModalService)||void 0===e?void 0:e.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(e){return new(e||n)(R(SL),R(Ge),R(ir))},n.\u0275cmp=Ce({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,r){1&e&&U("mousedown",function(d){return r.onClickStarted(d)})("click",function(d){return r.onClickStop(d)})("popstate",function(){return r.onPopState()},!1,Cg)("keydown.esc",function(d){return r.onEsc(d)},!1,Cg),2&e&&rt("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:r8,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(e,r){1&e&&(an(),S(0,"div",0)(1,"div",1),ft(2),E()()),2&e&&cn("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[O6],encapsulation:2}),n})(),a8=(()=>{class n{constructor(e,r){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),yl()||(e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class f6{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=kn),e.getComputedStyle(t)}static stackOverflowConfig(){const t=function p6(){const n=xh(),t=Object.keys(n).find(e=>n[e]);return ow[t]}();return{crossorigin:"bs3"!==t?"anonymous":void 0,integrity:"bs5"===t?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===t?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===t?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(ir))},n.\u0275cmp=Ce({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),l8=1,EL=(()=>{class n{constructor(e,r,a){this.clf=r,this.modalDefaultOption=a,this.onShow=new z,this.onShown=new z,this.onHide=new z,this.onHidden=new z,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=a?Object.assign({},pw,a):pw}show(e,r){this.modalsCount++,this._createLoaders();const a=(null==r?void 0:r.id)||l8++;return this.config=this.modalDefaultOption?Object.assign({},pw,this.modalDefaultOption,r):Object.assign({},pw,r),this.config.id=a,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0)}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&r&&(this._backdropLoader.attach(a8).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){var r;const a=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const f of this.config.providers)a.provide(f);const d=new wL,p=a.provide({provide:SL,useValue:this.config}).provide({provide:wL,useValue:d}).attach(s8).to("body");return d.hide=()=>{var f;return null===(f=p.instance)||void 0===f?void 0:f.hide()},d.setClass=f=>{p.instance&&(p.instance.config.class=f)},d.onHidden=new z,d.onHide=new z,this.copyEvent(a.onBeforeHide,d.onHide),this.copyEvent(a.onHidden,d.onHidden),p.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),p.instance&&(p.instance.level=this.getModalsCount(),d.content=a.getInnerComponent(),d.id=null===(r=p.instance.config)||void 0===r?void 0:r.id),d}_hideModal(e){if(null!=e){const r=this.loaders.findIndex(d=>{var p;return(null===(p=d.instance)||void 0===p?void 0:p.config.id)===e}),a=this.loaders[r];a&&a.hide(e)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,e);const r=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),r}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const r=this.loaders.findIndex(a=>{var d;return(null===(d=a.instance)||void 0===d?void 0:d.config.id)===e});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((a,d)=>{a.instance&&(a.instance.level=d+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,r){e.subscribe(a=>{r.emit(this.lastDismissReason||a)})}}return n.\u0275fac=function(e){return new(e||n)(K(Tc),K(ad),K(o8,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();lL.forRoot();let CA,c8=(()=>{class n{static forRoot(){return{ngModule:n,providers:[EL,ad,Mh]}}static forChild(){return{ngModule:n,providers:[EL,ad,Mh]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[lL]]}),n})();try{CA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){CA=!1}let cv,ld,bA,Zn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?A0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(K(_h))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();function Gc(n){return function u8(){if(null==cv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cv=!0}))}finally{cv=cv||!1}return cv}()?n:!!n.capture}function d8(){if(null==ld){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ld=!1,ld;if("scrollBehavior"in document.documentElement.style)ld=!0;else{const n=Element.prototype.scrollTo;ld=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ld}function wA(n){if(function p8(){if(null==bA){const n="undefined"!=typeof document?document.head:null;bA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return bA}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function gw(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function js(n){return n.composedPath?n.composedPath()[0]:n.target}function SA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class lo extends pe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Fh(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function qi(n,t,e){const r=At(n)||t||e?{next:n,error:t,complete:e}:n;return r?Rn((a,d)=>{var p;null===(p=r.subscribe)||void 0===p||p.call(r);let f=!0;a.subscribe(An(d,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),d.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),d.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),d.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):ri}const _w=new uA(lA),x8=_w;function AL(n,t=_w){return Rn((e,r)=>{let a=null,d=null,p=null;const f=()=>{if(a){a.unsubscribe(),a=null;const v=d;d=null,r.next(v)}};function m(){const v=p+n,C=t.now();if(C<v)return a=this.schedule(void 0,v-C),void r.add(a);f()}e.subscribe(An(r,v=>{d=v,p=t.now(),a||(a=t.schedule(m,n),r.add(a))},()=>{f(),r.complete()},void 0,()=>{d=a=null}))})}function xi(n,t){return Rn((e,r)=>{let a=0;e.subscribe(An(r,d=>n.call(t,d,a++)&&r.next(d)))})}function yw(n,t=ri){return n=null!=n?n:M8,Rn((e,r)=>{let a,d=!0;e.subscribe(An(r,p=>{const f=t(p);(d||!n(a,f))&&(d=!1,a=f,r.next(p))}))})}function M8(n,t){return n===t}function ei(n){return Rn((t,e)=>{br(n).subscribe(An(e,()=>e.complete(),Ni)),!e.closed&&t.subscribe(e)})}function un(n){return null!=n&&"false"!=`${n}`}function ko(n,t=0){return function P8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function EA(n){return Array.isArray(n)?n:[n]}function Ci(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ti(n){return n instanceof Ge?n.nativeElement:n}let OL=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F8=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=ti(e);return new sn(a=>{const p=this._observeElement(r).subscribe(a);return()=>{p.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new pe,a=this._mutationObserverFactory.create(d=>r.next(d));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:a}=this._observedElements.get(e);r&&r.disconnect(),a.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(K(OL))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DA=(()=>{class n{constructor(e,r,a){this._contentObserver=e,this._elementRef=r,this._ngZone=a,this.event=new z,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=un(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ko(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(AL(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(F8),R(Ge),R(et))},n.\u0275dir=ce({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[OL]}),n})();class RA extends class k8{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe,this._typeaheadSubscription=Gt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new pe,this.change=new pe,t instanceof is&&t.changes.subscribe(e=>{if(this._activeItem){const a=e.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(qi(e=>this._pressedLetters.push(e)),AL(t),xi(()=>this._pressedLetters.length>0),Je(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let a=1;a<r.length+1;a++){const d=(this._activeItemIndex+a)%r.length,p=r[d];if(!this._skipPredicateFn(p)&&0===p.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(d);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(d=>!t[d]||this._allowedModifierKeys.indexOf(d)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Fh(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),a=e[r];this._activeItem=null==a?null:a,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const a=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof is?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let G8=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function V8(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function H8(n){try{return n.frameElement}catch(t){return null}}(function Y8(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===PL(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),d=PL(e);return e.hasAttribute("contenteditable")?-1!==d:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function z8(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==d:"video"===a?-1!==d&&(null!==d||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function K8(n){return!function W8(n){return function U8(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function B8(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function j8(n){return function $8(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ML(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(K(Zn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ML(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function PL(n){if(!ML(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class q8{constructor(t,e,r,a,d=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(er(1)).subscribe(t)}}let Q8=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new q8(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(K(G8),K(et),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function OA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const J8=new Ee("cdk-input-modality-detector-options"),X8={ignoreKeys:[18,17,224,91,16]},Nh=Gc({passive:!0,capture:!0});let Z8=(()=>{class n{constructor(e,r,a,d){this._platform=e,this._mostRecentTarget=null,this._modality=new lo(null),this._lastTouchMs=0,this._onKeydown=p=>{var f,m;(null===(m=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===m?void 0:m.some(v=>v===p.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=js(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(AA(p)?"keyboard":"mouse"),this._mostRecentTarget=js(p))},this._onTouchstart=p=>{OA(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=js(p))},this._options=Object.assign(Object.assign({},X8),d),this.modalityDetected=this._modality.pipe(function I8(n){return xi((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(yw()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Nh),a.addEventListener("mousedown",this._onMousedown,Nh),a.addEventListener("touchstart",this._onTouchstart,Nh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Nh),document.removeEventListener("mousedown",this._onMousedown,Nh),document.removeEventListener("touchstart",this._onTouchstart,Nh))}}return n.\u0275fac=function(e){return new(e||n)(K(Zn),K(et),K(Xe),K(J8,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tK=new Ee("cdk-focus-monitor-default-options"),Cw=Gc({passive:!0,capture:!0});let Hc=(()=>{class n{constructor(e,r,a,d,p){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe,this._rootNodeFocusAndBlurListener=f=>{const m=js(f),v="focus"===f.type?this._onFocus:this._onBlur;for(let C=m;C;C=C.parentElement)v.call(this,f,C)},this._document=d,this._detectionMode=(null==p?void 0:p.detectionMode)||0}monitor(e,r=!1){const a=ti(e);if(!this._platform.isBrowser||1!==a.nodeType)return Re(null);const d=wA(a)||this._getDocument(),p=this._elementInfo.get(a);if(p)return r&&(p.checkChildren=!0),p.subject;const f={checkChildren:r,subject:new pe,rootNode:d};return this._elementInfo.set(a,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=ti(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const d=ti(e);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof d.focus&&d.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),d=js(e);!a||!a.checkChildren&&r!==d||this._originChanged(r,this._getFocusOrigin(d),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cw),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cw)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ei(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cw),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cw),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,d)=>{(d===e||a.checkChildren&&d.contains(e))&&r.push([d,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(K(et),K(Zn),K(Z8),K(Xe,8),K(tK,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nK=(()=>{class n{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this.cdkFocusChange=new z}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(Hc))},n.\u0275dir=ce({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const NL="cdk-high-contrast-black-on-white",LL="cdk-high-contrast-white-on-black",xA="cdk-high-contrast-active";let kL=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,d=(a&&a.backgroundColor||"").replace(/ /g,"");switch(e.remove(),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(xA),e.remove(NL),e.remove(LL),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(xA),e.add(NL)):2===r&&(e.add(xA),e.add(LL))}}}return n.\u0275fac=function(e){return new(e||n)(K(Zn),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iK=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(K(kL))},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[TA]]}),n})();class IA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class MA extends IA{constructor(t,e,r,a){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=a}}class Lh extends IA{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rK extends IA{constructor(t){super(),this.element=t instanceof Ge?t.nativeElement:t}}class PA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof MA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Lh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof rK?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oK extends PA{constructor(t,e,r,a,d){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=a,this.attachDomPortal=p=>{const f=p.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=p,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=d}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=r.create(t.injector||this._defaultInjector||qt.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(a=>this.outletElement.appendChild(a)),r.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(r);-1!==a&&e.remove(a)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let sK=(()=>{class n extends Lh{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(R(Xn),R(Nn))},n.\u0275dir=ce({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ke]}),n})(),cd=(()=>{class n extends PA{constructor(e,r,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new z,this.attachDomPortal=d=>{const p=d.element,f=this._document.createComment("dom-portal");d.setAttachedHost(this),p.parentNode.insertBefore(f,p),this._getRootNode().appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(p,f)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,d=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),p=r.createComponent(d,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=e,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(R(Oo),R(Nn),R(Xe))},n.\u0275dir=ce({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ke]}),n})(),uv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();const aK=new Ee("cdk-dir-doc",{providedIn:"root",factory:function lK(){return mp(Xe)}}),cK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new z,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function uK(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?cK.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(K(aK,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();const GL=new Rc("13.3.4");function FA(...n){return function dK(){return fo(1)}()($n(n,nu(n)))}function Qi(...n){const t=nu(n);return Rn((e,r)=>{(t?FA(n,e,t):FA(n,e)).subscribe(r)})}const HL=new Rc("12.2.13"),_K=new Ee("mat-sanity-checks",{providedIn:"root",factory:function vK(){return!0}});let ud,Dn=(()=>{class n{constructor(e,r,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!pP()||SA())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&HL.full!==GL.full&&console.warn("The Angular Material version ("+HL.full+") does not match the Angular CDK version ("+GL.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(K(kL),K(_K,8),K(Xe))},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[kh],kh]}),n})();function dv(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=un(t)}}}function Gh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function NA(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=un(t)}}}function VL(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ko(e):this.defaultTabIndex}}}try{ud="undefined"!=typeof Intl}catch(n){ud=!1}let pv=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({factory:function(){return new n},token:n,providedIn:"root"}),n})(),WL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[Dn],Dn]}),n})();class PK{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jL={enterDuration:225,exitDuration:150},LA=Gc({passive:!0}),UL=["mousedown","touchstart"],$L=["mouseup","mouseleave","touchend","touchcancel"];class zL{constructor(t,e,r,a){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=ti(r))}fadeInRipple(t,e,r={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d=Object.assign(Object.assign({},jL),r.animation);r.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);const p=r.radius||function LK(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),a=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+a*a)}(t,e,a),f=t-a.left,m=e-a.top,v=d.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-p+"px",C.style.top=m-p+"px",C.style.height=2*p+"px",C.style.width=2*p+"px",null!=r.color&&(C.style.backgroundColor=r.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C),function NK(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const b=new PK(this,C,r);return b.state=0,this._activeRipples.add(b),r.persistent||(this._mostRecentTransientRipple=b),this._runTimeoutOutsideZone(()=>{const T=b===this._mostRecentTransientRipple;b.state=1,!r.persistent&&(!T||!this._isPointerDown)&&b.fadeOut()},v),b}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,a=Object.assign(Object.assign({},jL),t.config.animation);r.style.transitionDuration=`${a.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ti(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(UL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($L),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=AA(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!OA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,LA)})})}_removeTriggerEvents(){this._triggerElement&&(UL.forEach(t=>{this._triggerElement.removeEventListener(t,this,LA)}),this._pointerUpEventsRegistered&&$L.forEach(t=>{this._triggerElement.removeEventListener(t,this,LA)}))}}const kA=new Ee("mat-ripple-global-options");let Vc=(()=>{class n{constructor(e,r,a,d,p){this._elementRef=e,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new zL(this,r,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(et),R(Zn),R(kA,8),R(yi,8))},n.\u0275dir=ce({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ue("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),ww=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[Dn,DL],Dn]}),n})();function Sw(n=0,t,e=x8){let r=-1;return null!=t&&(q(t)?e=t:r=t),new sn(a=>{let d=function UK(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;d<0&&(d=0);let p=0;return e.schedule(function(){a.closed||(a.next(p++),0<=r?this.schedule(void 0,r):a.complete())},d)})}let GA,$K=1;const Ew={};function QL(n){return n in Ew&&(delete Ew[n],!0)}const zK={setImmediate(n){const t=$K++;return Ew[t]=!0,GA||(GA=Promise.resolve()),GA.then(()=>QL(t)&&n()),t},clearImmediate(n){QL(n)}},{setImmediate:KK,clearImmediate:YK}=zK,Dw={setImmediate(...n){const{delegate:t}=Dw;return((null==t?void 0:t.setImmediate)||KK)(...n)},clearImmediate(n){const{delegate:t}=Dw;return((null==t?void 0:t.clearImmediate)||YK)(n)},delegate:void 0};new class QK extends uA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class qK extends lA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Dw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(Dw.clearImmediate(e),t._scheduled=void 0)}});function HA(n,t=_w){return function XK(n){return Rn((t,e)=>{let r=!1,a=null,d=null,p=!1;const f=()=>{if(null==d||d.unsubscribe(),d=null,r){r=!1;const v=a;a=null,e.next(v)}p&&e.complete()},m=()=>{d=null,p&&e.complete()};t.subscribe(An(e,v=>{r=!0,a=v,d||br(n(v)).subscribe(d=An(e,f,m))},()=>{p=!0,(!r||!d||d.closed)&&e.complete()}))})}(()=>Sw(n,t))}let JL=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new sn(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(HA(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Re()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(xi(d=>!d||a.indexOf(d)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,d)=>{this._scrollableContainsElement(d,e)&&r.push(d)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=ti(r),d=e.getElementRef().nativeElement;do{if(a==d)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ba(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(K(et),K(Zn),K(Xe,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bc=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new pe,this._changeListener=d=>{this._change.next(d)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,d=a.getBoundingClientRect();return{top:-d.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-d.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(HA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(K(Zn),K(et),K(Xe,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})(),XL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[kh,VA],kh,VA]}),n})();function t7(n,t){1&n&&ft(0)}const BA=["*"];function n7(n,t){}const i7=function(n){return{animationDuration:n}},r7=function(n,t){return{value:n,params:t}},o7=["tabBodyWrapper"],s7=["tabHeader"];function a7(n,t){}function l7(n,t){1&n&&V(0,a7,0,0,"ng-template",9),2&n&&I("cdkPortalOutlet",L().$implicit.templateLabel)}function c7(n,t){1&n&&F(0),2&n&&Ae(L().$implicit.textLabel)}function u7(n,t){if(1&n){const e=le();S(0,"div",6),U("click",function(){const a=J(e),d=a.$implicit,p=a.index,f=L(),m=Lr(1);return f._handleClick(d,m,p)})("cdkFocusChange",function(a){const p=J(e).index;return L()._tabFocusChanged(a,p)}),S(1,"div",7),V(2,l7,1,1,"ng-template",8),V(3,c7,1,1,"ng-template",8),E()()}if(2&n){const e=t.$implicit,r=t.index,a=L();Ue("mat-tab-label-active",a.selectedIndex==r),I("id",a._getTabLabelId(r))("disabled",e.disabled)("matRippleDisabled",e.disabled||a.disableRipple),rt("tabIndex",a._getTabIndex(e,r))("aria-posinset",r+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(r))("aria-selected",a.selectedIndex==r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),D(2),I("ngIf",e.templateLabel),D(1),I("ngIf",!e.templateLabel)}}function d7(n,t){if(1&n){const e=le();S(0,"mat-tab-body",10),U("_onCentered",function(){return J(e),L()._removeTabBodyWrapperHeight()})("_onCentering",function(a){return J(e),L()._setTabBodyWrapperHeight(a)}),E()}if(2&n){const e=t.$implicit,r=t.index,a=L();Ue("mat-tab-body-active",a.selectedIndex===r),I("id",a._getTabContentId(r))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",a.animationDuration),rt("tabindex",null!=a.contentTabIndex&&a.selectedIndex===r?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(r))}}const ZL=["tabListContainer"],ek=["tabList"],tk=["nextPaginator"],nk=["previousPaginator"],h7=new Ee("MatInkBarPositioner",{providedIn:"root",factory:function f7(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Tw=(()=>{class n{constructor(e,r,a,d){this._elementRef=e,this._ngZone=r,this._inkBarPositioner=a,this._animationMode=d}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const r=this._inkBarPositioner(e),a=this._elementRef.nativeElement;a.style.left=r.left,a.style.width=r.width}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(et),R(h7),R(yi,8))},n.\u0275dir=ce({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,r){2&e&&Ue("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const ik=new Ee("MatTabContent"),rk=new Ee("MatTabLabel"),ok=new Ee("MAT_TAB");let sk=(()=>{class n extends sK{constructor(e,r,a){super(e,r),this._closestTab=a}}return n.\u0275fac=function(e){return new(e||n)(R(Xn),R(Nn),R(ok,8))},n.\u0275dir=ce({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[gt([{provide:rk,useExisting:n}]),ke]}),n})();const g7=dv(class{}),ak=new Ee("MAT_TAB_GROUP");let Wc=(()=>{class n extends g7{constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new pe,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Lh(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(R(Nn),R(ak,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-tab"]],contentQueries:function(e,r,a){if(1&e&&(Bt(a,rk,5),Bt(a,ik,7,Xn)),2&e){let d;qe(d=Qe())&&(r.templateLabel=d.first),qe(d=Qe())&&(r._explicitContent=d.first)}},viewQuery:function(e,r){if(1&e&&Ln(Xn,7),2&e){let a;qe(a=Qe())&&(r._implicitContent=a.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[gt([{provide:ok,useExisting:n}]),ke,$t],ngContentSelectors:BA,decls:1,vars:0,template:function(e,r){1&e&&(an(),V(0,t7,1,0,"ng-template"))},encapsulation:2}),n})();const m7={translateTab:Nc("translateTab",[Oi("center, void, left-origin-center, right-origin-center",gn({transform:"none"})),Oi("left",gn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Oi("right",gn({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),ls("* => left, * => right, left => center, right => center",Mo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ls("void => left-origin-center",[gn({transform:"translate3d(-100%, 0, 0)"}),Mo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ls("void => right-origin-center",[gn({transform:"translate3d(100%, 0, 0)"}),Mo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let v7=(()=>{class n extends cd{constructor(e,r,a,d){super(e,r,d),this._host=a,this._centeringSub=Gt.EMPTY,this._leavingSub=Gt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Qi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Oo),R(Nn),R(Ht(()=>lk)),R(Xe))},n.\u0275dir=ce({type:n,selectors:[["","matTabBodyHost",""]],features:[ke]}),n})(),_7=(()=>{class n{constructor(e,r,a){this._elementRef=e,this._dir=r,this._dirChangeSubscription=Gt.EMPTY,this._translateTabComplete=new pe,this._onCentering=new z,this._beforeCentering=new z,this._afterLeavingCenter=new z,this._onCentered=new z(!0),this.animationDuration="500ms",r&&(this._dirChangeSubscription=r.change.subscribe(d=>{this._computePositionAnimationState(d),a.markForCheck()})),this._translateTabComplete.pipe(yw((d,p)=>d.fromState===p.fromState&&d.toState===p.toState)).subscribe(d=>{this._isCenterPosition(d.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(d.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(gr,8),R(_n))},n.\u0275dir=ce({type:n,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),lk=(()=>{class n extends _7{constructor(e,r,a){super(e,r,a)}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(gr,8),R(_n))},n.\u0275cmp=Ce({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&Ln(cd,5),2&e){let a;qe(a=Qe())&&(r._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[ke],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(S(0,"div",0,1),U("@translateTab.start",function(d){return r._onTranslateTabStarted(d)})("@translateTab.done",function(d){return r._translateTabComplete.next(d)}),V(2,n7,0,0,"ng-template",2),E()),2&e&&I("@translateTab",BC(3,r7,r._position,rr(1,i7,r.animationDuration)))},directives:[v7],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[m7.translateTab]}}),n})();const ck=new Ee("MAT_TABS_CONFIG");let y7=0;class C7{}const b7=Gh(NA(class{constructor(n){this._elementRef=n}}),"primary");let w7=(()=>{class n extends b7{constructor(e,r,a,d){var p;super(e),this._changeDetectorRef=r,this._animationMode=d,this._tabs=new is,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Gt.EMPTY,this._tabLabelSubscription=Gt.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new z,this.focusChange=new z,this.animationDone=new z,this.selectedTabChange=new z(!0),this._groupId=y7++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,this.contentTabIndex=null!==(p=null==a?void 0:a.contentTabIndex)&&void 0!==p?p:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=un(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=ko(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=ko(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement;r.classList.remove(`mat-background-${this.backgroundColor}`),e&&r.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,d)=>a.isActive=d===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,a)=>{r.position=a-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const r=this._tabs.toArray();for(let a=0;a<r.length;a++)if(r[a].isActive){this._indexToSelect=this._selectedIndex=a;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Qi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new C7;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=wr(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,a){e.disabled||(this.selectedIndex=r.focusIndex=a)}_getTabIndex(e,r){return e.disabled?null:this.selectedIndex===r?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(_n),R(ck,8),R(yi,8))},n.\u0275dir=ce({type:n,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[ke]}),n})(),dd=(()=>{class n extends w7{constructor(e,r,a,d){super(e,r,a,d)}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(_n),R(ck,8),R(yi,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,r,a){if(1&e&&Bt(a,Wc,5),2&e){let d;qe(d=Qe())&&(r._allTabs=d)}},viewQuery:function(e,r){if(1&e&&(Ln(o7,5),Ln(s7,5)),2&e){let a;qe(a=Qe())&&(r._tabBodyWrapper=a.first),qe(a=Qe())&&(r._tabHeader=a.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,r){2&e&&Ue("mat-tab-group-dynamic-height",r.dynamicHeight)("mat-tab-group-inverted-header","below"===r.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[gt([{provide:ak,useExisting:n}]),ke],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,r){1&e&&(S(0,"mat-tab-header",0,1),U("indexFocused",function(d){return r._focusChanged(d)})("selectFocusedIndex",function(d){return r.selectedIndex=d}),V(2,u7,4,14,"div",2),E(),S(3,"div",3,4),V(5,d7,1,9,"mat-tab-body",5),E()),2&e&&(I("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),D(2),I("ngForOf",r._tabs),D(1),Ue("_mat-animation-noopable","NoopAnimations"===r._animationMode),D(2),I("ngForOf",r._tabs))},directives:function(){return[R7,Wt,uk,Vc,nK,ut,cd,lk]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})();const S7=dv(class{});let uk=(()=>{class n extends S7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(R(Ge))},n.\u0275dir=ce({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(rt("aria-disabled",!!r.disabled),Ue("mat-tab-disabled",r.disabled))},inputs:{disabled:"disabled"},features:[ke]}),n})();const dk=Gc({passive:!0});let hk=(()=>{class n{constructor(e,r,a,d,p,f,m){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=a,this._dir=d,this._ngZone=p,this._platform=f,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new pe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new pe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new z,this.indexFocused=new z,p.runOutsideAngular(()=>{ba(e.nativeElement,"mouseleave").pipe(ei(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=ko(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){ba(this._previousPaginator.nativeElement,"touchstart",dk).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ba(this._nextPaginator.nativeElement,"touchstart",dk).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Re("ltr"),r=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new RA(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(a):a(),wr(e,r,this._items.changes).pipe(ei(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(a)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(ei(this._destroyed)).subscribe(d=>{this.indexFocused.emit(d),this._setTabFocus(d)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Fh(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const r=this._items?this._items.toArray()[e]:null;return!!r&&!r.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:d,offsetWidth:p}=r.elementRef.nativeElement;let f,m;"ltr"==this._getLayoutDirection()?(f=d,m=f+p):(m=this._tabList.nativeElement.offsetWidth-d,f=m-p);const v=this.scrollDistance,C=this.scrollDistance+a;f<v?this.scrollDistance-=v-f+60:m>C&&(this.scrollDistance+=m-C+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),Sw(650,100).pipe(ei(wr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:d}=this._scrollHeader(e);(0===d||d>=a)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(_n),R(Bc),R(gr,8),R(et),R(Zn),R(yi,8))},n.\u0275dir=ce({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),T7=(()=>{class n extends hk{constructor(e,r,a,d,p,f,m){super(e,r,a,d,p,f,m),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=un(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(_n),R(Bc),R(gr,8),R(et),R(Zn),R(yi,8))},n.\u0275dir=ce({type:n,inputs:{disableRipple:"disableRipple"},features:[ke]}),n})(),R7=(()=>{class n extends T7{constructor(e,r,a,d,p,f,m){super(e,r,a,d,p,f,m)}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(_n),R(Bc),R(gr,8),R(et),R(Zn),R(yi,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,r,a){if(1&e&&Bt(a,uk,4),2&e){let d;qe(d=Qe())&&(r._items=d)}},viewQuery:function(e,r){if(1&e&&(Ln(Tw,7),Ln(ZL,7),Ln(ek,7),Ln(tk,5),Ln(nk,5)),2&e){let a;qe(a=Qe())&&(r._inkBar=a.first),qe(a=Qe())&&(r._tabListContainer=a.first),qe(a=Qe())&&(r._tabList=a.first),qe(a=Qe())&&(r._nextPaginator=a.first),qe(a=Qe())&&(r._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ue("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ke],ngContentSelectors:BA,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(an(),S(0,"div",0,1),U("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(d){return r._handlePaginatorPress("before",d)})("touchend",function(){return r._stopInterval()}),X(2,"div",2),E(),S(3,"div",3,4),U("keydown",function(d){return r._handleKeydown(d)}),S(5,"div",5,6),U("cdkObserveContent",function(){return r._onContentChanges()}),S(7,"div",7),ft(8),E(),X(9,"mat-ink-bar"),E()(),S(10,"div",8,9),U("mousedown",function(d){return r._handlePaginatorPress("after",d)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),X(12,"div",2),E()),2&e&&(Ue("mat-tab-header-pagination-disabled",r._disableScrollBefore),I("matRippleDisabled",r._disableScrollBefore||r.disableRipple),D(5),Ue("_mat-animation-noopable","NoopAnimations"===r._animationMode),D(5),Ue("mat-tab-header-pagination-disabled",r._disableScrollAfter),I("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},directives:[Vc,DA,Tw],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),M7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so,Dn,uv,ww,TA,iK],Dn]}),n})();function pd(n,t){const e=At(n)?n:()=>n,r=a=>a.error(e());return new sn(t?a=>t.schedule(r,0,a):r)}function Xt(n){return Rn((t,e)=>{let d,r=null,a=!1;r=t.subscribe(An(e,void 0,void 0,p=>{d=br(n(p,Xt(n)(t))),r?(r.unsubscribe(),r=null,d.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,d.subscribe(e))})}function gk(n){return Rn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Hh(n,t){return At(t)?Ft(n,t,1):Ft(n,1)}class mk{}class vk{}class mr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),d=a.toLowerCase(),p=e.slice(r+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const d=t.value;if(d){let p=this.headers.get(e);if(!p)return;p=p.filter(f=>-1===d.indexOf(f)),0===p.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class P7{encodeKey(t){return _k(t)}encodeValue(t){return _k(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const N7=/%(\d[a-f0-9])/gi,L7={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _k(n){return encodeURIComponent(n).replace(N7,(t,e)=>{var r;return null!==(r=L7[e])&&void 0!==r?r:t})}function yk(n){return`${n}`}class jc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new P7,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F7(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,f]=-1==d?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,d)),t.decodeValue(a.slice(d+1))],m=e.get(p)||[];m.push(f),e.set(p,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(d=>{e.push({param:r,value:d,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(yk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(yk(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class k7{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ck(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function bk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function wk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class fv{constructor(t,e,r,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function G7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,d=a):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new mr),this.context||(this.context=new k7),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+p}}else this.params=new jc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ck(this.body)||bk(this.body)||wk(this.body)||function H7(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wk(this.body)?null:bk(this.body)?this.body.type||null:Ck(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,d=t.responseType||this.responseType,p=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,C=t.params||this.params;const b=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((T,M)=>T.set(M,t.setHeaders[M]),v)),t.setParams&&(C=Object.keys(t.setParams).reduce((T,M)=>T.set(M,t.setParams[M]),C)),new fv(r,a,p,{params:C,headers:v,context:b,reportProgress:m,responseType:d,withCredentials:f})}}var bi=(()=>((bi=bi||{})[bi.Sent=0]="Sent",bi[bi.UploadProgress=1]="UploadProgress",bi[bi.ResponseHeader=2]="ResponseHeader",bi[bi.DownloadProgress=3]="DownloadProgress",bi[bi.Response=4]="Response",bi[bi.User=5]="User",bi))();class WA{constructor(t,e=200,r="OK"){this.headers=t.headers||new mr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jA extends WA{constructor(t={}){super(t),this.type=bi.ResponseHeader}clone(t={}){return new jA({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rw extends WA{constructor(t={}){super(t),this.type=bi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Rw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sk extends WA{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function UA(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cl=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let d;if(e instanceof fv)d=e;else{let m,v;m=a.headers instanceof mr?a.headers:new mr(a.headers),a.params&&(v=a.params instanceof jc?a.params:new jc({fromObject:a.params})),d=new fv(e,r,void 0!==a.body?a.body:null,{headers:m,context:a.context,params:v,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=Re(d).pipe(Hh(m=>this.handler.handle(m)));if(e instanceof fv||"events"===a.observe)return p;const f=p.pipe(xi(m=>m instanceof Rw));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return f.pipe(Je(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe(Je(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe(Je(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe(Je(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new jc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,UA(a,r))}post(e,r,a={}){return this.request("POST",e,UA(a,r))}put(e,r,a={}){return this.request("PUT",e,UA(a,r))}}return n.\u0275fac=function(e){return new(e||n)(K(mk))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class Ek{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Aw=new Ee("HTTP_INTERCEPTORS");let V7=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const B7=/^\)\]\}',?\n/;let Dk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new sn(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((M,H)=>a.setRequestHeader(M,H.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const M=e.detectContentTypeHeader();null!==M&&a.setRequestHeader("Content-Type",M)}if(e.responseType){const M=e.responseType.toLowerCase();a.responseType="json"!==M?M:"text"}const d=e.serializeBody();let p=null;const f=()=>{if(null!==p)return p;const M=a.statusText||"OK",H=new mr(a.getAllResponseHeaders()),$=function W7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return p=new jA({headers:H,status:a.status,statusText:M,url:$}),p},m=()=>{let{headers:M,status:H,statusText:$,url:Q}=f(),te=null;204!==H&&(te=void 0===a.response?a.responseText:a.response),0===H&&(H=te?200:0);let Y=H>=200&&H<300;if("json"===e.responseType&&"string"==typeof te){const se=te;te=te.replace(B7,"");try{te=""!==te?JSON.parse(te):null}catch(De){te=se,Y&&(Y=!1,te={error:De,text:te})}}Y?(r.next(new Rw({body:te,headers:M,status:H,statusText:$,url:Q||void 0})),r.complete()):r.error(new Sk({error:te,headers:M,status:H,statusText:$,url:Q||void 0}))},v=M=>{const{url:H}=f(),$=new Sk({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:H||void 0});r.error($)};let C=!1;const b=M=>{C||(r.next(f()),C=!0);let H={type:bi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(H.total=M.total),"text"===e.responseType&&!!a.responseText&&(H.partialText=a.responseText),r.next(H)},T=M=>{let H={type:bi.UploadProgress,loaded:M.loaded};M.lengthComputable&&(H.total=M.total),r.next(H)};return a.addEventListener("load",m),a.addEventListener("error",v),a.addEventListener("timeout",v),a.addEventListener("abort",v),e.reportProgress&&(a.addEventListener("progress",b),null!==d&&a.upload&&a.upload.addEventListener("progress",T)),a.send(d),r.next({type:bi.Sent}),()=>{a.removeEventListener("error",v),a.removeEventListener("abort",v),a.removeEventListener("load",m),a.removeEventListener("timeout",v),e.reportProgress&&(a.removeEventListener("progress",b),null!==d&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(K(UP))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const $A=new Ee("XSRF_COOKIE_NAME"),zA=new Ee("XSRF_HEADER_NAME");class Tk{}let j7=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=NP(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(_h),K($A))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),KA=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(K(Tk),K(zA))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),U7=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Aw,[]);this.chain=r.reduceRight((a,d)=>new Ek(a,d),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(K(vk),K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),$7=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:KA,useClass:V7}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:$A,useValue:e.cookieName}:[],e.headerName?{provide:zA,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[KA,{provide:Aw,useExisting:KA,multi:!0},{provide:Tk,useClass:j7},{provide:$A,useValue:"XSRF-TOKEN"},{provide:zA,useValue:"X-XSRF-TOKEN"}]}),n})(),z7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[Cl,{provide:mk,useClass:U7},Dk,{provide:vk,useExisting:Dk}],imports:[[$7.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const K7=["*"];function Rk(n){return Error(`Unable to find icon with the name "${n}"`)}function Ak(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Ok(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class hd{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Ow=(()=>{class n{constructor(e,r,a,d){this._httpClient=e,this._sanitizer=r,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,r,a){return this.addSvgIconInNamespace("",e,r,a)}addSvgIconLiteral(e,r,a){return this.addSvgIconLiteralInNamespace("",e,r,a)}addSvgIconInNamespace(e,r,a,d){return this._addSvgIconConfig(e,r,new hd(a,null,d))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,a,d){const p=this._sanitizer.sanitize(Vt.HTML,a);if(!p)throw Ok(a);return this._addSvgIconConfig(e,r,new hd("",p,d))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,a){return this._addSvgIconSetConfig(e,new hd(r,null,a))}addSvgIconSetLiteralInNamespace(e,r,a){const d=this._sanitizer.sanitize(Vt.HTML,r);if(!d)throw Ok(r);return this._addSvgIconSetConfig(e,new hd("",d,a))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Vt.RESOURCE_URL,e);if(!r)throw Ak(e);const a=this._cachedIconsByUrl.get(r);return a?Re(xw(a)):this._loadSvgIconFromConfig(new hd(e,null)).pipe(qi(d=>this._cachedIconsByUrl.set(r,d)),Je(d=>xw(d)))}getNamedSvgIcon(e,r=""){const a=xk(r,e);let d=this._svgIconConfigs.get(a);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(r,e),d)return this._svgIconConfigs.set(a,d),this._getSvgFromConfig(d);const p=this._iconSetConfigs.get(r);return p?this._getSvgFromIconSetConfigs(e,p):pd(Rk(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Re(xw(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Je(r=>xw(r)))}_getSvgFromIconSetConfigs(e,r){const a=this._extractIconWithNameFromAnySet(e,r);return a?Re(a):l1(r.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(Xt(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(Vt.RESOURCE_URL,p.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),Re(null)})))).pipe(Je(()=>{const p=this._extractIconWithNameFromAnySet(e,r);if(!p)throw Rk(e);return p}))}_extractIconWithNameFromAnySet(e,r){for(let a=r.length-1;a>=0;a--){const d=r[a];if(d.svgText&&d.svgText.indexOf(e)>-1){const p=this._svgElementFromConfig(d),f=this._extractSvgIconFromSet(p,e,d.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(qi(r=>e.svgText=r),Je(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Re(null):this._fetchIcon(e).pipe(qi(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,a){const d=e.querySelector(`[id="${r}"]`);if(!d)return null;const p=d.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,a);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),a);const f=this._svgElementFromString("<svg></svg>");return f.appendChild(p),this._setSvgAttributes(f,a)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const a=r.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),a=e.attributes;for(let d=0;d<a.length;d++){const{name:p,value:f}=a[d];"id"!==p&&r.setAttribute(p,f)}for(let d=0;d<e.childNodes.length;d++)e.childNodes[d].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[d].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:a,options:d}=e,p=null!==(r=null==d?void 0:d.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function Y7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const f=this._sanitizer.sanitize(Vt.RESOURCE_URL,a);if(!f)throw Ak(a);const m=this._inProgressUrlFetches.get(f);if(m)return m;const v=this._httpClient.get(f,{responseType:"text",withCredentials:p}).pipe(gk(()=>this._inProgressUrlFetches.delete(f)),Pa());return this._inProgressUrlFetches.set(f,v),v}_addSvgIconConfig(e,r,a){return this._svgIconConfigs.set(xk(e,r),a),this}_addSvgIconSetConfig(e,r){const a=this._iconSetConfigs.get(e);return a?a.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let a=0;a<this._resolvers.length;a++){const d=this._resolvers[a](r,e);if(d)return Q7(d)?new hd(d.url,null,d.options):new hd(d,null)}}}return n.\u0275fac=function(e){return new(e||n)(K(Cl,8),K(bh),K(Xe,8),K(Es))},n.\u0275prov=_e({factory:function(){return new n(K(Cl,8),K(bh),K(Xe,8),K(Es))},token:n,providedIn:"root"}),n})();function xw(n){return n.cloneNode(!0)}function xk(n,t){return n+":"+t}function Q7(n){return!(!n.url||!n.options)}const J7=Gh(class{constructor(n){this._elementRef=n}}),X7=new Ee("mat-icon-location",{providedIn:"root",factory:function Z7(){const n=mp(Xe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Ik=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],t9=Ik.map(n=>`[${n}]`).join(", "),n9=/^url\(['"]?#(.*?)['"]?\)$/;let Ji=(()=>{class n extends J7{constructor(e,r,a,d,p){super(e),this._iconRegistry=r,this._location=d,this._errorHandler=p,this._inline=!1,this._currentIconFetch=Gt.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=un(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let d=0;d<r.length;d++)r[d].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const a=e.childNodes[r];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&e.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((a,d)=>{a.forEach(p=>{d.setAttribute(p.name,`url('${e}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(t9),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<r.length;d++)Ik.forEach(p=>{const f=r[d],m=f.getAttribute(p),v=m?m.match(n9):null;if(v){let C=a.get(f);C||(C=[],a.set(f,C)),C.push({name:p,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,a]=this._splitIconName(e);r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe(er(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${a}! ${d.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(Ow),Ko("aria-hidden"),R(X7),R(Es))},n.\u0275cmp=Ce({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(rt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Ue("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ke],ngContentSelectors:K7,decls:1,vars:0,template:function(e,r){1&e&&(an(),ft(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[Dn],Dn]}),n})();const Pk=d8();class i9{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ci(-this._previousScrollPosition.left),t.style.top=Ci(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,a=this._document.body.style,d=r.scrollBehavior||"",p=a.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Pk&&(r.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Pk&&(r.scrollBehavior=d,a.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class r9{constructor(t,e,r,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Fk{enable(){}disable(){}attach(){}}function YA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Nk(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class o9{constructor(t,e,r,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:a}=this._viewportRuler.getViewportSize();YA(e,[{width:r,height:a,bottom:a,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let s9=(()=>{class n{constructor(e,r,a,d){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=a,this.noop=()=>new Fk,this.close=p=>new r9(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new i9(this._viewportRuler,this._document),this.reposition=p=>new o9(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=d}}return n.\u0275fac=function(e){return new(e||n)(K(JL),K(Bc),K(et),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lk{constructor(t){if(this.scrollStrategy=new Fk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class a9{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class l9{constructor(t,e,r,a,d,p,f,m,v){this._portalOutlet=t,this._host=e,this._pane=r,this._config=a,this._ngZone=d,this._keyboardDispatcher=p,this._document=f,this._location=m,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new pe,this._attachments=new pe,this._detachments=new pe,this._locationChanges=Gt.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new pe,this._outsidePointerEvents=new pe,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(er(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ci(this._config.width),t.height=Ci(this._config.height),t.minWidth=Ci(this._config.minWidth),t.minHeight=Ci(this._config.minHeight),t.maxWidth=Ci(this._config.maxWidth),t.maxHeight=Ci(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,r){const a=EA(e||[]).filter(d=>!!d);a.length&&(r?t.classList.add(...a):t.classList.remove(...a))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ei(wr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Iw=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||SA()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let d=0;d<a.length;d++)a[d].remove()}const r=this._document.createElement("div");r.classList.add(e),SA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(Zn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kk="cdk-overlay-connected-position-bounding-box",c9=/([A-Za-z%]+)$/;class u9{constructor(t,e,r,a,d){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe,this._resizeSubscription=Gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(kk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,a=this._containerRect,d=[];let p;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,a,f),v=this._getOverlayPoint(m,e,f),C=this._getOverlayFit(v,e,r,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(C,v,r)?d.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!p||p.overlayFit.visibleArea<C.visibleArea)&&(p={overlayFit:C,overlayPoint:v,originPoint:m,position:f,overlayRect:e})}if(d.length){let f=null,m=-1;for(const v of d){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>m&&(m=C,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let a,d;if("center"==r.originX)a=t.left+t.width/2;else{const p=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;a="start"==r.originX?p:f}return e.left<0&&(a-=e.left),d="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(d-=e.top),{x:a,y:d}}_getOverlayPoint(t,e,r){let a,d;return a="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,d="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+a,y:t.y+d}}_getOverlayFit(t,e,r,a){const d=Hk(e);let{x:p,y:f}=t,m=this._getOffset(a,"x"),v=this._getOffset(a,"y");m&&(p+=m),v&&(f+=v);let T=0-f,M=f+d.height-r.height,H=this._subtractOverflows(d.width,0-p,p+d.width-r.width),$=this._subtractOverflows(d.height,T,M),Q=H*$;return{visibleArea:Q,isCompletelyWithinViewport:d.width*d.height===Q,fitsInViewportVertically:$===d.height,fitsInViewportHorizontally:H==d.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const a=r.bottom-e.y,d=r.right-e.x,p=Gk(this._overlayRef.getConfig().minHeight),f=Gk(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=f&&f<=d;return(t.fitsInViewportVertically||null!=p&&p<=a)&&v}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=Hk(e),d=this._viewportRect,p=Math.max(t.x+a.width-d.width,0),f=Math.max(t.y+a.height-d.height,0),m=Math.max(d.top-r.top-t.y,0),v=Math.max(d.left-r.left-t.x,0);let C=0,b=0;return C=a.width<=d.width?v||-p:t.x<this._viewportMargin?d.left-r.left-t.x:0,b=a.height<=d.height?m||-f:t.y<this._viewportMargin?d.top-r.top-t.y:0,this._previousPushAmount={x:C,y:b},{x:t.x+C,y:t.y+b}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),a=new a9(t,r);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,a=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let d=0;d<e.length;d++)e[d].style.transformOrigin=`${r} ${a}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,a=this._isRtl();let d,p,f,C,b,T;if("top"===e.overlayY)p=t.y,d=r.height-p+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,d=r.height-f+this._viewportMargin;else{const M=Math.min(r.bottom-t.y+r.top,t.y),H=this._lastBoundingBoxSize.height;d=2*M,p=t.y-M,d>H&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.y-H/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)T=r.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)b=t.x,C=r.right-t.x;else{const M=Math.min(r.right-t.x+r.left,t.x),H=this._lastBoundingBoxSize.width;C=2*M,b=t.x-M,C>H&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-H/2)}return{top:p,left:b,bottom:f,right:T,width:C,height:d}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;a.height=Ci(r.height),a.top=Ci(r.top),a.bottom=Ci(r.bottom),a.width=Ci(r.width),a.left=Ci(r.left),a.right=Ci(r.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",d&&(a.maxHeight=Ci(d)),p&&(a.maxWidth=Ci(p))}this._lastBoundingBoxSize=r,fd(this._boundingBox.style,a)}_resetBoundingBoxStyles(){fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},a=this._hasExactPosition(),d=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(a){const C=this._viewportRuler.getViewportScrollPosition();fd(r,this._getExactOverlayY(e,t,C)),fd(r,this._getExactOverlayX(e,t,C))}else r.position="static";let f="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),v&&(f+=`translateY(${v}px)`),r.transform=f.trim(),p.maxHeight&&(a?r.maxHeight=Ci(p.maxHeight):d&&(r.maxHeight="")),p.maxWidth&&(a?r.maxWidth=Ci(p.maxWidth):d&&(r.maxWidth="")),fd(this._pane.style,r)}_getExactOverlayY(t,e,r){let a={top:"",bottom:""},d=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,r)),"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":a.top=Ci(d.y),a}_getExactOverlayX(t,e,r){let p,a={left:"",right:""},d=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,r)),p=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===p?a.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":a.left=Ci(d.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Nk(t,r),isOriginOutsideView:YA(t,r),isOverlayClipped:Nk(e,r),isOverlayOutsideView:YA(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,a)=>r-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&EA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ge)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function fd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Gk(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(c9);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Hk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Vk="cdk-global-overlay-wrapper";class d9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Vk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:a,height:d,maxWidth:p,maxHeight:f}=r,m=!("100%"!==a&&"100vw"!==a||p&&"100%"!==p&&"100vw"!==p),v=!("100%"!==d&&"100vh"!==d||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Vk),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let p9=(()=>{class n{constructor(e,r,a,d){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=d}global(){return new d9}flexibleConnectedTo(e){return new u9(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(K(Bc),K(Xe),K(Zn),K(Iw))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bk=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h9=(()=>{class n extends Bk{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=a=>{const d=this._attachedOverlays;for(let p=d.length-1;p>-1;p--)if(d[p]._keydownEvents.observers.length>0){const f=d[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(a)):f.next(a);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(et,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f9=(()=>{class n extends Bk{constructor(e,r,a){super(e),this._platform=r,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=d=>{this._pointerDownEventTarget=js(d)},this._clickListener=d=>{const p=js(d),f="click"===d.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const C=m[v];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(p)||C.overlayElement.contains(f))break;const b=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(d)):b.next(d)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(Zn),K(et,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g9=0,gv=(()=>{class n{constructor(e,r,a,d,p,f,m,v,C,b,T){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=a,this._positionBuilder=d,this._keyboardDispatcher=p,this._injector=f,this._ngZone=m,this._document=v,this._directionality=C,this._location=b,this._outsideClickDispatcher=T}create(e){const r=this._createHostElement(),a=this._createPaneElement(r),d=this._createPortalOutlet(a),p=new Lk(e);return p.direction=p.direction||this._directionality.value,new l9(d,r,a,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+g9++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ac)),new oK(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(K(s9),K(Iw),K(Oo),K(p9),K(h9),K(qt),K(et),K(Xe),K(gr),K(Vm),K(f9))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const _9={provide:new Ee("cdk-connected-overlay-scroll-strategy"),deps:[gv],useFactory:function v9(n){return()=>n.scrollStrategies.reposition()}};let y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[gv,_9],imports:[[kh,uv,XL],XL]}),n})();function qA(n){return new sn(t=>{br(n()).subscribe(t)})}function C9(n,t){}class QA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const b9={dialogContainer:Nc("dialogContainer",[Oi("void, exit",gn({opacity:0,transform:"scale(0.7)"})),Oi("enter",gn({transform:"none"})),ls("* => enter",Mo("150ms cubic-bezier(0, 0, 0.2, 1)",gn({transform:"none",opacity:1}))),ls("* => void, * => exit",Mo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",gn({opacity:0})))])};let w9=(()=>{class n extends PA{constructor(e,r,a,d,p,f){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=a,this._config=p,this._focusMonitor=f,this._animationStateChanged=new z,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(m)),this._ariaLabelledBy=p.ariaLabelledBy||null,this._document=d}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=gw(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=gw())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=gw();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(Q8),R(_n),R(Xe,8),R(QA),R(Hc))},n.\u0275dir=ce({type:n,viewQuery:function(e,r){if(1&e&&Ln(cd,7),2&e){let a;qe(a=Qe())&&(r._portalOutlet=a.first)}},features:[ke]}),n})(),S9=(()=>{class n extends w9{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275cmp=Ce({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&Tm("@dialogContainer.start",function(d){return r._onAnimationStart(d)})("@dialogContainer.done",function(d){return r._onAnimationDone(d)}),2&e&&(ks("id",r._id),rt("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),FC("@dialogContainer",r._state))},features:[ke],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&V(0,C9,0,0,"ng-template",0)},directives:[cd],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[b9.dialogContainer]}}),n})(),E9=0;class JA{constructor(t,e,r="mat-dialog-"+E9++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pe,this._afterClosed=new pe,this._beforeClosed=new pe,this._state=0,e._id=r,e._animationStateChanged.pipe(xi(a=>"opened"===a.state),er(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(xi(a=>"closed"===a.state),er(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(xi(a=>27===a.keyCode&&!this.disableClose&&!Fh(a))).subscribe(a=>{a.preventDefault(),XA(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():XA(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xi(e=>"closing"===e.state),er(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function XA(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const D9=new Ee("MatDialogData"),T9=new Ee("mat-dialog-default-options"),Wk=new Ee("mat-dialog-scroll-strategy"),A9={provide:Wk,deps:[gv],useFactory:function R9(n){return()=>n.scrollStrategies.block()}};let O9=(()=>{class n{constructor(e,r,a,d,p,f,m,v,C){this._overlay=e,this._injector=r,this._defaultOptions=a,this._parentDialog=d,this._overlayContainer=p,this._dialogRefConstructor=m,this._dialogContainerType=v,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pe,this._afterOpenedAtThisLevel=new pe,this._ariaHiddenElements=new Map,this.afterAllClosed=qA(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qi(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){r=function x9(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new QA),r.id&&this.getDialogById(r.id);const a=this._createOverlay(r),d=this._attachDialogContainer(a,r),p=this._attachDialogContent(e,d,a,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.afterClosed().subscribe(()=>this._removeOpenDialog(p)),this.afterOpened.next(p),d._initializeWithAttachedContent(),p}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new Lk({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const d=qt.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:QA,useValue:r}]}),p=new MA(this._dialogContainerType,r.viewContainerRef,d,r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,r,a,d){const p=new this._dialogRefConstructor(a,r,d.id);if(e instanceof Xn)r.attachTemplatePortal(new Lh(e,null,{$implicit:d.data,dialogRef:p}));else{const f=this._createInjector(d,p,r),m=r.attachComponentPortal(new MA(e,d.viewContainerRef,f));p.componentInstance=m.instance}return p.updateSize(d.width,d.height).updatePosition(d.position),p}_createInjector(e,r,a){const d=e&&e.viewContainerRef&&e.viewContainerRef.injector,p=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!d||!d.get(gr,null,dt.Optional))&&p.push({provide:gr,useValue:{value:e.direction,change:Re()}}),qt.create({parent:d||this._injector,providers:p})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,d)=>{a?d.setAttribute("aria-hidden",a):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let a=r.length-1;a>-1;a--){let d=r[a];d!==e&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(R(gv),R(qt),R(void 0),R(void 0),R(Iw),R(void 0),R(gu),R(gu),R(Ee))},n.\u0275dir=ce({type:n}),n})(),ZA=(()=>{class n extends O9{constructor(e,r,a,d,p,f,m){super(e,r,d,f,m,p,JA,S9,D9)}}return n.\u0275fac=function(e){return new(e||n)(K(gv),K(qt),K(Vm,8),K(T9,8),K(Wk),K(n,12),K(Iw))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),M9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[ZA,A9],imports:[[y9,uv,Dn],Dn]}),n})(),tO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so,Dn,TA],Dn]}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})(),cY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[pv],imports:[[Zk,tO,Dn],Zk,tO]}),n})(),eG=(()=>{class n{constructor(){this._listeners=[]}notify(e,r){for(let a of this._listeners)a(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uY=0;const nO=new Ee("CdkAccordion");let dY=(()=>{class n{constructor(){this._stateChanges=new pe,this._openCloseAllActions=new pe,this.id="cdk-accordion-"+uY++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=un(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[gt([{provide:nO,useExisting:n}]),$t]}),n})(),pY=0,hY=(()=>{class n{constructor(e,r,a){this.accordion=e,this._changeDetectorRef=r,this._expansionDispatcher=a,this._openCloseAllSubscription=Gt.EMPTY,this.closed=new z,this.opened=new z,this.destroyed=new z,this.expandedChange=new z,this.id="cdk-accordion-child-"+pY++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((d,p)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===p&&this.id!==d&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=un(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=un(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(R(nO,12),R(_n),R(eG))},n.\u0275dir=ce({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[gt([{provide:nO,useValue:void 0}])]}),n})(),fY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();const gY=["body"];function mY(n,t){}const vY=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],_Y=["mat-expansion-panel-header","*","mat-action-row"];function yY(n,t){1&n&&X(0,"span",2),2&n&&I("@indicatorRotate",L()._getExpandedState())}const CY=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],bY=["mat-panel-title","mat-panel-description","*"],iO=new Ee("MAT_ACCORDION"),tG="225ms cubic-bezier(0.4,0.0,0.2,1)",nG={indicatorRotate:Nc("indicatorRotate",[Oi("collapsed, void",gn({transform:"rotate(0deg)"})),Oi("expanded",gn({transform:"rotate(180deg)"})),ls("expanded <=> collapsed, void => collapsed",Mo(tG))]),bodyExpansion:Nc("bodyExpansion",[Oi("collapsed, void",gn({height:"0px",visibility:"hidden"})),Oi("expanded",gn({height:"*",visibility:"visible"})),ls("expanded <=> collapsed, void => collapsed",Mo(tG))])};let wY=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(R(Xn))},n.\u0275dir=ce({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),SY=0;const iG=new Ee("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Mw=(()=>{class n extends hY{constructor(e,r,a,d,p,f,m){super(e,r,a),this._viewContainerRef=d,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new z,this.afterCollapse=new z,this._inputChanges=new pe,this._headerId="mat-expansion-panel-header-"+SY++,this._bodyAnimationDone=new pe,this.accordion=e,this._document=p,this._bodyAnimationDone.pipe(yw((v,C)=>v.fromState===C.fromState&&v.toState===C.toState)).subscribe(v=>{"void"!==v.fromState&&("expanded"===v.toState?this.afterExpand.emit():"collapsed"===v.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=un(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Qi(null),xi(()=>this.expanded&&!this._portal),er(1)).subscribe(()=>{this._portal=new Lh(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,r=this._body.nativeElement;return e===r||r.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(R(iO,12),R(_n),R(eG),R(Nn),R(Xe),R(yi,8),R(iG,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,r,a){if(1&e&&Bt(a,wY,5),2&e){let d;qe(d=Qe())&&(r._lazyContent=d.first)}},viewQuery:function(e,r){if(1&e&&Ln(gY,5),2&e){let a;qe(a=Qe())&&(r._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,r){2&e&&Ue("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[gt([{provide:iO,useValue:void 0}]),ke,$t],ngContentSelectors:_Y,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,r){1&e&&(an(vY),ft(0),S(1,"div",0,1),U("@bodyExpansion.done",function(d){return r._bodyAnimationDone.next(d)}),S(3,"div",2),ft(4,1),V(5,mY,0,0,"ng-template",3),E(),ft(6,2),E()),2&e&&(D(1),I("@bodyExpansion",r._getExpandedState())("id",r.id),rt("aria-labelledby",r._headerId),D(4),I("cdkPortalOutlet",r._portal))},directives:[cd],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[nG.bodyExpansion]},changeDetection:0}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),n})();class DY{}const TY=VL(DY);let Pw=(()=>{class n extends TY{constructor(e,r,a,d,p,f,m){super(),this.panel=e,this._element=r,this._focusMonitor=a,this._changeDetectorRef=d,this._animationMode=f,this._parentChangeSubscription=Gt.EMPTY;const v=e.accordion?e.accordion._stateChanges.pipe(xi(C=>!(!C.hideToggle&&!C.togglePosition))):zr;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=wr(e.opened,e.closed,v,e._inputChanges.pipe(xi(C=>!!(C.hideToggle||C.disabled||C.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(xi(()=>e._containsFocus())).subscribe(()=>a.focusVia(r,"program")),p&&(this.expandedHeight=p.expandedHeight,this.collapsedHeight=p.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Fh(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,r){e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(R(Mw,1),R(Ge),R(Hc),R(_n),R(iG,8),R(yi,8),Ko("tabindex"))},n.\u0275cmp=Ce({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,r){1&e&&U("click",function(){return r._toggle()})("keydown",function(d){return r._keydown(d)}),2&e&&(rt("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),ln("height",r._getHeaderHeight()),Ue("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[ke],ngContentSelectors:bY,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,r){1&e&&(an(CY),S(0,"span",0),ft(1),ft(2,1),ft(3,2),E(),V(4,yY,1,1,"span",1)),2&e&&(D(4),I("ngIf",r._showToggle()))},directives:[ut],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[nG.indicatorRotate]},changeDetection:0}),n})(),rO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),RY=(()=>{class n extends dY{constructor(){super(...arguments),this._ownHeaders=new is,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=un(e)}ngAfterContentInit(){this._headers.changes.pipe(Qi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new RA(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,r,a){if(1&e&&Bt(a,Pw,5),2&e){let d;qe(d=Qe())&&(r._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,r){2&e&&Ue("mat-accordion-multi",r.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[gt([{provide:iO,useExisting:n}]),ke]}),n})(),AY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so,Dn,fY,uv]]}),n})(),PY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[Dn],Dn]}),n})();const oG=["mat-button",""],sG=["*"],NY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],LY=Gh(dv(NA(class{constructor(n){this._elementRef=n}})));let lG=(()=>{class n extends LY{constructor(e,r,a){super(e),this._focusMonitor=r,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const d of NY)this._hasHostAttributes(d)&&this._getHostElement().classList.add(d);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(Hc),R(yi,8))},n.\u0275cmp=Ce({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&Ln(Vc,5),2&e){let a;qe(a=Qe())&&(r.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(rt("disabled",r.disabled||null),Ue("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ke],attrs:oG,ngContentSelectors:sG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(an(),S(0,"span",0),ft(1),E(),X(2,"span",1)(3,"span",2)),2&e&&(D(2),Ue("mat-button-ripple-round",r.isRoundButton||r.isIconButton),I("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Vc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),cG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[ww,Dn],Dn]}),n})(),dG=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(R(Xn))},n.\u0275dir=ce({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),WY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[kh]]}),n})();function Go(n,t){return Rn((e,r)=>{let a=null,d=0,p=!1;const f=()=>p&&!a&&r.complete();e.subscribe(An(r,m=>{null==a||a.unsubscribe();let v=0;const C=d++;br(n(m,C)).subscribe(a=An(r,b=>r.next(t?t(m,b,C,v++):b),()=>{a=null,f()}))},()=>{p=!0,f()}))})}let Fw=(()=>{class n extends dG{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matStepLabel",""]],features:[ke]}),n})(),Nw=(()=>{class n{constructor(){this.changes=new pe,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({factory:function(){return new n},token:n,providedIn:"root"}),n})();const uq={provide:Nw,deps:[[new Ti,new sa,Nw]],useFactory:function cq(n){return n||new Nw}};let _q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[uq,pv],imports:[[Dn,so,uv,cG,WY,Mk,ww],Dn]}),n})(),Dq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[Dn],Dn]}),n})(),Lq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[WL,Dn],WL,Dn]}),n})();const kq=function(n){return{dropdown:n}},Gq=["*"],bG=[gn({height:0,overflow:"hidden"}),Mo("220ms cubic-bezier(0, 0, 0.2, 1)",gn({height:"*",overflow:"hidden"}))];let md=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new z,this.isDisabledChange=new z,this.toggleClick=new z,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vq=(()=>{class n{constructor(e,r,a,d,p){this._state=e,this.cd=r,this._renderer=a,this._element=d,this.isOpen=!1,this._factoryDropDownAnimation=p.build(bG),this._subscription=e.isOpenChange.subscribe(f=>{this.isOpen=f;const m=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),m&&!yl()&&(this._renderer.addClass(m,"show"),(m.classList.contains("dropdown-menu-right")||m.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(m,"left","auto"),this._renderer.setStyle(m,"right","0")),"up"===this.direction&&(this._renderer.setStyle(m,"top","auto"),this._renderer.setStyle(m,"transform","translateY(-101%)"))),m&&this._state.isAnimated&&this._factoryDropDownAnimation.create(m).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(md),R(_n),R(ir),R(Ge),R(Gb))},n.\u0275cmp=Ce({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Gq,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(e,r){1&e&&(an(),S(0,"div",0),ft(1),E()),2&e&&(Ue("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),I("ngClass",rr(7,kq,"down"===r.direction)))},directives:[va],encapsulation:2,changeDetection:0}),n})(),Bq=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wG=(()=>{class n{constructor(e,r,a,d,p,f,m){this._elementRef=e,this._renderer=r,this._viewContainerRef=a,this._cis=d,this._state=p,this._config=f,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=m.build(bG),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:md,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get isBs4(){return!yl()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(xi(e=>e)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(e=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const a=this.placement||(r?"top start":"bottom start");this._dropdown.attach(Vq).to(this.container).position({attachment:a}).show({content:e.templateRef,placement:a}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const a=this._elementRef.nativeElement.ownerDocument.activeElement,d=r.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&d[--this._state.counts].focus();break;case 40:this._state.counts+1<d.length&&(a.classList!==d[this._state.counts].classList?d[this._state.counts].focus():d[++this._state.counts].focus())}e.preventDefault()}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){yl()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(ir),R(Nn),R(ad),R(md),R(Bq),R(Gb))},n.\u0275dir=ce({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(e,r){1&e&&U("keydown.arrowDown",function(d){return r.navigationClick(d)})("keydown.arrowUp",function(d){return r.navigationClick(d)}),2&e&&Ue("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[gt([md])]}),n})(),Wq=(()=>{class n{constructor(e,r,a){e.resolveDropdownMenu({templateRef:a,viewContainer:r})}}return n.\u0275fac=function(e){return new(e||n)(R(md),R(Nn),R(Xn))},n.\u0275dir=ce({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),jq=(()=>{class n{constructor(e,r,a,d,p){this._changeDetectorRef=e,this._dropdown=r,this._element=a,this._renderer=d,this._state=p,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(f=>{this.isOpen=f,f?(this._documentClickListener=this._renderer.listen("document","click",m=>{this._state.autoClose&&2!==m.button&&!this._element.nativeElement.contains(m.target)&&(!this._state.insideClick||!this._dropdown._contains(m))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(f=>this.isDisabled=f||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(_n),R(wG),R(Ge),R(ir),R(md))},n.\u0275dir=ce({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(e,r){1&e&&U("click",function(d){return r.onClick(d)}),2&e&&rt("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),Uq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ad,Mh,md]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})(),Kq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})();const Yq=["*"];let lO=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qq=(()=>{class n{constructor(e){Object.assign(this,e)}get _bsVersions(){return xh()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Ih[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(e){return new(e||n)(R(lO))},n.\u0275cmp=Ce({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(e,r){2&e&&(rt("id",r.id),cn("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),Ue("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:Yq,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,r){1&e&&(an(),X(0,"div",0),S(1,"div",1),ft(2),E())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),Qq=0,Br=(()=>{class n{constructor(e,r,a,d,p,f){this._elementRef=d,this._renderer=p,this._positionService=f,this.tooltipId=Qq++,this.adaptivePosition=!0,this.tooltipChange=new z,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new z,this._tooltip=r.createLoader(this._elementRef,e,this._renderer).provide({provide:lO,useValue:a}),Object.assign(this,a),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){Lo("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}set _placement(e){Lo("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}set _isOpen(e){Lo("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e}get _isOpen(){return Lo("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(e){Lo("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e}get _enable(){return Lo("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(e){Lo('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container}get _appendToBody(){return Lo('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(e){Lo("tooltipClass deprecated")}set _tooltipContext(e){Lo("tooltipContext deprecated")}set _tooltipPopupDelay(e){Lo("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}get _tooltipTrigger(){return Lo("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(e){Lo("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(qq).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Sw(this.delay).subscribe(()=>{e(),r()}),this.triggers&&oA(this.triggers).forEach(a=>{!a.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,a.close,()=>{var d;null===(d=this._delaySubscription)||void 0===d||d.unsubscribe(),r()}))})):e()}hide(){var e;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(e=this._tooltip.instance)||void 0===e?void 0:e.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Nn),R(ad),R(lO),R(Ge),R(ir),R(Mh))},n.\u0275dir=ce({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),function zv(n,t,e,r){var p,a=arguments.length,d=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(n,t,e,r);else for(var f=n.length-1;f>=0;f--)(p=n[f])&&(d=(a<3?p(d):a>3?p(t,e,d):p(t,e))||d);a>3&&d&&Object.defineProperty(t,e,d)}([h6(),DS("design:type",Object)],n.prototype,"tooltip",void 0),n})(),Jq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ad,Mh]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})();function A(n,t,e,r){var p,a=arguments.length,d=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(n,t,e,r);else for(var f=n.length-1;f>=0;f--)(p=n[f])&&(d=(a<3?p(d):a>3?p(t,e,d):p(t,e))||d);return a>3&&d&&Object.defineProperty(t,e,d),d}function O(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}var uO,vd=Z(564);let oe=uO=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let t=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(t.children=this.getChildColDefs(this.childColumns)),t}getChildColDefs(t){return t.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(t){return function Xq(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e}(t,["childColumns"])}};oe.\u0275fac=function(t){return new(t||oe)},oe.\u0275cmp=Ce({type:oe,selectors:[["ag-grid-column"]],contentQueries:function(t,e,r){if(1&t&&Bt(r,uO,4),2&t){let a;qe(a=Qe())&&(e.childColumns=a)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),A([W_(uO),O("design:type",is)],oe.prototype,"childColumns",void 0),A([N(),O("design:type",Object)],oe.prototype,"filterFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"filterParams",void 0),A([N(),O("design:type",Object)],oe.prototype,"floatingFilterComponent",void 0),A([N(),O("design:type",Object)],oe.prototype,"floatingFilterComponentParams",void 0),A([N(),O("design:type",Object)],oe.prototype,"floatingFilterComponentFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"filter",void 0),A([N(),O("design:type",String)],oe.prototype,"headerName",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerValueGetter",void 0),A([N(),O("design:type",String)],oe.prototype,"headerTooltip",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerClass",void 0),A([N(),O("design:type",Function)],oe.prototype,"suppressHeaderKeyboardEvent",void 0),A([N(),O("design:type",String)],oe.prototype,"columnGroupShow",void 0),A([N(),O("design:type",Object)],oe.prototype,"toolPanelClass",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressColumnsToolPanel",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressFiltersToolPanel",void 0),A([N(),O("design:type",Object)],oe.prototype,"tooltipComponent",void 0),A([N(),O("design:type",Object)],oe.prototype,"tooltipComponentFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"tooltipComponentParams",void 0),A([N(),O("design:type",Array)],oe.prototype,"children",void 0),A([N(),O("design:type",String)],oe.prototype,"groupId",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"openByDefault",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"marryChildren",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerGroupComponent",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerGroupComponentFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerGroupComponentParams",void 0),A([N(),O("design:type",String)],oe.prototype,"colId",void 0),A([N(),O("design:type",String)],oe.prototype,"field",void 0),A([N(),O("design:type",Object)],oe.prototype,"type",void 0),A([N(),O("design:type",Object)],oe.prototype,"valueGetter",void 0),A([N(),O("design:type",Object)],oe.prototype,"valueFormatter",void 0),A([N(),O("design:type",Object)],oe.prototype,"refData",void 0),A([N(),O("design:type",Function)],oe.prototype,"keyCreator",void 0),A([N(),O("design:type",Function)],oe.prototype,"equals",void 0),A([N(),O("design:type",String)],oe.prototype,"tooltipField",void 0),A([N(),O("design:type",Function)],oe.prototype,"tooltipValueGetter",void 0),A([N(),O("design:type",Object)],oe.prototype,"checkboxSelection",void 0),A([N(),O("design:type",Object)],oe.prototype,"icons",void 0),A([N(),O("design:type",Object)],oe.prototype,"suppressNavigable",void 0),A([N(),O("design:type",Function)],oe.prototype,"suppressKeyboardEvent",void 0),A([N(),O("design:type",Object)],oe.prototype,"suppressPaste",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressFillHandle",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"hide",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"initialHide",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"lockVisible",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"lockPosition",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressMovable",void 0),A([N(),O("design:type",Object)],oe.prototype,"editable",void 0),A([N(),O("design:type",Object)],oe.prototype,"valueSetter",void 0),A([N(),O("design:type",Object)],oe.prototype,"valueParser",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellEditor",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellEditorFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellEditorParams",void 0),A([N(),O("design:type",Function)],oe.prototype,"cellEditorSelector",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"singleClickEdit",void 0),A([N(),O("design:type",Function)],oe.prototype,"newValueHandler",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"cellEditorPopup",void 0),A([N(),O("design:type",String)],oe.prototype,"cellEditorPopupPosition",void 0),A([N(),O("design:type",Function)],oe.prototype,"onCellValueChanged",void 0),A([N(),O("design:type",Function)],oe.prototype,"onCellClicked",void 0),A([N(),O("design:type",Function)],oe.prototype,"onCellDoubleClicked",void 0),A([N(),O("design:type",Function)],oe.prototype,"onCellContextMenu",void 0),A([N(),O("design:type",Function)],oe.prototype,"getQuickFilterText",void 0),A([N(),O("design:type",Object)],oe.prototype,"filterValueGetter",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"floatingFilter",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerComponent",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerComponentFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerComponentParams",void 0),A([N(),O("design:type",Array)],oe.prototype,"menuTabs",void 0),A([N(),O("design:type",Object)],oe.prototype,"columnsMenuParams",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressMenu",void 0),A([N(),O("design:type",Object)],oe.prototype,"headerCheckboxSelection",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"headerCheckboxSelectionFilteredOnly",void 0),A([N(),O("design:type",String)],oe.prototype,"chartDataType",void 0),A([N(),O("design:type",Object)],oe.prototype,"pinned",void 0),A([N(),O("design:type",Object)],oe.prototype,"initialPinned",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"lockPinned",void 0),A([N(),O("design:type",Object)],oe.prototype,"pinnedRowCellRenderer",void 0),A([N(),O("design:type",Object)],oe.prototype,"pinnedRowCellRendererFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"pinnedRowCellRendererParams",void 0),A([N(),O("design:type",Object)],oe.prototype,"pinnedRowValueFormatter",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"pivot",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"initialPivot",void 0),A([N(),O("design:type",Number)],oe.prototype,"pivotIndex",void 0),A([N(),O("design:type",Number)],oe.prototype,"initialPivotIndex",void 0),A([N(),O("design:type",Function)],oe.prototype,"pivotComparator",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"enablePivot",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellStyle",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellClass",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellClassRules",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellRenderer",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellRendererFramework",void 0),A([N(),O("design:type",Object)],oe.prototype,"cellRendererParams",void 0),A([N(),O("design:type",Function)],oe.prototype,"cellRendererSelector",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"autoHeight",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"wrapText",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"enableCellChangeFlash",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressCellFlash",void 0),A([N(),O("design:type",Object)],oe.prototype,"rowDrag",void 0),A([N(),O("design:type",Function)],oe.prototype,"rowDragText",void 0),A([N(),O("design:type",Object)],oe.prototype,"dndSource",void 0),A([N(),O("design:type",Function)],oe.prototype,"dndSourceOnRowDrag",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"rowGroup",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"initialRowGroup",void 0),A([N(),O("design:type",Number)],oe.prototype,"rowGroupIndex",void 0),A([N(),O("design:type",Number)],oe.prototype,"initialRowGroupIndex",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"enableRowGroup",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"enableValue",void 0),A([N(),O("design:type",Object)],oe.prototype,"aggFunc",void 0),A([N(),O("design:type",Object)],oe.prototype,"initialAggFunc",void 0),A([N(),O("design:type",Array)],oe.prototype,"allowedAggFuncs",void 0),A([N(),O("design:type",Object)],oe.prototype,"showRowGroup",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"sortable",void 0),A([N(),O("design:type",String)],oe.prototype,"sort",void 0),A([N(),O("design:type",String)],oe.prototype,"initialSort",void 0),A([N(),O("design:type",Number)],oe.prototype,"sortIndex",void 0),A([N(),O("design:type",Number)],oe.prototype,"initialSortIndex",void 0),A([N(),O("design:type",Array)],oe.prototype,"sortingOrder",void 0),A([N(),O("design:type",Function)],oe.prototype,"comparator",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"unSortIcon",void 0),A([N(),O("design:type",Number)],oe.prototype,"sortedAt",void 0),A([N(),O("design:type",Function)],oe.prototype,"colSpan",void 0),A([N(),O("design:type",Function)],oe.prototype,"rowSpan",void 0),A([N(),O("design:type",Number)],oe.prototype,"width",void 0),A([N(),O("design:type",Number)],oe.prototype,"initialWidth",void 0),A([N(),O("design:type",Number)],oe.prototype,"minWidth",void 0),A([N(),O("design:type",Number)],oe.prototype,"maxWidth",void 0),A([N(),O("design:type",Number)],oe.prototype,"flex",void 0),A([N(),O("design:type",Number)],oe.prototype,"initialFlex",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"resizable",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressSizeToFit",void 0),A([N(),O("design:type",Boolean)],oe.prototype,"suppressAutoSize",void 0);let dO=(()=>{let n=class extends vd.vA3{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,r){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},r)}):window.setTimeout(()=>{e()},r)}setInterval(e,r){return new vd.j_S(a=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{a(window.setInterval(()=>{e()},r))}):a(window.setInterval(()=>{e()},r))})}addEventListener(e,r,a,d){this.isOutsideAngular(r)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(r,a,d)}):e.addEventListener(r,a,d)}dispatchEvent(e,r,a=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(r):r():(this.isEmitterUsed(e)||a)&&(!et.isInAngularZone()&&this._ngZone?this._ngZone.run(r):r())}};return n.\u0275fac=function(e){return new(e||n)(K(et))},n.\u0275prov=_e({token:n,factory:function(t){return n.\u0275fac(t)}}),n=A([O("design:paramtypes",[et])],n),n})(),pO=(()=>{let n=class extends vd.Nk3{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let r=this,d=new class a extends class eQ{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(f){super.init(f),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return r.createComponent(e)}hasMethod(f){return null!=d.getFrameworkComponentInstance()[f]}callMethod(f,m){const v=this.getFrameworkComponentInstance();return d.getFrameworkComponentInstance()[f].apply(v,m)}addMethod(f,m){d[f]=m}};return d}createComponent(e){let r=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(r)}};return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jt(n)))(r||n)}}(),n.\u0275prov=_e({token:n,factory:function(t){return n.\u0275fac(t)}}),n})(),hO=(()=>{let n=class{constructor(e,r,a,d,p){this.viewContainerRef=r,this.angularFrameworkOverrides=a,this.frameworkComponentWrapper=d,this.componentFactoryResolver=p,this._initialised=!1,this._destroyed=!1,this._fullyReady=vd.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.clipboardDeliminator=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.reactUi=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.floatingFilter=void 0,this.enableOldSetFilterModel=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.isGroupOpenByDefault=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.toolPanelVisibleChanged=new z,this.pasteStart=new z,this.pasteEnd=new z,this.columnVisible=new z,this.columnPinned=new z,this.columnResized=new z,this.columnMoved=new z,this.columnValueChanged=new z,this.columnPivotModeChanged=new z,this.columnPivotChanged=new z,this.columnGroupOpened=new z,this.newColumnsLoaded=new z,this.gridColumnsChanged=new z,this.displayedColumnsChanged=new z,this.virtualColumnsChanged=new z,this.columnEverythingChanged=new z,this.componentStateChanged=new z,this.cellValueChanged=new z,this.rowValueChanged=new z,this.cellEditingStarted=new z,this.cellEditingStopped=new z,this.rowEditingStarted=new z,this.rowEditingStopped=new z,this.filterOpened=new z,this.filterChanged=new z,this.filterModified=new z,this.chartCreated=new z,this.chartRangeSelectionChanged=new z,this.chartOptionsChanged=new z,this.chartDestroyed=new z,this.cellKeyDown=new z,this.cellKeyPress=new z,this.gridReady=new z,this.firstDataRendered=new z,this.gridSizeChanged=new z,this.modelUpdated=new z,this.virtualRowRemoved=new z,this.viewportChanged=new z,this.bodyScroll=new z,this.bodyScrollEnd=new z,this.dragStarted=new z,this.dragStopped=new z,this.paginationChanged=new z,this.rowDragEnter=new z,this.rowDragMove=new z,this.rowDragLeave=new z,this.rowDragEnd=new z,this.columnRowGroupChanged=new z,this.rowGroupOpened=new z,this.expandOrCollapseAll=new z,this.pinnedRowDataChanged=new z,this.rowDataChanged=new z,this.rowDataUpdated=new z,this.asyncTransactionsFlushed=new z,this.cellClicked=new z,this.cellDoubleClicked=new z,this.cellFocused=new z,this.cellMouseOver=new z,this.cellMouseOut=new z,this.cellMouseDown=new z,this.rowClicked=new z,this.rowDoubleClicked=new z,this.rowSelected=new z,this.selectionChanged=new z,this.cellContextMenu=new z,this.rangeSelectionChanged=new z,this.sortChanged=new z,this.columnRowGroupChangeRequest=new z,this.columnPivotChangeRequest=new z,this.columnValueChangeRequest=new z,this.columnAggFuncChangeRequest=new z,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=vd.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new vd.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&vd.plv.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const r=this[e],a=!!r&&r.observers&&r.observers.length>0,d=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return a||!!this.gridOptions&&!!this.gridOptions[d]}globalEventListener(e,r){if(this._destroyed)return;const a=this[e];a&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(d=>{a.emit(r)}):a.emit(r))}};return n.\u0275fac=function(e){return new(e||n)(R(Ge),R(Nn),R(dO),R(pO),R(Oo))},n.\u0275cmp=Ce({type:n,selectors:[["ag-grid-angular"]],contentQueries:function(e,r,a){if(1&e&&Bt(a,oe,4),2&e){let d;qe(d=Qe())&&(r.columns=d)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",clipboardDeliminator:"clipboardDeliminator",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",reactUi:"reactUi",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",floatingFilter:"floatingFilter",enableOldSetFilterModel:"enableOldSetFilterModel",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",isGroupOpenByDefault:"isGroupOpenByDefault",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[gt([dO,pO]),$t],decls:0,vars:0,template:function(e,r){},encapsulation:2}),A([W_(oe),O("design:type",is)],n.prototype,"columns",void 0),A([N(),O("design:type",Object)],n.prototype,"gridOptions",void 0),A([N(),O("design:type",Array)],n.prototype,"modules",void 0),A([N(),O("design:type",Object)],n.prototype,"statusBar",void 0),A([N(),O("design:type",Object)],n.prototype,"sideBar",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressContextMenu",void 0),A([N(),O("design:type",Boolean)],n.prototype,"preventDefaultOnContextMenu",void 0),A([N(),O("design:type",Boolean)],n.prototype,"allowContextMenuWithControlKey",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMenuHide",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableBrowserTooltips",void 0),A([N(),O("design:type",Number)],n.prototype,"tooltipShowDelay",void 0),A([N(),O("design:type",Boolean)],n.prototype,"tooltipMouseTrack",void 0),A([N(),O("design:type",HTMLElement)],n.prototype,"popupParent",void 0),A([N(),O("design:type",Boolean)],n.prototype,"copyHeadersToClipboard",void 0),A([N(),O("design:type",String)],n.prototype,"clipboardDeliminator",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressCopyRowsToClipboard",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressLastEmptyLineOnPaste",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressClipboardPaste",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressClipboardApi",void 0),A([N(),O("design:type",Array)],n.prototype,"columnDefs",void 0),A([N(),O("design:type",Object)],n.prototype,"defaultColDef",void 0),A([N(),O("design:type",Object)],n.prototype,"defaultColGroupDef",void 0),A([N(),O("design:type",Object)],n.prototype,"columnTypes",void 0),A([N(),O("design:type",Boolean)],n.prototype,"maintainColumnOrder",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressFieldDotNotation",void 0),A([N(),O("design:type",Boolean)],n.prototype,"deltaColumnMode",void 0),A([N(),O("design:type",Boolean)],n.prototype,"applyColumnDefOrder",void 0),A([N(),O("design:type",Boolean)],n.prototype,"immutableColumns",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressSetColumnStateEvents",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressColumnStateEvents",void 0),A([N(),O("design:type",Number)],n.prototype,"colWidth",void 0),A([N(),O("design:type",Number)],n.prototype,"minColWidth",void 0),A([N(),O("design:type",Number)],n.prototype,"maxColWidth",void 0),A([N(),O("design:type",Number)],n.prototype,"headerHeight",void 0),A([N(),O("design:type",Number)],n.prototype,"groupHeaderHeight",void 0),A([N(),O("design:type",Number)],n.prototype,"floatingFiltersHeight",void 0),A([N(),O("design:type",Number)],n.prototype,"pivotHeaderHeight",void 0),A([N(),O("design:type",Number)],n.prototype,"pivotGroupHeaderHeight",void 0),A([N(),O("design:type",Boolean)],n.prototype,"allowDragFromColumnsToolPanel",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMovableColumns",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressColumnMoveAnimation",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressDragLeaveHidesColumns",void 0),A([N(),O("design:type",String)],n.prototype,"colResizeDefault",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAutoSize",void 0),A([N(),O("design:type",Number)],n.prototype,"autoSizePadding",void 0),A([N(),O("design:type",Boolean)],n.prototype,"skipHeaderOnAutoSize",void 0),A([N(),O("design:type",Object)],n.prototype,"components",void 0),A([N(),O("design:type",Object)],n.prototype,"frameworkComponents",void 0),A([N(),O("design:type",Boolean)],n.prototype,"reactUi",void 0),A([N(),O("design:type",String)],n.prototype,"editType",void 0),A([N(),O("design:type",Boolean)],n.prototype,"singleClickEdit",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressClickEdit",void 0),A([N(),O("design:type",Boolean)],n.prototype,"stopEditingWhenCellsLoseFocus",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enterMovesDown",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enterMovesDownAfterEdit",void 0),A([N(),O("design:type",Boolean)],n.prototype,"undoRedoCellEditing",void 0),A([N(),O("design:type",Number)],n.prototype,"undoRedoCellEditingLimit",void 0),A([N(),O("design:type",Boolean)],n.prototype,"stopEditingWhenGridLosesFocus",void 0),A([N(),O("design:type",Object)],n.prototype,"defaultCsvExportParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressCsvExport",void 0),A([N(),O("design:type",Object)],n.prototype,"defaultExcelExportParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressExcelExport",void 0),A([N(),O("design:type",Array)],n.prototype,"excelStyles",void 0),A([N(),O("design:type",Object)],n.prototype,"defaultExportParams",void 0),A([N(),O("design:type",String)],n.prototype,"quickFilterText",void 0),A([N(),O("design:type",Boolean)],n.prototype,"cacheQuickFilter",void 0),A([N(),O("design:type",Boolean)],n.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),A([N(),O("design:type",Boolean)],n.prototype,"floatingFilter",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableOldSetFilterModel",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableCharts",void 0),A([N(),O("design:type",Array)],n.prototype,"chartThemes",void 0),A([N(),O("design:type",Object)],n.prototype,"customChartThemes",void 0),A([N(),O("design:type",Object)],n.prototype,"chartThemeOverrides",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingCellRenderer",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingCellRendererFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingCellRendererParams",void 0),A([N(),O("design:type",Function)],n.prototype,"loadingCellRendererSelector",void 0),A([N(),O("design:type",Object)],n.prototype,"localeText",void 0),A([N(),O("design:type",Boolean)],n.prototype,"masterDetail",void 0),A([N(),O("design:type",Boolean)],n.prototype,"keepDetailRows",void 0),A([N(),O("design:type",Number)],n.prototype,"keepDetailRowsCount",void 0),A([N(),O("design:type",Object)],n.prototype,"detailCellRenderer",void 0),A([N(),O("design:type",Object)],n.prototype,"detailCellRendererFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"detailCellRendererParams",void 0),A([N(),O("design:type",Number)],n.prototype,"detailRowHeight",void 0),A([N(),O("design:type",Boolean)],n.prototype,"detailRowAutoHeight",void 0),A([N(),O("design:type",Object)],n.prototype,"context",void 0),A([N(),O("design:type",Array)],n.prototype,"alignedGrids",void 0),A([N(),O("design:type",Number)],n.prototype,"tabIndex",void 0),A([N(),O("design:type",Number)],n.prototype,"rowBuffer",void 0),A([N(),O("design:type",Boolean)],n.prototype,"valueCache",void 0),A([N(),O("design:type",Boolean)],n.prototype,"valueCacheNeverExpires",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableCellExpressions",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressParentsInRowNodes",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressTouch",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressFocusAfterRefresh",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAsyncEvents",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressBrowserResizeObserver",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressPropertyNamesCheck",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressChangeDetection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"debug",void 0),A([N(),O("design:type",String)],n.prototype,"overlayLoadingTemplate",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingOverlayComponent",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingOverlayComponentFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"loadingOverlayComponentParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressLoadingOverlay",void 0),A([N(),O("design:type",String)],n.prototype,"overlayNoRowsTemplate",void 0),A([N(),O("design:type",Object)],n.prototype,"noRowsOverlayComponent",void 0),A([N(),O("design:type",Object)],n.prototype,"noRowsOverlayComponentFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"noRowsOverlayComponentParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressNoRowsOverlay",void 0),A([N(),O("design:type",Boolean)],n.prototype,"pagination",void 0),A([N(),O("design:type",Number)],n.prototype,"paginationPageSize",void 0),A([N(),O("design:type",Boolean)],n.prototype,"paginationAutoPageSize",void 0),A([N(),O("design:type",Boolean)],n.prototype,"paginateChildRows",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressPaginationPanel",void 0),A([N(),O("design:type",Boolean)],n.prototype,"pivotMode",void 0),A([N(),O("design:type",String)],n.prototype,"pivotPanelShow",void 0),A([N(),O("design:type",String)],n.prototype,"pivotColumnGroupTotals",void 0),A([N(),O("design:type",String)],n.prototype,"pivotRowTotals",void 0),A([N(),O("design:type",Boolean)],n.prototype,"pivotSuppressAutoColumn",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressExpandablePivotGroups",void 0),A([N(),O("design:type",Boolean)],n.prototype,"functionsReadOnly",void 0),A([N(),O("design:type",Object)],n.prototype,"aggFuncs",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAggFuncInHeader",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAggAtRootLevel",void 0),A([N(),O("design:type",Boolean)],n.prototype,"aggregateOnlyChangedColumns",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAggFilteredOnly",void 0),A([N(),O("design:type",Boolean)],n.prototype,"animateRows",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableCellChangeFlash",void 0),A([N(),O("design:type",Number)],n.prototype,"cellFlashDelay",void 0),A([N(),O("design:type",Number)],n.prototype,"cellFadeDelay",void 0),A([N(),O("design:type",String)],n.prototype,"domLayout",void 0),A([N(),O("design:type",Boolean)],n.prototype,"ensureDomOrder",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableRtl",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressColumnVirtualisation",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMaxRenderedRowRestriction",void 0),A([N(),O("design:type",Boolean)],n.prototype,"rowDragManaged",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressRowDrag",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMoveWhenRowDragging",void 0),A([N(),O("design:type",Boolean)],n.prototype,"rowDragEntireRow",void 0),A([N(),O("design:type",Boolean)],n.prototype,"rowDragMultiRow",void 0),A([N(),O("design:type",Object)],n.prototype,"fullWidthCellRenderer",void 0),A([N(),O("design:type",Object)],n.prototype,"fullWidthCellRendererFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"fullWidthCellRendererParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"embedFullWidthRows",void 0),A([N(),O("design:type",Boolean)],n.prototype,"deprecatedEmbedFullWidthRows",void 0),A([N(),O("design:type",String)],n.prototype,"groupDisplayType",void 0),A([N(),O("design:type",Number)],n.prototype,"groupDefaultExpanded",void 0),A([N(),O("design:type",Object)],n.prototype,"autoGroupColumnDef",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupMaintainOrder",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupSelectsChildren",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupIncludeFooter",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupIncludeTotalFooter",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupSuppressBlankHeader",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupSelectsFiltered",void 0),A([N(),O("design:type",Boolean)],n.prototype,"showOpenedGroup",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupRemoveSingleChildren",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupRemoveLowestSingleChildren",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupHideOpenParents",void 0),A([N(),O("design:type",String)],n.prototype,"rowGroupPanelShow",void 0),A([N(),O("design:type",Object)],n.prototype,"groupRowRenderer",void 0),A([N(),O("design:type",Object)],n.prototype,"groupRowRendererFramework",void 0),A([N(),O("design:type",Object)],n.prototype,"groupRowRendererParams",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),A([N(),O("design:type",Boolean)],n.prototype,"treeData",void 0),A([N(),O("design:type",Object)],n.prototype,"groupRowInnerRenderer",void 0),A([N(),O("design:type",Object)],n.prototype,"groupRowInnerRendererFramework",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupMultiAutoColumn",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupUseEntireRow",void 0),A([N(),O("design:type",Boolean)],n.prototype,"groupSuppressAutoColumn",void 0),A([N(),O("design:type",Boolean)],n.prototype,"rememberGroupStateWhenNewData",void 0),A([N(),O("design:type",Array)],n.prototype,"pinnedTopRowData",void 0),A([N(),O("design:type",Array)],n.prototype,"pinnedBottomRowData",void 0),A([N(),O("design:type",String)],n.prototype,"rowModelType",void 0),A([N(),O("design:type",Array)],n.prototype,"rowData",void 0),A([N(),O("design:type",Boolean)],n.prototype,"immutableData",void 0),A([N(),O("design:type",Number)],n.prototype,"asyncTransactionWaitMillis",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),A([N(),O("design:type",Boolean)],n.prototype,"deltaRowDataMode",void 0),A([N(),O("design:type",Number)],n.prototype,"batchUpdateWaitMillis",void 0),A([N(),O("design:type",Object)],n.prototype,"datasource",void 0),A([N(),O("design:type",Number)],n.prototype,"cacheOverflowSize",void 0),A([N(),O("design:type",Number)],n.prototype,"infiniteInitialRowCount",void 0),A([N(),O("design:type",String)],n.prototype,"serverSideStoreType",void 0),A([N(),O("design:type",Number)],n.prototype,"cacheBlockSize",void 0),A([N(),O("design:type",Number)],n.prototype,"maxBlocksInCache",void 0),A([N(),O("design:type",Number)],n.prototype,"maxConcurrentDatasourceRequests",void 0),A([N(),O("design:type",Number)],n.prototype,"blockLoadDebounceMillis",void 0),A([N(),O("design:type",Boolean)],n.prototype,"purgeClosedRowNodes",void 0),A([N(),O("design:type",Object)],n.prototype,"serverSideDatasource",void 0),A([N(),O("design:type",Boolean)],n.prototype,"serverSideSortingAlwaysResets",void 0),A([N(),O("design:type",Boolean)],n.prototype,"serverSideFilteringAlwaysResets",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressEnterpriseResetOnNewColumns",void 0),A([N(),O("design:type",Object)],n.prototype,"viewportDatasource",void 0),A([N(),O("design:type",Number)],n.prototype,"viewportRowModelPageSize",void 0),A([N(),O("design:type",Number)],n.prototype,"viewportRowModelBufferSize",void 0),A([N(),O("design:type",Boolean)],n.prototype,"alwaysShowHorizontalScroll",void 0),A([N(),O("design:type",Boolean)],n.prototype,"alwaysShowVerticalScroll",void 0),A([N(),O("design:type",Boolean)],n.prototype,"debounceVerticalScrollbar",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressHorizontalScroll",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressScrollOnNewData",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressScrollWhenPopupsAreOpen",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressAnimationFrame",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMiddleClickScrolls",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressPreventDefaultOnMouseWheel",void 0),A([N(),O("design:type",Number)],n.prototype,"scrollbarWidth",void 0),A([N(),O("design:type",String)],n.prototype,"rowSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"rowMultiSelectWithClick",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressRowDeselection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressRowClickSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressCellSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMultiRangeSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableCellTextSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableRangeSelection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableRangeHandle",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableFillHandle",void 0),A([N(),O("design:type",String)],n.prototype,"fillHandleDirection",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressClearOnFillReduction",void 0),A([N(),O("design:type",Array)],n.prototype,"sortingOrder",void 0),A([N(),O("design:type",Boolean)],n.prototype,"accentedSort",void 0),A([N(),O("design:type",Boolean)],n.prototype,"unSortIcon",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMultiSort",void 0),A([N(),O("design:type",String)],n.prototype,"multiSortKey",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressMaintainUnsortedOrder",void 0),A([N(),O("design:type",Object)],n.prototype,"icons",void 0),A([N(),O("design:type",Number)],n.prototype,"rowHeight",void 0),A([N(),O("design:type",Object)],n.prototype,"rowStyle",void 0),A([N(),O("design:type",Object)],n.prototype,"rowClass",void 0),A([N(),O("design:type",Object)],n.prototype,"rowClassRules",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressRowHoverHighlight",void 0),A([N(),O("design:type",Boolean)],n.prototype,"suppressRowTransform",void 0),A([N(),O("design:type",Boolean)],n.prototype,"columnHoverHighlight",void 0),A([N(),O("design:type",Boolean)],n.prototype,"deltaSort",void 0),A([N(),O("design:type",String)],n.prototype,"treeDataDisplayType",void 0),A([N(),O("design:type",Boolean)],n.prototype,"angularCompileRows",void 0),A([N(),O("design:type",Boolean)],n.prototype,"angularCompileFilters",void 0),A([N(),O("design:type",Boolean)],n.prototype,"functionsPassive",void 0),A([N(),O("design:type",Boolean)],n.prototype,"enableGroupEdit",void 0),A([N(),O("design:type",Function)],n.prototype,"getContextMenuItems",void 0),A([N(),O("design:type",Function)],n.prototype,"getMainMenuItems",void 0),A([N(),O("design:type",Function)],n.prototype,"postProcessPopup",void 0),A([N(),O("design:type",Function)],n.prototype,"processCellForClipboard",void 0),A([N(),O("design:type",Function)],n.prototype,"processHeaderForClipboard",void 0),A([N(),O("design:type",Function)],n.prototype,"processCellFromClipboard",void 0),A([N(),O("design:type",Function)],n.prototype,"sendToClipboard",void 0),A([N(),O("design:type",Function)],n.prototype,"processDataFromClipboard",void 0),A([N(),O("design:type",Function)],n.prototype,"isExternalFilterPresent",void 0),A([N(),O("design:type",Function)],n.prototype,"doesExternalFilterPass",void 0),A([N(),O("design:type",Function)],n.prototype,"getChartToolbarItems",void 0),A([N(),O("design:type",Function)],n.prototype,"createChartContainer",void 0),A([N(),O("design:type",Function)],n.prototype,"navigateToNextHeader",void 0),A([N(),O("design:type",Function)],n.prototype,"tabToNextHeader",void 0),A([N(),O("design:type",Function)],n.prototype,"navigateToNextCell",void 0),A([N(),O("design:type",Function)],n.prototype,"tabToNextCell",void 0),A([N(),O("design:type",Function)],n.prototype,"suppressKeyboardEvent",void 0),A([N(),O("design:type",Function)],n.prototype,"localeTextFunc",void 0),A([N(),O("design:type",Function)],n.prototype,"getDocument",void 0),A([N(),O("design:type",Function)],n.prototype,"paginationNumberFormatter",void 0),A([N(),O("design:type",Function)],n.prototype,"groupRowAggNodes",void 0),A([N(),O("design:type",Function)],n.prototype,"isGroupOpenByDefault",void 0),A([N(),O("design:type",Function)],n.prototype,"defaultGroupOrderComparator",void 0),A([N(),O("design:type",Function)],n.prototype,"processSecondaryColDef",void 0),A([N(),O("design:type",Function)],n.prototype,"processSecondaryColGroupDef",void 0),A([N(),O("design:type",Function)],n.prototype,"getDataPath",void 0),A([N(),O("design:type",Function)],n.prototype,"defaultGroupSortComparator",void 0),A([N(),O("design:type",Function)],n.prototype,"getChildCount",void 0),A([N(),O("design:type",Function)],n.prototype,"getServerSideStoreParams",void 0),A([N(),O("design:type",Function)],n.prototype,"isServerSideGroupOpenByDefault",void 0),A([N(),O("design:type",Function)],n.prototype,"isApplyServerSideTransaction",void 0),A([N(),O("design:type",Function)],n.prototype,"isServerSideGroup",void 0),A([N(),O("design:type",Function)],n.prototype,"getServerSideGroupKey",void 0),A([N(),O("design:type",Function)],n.prototype,"getBusinessKeyForNode",void 0),A([N(),O("design:type",Function)],n.prototype,"getRowNodeId",void 0),A([N(),O("design:type",Function)],n.prototype,"processRowPostCreate",void 0),A([N(),O("design:type",Function)],n.prototype,"isRowSelectable",void 0),A([N(),O("design:type",Function)],n.prototype,"isRowMaster",void 0),A([N(),O("design:type",Function)],n.prototype,"fillOperation",void 0),A([N(),O("design:type",Function)],n.prototype,"postSort",void 0),A([N(),O("design:type",Function)],n.prototype,"getRowStyle",void 0),A([N(),O("design:type",Function)],n.prototype,"getRowClass",void 0),A([N(),O("design:type",Function)],n.prototype,"getRowHeight",void 0),A([N(),O("design:type",Function)],n.prototype,"isFullWidthCell",void 0),A([Le(),O("design:type",z)],n.prototype,"toolPanelVisibleChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"pasteStart",void 0),A([Le(),O("design:type",z)],n.prototype,"pasteEnd",void 0),A([Le(),O("design:type",z)],n.prototype,"columnVisible",void 0),A([Le(),O("design:type",z)],n.prototype,"columnPinned",void 0),A([Le(),O("design:type",z)],n.prototype,"columnResized",void 0),A([Le(),O("design:type",z)],n.prototype,"columnMoved",void 0),A([Le(),O("design:type",z)],n.prototype,"columnValueChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"columnPivotModeChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"columnPivotChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"columnGroupOpened",void 0),A([Le(),O("design:type",z)],n.prototype,"newColumnsLoaded",void 0),A([Le(),O("design:type",z)],n.prototype,"gridColumnsChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"displayedColumnsChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"virtualColumnsChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"columnEverythingChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"componentStateChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"cellValueChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"rowValueChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"cellEditingStarted",void 0),A([Le(),O("design:type",z)],n.prototype,"cellEditingStopped",void 0),A([Le(),O("design:type",z)],n.prototype,"rowEditingStarted",void 0),A([Le(),O("design:type",z)],n.prototype,"rowEditingStopped",void 0),A([Le(),O("design:type",z)],n.prototype,"filterOpened",void 0),A([Le(),O("design:type",z)],n.prototype,"filterChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"filterModified",void 0),A([Le(),O("design:type",z)],n.prototype,"chartCreated",void 0),A([Le(),O("design:type",z)],n.prototype,"chartRangeSelectionChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"chartOptionsChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"chartDestroyed",void 0),A([Le(),O("design:type",z)],n.prototype,"cellKeyDown",void 0),A([Le(),O("design:type",z)],n.prototype,"cellKeyPress",void 0),A([Le(),O("design:type",z)],n.prototype,"gridReady",void 0),A([Le(),O("design:type",z)],n.prototype,"firstDataRendered",void 0),A([Le(),O("design:type",z)],n.prototype,"gridSizeChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"modelUpdated",void 0),A([Le(),O("design:type",z)],n.prototype,"virtualRowRemoved",void 0),A([Le(),O("design:type",z)],n.prototype,"viewportChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"bodyScroll",void 0),A([Le(),O("design:type",z)],n.prototype,"bodyScrollEnd",void 0),A([Le(),O("design:type",z)],n.prototype,"dragStarted",void 0),A([Le(),O("design:type",z)],n.prototype,"dragStopped",void 0),A([Le(),O("design:type",z)],n.prototype,"paginationChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDragEnter",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDragMove",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDragLeave",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDragEnd",void 0),A([Le(),O("design:type",z)],n.prototype,"columnRowGroupChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"rowGroupOpened",void 0),A([Le(),O("design:type",z)],n.prototype,"expandOrCollapseAll",void 0),A([Le(),O("design:type",z)],n.prototype,"pinnedRowDataChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDataChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDataUpdated",void 0),A([Le(),O("design:type",z)],n.prototype,"asyncTransactionsFlushed",void 0),A([Le(),O("design:type",z)],n.prototype,"cellClicked",void 0),A([Le(),O("design:type",z)],n.prototype,"cellDoubleClicked",void 0),A([Le(),O("design:type",z)],n.prototype,"cellFocused",void 0),A([Le(),O("design:type",z)],n.prototype,"cellMouseOver",void 0),A([Le(),O("design:type",z)],n.prototype,"cellMouseOut",void 0),A([Le(),O("design:type",z)],n.prototype,"cellMouseDown",void 0),A([Le(),O("design:type",z)],n.prototype,"rowClicked",void 0),A([Le(),O("design:type",z)],n.prototype,"rowDoubleClicked",void 0),A([Le(),O("design:type",z)],n.prototype,"rowSelected",void 0),A([Le(),O("design:type",z)],n.prototype,"selectionChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"cellContextMenu",void 0),A([Le(),O("design:type",z)],n.prototype,"rangeSelectionChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"sortChanged",void 0),A([Le(),O("design:type",z)],n.prototype,"columnRowGroupChangeRequest",void 0),A([Le(),O("design:type",z)],n.prototype,"columnPivotChangeRequest",void 0),A([Le(),O("design:type",z)],n.prototype,"columnValueChangeRequest",void 0),A([Le(),O("design:type",z)],n.prototype,"columnAggFuncChangeRequest",void 0),n=A([O("design:paramtypes",[Ge,Nn,dO,pO,Oo])],n),n})();var fO;let Bh=fO=class{static withComponents(t){return{ngModule:fO,providers:[{provide:zf,useValue:t,multi:!0}]}}static forRoot(t){return{ngModule:fO,providers:[{provide:zf,useValue:t,multi:!0}]}}};Bh.\u0275fac=function(t){return new(t||Bh)},Bh.\u0275mod=Ke({type:Bh}),Bh.\u0275inj=$e({imports:[[]]});let nQ=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[so]]}),n})();function RG(n,t,e){n?mt(e,n,t):t()}const Hw=he(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function AG(){return Rn((n,t)=>{let e=null;n._refCount++;const r=An(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class oQ extends sn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,cf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Gt;const e=this.getSubject();t.add(this.source.subscribe(An(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Gt.EMPTY)}return t}refCount(){return AG()(this)}}function sQ(n,t,e,r,a){return(d,p)=>{let f=e,m=t,v=0;d.subscribe(An(p,C=>{const b=v++;m=f?n(m,C,b):(f=!0,C),r&&p.next(m)},a&&(()=>{f&&p.next(m),p.complete()})))}}function OG(n,t){return Rn(sQ(n,t,arguments.length>=2,!0))}function mO(n){return n<=0?()=>zr:Rn((t,e)=>{let r=[];t.subscribe(An(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function xG(n=aQ){return Rn((t,e)=>{let r=!1;t.subscribe(An(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function aQ(){return new Hw}function IG(n){return Rn((t,e)=>{let r=!1;t.subscribe(An(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function jh(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xi((a,d)=>n(a,d,r)):ri,er(1),e?IG(t):xG(()=>new Hw))}class wl{constructor(t,e){this.id=t,this.url=e}}class vO extends wl{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mv extends wl{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class MG extends wl{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cQ extends wl{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uQ extends wl{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dQ extends wl{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pQ extends wl{constructor(t,e,r,a,d){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hQ extends wl{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fQ extends wl{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PG{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FG{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vQ{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Q{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NG{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class yQ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uh(n){return new yQ(n)}const LG="ngNavigationCancelingError";function _O(n){const t=Error("NavigationCancelingError: "+n);return t[LG]=!0,t}function bQ(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let d=0;d<r.length;d++){const p=r[d],f=n[d];if(p.startsWith(":"))a[p.substring(1)]=f;else if(p!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function wa(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!kG(n[a],t[a]))return!1;return!0}function kG(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,d)=>r[d]===a)}return n===t}function GG(n){return Array.prototype.concat.apply([],n)}function HG(n){return n.length>0?n[n.length-1]:null}function sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sa(n){return ph(n)?n:Ec(n)?$n(Promise.resolve(n)):Re(n)}const EQ={exact:function WG(n,t,e){if(!yd(n.segments,t.segments)||!Vw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!WG(n.children[r],t.children[r],e))return!1;return!0},subset:jG},VG={exact:function DQ(n,t){return wa(n,t)},subset:function TQ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>kG(n[e],t[e]))},ignored:()=>!0};function BG(n,t,e){return EQ[e.paths](n.root,t.root,e.matrixParams)&&VG[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function jG(n,t,e){return UG(n,t,t.segments,e)}function UG(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!yd(a,e)||t.hasChildren()||!Vw(a,e,r))}if(n.segments.length===e.length){if(!yd(n.segments,e)||!Vw(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!jG(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(yd(n.segments,a)&&Vw(n.segments,a,r)&&n.children[xt])&&UG(n.children[xt],t,d,r)}}function Vw(n,t,e){return t.every((r,a)=>VG[e](n[a].parameters,r.parameters))}class _d{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap}toString(){return OQ.serialize(this)}}class kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sr(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bw(this)}}class vv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uh(this.parameters)),this._parameterMap}toString(){return qG(this)}}function yd(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class $G{}class zG{parse(t){const e=new GQ(t);return new _d(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${_v(t.root,!0)}`,r=function MQ(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Ww(e)}=${Ww(a)}`).join("&"):`${Ww(e)}=${Ww(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function xQ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const OQ=new zG;function Bw(n){return n.segments.map(t=>qG(t)).join("/")}function _v(n,t){if(!n.hasChildren())return Bw(n);if(t){const e=n.children[xt]?_v(n.children[xt],!1):"",r=[];return sr(n.children,(a,d)=>{d!==xt&&r.push(`${d}:${_v(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function AQ(n,t){let e=[];return sr(n.children,(r,a)=>{a===xt&&(e=e.concat(t(r,a)))}),sr(n.children,(r,a)=>{a!==xt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===xt?[_v(n.children[xt],!1)]:[`${a}:${_v(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${Bw(n)}/${e[0]}`:`${Bw(n)}/(${e.join("//")})`}}function KG(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ww(n){return KG(n).replace(/%3B/gi,";")}function yO(n){return KG(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jw(n){return decodeURIComponent(n)}function YG(n){return jw(n.replace(/\+/g,"%20"))}function qG(n){return`${yO(n.path)}${function IQ(n){return Object.keys(n).map(t=>`;${yO(t)}=${yO(n[t])}`).join("")}(n.parameters)}`}const PQ=/^[^\/()?;=#]+/;function Uw(n){const t=n.match(PQ);return t?t[0]:""}const FQ=/^[^=?&#]+/,LQ=/^[^&#]+/;class GQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[xt]=new kt(t,e)),r}parseSegment(){const t=Uw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vv(jw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uw(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=Uw(this.remaining);a&&(r=a,this.capture(r))}t[jw(e)]=jw(r)}parseQueryParam(t){const e=function NQ(n){const t=n.match(FQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const p=function kQ(n){const t=n.match(LQ);return t?t[0]:""}(this.remaining);p&&(r=p,this.capture(r))}const a=YG(e),d=YG(r);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Uw(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;r.indexOf(":")>-1?(d=r.substr(0,r.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=xt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[xt]:new kt([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class QG{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=CO(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=CO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return bO(t,this._root).map(e=>e.value)}}function CO(n,t){if(n===t.value)return t;for(const e of t.children){const r=CO(n,e);if(r)return r}return null}function bO(n,t){if(n===t.value)return[t];for(const e of t.children){const r=bO(n,e);if(r.length)return r.unshift(t),r}return[]}class Sl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $h(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class JG extends QG{constructor(t,e){super(t),this.snapshot=e,wO(this,t)}toString(){return this.snapshot.toString()}}function XG(n,t){const e=function HQ(n,t){const p=new $w([],{},{},"",{},xt,t,null,n.root,-1,{});return new e2("",new Sl(p,[]))}(n,t),r=new lo([new vv("",{})]),a=new lo({}),d=new lo({}),p=new lo({}),f=new lo(""),m=new Us(r,a,p,f,d,xt,t,e.root);return m.snapshot=e.root,new JG(new Sl(m,[]),e)}class Us{constructor(t,e,r,a,d,p,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=p,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(t=>Uh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(t=>Uh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZG(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],d=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(d.component)break;r--}}return function VQ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class $w{constructor(t,e,r,a,d,p,f,m,v,C,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=p,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e2 extends QG{constructor(t,e){super(e),this.url=t,wO(this,e)}toString(){return t2(this._root)}}function wO(n,t){t.value._routerState=n,t.children.forEach(e=>wO(n,e))}function t2(n){const t=n.children.length>0?` { ${n.children.map(t2).join(", ")} } `:"";return`${n.value}${t}`}function SO(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),wa(t.params,e.params)||n.params.next(e.params),function wQ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),wa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function EO(n,t){const e=wa(n.params,t.params)&&function RQ(n,t){return yd(n,t)&&n.every((e,r)=>wa(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||EO(n.parent,t.parent))}function yv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function WQ(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return yv(n,r,a);return yv(n,r)})}(n,t,e);return new Sl(r,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(f=>yv(n,f)),p}}const r=function jQ(n){return new Us(new lo(n.url),new lo(n.params),new lo(n.queryParams),new lo(n.fragment),new lo(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>yv(n,d));return new Sl(r,a)}}function zw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cv(n){return"object"==typeof n&&null!=n&&n.outlets}function DO(n,t,e,r,a){let d={};if(r&&sr(r,(f,m)=>{d[m]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),n===t)return new _d(e,d,a);const p=n2(n,t,e);return new _d(p,d,a)}function n2(n,t,e){const r={};return sr(n.children,(a,d)=>{r[d]=a===t?e:n2(a,t,e)}),new kt(n.segments,r)}class r2{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&zw(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Cv);if(a&&a!==HG(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class TO{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function o2(n,t,e){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return Kw(n,t,e);const r=function qQ(n,t,e){let r=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return d;const p=n.segments[a],f=e[r];if(Cv(f))break;const m=`${f}`,v=r<e.length-1?e[r+1]:null;if(a>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!a2(m,v,p))return d;r+=2}else{if(!a2(m,{},p))return d;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const d=new kt(n.segments.slice(0,r.pathIndex),{});return d.children[xt]=new kt(n.segments.slice(r.pathIndex),n.children),Kw(d,0,a)}return r.match&&0===a.length?new kt(n.segments,{}):r.match&&!n.hasChildren()?RO(n,t,e):r.match?Kw(n,0,a):RO(n,t,e)}function Kw(n,t,e){if(0===e.length)return new kt(n.segments,{});{const r=function YQ(n){return Cv(n[0])?n[0].outlets:{[xt]:n}}(e),a={};return sr(r,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=o2(n.children[p],t,d))}),sr(n.children,(d,p)=>{void 0===r[p]&&(a[p]=d)}),new kt(n.segments,a)}}function RO(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Cv(d)){const m=QQ(d.outlets);return new kt(r,m)}if(0===a&&zw(e[0])){r.push(new vv(n.segments[t].path,s2(e[0]))),a++;continue}const p=Cv(d)?d.outlets[xt]:`${d}`,f=a<e.length-1?e[a+1]:null;p&&f&&zw(f)?(r.push(new vv(p,s2(f))),a+=2):(r.push(new vv(p,{})),a++)}return new kt(r,{})}function QQ(n){const t={};return sr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=RO(new kt([],{}),0,e))}),t}function s2(n){const t={};return sr(n,(e,r)=>t[r]=`${e}`),t}function a2(n,t,e){return n==e.path&&wa(t,e.parameters)}class XQ{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),SO(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=$h(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],r),delete a[p]}),sr(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(t,e,r){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const p=r.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,r);else d&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,d=$h(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(r&&r.outlet){const p=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,d=$h(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=$h(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],r),this.forwardEvent(new _Q(d.value.snapshot))}),t.children.length&&this.forwardEvent(new mQ(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,d=e?e.value:null;if(SO(a),a===d)if(a.component){const p=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const p=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const f=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(f.contexts),p.attachRef=f.componentRef,p.route=f.route.value,p.outlet&&p.outlet.attach(f.componentRef,f.route.value),SO(f.route.value),this.activateChildRoutes(t,null,p.children)}else{const f=function ZQ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),m=f?f.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=m,p.outlet&&p.outlet.activateWith(a,m),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,r)}}class AO{constructor(t,e){this.routes=t,this.module=e}}function Uc(n){return"function"==typeof n}function Cd(n){return n instanceof _d}const bv=Symbol("INITIAL_VALUE");function wv(){return Go(n=>function iQ(...n){const t=nu(n),e=Ma(n),{args:r,keys:a}=s1(n);if(0===r.length)return $n([],t);const d=new sn(function rQ(n,t,e=ri){return r=>{RG(t,()=>{const{length:a}=n,d=new Array(a);let p=a,f=a;for(let m=0;m<a;m++)RG(t,()=>{const v=$n(n[m],t);let C=!1;v.subscribe(An(r,b=>{d[m]=b,C||(C=!0,f--),f||r.next(e(d.slice()))},()=>{--p||r.complete()}))},r)},r)}}(r,t,a?p=>a1(a,p):ri));return e?d.pipe(L0(e)):d}(n.map(t=>t.pipe(er(1),Qi(bv)))).pipe(OG((t,e)=>{let r=!1;return e.reduce((a,d,p)=>a!==bv?a:(d===bv&&(r=!0),r||!1!==d&&p!==e.length-1&&!Cd(d)?a:d),t)},bv),xi(t=>t!==bv),Je(t=>Cd(t)?t:!0===t),er(1)))}class oJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sv,this.attachRef=null}}class Sv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oJ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let OO=(()=>{class n{constructor(e,r,a,d,p){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new z,this.deactivateEvents=new z,this.attachEvents=new z,this.detachEvents=new z,this.name=d||xt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new sJ(e,f,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(R(Sv),R(Nn),R(Oo),Ko("name"),R(_n))},n.\u0275dir=ce({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class sJ{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Us?this.route:t===Sv?this.childContexts:this.parent.get(t,e)}}let l2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&X(0,"router-outlet")},directives:[OO],encapsulation:2}),n})();function c2(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];aJ(r,lJ(t,r))}}function aJ(n,t){n.children&&c2(n.children,t)}function lJ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function xO(n){const t=n.children&&n.children.map(xO),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xt&&(e.component=l2),e}function ds(n){return n.outlet||xt}function u2(n,t){const e=n.filter(r=>ds(r)===t);return e.push(...n.filter(r=>ds(r)!==t)),e}const d2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yw(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},d2):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(t.matcher||bQ)(e,n,t);if(!d)return Object.assign({},d2);const p={};sr(d.posParams,(m,v)=>{p[v]=m.path});const f=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:f,positionalParamSegments:null!==(r=d.posParams)&&void 0!==r?r:{}}}function qw(n,t,e,r,a="corrected"){if(e.length>0&&function dJ(n,t,e){return e.some(r=>Qw(n,t,r)&&ds(r)!==xt)}(n,e,r)){const p=new kt(t,function uJ(n,t,e,r){const a={};a[xt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&ds(d)!==xt){const p=new kt([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[ds(d)]=p}return a}(n,t,r,new kt(e,n.children)));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function pJ(n,t,e){return e.some(r=>Qw(n,t,r))}(n,e,r)){const p=new kt(n.segments,function cJ(n,t,e,r,a,d){const p={};for(const f of r)if(Qw(n,e,f)&&!a[ds(f)]){const m=new kt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===d?n.segments.length:t.length,p[ds(f)]=m}return Object.assign(Object.assign({},a),p)}(n,t,e,r,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const d=new kt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function Qw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function p2(n,t,e,r){return!!(ds(n)===r||r!==xt&&Qw(t,e,n))&&("**"===n.path||Yw(t,n,e).matched)}function h2(n,t,e){return 0===t.length&&!n.children[e]}class Jw{constructor(t){this.segmentGroup=t||null}}class f2{constructor(t){this.urlTree=t}}function Ev(n){return pd(new Jw(n))}function g2(n){return pd(new f2(n))}class mJ{constructor(t,e,r,a,d){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(cl)}apply(){const t=qw(this.urlTree.root,[],[],this.config).segmentGroup,e=new kt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,xt).pipe(Je(d=>this.createUrlTree(IO(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xt(d=>{if(d instanceof f2)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Jw?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,xt).pipe(Je(a=>this.createUrlTree(IO(a),t.queryParams,t.fragment))).pipe(Xt(a=>{throw a instanceof Jw?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new kt([],{[xt]:t}):t;return new _d(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Je(d=>new kt([],d))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const d of Object.keys(r.children))"primary"===d?a.unshift(d):a.push(d);return $n(a).pipe(Hh(d=>{const p=r.children[d],f=u2(e,d);return this.expandSegmentGroup(t,f,p,d).pipe(Je(m=>({segment:m,outlet:d})))}),OG((d,p)=>(d[p.outlet]=p.segment,d),{}),function lQ(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xi((a,d)=>n(a,d,r)):ri,mO(1),e?IG(t):xG(()=>new Hw))}())}expandSegment(t,e,r,a,d,p){return $n(r).pipe(Hh(f=>this.expandSegmentAgainstRoute(t,e,r,f,a,d,p).pipe(Xt(v=>{if(v instanceof Jw)return Re(null);throw v}))),jh(f=>!!f),Xt((f,m)=>{if(f instanceof Hw||"EmptyError"===f.name)return h2(e,a,d)?Re(new kt([],{})):Ev(e);throw f}))}expandSegmentAgainstRoute(t,e,r,a,d,p,f){return p2(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,p):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,d,p):Ev(e):Ev(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?g2(d):this.lineralizeSegments(r,d).pipe(Ft(p=>{const f=new kt(p,{});return this.expandSegment(t,f,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,d,p){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Yw(e,a,d);if(!f)return Ev(e);const b=this.applyRedirectCommands(m,a.redirectTo,C);return a.redirectTo.startsWith("/")?g2(b):this.lineralizeSegments(a,b).pipe(Ft(T=>this.expandSegment(t,e,r,T.concat(v),p,!1)))}matchSegmentAgainstRoute(t,e,r,a,d){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Re(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(Je(b=>(r._loadedConfig=b,new kt(a,{})))):Re(new kt(a,{}));const{matched:p,consumedSegments:f,remainingSegments:m}=Yw(e,r,a);return p?this.getChildConfig(t,r,a).pipe(Ft(C=>{const b=C.module,T=C.routes,{segmentGroup:M,slicedSegments:H}=qw(e,f,m,T),$=new kt(M.segments,M.children);if(0===H.length&&$.hasChildren())return this.expandChildren(b,T,$).pipe(Je(se=>new kt(f,se)));if(0===T.length&&0===H.length)return Re(new kt(f,{}));const Q=ds(r)===d;return this.expandSegment(b,$,T,H,Q?xt:d,!0).pipe(Je(Y=>new kt(f.concat(Y.segments),Y.children)))})):Ev(e)}getChildConfig(t,e,r){return e.children?Re(new AO(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Re(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Ft(a=>a?this.configLoader.load(t.injector,e).pipe(Je(d=>(e._loadedConfig=d,d))):function fJ(n){return pd(_O(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Re(new AO([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?Re(a.map(p=>{const f=t.get(p);let m;if(function tJ(n){return n&&Uc(n.canLoad)}(f))m=f.canLoad(e,r);else{if(!Uc(f))throw new Error("Invalid CanLoad guard");m=f(e,r)}return Sa(m)})).pipe(wv(),qi(p=>{if(!Cd(p))return;const f=_O(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw f.url=p,f}),Je(p=>!0===p)):Re(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Re(r);if(a.numberOfChildren>1||!a.children[xt])return pd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[xt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const d=this.createSegmentGroup(t,e.root,r,a);return new _d(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return sr(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[d]=e[f]}else r[d]=a}),r}createSegmentGroup(t,e,r,a){const d=this.createSegments(t,e.segments,r,a);let p={};return sr(e.children,(f,m)=>{p[m]=this.createSegmentGroup(t,f,r,a)}),new kt(d,p)}createSegments(t,e,r,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function IO(n){const t={};for(const r of Object.keys(n.children)){const d=IO(n.children[r]);(d.segments.length>0||d.hasChildren())&&(t[r]=d)}return function vJ(n){if(1===n.numberOfChildren&&n.children[xt]){const t=n.children[xt];return new kt(n.segments.concat(t.segments),t.children)}return n}(new kt(n.segments,t))}class m2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xw{constructor(t,e){this.component=t,this.route=e}}function yJ(n,t,e){const r=n._root;return Dv(r,t?t._root:null,e,[r.value])}function Zw(n,t,e){const r=function bJ(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Dv(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=$h(t);return n.children.forEach(p=>{(function wJ(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const m=function SJ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!yd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!yd(n.url,t.url)||!wa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EO(n,t)||!wa(n.queryParams,t.queryParams);default:return!EO(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);m?a.canActivateChecks.push(new m2(r)):(d.data=p.data,d._resolvedData=p._resolvedData),Dv(n,t,d.component?f?f.children:null:e,r,a),m&&f&&f.outlet&&f.outlet.isActivated&&a.canDeactivateChecks.push(new Xw(f.outlet.component,p))}else p&&Tv(t,f,a),a.canActivateChecks.push(new m2(r)),Dv(n,null,d.component?f?f.children:null:e,r,a)})(p,d[p.value.outlet],e,r.concat([p.value]),a),delete d[p.value.outlet]}),sr(d,(p,f)=>Tv(p,e.getContext(f),a)),a}function Tv(n,t,e){const r=$h(n),a=n.value;sr(r,(d,p)=>{Tv(d,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Xw(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class MJ{}function v2(n){return new sn(t=>t.error(n))}class FJ{constructor(t,e,r,a,d,p){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const t=qw(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,xt);if(null===e)return null;const r=new $w([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Sl(r,e),d=new e2(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,r=ZG(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const d of Object.keys(e.children)){const p=e.children[d],f=u2(t,d),m=this.processSegmentGroup(f,p,d);if(null===m)return null;r.push(...m)}const a=_2(r);return function NJ(n){n.sort((t,e)=>t.value.outlet===xt?-1:e.value.outlet===xt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const d of t){const p=this.processSegmentAgainstRoute(d,e,r,a);if(null!==p)return p}return h2(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!p2(t,e,r,a))return null;let d,p=[],f=[];if("**"===t.path){const M=r.length>0?HG(r).parameters:{};d=new $w(r,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b2(t),ds(t),t.component,t,y2(e),C2(e)+r.length,w2(t))}else{const M=Yw(e,t,r);if(!M.matched)return null;p=M.consumedSegments,f=M.remainingSegments,d=new $w(p,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b2(t),ds(t),t.component,t,y2(e),C2(e)+p.length,w2(t))}const m=function LJ(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:C}=qw(e,p,f,m.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===C.length&&v.hasChildren()){const M=this.processChildren(m,v);return null===M?null:[new Sl(d,M)]}if(0===m.length&&0===C.length)return[new Sl(d,[])];const b=ds(t)===a,T=this.processSegment(m,v,C,b?xt:a);return null===T?null:[new Sl(d,T)]}}function kJ(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function _2(n){const t=[],e=new Set;for(const r of n){if(!kJ(r)){t.push(r);continue}const a=t.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=_2(r.children);t.push(new Sl(r.value,a))}return t.filter(r=>!e.has(r))}function y2(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function C2(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function b2(n){return n.data||{}}function w2(n){return n.resolve||{}}function S2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MO(n){return Go(t=>{const e=n(t);return e?$n(e).pipe(Je(()=>t)):Re(t)})}class $J extends class UJ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const PO=new Ee("ROUTES");class E2{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe(Je(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=d.create(t);return new AO(GG(p.injector.get(PO,void 0,dt.Self|dt.Optional)).map(xO),p)}),Xt(d=>{throw e._loader$=void 0,d}));return e._loader$=new oQ(a,()=>new pe).pipe(AG()),e._loader$}loadModuleFactory(t){return Sa(t()).pipe(Ft(e=>e instanceof mM?Re(e):$n(this.compiler.compileModuleAsync(e))))}}class KJ{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function YJ(n){throw n}function qJ(n,t,e){return t.parse("/")}function D2(n,t){return Re(null)}const QJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class n{constructor(e,r,a,d,p,f,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=d,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe,this.errorHandler=YJ,this.malformedUriErrorHandler=qJ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:D2,afterPreactivation:D2},this.urlHandlingStrategy=new KJ,this.routeReuseStrategy=new $J,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(cl),this.console=p.get(pW);const b=p.get(et);this.isNgZoneEnabled=b instanceof et&&et.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function SQ(){return new _d(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new E2(p,f,T=>this.triggerEvent(new PG(T)),T=>this.triggerEvent(new FG(T))),this.routerState=XG(this.currentUrlTree,this.rootComponentType),this.transitions=new lo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(xi(a=>0!==a.id),Je(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Go(a=>{let d=!1,p=!1;return Re(a).pipe(qi(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Go(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return T2(f.source)&&(this.browserUrlTree=f.extractedUrl),Re(f).pipe(Go(b=>{const T=this.transitions.getValue();return r.next(new vO(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),T!==this.transitions.getValue()?zr:Promise.resolve(b)}),function _J(n,t,e,r){return Go(a=>function gJ(n,t,e,r,a){return new mJ(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe(Je(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),qi(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function GJ(n,t,e,r,a){return Ft(d=>function PJ(n,t,e,r,a="emptyOnly",d="legacy"){try{const p=new FJ(n,t,e,r,a,d).recognize();return null===p?v2(new MJ):Re(p)}catch(p){return v2(p)}}(n,t,d.urlAfterRedirects,e(d.urlAfterRedirects),r,a).pipe(Je(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),qi(b=>{if("eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(M,b)}this.browserUrlTree=b.urlAfterRedirects}const T=new uQ(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);r.next(T)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:M,source:H,restoredState:$,extras:Q}=f,te=new vO(T,this.serializeUrl(M),H,$);r.next(te);const Y=XG(M,this.rootComponentType).snapshot;return Re(Object.assign(Object.assign({},f),{targetSnapshot:Y,urlAfterRedirects:M,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),zr}),MO(f=>{const{targetSnapshot:m,id:v,extractedUrl:C,rawUrl:b,extras:{skipLocationChange:T,replaceUrl:M}}=f;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:C,rawUrlTree:b,skipLocationChange:!!T,replaceUrl:!!M})}),qi(f=>{const m=new dQ(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),Je(f=>Object.assign(Object.assign({},f),{guards:yJ(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function EJ(n,t){return Ft(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?Re(Object.assign(Object.assign({},e),{guardsResult:!0})):function DJ(n,t,e,r){return $n(n).pipe(Ft(a=>function IJ(n,t,e,r,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Re(d.map(f=>{const m=Zw(f,t,a);let v;if(function rJ(n){return n&&Uc(n.canDeactivate)}(m))v=Sa(m.canDeactivate(n,t,e,r));else{if(!Uc(m))throw new Error("Invalid CanDeactivate guard");v=Sa(m(n,t,e,r))}return v.pipe(jh())})).pipe(wv()):Re(!0)}(a.component,a.route,e,t,r)),jh(a=>!0!==a,!0))}(p,r,a,n).pipe(Ft(f=>f&&function eJ(n){return"boolean"==typeof n}(f)?function TJ(n,t,e,r){return $n(t).pipe(Hh(a=>FA(function AJ(n,t){return null!==n&&t&&t(new gQ(n)),Re(!0)}(a.route.parent,r),function RJ(n,t){return null!==n&&t&&t(new vQ(n)),Re(!0)}(a.route,r),function xJ(n,t,e){const r=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function CJ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>qA(()=>Re(p.guards.map(m=>{const v=Zw(m,p.node,e);let C;if(function iJ(n){return n&&Uc(n.canActivateChild)}(v))C=Sa(v.canActivateChild(r,n));else{if(!Uc(v))throw new Error("Invalid CanActivateChild guard");C=Sa(v(r,n))}return C.pipe(jh())})).pipe(wv())));return Re(d).pipe(wv())}(n,a.path,e),function OJ(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Re(!0);const a=r.map(d=>qA(()=>{const p=Zw(d,t,e);let f;if(function nJ(n){return n&&Uc(n.canActivate)}(p))f=Sa(p.canActivate(t,n));else{if(!Uc(p))throw new Error("Invalid CanActivate guard");f=Sa(p(t,n))}return f.pipe(jh())}));return Re(a).pipe(wv())}(n,a.route,e))),jh(a=>!0!==a,!0))}(r,d,n,t):Re(f)),Je(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),qi(f=>{if(Cd(f.guardsResult)){const v=_O(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const m=new pQ(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),xi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),MO(f=>{if(f.guards.canActivateChecks.length)return Re(f).pipe(qi(m=>{const v=new hQ(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Go(m=>{let v=!1;return Re(m).pipe(function HJ(n,t){return Ft(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Re(e);let d=0;return $n(a).pipe(Hh(p=>function VJ(n,t,e,r){return function BJ(n,t,e,r){const a=S2(n);if(0===a.length)return Re({});const d={};return $n(a).pipe(Ft(p=>function WJ(n,t,e,r){const a=Zw(n,t,r);return Sa(a.resolve?a.resolve(t,e):a(t,e))}(n[p],t,e,r).pipe(qi(f=>{d[p]=f}))),mO(1),Ft(()=>S2(d).length===a.length?Re(d):zr))}(n._resolve,n,t,r).pipe(Je(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),ZG(n,e).resolve),null)))}(p.route,r,n,t)),qi(()=>d++),mO(1),Ft(p=>d===a.length?Re(e):zr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),qi({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),qi(m=>{const v=new fQ(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),MO(f=>{const{targetSnapshot:m,id:v,extractedUrl:C,rawUrl:b,extras:{skipLocationChange:T,replaceUrl:M}}=f;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:C,rawUrlTree:b,skipLocationChange:!!T,replaceUrl:!!M})}),Je(f=>{const m=function BQ(n,t,e){const r=yv(n,t._root,e?e._root:void 0);return new JG(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),qi(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>Je(r=>(new XQ(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),qi({next(){d=!0},complete(){d=!0}}),gk(()=>{var f;d||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===a.id&&(this.currentNavigation=null)}),Xt(f=>{if(p=!0,function CQ(n){return n&&n[LG]}(f)){const m=Cd(f.url);m||(this.navigated=!0,this.restoreHistory(a,!0));const v=new MG(a.id,this.serializeUrl(a.extractedUrl),f.message);r.next(v),m?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),b={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T2(a.source)};this.scheduleNavigation(C,"imperative",null,b,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const m=new cQ(a.id,this.serializeUrl(a.extractedUrl),f);r.next(m);try{a.resolve(this.errorHandler(f))}catch(v){a.reject(v)}}return zr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const d={replaceUrl:!0},p=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(p){const m=Object.assign({},p);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(d.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,p,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){c2(e),this.config=e.map(xO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:f,preserveFragment:m}=r,v=a||this.routerState.root,C=m?this.currentUrlTree.fragment:p;let b=null;switch(f){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=d||null}return null!==b&&(b=this.removeEmptyProps(b)),function UQ(n,t,e,r,a){if(0===e.length)return DO(t.root,t.root,t.root,r,a);const d=function $Q(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new r2(!0,0,n);let t=0,e=!1;const r=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const f={};return sr(d.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...a,{outlets:f}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&a.push(f))}),a):[...a,d]},[]);return new r2(e,t,r)}(e);if(d.toRoot())return DO(t.root,t.root,new kt([],{}),r,a);const p=function zQ(n,t,e){if(n.isAbsolute)return new TO(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new TO(d,d===t.root,0)}const r=zw(n.commands[0])?0:1;return function KQ(n,t,e){let r=n,a=t,d=e;for(;d>a;){if(d-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new TO(r,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(d,t,n),f=p.processChildren?Kw(p.segmentGroup,p.index,d.commands):o2(p.segmentGroup,p.index,d.commands);return DO(t.root,p.segmentGroup,f,r,a)}(v,this.currentUrlTree,e,b,null!=C?C:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Cd(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function XJ(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},QJ):!1===r?Object.assign({},JJ):r,Cd(e))return BG(this.currentUrlTree,e,a);const d=this.parseUrl(e);return BG(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const d=e[a];return null!=d&&(r[a]=d),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new mv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,d,p){var f,m;if(this.disposed)return Promise.resolve(!1);let v,C,b;p?(v=p.resolve,C=p.reject,b=p.promise):b=new Promise((H,$)=>{v=H,C=$});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),M=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:v,reject:C,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(H=>Promise.reject(H))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,r=!1){var a,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new MG(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Dm()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function T2(n){return"imperative"!==n}let zh=(()=>{class n{constructor(e,r,a){this.router=e,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new pe,this.subscription=e.events.subscribe(d=>{d instanceof mv&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,a,d,p){if(0!==e||r||a||d||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Kh(this.skipLocationChange),replaceUrl:Kh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(R(Ii),R(Us),R(yh))},n.\u0275dir=ce({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&U("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&rt("target",r.target)("href",r.href,Qa)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$t]}),n})();function Kh(n){return""===n||!!n}class R2{}class A2{preload(t,e){return Re(null)}}let O2=(()=>{class n{constructor(e,r,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new E2(a,r,m=>e.triggerEvent(new PG(m)),m=>e.triggerEvent(new FG(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(xi(e=>e instanceof mv),Hh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(cl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const d of r)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return $n(a).pipe(fo(),Je(d=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Re(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Ft(d=>(r._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(K(Ii),K(tP),K(qt),K(R2))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),NO=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NG&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new NG(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Dm()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const bd=new Ee("ROUTER_CONFIGURATION"),x2=new Ee("ROUTER_FORROOT_GUARD"),nX=[Vm,{provide:$G,useClass:zG},{provide:Ii,useFactory:function aX(n,t,e,r,a,d,p={},f,m){const v=new Ii(null,n,t,e,r,a,GG(d));return f&&(v.urlHandlingStrategy=f),m&&(v.routeReuseStrategy=m),function lX(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(p,v),p.enableTracing&&v.events.subscribe(C=>{var b,T;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(T=console.groupEnd)||void 0===T||T.call(console)}),v},deps:[$G,Sv,Vm,qt,tP,PO,bd,[class zJ{},new Ti],[class jJ{},new Ti]]},Sv,{provide:Us,useFactory:function cX(n){return n.routerState.root},deps:[Ii]},O2,A2,class tX{preload(t,e){return e().pipe(Xt(()=>Re(null)))}},{provide:bd,useValue:{enableTracing:!1}}];function iX(){return new oP("Router",Ii)}let I2=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[nX,M2(e),{provide:x2,useFactory:sX,deps:[[Ii,new Ti,new sa]]},{provide:bd,useValue:r||{}},{provide:yh,useFactory:oX,deps:[Qu,[new vp(f0),new Ti],bd]},{provide:NO,useFactory:rX,deps:[Ii,vj,bd]},{provide:R2,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:A2},{provide:oP,multi:!0,useFactory:iX},[LO,{provide:ZT,multi:!0,useFactory:uX,deps:[LO]},{provide:P2,useFactory:dX,deps:[LO]},{provide:eP,multi:!0,useExisting:P2}]]}}static forChild(e){return{ngModule:n,providers:[M2(e)]}}}return n.\u0275fac=function(e){return new(e||n)(K(x2,8),K(Ii,8))},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({}),n})();function rX(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new NO(n,t,e)}function oX(n,t,e={}){return e.useHash?new r3(n,t):new DP(n,t)}function sX(n){return"guarded"}function M2(n){return[{provide:zf,multi:!0,useValue:n},{provide:PO,multi:!0,useValue:n}]}let LO=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pe}appInitializer(){return this.injector.get(t3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(f=>r=f),d=this.injector.get(Ii),p=this.injector.get(bd);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),r(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?Re(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),d.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(bd),a=this.injector.get(O2),d=this.injector.get(NO),p=this.injector.get(Ii),f=this.injector.get(Ac);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),d.init(),p.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function uX(n){return n.appInitializer.bind(n)}function dX(n){return n.bootstrapListener.bind(n)}const P2=new Ee("Router Initializer");let ne=(()=>{class n{static get(e){if(!this._emitters[e]){const r=new z;this._emitters[e]=r}return this._emitters[e]}static has(e){return!!this._emitters[e]}static processCommands(e){const r=n.get("COMMAND");return r.subscribe(a=>{const{command:d,args:p,source:f}=a,v=e[`cmd${d}`];v&&v.call(e,p,f)}),r}static broadcastCommand(e,r,a=null,d=null){const p=r.split(";");for(var f=0;f<p.length;f++){let v=p[f];setTimeout(function(){const C={command:v,args:a,source:e};n.get("COMMAND").emit(C),d&&d()},10*(f+1))}}static registerCommand(e,r,a){e[`cmd${r}`]=a}static unregisterCommand(e,r){delete e[`cmd${r}`]}static displayToast(e,r){!n.has("SHOWERROR")&&n.get("SHOWERROR").subscribe(a=>{r.call(e,"error",a.title,a.message)}),!n.has("SHOWWARNING")&&n.get("SHOWWARNING").subscribe(a=>{r.call(e,"warning",a.title,a.message)}),!n.has("SHOWINFO")&&n.get("SHOWINFO").subscribe(a=>{r.call(e,"info",a.title,a.message)}),!n.has("SHOWSUCCESS")&&n.get("SHOWSUCCESS").subscribe(a=>{r.call(e,"success",a.title,a.message)})}}return n._emitters={},n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const ue=new class hX{error(t,e){const r={title:e||"",message:t};ne.get("SHOWERROR").emit(r),console.error("SHOWERROR",t)}warning(t,e){const r={title:e||"",message:t};ne.get("SHOWWARNING").emit(r),console.warn("SHOWWARNING",t)}success(t,e){const r={title:e||"",message:t};ne.get("SHOWSUCCESS").emit(r),console.info("SHOWSUCCESS",t)}info(t,e){const r={title:e||"",message:t};ne.get("SHOWINFO").emit(r),console.log("SHOWINFO",t)}};var Yh=(()=>{return(n=Yh||(Yh={})).UNKNOWN="unknown",n.AT="@",n.THIS="this",n.SELF="self",n.ROOT="root",Yh;var n})();class kO{constructor(){this.hasOwnProperty=Object.prototype.hasOwnProperty}getFunctionName(t){let e=t.toString();return e=e.substr(9),e=e.substr(0,e.indexOf("(")),e.trim()}generateUUID(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===r?a:7&a|8).toString(16)})}asJson(t){const e=this.stringify(t);return JSON.parse(e)}formatPrediction(t){const e=1e4*parseFloat(t);return Math.round(e)/100}replaceAll(t,e,r){return t.split(e).join(r)}stringify(t,e,r=3){function a(p){return p&&p.asReference?"resolveRef("+p.asReference()+","+p.constructor.name+")":p}return JSON.stringify(t,function d(p,f){switch(p){case"myParent":return a(f);case"myMembers":return f&&f.map(m=>a(m));case"_lookup":case"_members":return f;case"gridApis":case"columnApis":return""}if(!p.startsWith("_"))return f},r)}splitNamespaceType(t,e){const r=t.split("::");let a={namespace:"",name:t};return 2===r.length?a={namespace:r[0],name:r[1]}:e&&(a={namespace:r[0],name:e}),a}getNamespace(t){let e=t.myType?t.myType.split("::"):[""];return e=e[0],e}getType(t){let e=t.myType?t.myType.split("::"):[""];return e=2===e.length?e[1]:e[0],e}namespace(t,e){return`${t}::${e}`}randomInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}random(t,e){return t+Math.random()*(e-t)}randomRGBColor(){return`rgb(${255*Math.random()|0},${255*Math.random()|0},${255*Math.random()|0})`}randomName(){const t=["Llam","Noah","Oliver","Elijah","Lucas","Mason","Henry","Logan","Sebastian","Wyatt","Carter","Isaac","Dylan","Aaron"];return`${t[this.randomInt(0,t.length-1)]}_${this.randomInt(0,t.length-1)}`}randomThing(){const t=["Farmhouse","Barn","Silo","Garage","Box Truck","Yellow House","School","Brick Building","Statue"];return`${t[this.randomInt(0,t.length-1)]}_${this.randomInt(0,t.length-1)}`}matches(t,e){return t===e||t&&e&&t.toLocaleLowerCase()===e.toLocaleLowerCase()}startsWith(t,e){return t===e||t&&e&&t.toLocaleLowerCase().startsWith(e.toLocaleLowerCase())}endsWith(t,e){return t===e||t&&e&&t.toLocaleLowerCase().endsWith(e.toLocaleLowerCase())}includes(t,e){return!0===t.includes(e)||t&&e&&t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}capitalize(t){return fe.isEmpty(t)?t:fe.capitalizeFirstLetter(t)}isSelf(t){return this.matches(t,Yh.AT)||this.matches(t,Yh.THIS)||this.matches(t,Yh.SELF)}isArray(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}isFunction(t){return"function"==typeof t}isString(t){return"string"==typeof t}isNumber(t){return"number"==typeof t}isDate(t){return t instanceof Date}isObject(t){return t&&"object"==typeof t}isCustomLinkName(t){return!1}isTyped(t){return t&&t.isInstanceOf}isNotEmpty(t){return!this.isEmpty(t)}isEmpty(t){if(!t||null==t||null==t||""==t)return!0;if(t.length>0)return!1;if(0===t.length||"object"!=typeof t)return!0;for(let e in t)if(this.hasOwnProperty.call(t,e))return!1;return!0}replaceSpaces(t){return t.replace(/[\s]/g,"_")}removeSpaces(t){return t.replace(/[\s]/g,"_")}removeSpecial(t){return t.replace(/[^a-zA-Z 0-9]+/g,"")}toVirtualFolder(t){let e=this.removeSpecial(t);return e=this.removeSpaces(e),e.toLocaleLowerCase()}applyTemplate(t,e){let r=t||"";const a=Object.keys(e);for(const d of a)r=r.replace("{"+d+"}",e[d]);return r}removeDQ(t){return t.replace(/^"(.*)"$/,"$1")}unwrap(t){return t.substring(1,t.length-1)}wrapDQ(t){return`"${t}"`}wrapSQ(t){return`'${t}'`}decomposeHostPath(t){let e=t.toLowerCase();e=e.replace("http://",""),e=e.replace("https://","");const r=e.split("/")[0];return{fullpath:t,host:r,path:e.replace(r,"")}}extend(t,e){if(!e)return t;for(let r in e)this.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}mixin(t,e){if(!e)return t;if(!t)return e;for(const r of e)t[r]=e[r];return t}mixExact(t,e){if(!e)return t;if(!t)return e;for(const r in e)kO.hasOwnProperty.call(t,r)&&(t[r]=e[r]);return t}mixout(t,e){if(!e)return t;if(!t)return e;for(const r in e)this.hasOwnProperty.call(t,r)&&delete t[r];return t}extract(t,e){const r={};return e&&e.forEach(a=>{r[a]=t[a]}),r}mixMap(t,e){if(!e)return t;const r={};for(const a of t)r[e[a]||a]=t[a];return r}intersect(t,e){if(!e)return t;if(!t)return e;const r={};for(const a in t)r[a]=this.hasOwnProperty.call(e,a)?e[a]:t[a];return r}union(t,e){const r={};if(t)for(const a of t)r[a]=t[a];if(e)for(const a of e)r[a]=e[a];return r}defineValueProperty(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),t}defineComputeOnlyProperty(t,e,r){return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r}),t}defineCalculatedProperty(t,e,r){return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r,set(a){this[`_${e}`]=a}}),t}getMethods(t){const e=[];for(const r in t.prototype)"function"==typeof t[r]&&e.push(r);return e}asArray(t,e){return this.isArray(t)?t:this.mapOverKeyValue(t,(r,a)=>e?e(r,a):a)}concatURL(t,e){return`${t.endsWith("/")?t.substring(0,t.length-1):t}${e.startsWith("/")?e:`/${e}`}`}removeFromEnd(t,e){return t.endsWith(e)?t.substring(0,t.length-e.length):t}applyOverKeyValue(t,e){const r={};return(t?Object.keys(t):[]).forEach(d=>{if(this.hasOwnProperty.call(t,d)){const f=e(d,t[d]);f&&(r[d]=f)}}),r}mapOverKeyValue(t,e){const r=[];return(t?Object.keys(t):[]).forEach(d=>{if(this.hasOwnProperty.call(t,d)){const f=e(d,t[d]);f&&r.push(f)}}),r}forEachKeyValue(t,e){(t?Object.keys(t):[]).forEach(a=>{this.hasOwnProperty.call(t,a)&&e(a,t[a])})}findKeyForValue(t,e){for(const r in t)if(this.hasOwnProperty.call(t,e)&&t[r].matches(e))return r;return t}addToListByKey(t,e,r){t[e]?t[e].push(r):t[e]=[r]}extractReadWriteKeys(t){const e=[];return fe.forEachKeyValue(t,(r,a)=>{fe.isFunction(a)||e.push(r)}),e}extractComputedKeys(t){const e=[];return fe.forEachKeyValue(t,(r,a)=>{fe.isFunction(a)&&e.push(r)}),e}overrideComputed(t,e){fe.forEachKeyValue(e,(r,a)=>{try{fe.isFunction(a)?fe.defineCalculatedProperty(t,r,a):t[r]=a}catch(d){console.log(d)}})}extendComputed(t,e){fe.forEachKeyValue(e,(r,a)=>{try{t[r]||(fe.isFunction(a)?fe.defineCalculatedProperty(t,r,a):t[r]=a)}catch(d){console.log(d)}})}pluck(t){return e=>e[t]}distinctItems(t){const e={};return t.forEach(r=>{e[r]=r}),Object.keys(e)}groupBy(t,e){const r={};return e.forEach(a=>{const d=t(a);r[d]||(r[d]=[]),r[d].push(a)}),r}mergeGroups(t,e){const r={};return Object.keys(t).forEach(a=>{const d=t[a],p=e[a];r[a]=p?[...p,...d]:[...d]}),r}getNowIsoDate(){return(new Date).toISOString()}getDeltaSeconds(t){const e=new Date(t);return((new Date).getTime()-e.getTime())/1e3}now(){return(new Date).getTime()}getYearYYYY(){return(new Date).getFullYear()}get doNothing(){return()=>{}}isPasteEvent(t){return(null==t?void 0:t.ctrlKey)&&"V"===((null==t?void 0:t.key)||"").toUpperCase()}getPositiveInteger(t){const e=Math.abs(Math.round(t));return 0===e?1:e}padZero(t=0,e=3){return`${t}`.padStart(e,"0")}}let fe=new kO,eS=new class fX{constructor(){this.registry={}}Pub(t,...e){if(this.registry[t])return this.registry[t].forEach(r=>{r.apply(null,e)}),this}Sub(t,e){return this.registry[t]||(this.registry[t]=[]),this.registry[t].push(e),this}Unsub(t){return this.registry[t]&&delete this.registry[t],this}Clear(){return this.registry={},this}};class dn{constructor(t){t&&this.override(t)}override(t){t&&Object.keys(t).forEach(e=>{this[e]=t[e]})}asJson(){return{}}}class gX extends dn{constructor(t){super(t),this.name="",this.label="",this.style="",this.isDivider=!1,this.routerLink="",this.override(t),fe.isEmpty(this.routerLink)&&(this.routerLink=`/${this.name}`),fe.isEmpty(this.label)&&(this.label=fe.capitalize(this.name))}get isVisible(){return null==this._visibleWhen||this._visibleWhen&&this._visibleWhen()}get canExist(){return null==this._existWhen||this._existWhen&&this._existWhen()}get toolTip(){return null==this._toolTipRule?this.label:this._toolTipRule&&this._toolTipRule()}toolDetails(t){return this._toolTipRule=t,this}existIf(t){return this._existWhen=t,this}divider(t){return this.isDivider=t,this}visibleIf(t){return this._visibleWhen=t,this}}class GO extends dn{constructor(t){super(t),this.members=new Array}getCommands(){return this.members}clear(){return this.members=new Array,this.members}addCommand(t){const e=new gX(t);return this.members.push(e),e}static quickMenu(t){const e=new GO;return t.forEach(r=>{e.addCommand(r)}),e.getCommands()}}let vr=new GO;class mX extends dn{constructor(t){super(t)}isStringEmpty(t){return null==t||""===t}get polarityValue(){return this.polarity||"undecided"}set polarityValue(t){this.polarity=t}get polarityColor(){const t=this.polarityValue;return"positive"===t?"rgba(0,204,0,0.3)":"negative"===t?"rgba(255,0,0,0.3)":"white"}clear(){this.cue="",this.subject="",this.object=""}setTypeFromSentence(t){this.type=t.replace("Sentence","")}isSaveWorthy(){return!this.isEmpty()}isDeletable(){return this.isEmpty()}isEmpty(){return this.isStringEmpty(this.cue)&&this.isStringEmpty(this.subject)&&this.isStringEmpty(this.object)}isMissingData(){return this.isStringEmpty(this.cue)||this.isStringEmpty(this.subject)||this.isStringEmpty(this.object)}}class $c extends dn{constructor(t){super(t)}addTag(t){const e=new $c({tagName:t});return this.appendTag(e),e}findTag(t){var e;return null===(e=this.tagList)||void 0===e?void 0:e.filter(r=>r.tagName==t)[0]}userTagList(){return this.tagList}appendTag(t){return this.tagList||(this.tagList=new Array),this.tagList.push(t),t}asSpec(){var t;if((null===(t=this.dropDownList)||void 0===t?void 0:t.length)>0){const e=this.dropDownList.join(",");return`${this.tagName}:[${e}]`}return`${this.tagName}`}setDropDownList(t){this.dropDownList=t,this.tagValue=t[0]}extendRecord(t,e){const r=this;r.isTagGroup?(t.TagGroup=r.tagName,r.tagList.forEach(a=>{const d=`${r.tagName}_${a.tagName}`;t[d]=a.tagValue,e[d]=a.tagName})):(t[r.tagName]=r.tagValue,e[r.tagName]=r.tagName)}get isTagGroup(){var t;return(null===(t=this.tagList)||void 0===t?void 0:t.length)>0}applyJSON(t){var e;return null===(e=this.tagList)||void 0===e||e.forEach(r=>{const a=t[r.tagName];a&&(r.tagValue=a)}),this}duplicate(){var t;const e=null===(t=this.tagList)||void 0===t?void 0:t.map(a=>a.duplicate());return new $c({tagName:this.tagName,tagValue:this.tagValue,dropDownList:this.dropDownList,tagList:e})}}class vX extends dn{constructor(t){super(t),this.tagList=new Array,this.tagLookup={},this.init()}add(t){return this.tagList.push(t),this.tagLookup[t.tagName]=t,t}convertNameSpec(t){const e=t.split(":");return{name:e[0],spec:1==e.length?"":e[1].replace("[","").replace("]","")}}findTag(t){return this.tagLookup[t]}establishTag(t,e="",r=!1){const{name:a}=this.convertNameSpec(t);var p=r?void 0:this.tagLookup[a];return p||(p=new $c({tagName:a}),r||this.add(p)),""!=e&&e.split(";").forEach(f=>{const{name:m,spec:v}=this.convertNameSpec(f);if(!p.findTag(m)){const C=this.establishTag(m,"",!0);p.appendTag(C),""!=v&&C.setDropDownList(v.split(","))}}),p}init(){this.establishTag("correction","reason;author;date")}toJson(){const t={};return this.tagList.forEach(e=>{var r;const a=e.tagName;let d="";(null===(r=e.tagList)||void 0===r?void 0:r.length)>0&&(d=e.tagList.map(p=>p.asSpec()).join(";")),t[a]=d}),t}fromJson(t){return Object.keys(t).forEach(e=>{this.establishTag(e,t[e])}),this}}class zc extends dn{constructor(t){super(t)}get myType(){return"LaModelTags"}asStats(t){let e="";return this.rhetClass&&(e=`${e} ${this.rhetClass} `),this.polarity&&(e=`${e} ${this.polarity} `),this.ruleID&&(e=`${e} ${this.ruleID} `),e&&(e=`${t} ${e} - (author ${this.author})`),e}}class HO extends zc{constructor(t){super(t)}}var Wr=(()=>{return(n=Wr||(Wr={}))[n.Split=0]="Split",n[n.Join=1]="Join",n[n.Delete=2]="Delete",n[n.Edit=3]="Edit",n[n.InsertPara=4]="InsertPara",n[n.InsertSent=5]="InsertSent",n[n.Footnote=6]="Footnote",n[n.Tokenize=7]="Tokenize",n[n.None=8]="None",Wr;var n})();class pn extends dn{constructor(t){var e,r,a,d;if(super(t),(null==t?void 0:t.userTags)&&(this.userTags=new Array,null===(e=null==t?void 0:t.userTags)||void 0===e||e.forEach(f=>{const m=new $c(f);m.applyJSON(f),this.addUserTag(m)})),null==t?void 0:t.rhetClass){const f=t.rhetClass;delete this.rhetClass,fe.matches(f,"Sentence")||this.writeLabel("rhetClass",f,this.author)}if((null===(r=null==t?void 0:t.rhetClassPredict)||void 0===r?void 0:r.length)>0){const f=t.rhetClassPredict;delete this.rhetClassPredict,this.writePrediction("rhetClass",f,this.author)}if((null===(a=null==t?void 0:t.attributions)||void 0===a?void 0:a.length)>0&&this.writeLabel("polarity",t.attributions[0].polarity,this.author),(null===(d=null==t?void 0:t.ruleConditions)||void 0===d?void 0:d.length)>0){let f=t.ruleConditions[0];f=f.replace("|","_"),f=f.replace(".","-"),this.writeLabel("ruleID",f,this.author)}(null==t?void 0:t.labels)&&(this.labels=new zc(t.labels)),(null==t?void 0:t.probability)&&(this.probability=new zc(t.probability)),(null==t?void 0:t.forecast)&&(this.forecast=new zc(t.forecast)),fe.isString(this.isSection)&&(this.isSection=!fe.matches(String(this.isSection),"false")),this.sentID&&this.decomposeID(this.sentID),this.sentenceNumber&&(this.renumId=parseInt(this.sentenceNumber));const p=this.attributions;if(p&&p.length>0&&(this.attributions=[],p.forEach(f=>{const m=new mX;this.addAttributionRelation(m),m.override(f)})),null==t?void 0:t.predictions){const f=t.predictions;f.author?this.forecast=new zc(f):this.enrichmentSet=f}if(null==t?void 0:t.sectionType){let f=this.sectionType.replace("Section","");f.includes("unknown")&&(f=""),this.sectionType=f}this.applyEnrichmentSet(this.enrichmentSet)}get myType(){return"LaSentence"}asJson(){return{sentID:this.sentID,caseNumber:this.caseNumber,sentenceNumber:this.sentenceNumber,paragraphNumber:this.paragraphNumber,text:this.text,author:this.author,groupIDs:this.groupIDs,unchangedSince:this.unchangedSince,isItemOfInterest:this.isItemOfInterest,isSection:this.isSection,sectionType:this.sectionType,isFirst:this.isFirst,isLast:this.isLast,notes:this.notes,userTags:this.userTags,footnoteRefs:this.footnoteRefs,labels:this.labels,forecast:this.forecast,probability:this.probability,enrichmentSet:this.enrichmentSet}}static sentenceRef(t,e){return`${t.caseNumber}P${t.paragraphNumber}S${e||t.sentenceNumber||0}`}addGroupID(t){return this.groupIDs?this.groupIDs.includes(t)||(this.groupIDs=`${this.groupIDs};${t}`):this.groupIDs=t,t}removeGroupID(t){if(this.groupIDs){const e=this.groupIDs.split(";"),r=e.indexOf(t);r>-1&&(e.splice(r,1),this.groupIDs=e.join(";"))}return t}clearGroupIDs(){this.groupIDs=null}MarkSectionAsDeleted(){this.SetSectionTypeAndStatus("DELETED",!1)}toggleDeleted(){this.IsDeleted()?this.SetSectionTypeAndStatus("",!1):this.MarkSectionAsDeleted()}IsEmptyOrDeleted(){return this.IsEmpty()&&this.MarkSectionAsDeleted(),this.IsDeleted()}IsEmpty(){return 0==this.text.length}GetSectionType(){return this.sectionType}IsDeleted(){return fe.matches(this.sectionType,"DELETED")}HasSection(){return!fe.isEmpty(this.sectionType)}SetSectionTypeAndStatus(t,e){this.sectionType=t,this.isSection=e}getGroupID(){return this.groupIDs||""}compareGroupID(t){return this.getGroupID()==t.getGroupID()?0:this.getGroupID()>t.getGroupID()?1:-1}toggleBookmark(){this.isBookmark=!this.isBookmark}getSummary(){return this.text}hasFootnoteReference(){return fe.isNotEmpty(this.footnoteRefs)}createTagDisplayRecord(){const t=this;return{object:t,objectID:t.sentID,rhetClass:t.getRhetClass(),caseNumber:t.caseNumber,paragraphNumber:t.paragraphNumber,sentenceNumber:t.sentenceNumber,notes:t.notes,text:t.text}}isImmutable(){return!fe.isEmpty(this.unchangedSince)}showImmutable(){return this.isImmutable()?this.unchangedSince:""}markAsImmutable(){return this.isItemOfInterest=!1,this.unchangedSince=fe.getNowIsoDate(),this}writeProbability(t,e,r=""){if(!this.isSection)return this.probability||(this.probability=new zc({author:r})),this.probability[t]=e,e}writeLabel(t,e,r){if(!this.isSection)return this.labels||(this.labels=new zc({author:r})),this.labels[t]=e,e}writePrediction(t,e,r){if(!this.isSection)return this.forecast||(this.forecast=new zc({author:r})),this.forecast[t]=e,e}applyEnrichmentSet(t){try{fe.applyOverKeyValue(t,(e,r)=>{if(r&&r.classification&&r.predictions){this.writePrediction(e,r.classification,"enriched");const d=fe.formatPrediction(r.predictions[r.classification]);this.writeProbability(e,d,"enriched")}})}catch(e){ue.error(e.message)}}readProbabilityValue(t="rhetClass"){var e;return(null===(e=this.probability)||void 0===e?void 0:e[t])||0}compareProbability(t){return this.readProbabilityValue()-t.readProbabilityValue()}readProbability(){var t;const e=this.readProbabilityValue();return 0===e?"Label":(null===(t=this.labels)||void 0===t?void 0:t.rhetClass)?`L: ${e} %`:`(${e}) %`}readRhetClass(){var t,e;let r=null===(t=this.labels)||void 0===t?void 0:t.rhetClass;return r||(r=null===(e=this.forecast)||void 0===e?void 0:e.rhetClass,r)?r:"Sentence"}getRhetClass(){return this.isSection?"section":this.readRhetClass()}hasLabeledClass(t){var e;return(null===(e=this.labels)||void 0===e?void 0:e.rhetClass)===t}hasPredictedClass(t){var e;return(null===(e=this.forecast)||void 0===e?void 0:e.rhetClass)===t}hasNoPrediction(){return!(!this.forecast&&!this.labels)}readPolarity(){var t,e;let r=null===(t=this.labels)||void 0===t?void 0:t.polarity;return r||(r=null===(e=this.forecast)||void 0===e?void 0:e.polarity,r)?r:"undecided"}polarityColor(){const t=this.readPolarity();try{return fe.matches(t,"positive")?"rgba(0,255,0,0.7)":fe.matches(t,"negative")?"rgba(255,0,0,0.7)":fe.matches(t,"neutral")?"white":fe.matches(t,"undecided")?"black":"blue"}catch(e){return"blue"}}getSectionBadges(){const t=new Array;return this.sectionType?t.push(this.sectionType):this.isFirst&&t.push("No Section Assignment"),t}compare(t){var e=parseInt(this.paragraphNumber),r=parseInt(t.paragraphNumber)-e;if(0==r){var a=parseInt(this.sentenceNumber),d=parseInt(t.sentenceNumber)-a;r=e*d/Math.abs(d)+d/100}return r}modelStatsToolTips(){var t,e;return`<i>${(null===(t=this.labels)||void 0===t?void 0:t.asStats("Label:"))||""}&nbsp;&nbsp;&nbsp;${(null===(e=this.forecast)||void 0===e?void 0:e.asStats("Forecast:"))||""}</i>`}get label(){return this.paraTag()}computeID(){return this.sentID=`${this.caseNumber}${this.paraTag()}${this.sentIDTag()}`,this.paraID=`${this.caseNumber}${this.paraTag()}`,this}decomposeID(t){let e=t.split("P");return 1==e.length&&(e=t.split("FN")),this.caseNumber=e[0],e=e[1].split("S"),this.paragraphNumber=e[0],this.sentenceNumber=e[1],this}immutableSentTag(){return this.isImmutable()?`${this.unchangedSince}: ${this.paraTag()} ${this.sentIDTag()}`:`${this.paraTag()} ${this.sentIDTag()}`}anchorTag(){return`${this.caseNumber}${this.paraTag()}${this.sentIDTag()}`}paraTag(){return`${fe.startsWith(this.sectionType,"FN")?"FN":"P"}${this.paragraphNumber||0}`}sentIDTag(){return`S${this.sentenceNumber||0}`}paraIDTag(){return`${this.caseNumber}${this.paraTag()}`}sentTag(){return`${this.paraTag()}: ${this.sentIDTag()}`}fullSentTag(){return`${this.caseNumber} ${this.sentTag()}`}addUserTag(t){return this.userTags||(this.userTags=new Array),this.userTags.push(t),t}removeUserTag(t){if(this.userTags){const e=this.userTags.indexOf(t);e>-1&&this.userTags.splice(e,1)}return t}renumberTo(t){return this.renumId=t,this.sentenceNumber=t.toString(),this.computeID()}isUnclassified(){return!this.readRhetClass()||"Sentence"===this.readRhetClass()}hasClassification(){return this.readRhetClass()&&"Sentence"!==this.readRhetClass()}cutHere(t,e){return`${t}&nbsp;&nbsp;&#x2704;&nbsp;&nbsp;${e}`}bold(t){return`<b>${t}</b>`}underline_simple(t){return`<ins>${t}</ins>`}italic_simple(t){return`<i>${t}</i>`}superscriptNumbers(t){let e="";for(var r=0;r<t.length;r++)switch(t[r]){case"0":e+="\u2070";break;case"1":e+="\xb9";break;case"2":e+="\xb2";break;case"3":e+="\xb3";break;case"4":e+="\u2074";break;case"5":e+="\u2075";break;case"6":e+="\u2076";break;case"7":e+="\u2077";break;case"8":e+="\u2078";break;case"9":e+="\u2079"}return e}hideFootnoteKeys(t,e){return t.replace(`{{${e}}}`,` ${this.superscriptNumbers(e)}`)}itemOfInterestMarkup(t){return`<u class="item-of-interest-style" > ${t} </u>`}deletedItemMarkup(t){return`<u class="deleted-item-style" > ${t} </u>`}postEditMarkup(t){return`<u class="post-edit-style" > ${t} </u>`}replaceBold(t,e){return t.replace(e,this.bold(e))}textMarkup(t){let e=`${this.text}`;return t?e=this.itemOfInterestMarkup(e):this.IsDeleted()&&(e=this.deletedItemMarkup(e)),this.isSection&&(e=this.bold(e)),`&nbsp; &nbsp; ${e}`}quickSplitMarkup(t){let e=`${this.text}`;return t&&(e=this.itemOfInterestMarkup(e)),`&nbsp; &nbsp; ${e}`}quickSplitArray(t){return t.split(/(.+?([A-Z].)\.(?:['")\\\s][\"]?)+?\s?)/gim),t.split(/(?<=[^A-Z].[.?]) +(?=[A-Z])*/g)}modifyFootnoteRefs(){const e=this.text.split("{{")[1].split("}}")[0];e&&(this.footnoteRefs[e]=`FN${e}`,this.text=this.hideFootnoteKeys(this.text,e))}modifyTextAndHideFootnotes(){this.footnoteRefs&&Object.keys(this.footnoteRefs).forEach(e=>{this.text=this.hideFootnoteKeys(this.text,e)}),-1!=this.text.indexOf("{{")&&this.modifyFootnoteRefs()}hasEnrichmentSet(){return void 0!==this.enrichmentSet}displayForecasts(){return[]}isFindingSentence(){try{const t=this.readRhetClass();return null==t?void 0:t.includes("Finding")}catch(t){return ue.error(t.message),this.readRhetClass(),!1}}getFindingAttribution(){if(this.hasAttributionRelation()){const t=this.attributions.filter(e=>e.type.includes("Finding"));return t&&t[0]}}hasAttributionRelation(){return this.attributions&&this.attributions.length>0}getCurrentAttributionRelation(){return this.attributions&&this.attributions[0]}addAttributionRelation(t){return this.hasAttributionRelation()||(this.attributions=new Array),this.attributions.push(t),this}removeAttributionRelation(t){if(!this.hasAttributionRelation())return;const e=this.attributions.indexOf(t);return e>-1&&this.attributions.splice(e,1),this}isLikelyCitation(){return!!this.getRhetClass().includes("Citation")}mergeTextFromSentence(t,e=" "){return this.text+=`${e}${t.text}`,this}hasDecision(t){return this.hasDecisionRuleID(t.ruleID)}hasDecisionRuleID(t){return!!this.ruleConditions&&this.ruleConditions.indexOf(t)>=0}getDecisionKeys(){return this.ruleConditions?this.ruleConditions:new Array}addDecision(t){return this.addDecisionRuleID(t.ruleID),this}removeDecision(t){return this.removeDecisionRuleID(t.ruleID),this}addDecisionRuleID(t){return this.ruleConditions||(this.ruleConditions=new Array),-1===this.ruleConditions.indexOf(t)&&this.ruleConditions.push(t),this}removeDecisionRuleID(t){if(this.ruleConditions){const e=this.ruleConditions.indexOf(t);e>-1&&this.ruleConditions.splice(e,1)}return this}}class F2 extends dn{constructor(t){if(super(t),this.sentenceLookup={},(null==t?void 0:t.sectionType)&&(this.sectionType=null==t?void 0:t.sectionType),null==t?void 0:t.text){this.footnoteNumber=`${t.id}`,this.footnoteID=`FN${this.footnoteNumber}`,this.sentences=new Array;const e=new pn({caseNumber:this.caseNumber,text:null==t?void 0:t.text,sectionType:this.footnoteID,sentenceNumber:"1"});this.addSentence(e)}(null==t?void 0:t.sentences)&&(this.sentences=new Array,t.sentences.forEach(e=>{const r=new pn(e);this.addSentence(r)}))}get myType(){return"LaFootnote"}computeID(){return this.noteID=`${this.caseNumber}FN${this.footnoteNumber}`,this}addSentence(t){return this.sentences.push(t),this.sentenceLookup[t.sentenceNumber]=t,t.paragraphNumber=this.footnoteNumber,this.sortSentences(),t}deleteSentence(t){const e=this.sentences.indexOf(t);-1!=e&&this.sentences.splice(e,1),this.renumSentences()}getSectionBadges(){const t=new Array;return t.push(this.sectionType?this.sectionType:"No Section Assignment"),t}footnoteText(){let t="";return this.sentences.forEach(e=>{t=`${t} ${e.text}`}),t}SetSectionTypeAndStatus(t){this.sectionType=t}asJson(){return{footnoteID:this.footnoteID,sectionType:this.sectionType,caseNumber:this.caseNumber,footnoteNumber:this.footnoteNumber,sentences:this.sentences}}resolveSentence(t){return this.sentenceLookup[t]}getNextSentence(t){return this.resolveSentence(`${t.renumId+1}`)}sortSentences(){this.sentences=this.sentences.sort((r,a)=>r.renumId-a.renumId);const t=this.sentences[0],e=this.sentences[this.sentences.length-1];return this.sentences.forEach(r=>{r.computeID(),r.isFirst=r===t,r.isLast=r===e}),this.sentences}renumSentences(){this.sortSentences(),this.sentenceLookup={};let t=1;return this.sentences.forEach(e=>{e.renumberTo(t),this.sentenceLookup[e.sentenceNumber]=e,t++}),this.sentences}}class N2 extends dn{constructor(t){super(t),this.ruleID&&this.ruleID.indexOf("|")>0&&(this.ruleID=this.ruleID.replace("|","_"))}sentTag(){return`D:${this.ruleID}`}hasChildren(){return!(null==this.subNodes||0==this.subNodes.length)}hasOneChild(){if(null!=this.subNodes&&1==this.subNodes.length)return this.subNodes[0]}childCount(){return null==this.subNodes?0:this.subNodes.length}childANDs(){return null==this.subNodes?[]:this.subNodes.filter(t=>"OR"!=t.operation&&"REBUT"!=t.operation)}childORs(){return null==this.subNodes?[]:this.subNodes.filter(t=>"OR"==t.operation)}childREBUTs(){return null==this.subNodes?[]:this.subNodes.filter(t=>"REBUT"==t.operation)}addChild(t){return null==this.subNodes&&(this.subNodes=new Array),t.parent=this,this.subNodes.push(t),this}setStipulation(t){this.stipulation=t}stipulationClass(){return 1==this.stipulation?"positive":0==this.stipulation?"negative":this.stipulation}inversePolarityValue(t){return"positive"===t?"negative":"negative"===t?"positive":t}computeNodePolarity(){var t;if(void 0!==this.stipulation)return this.stipulationClass();if(this.calculateSentencePolarity&&(null===(t=this.sentenceLinks)||void 0===t?void 0:t.length)>0)return this.calculateSentencePolarity(this.sentenceLinks);let e=this.polarityValue;if(!this.hasChildren())return e;const r=this.hasOneChild();return r?(e=r.computeNodePolarity(),"REBUT"==r.operation?this.inversePolarityValue(e):e):(this.childCount(),this.childORs(),e)}get polarityValue(){return this.polarity||"undecided"}get polarityColor(){const t=this.computeNodePolarity();return fe.matches(t,"positive")?"rgba(0,255,0,0.7)":fe.matches(t,"negative")?"rgba(255,0,0,0.7)":fe.matches(t,"neutral")?"white":fe.matches(t,"undecided")?"black":"blue"}set polarityValue(t){this.polarity=t}get myCount(){return this.subNodes&&this.subNodes.length}get parentCount(){return this.parent.myCount}get memberId(){let t=0;return this.parent&&this.parent.subNodes&&(t=this.parent.subNodes.indexOf(this)+1),t}get memberLabel(){return null==this.parent||null==this.operation?"":`${this.operation||""} [${this.memberId} of ${this.parentCount}]`}hasSentence(t){return this.hasSentenceID(t.sentID)}hasSentenceID(t){return!!this.sentenceLinks&&this.sentenceLinks.indexOf(t)>=0}getSentenceKeys(){return this.sentenceLinks?this.sentenceLinks:new Array}addSentence(t){return this.addSentenceID(t.sentID)}addSentenceID(t){return this.sentenceLinks||(this.sentenceLinks=new Array),-1===this.sentenceLinks.indexOf(t)&&this.sentenceLinks.push(t),this}removeSentence(t){return this.removeSentenceID(t.sentID)}removeSentenceID(t){if(this.sentenceLinks){const e=this.sentenceLinks.indexOf(t);e>-1&&this.sentenceLinks.splice(e,1)}return this}asJson(){const t=this.subNodes&&this.subNodes.map(r=>r.asJson());return{ruleID:this.ruleID,label:this.label,operation:this.operation,stipulation:this.stipulation,sentenceLinks:this.sentenceLinks,nodes:t}}}class _X extends N2{constructor(t){super(t)}asJson(){return super.asJson()}}const lt={tag:"production",launchServerURL:"",launchMarkerEndpoint:"",launchPadEndpoint:"",launchSearchEndpoint:"",hubURL:"",baseURL:"",baseURLAPI:"",searchURL:"",searchURLAPI:"/api/ElasticSearch",predictURL:"",libraryURL:"",converterURL:"",loginURL:"",localDebug:!1,localLogin:!0,production:!0,version:"8.1.5",isLegalMarker:!1,isLegalPad:!1,isLegalSearch:!0,featureflags:{useMockData:!1},userTags:{},defaultTags:{},defaultPredictions:{rhetClass:{classification:"Sentence",predictions:{CitationSentence:0,EvidenceSentence:0,FindingSentence:0,LegalRuleSentence:0,ReasoningSentence:0,Sentence:0}},polarity:{classification:"negundefinedative",predictions:{negative:0,neutral:0,positive:0}},ruleID:{classification:"undefined",predictions:{SC_1:0,"SC_1.1":0,"SC_1.2":0,"SC_1.3":0}}}};class yX extends dn{constructor(t){super(t),this.name="",this.label="",this.filter="",this.perserveOrder=!1,this.members=new Array,this.override(t);const e="Sentence";let r=this.name.replace(e,"");r=""==r?e:r,r===e&&(r="Other"),this.label=r}getMembers(){return this.members}addMember(t){this.members.push(t)}total(){return this.members.length}sortMembers(){return this.perserveOrder||(this.members=this.members.sort((t,e)=>e.compareProbability(t))),this}isMarkerVisible(){return this.total()>0||lt.isLegalMarker}markerToolTip(){return this.markerLabel()}markerLabel(){return`${this.label} (${this.total()})`}}class CX extends dn{constructor(t){super(t)}toString(){return JSON.stringify(this,void 0,3)}}class qh extends dn{constructor(t){var e;super(t),this.histogram=void 0,this.sentenceLookup={},this.sentences=new Array,this.renumId=parseInt(this.paragraphNumber),(null==t?void 0:t.userTags)&&(this.userTags=new Array,null===(e=null==t?void 0:t.userTags)||void 0===e||e.forEach(r=>{const a=new $c(r);a.applyJSON(r),this.addUserTag(a)})),(null==t?void 0:t.sentences)&&(this.sentenceLookup={},this.sentences=new Array,t.sentences.forEach(r=>{this.addSentence(new pn(r))})),this.isItemOfInterest||(this.isItemOfInterest=!1)}get myType(){return"LaParagraph"}static paragraphRef(t,e){return`${t.caseNumber}P${e||t.paragraphNumber||0}`}addGroupID(t){return this.groupIDs=this.groupIDs?`${this.groupIDs};${t}`:t,t}removeGroupID(t){if(this.groupIDs){const e=this.groupIDs.split(";"),r=e.indexOf(t);r>-1&&(e.splice(r,1),this.groupIDs=e.join(";"))}return t}clearGroupIDs(){this.groupIDs=null}getSummary(){return""}createTagDisplayRecord(){const t=this;return{object:t,objectID:t.paraID,rhetClass:"Paragraph",caseNumber:t.caseNumber,paragraphNumber:t.paragraphNumber,sentenceNumber:0,notes:t.notes,text:""}}isImmutable(){return!fe.isEmpty(this.unchangedSince)}showImmutable(){return this.isImmutable()?this.unchangedSince:""}markAsImmutable(){return this.isItemOfInterest=!1,this.unchangedSince=fe.getNowIsoDate(),this}computeID(){return this.paraID=`${this.caseNumber}${this.paraTag()}`,this}anchorTag(){return`${this.caseNumber}${this.paraTag()}`}paraTag(){return`P${this.paragraphNumber||0}`}get label(){return this.paraTag()}resolveSentence(t){return this.sentenceLookup[t]}getNextSentence(t){return this.resolveSentence(`${t.renumId+1}`)}asJson(){const t={paraID:this.paraID,groupIDs:this.groupIDs,caseNumber:this.caseNumber,paragraphNumber:this.paragraphNumber,notes:this.notes,unchangedSince:this.unchangedSince,isItemOfInterest:this.isItemOfInterest,userTags:this.userTags,sentences:this.sentences,sentIDList:this.sentences.map(e=>e.sentID)};return this.isImmutable()?delete t.sentIDList:delete t.sentences,t}addUserTag(t){return this.userTags||(this.userTags=new Array),this.userTags.push(t),t}removeUserTag(t){if(this.userTags){const e=this.userTags.indexOf(t);e>-1&&this.userTags.splice(e,1)}return t}clearSentences(){this.sentences=new Array,this.sentenceLookup={},this.histogram=void 0}sortSentences(){this.sentences=this.sentences.sort((r,a)=>r.renumId-a.renumId);const t=this.sentences[0],e=this.sentences[this.sentences.length-1];return this.sentences.forEach(r=>{r.computeID(),r.isFirst=r===t,r.isLast=r===e}),this.sentences}isCompleteArgument(){return this.sentenceHistogram(),0===this.isReasoningArgument()||0===this.isEvidenceArgument()?0:this.isFinding()}isFinding(){return this.sentenceHistogram().FindingSentence?1e3:0}isReasoningArgument(){const t=this.sentenceHistogram();return this.isFinding()&&t.ReasoningSentence?1100:0}isEvidenceArgument(){const t=this.sentenceHistogram();return this.isFinding()&&t.EvidenceSentence?1010:0}isLoneSentence(){const t=this.sentenceHistogram();return 1===Object.keys(t).length&&t.Sentence?-1e3:0}completeArgumentScore(){const t=this.sentenceHistogram();let e=t.EvidenceSentence;return e+=t.ReasoningSentence,e}get pointValue(){return this.isCompleteArgument()+this.isReasoningArgument()+this.isEvidenceArgument()+this.isFinding()+this.isLoneSentence()+this.weightedCount/10}get weightedCount(){let t=0;const e=this.sentenceHistogram();for(const[r,a]of Object.entries(e))t+=a;return t}compareScore(t){return this.pointValue-t.pointValue}getGroupID(){return this.groupIDs||""}compareGroupID(t){return this.getGroupID()==t.getGroupID()?0:this.getGroupID()>t.getGroupID()?1:-1}get score(){return`${this.pointValue}::${this.weightedCount}`}sentenceHistogram(){return null!=this.histogram||(this.histogram={},this.sentences.forEach(t=>{const e=t.readRhetClass();this.histogram[e]||(this.histogram[e]=0),this.histogram[e]+=1})),this.histogram}computeStats(){const t=this.sentenceHistogram();let e=new Array;return Object.keys(t).forEach(r=>{e.push({name:r,value:t[r]})}),e=e.sort((r,a)=>a.value-r.value),e}firstSentence(){return this.sentences[0]}lastSentence(){return this.sentences[this.sentences.length-1]}isSection(){return!!this.hasSentences()&&this.firstSentence().isSection}hasSentences(){return this.sortSentences&&this.sentences.length>0}addSentence(t){return this.sentences.push(t),this.sentenceLookup[t.sentenceNumber]=t,this.histogram=void 0,t.paragraphNumber=this.paragraphNumber,t}deleteSentence(t){const e=this.sentences.indexOf(t);-1!=e&&this.sentences.splice(e,1),this.renumSentences()}renumSentences(){this.sortSentences(),this.sentenceLookup={};let t=1;return this.sentences.forEach(e=>{e.renumberTo(t),this.sentenceLookup[e.sentenceNumber]=e,t++}),this.sentences}}class Rv extends dn{constructor(t){super(t),this.extension=this.extension||".json",this.version=this.version||"0000"}getFilename(){return`${this.pre}-${this.name}-${this.version}${this.extension}`}getName(){return this.name}asFile(t){return new File([t],this.getFilename())}computeFromTemplate(t){return`${fe.applyTemplate(t,this)}${this.extension}`}syncronise(t){const r=t.replace(this.extension,"").split("-");3==r.length&&(this.pre=r[0],this.name=r[1],this.version=r[2]),2==r.length&&(this.pre=r[0],this.name=r[1],this.version=this.version||"0000")}incrementVersion(){const t=parseInt(this.version)+1,e=this.padLeft(t,"0",4);return this.version=`${e}`,this}padLeft(t,e,r){return(String(e).repeat(r)+t).substr(-1*r,r)}}class tS extends dn{constructor(t){super(t),this.workspace=this.workspace||"local",this.source||(this.source=this.owner)}asFilename(t){return new Rv({pre:t||this.pre||"case",name:this.name,version:this.version,extension:this.extension})}getFilename(){return`${this.pre}-${this.name}-${this.version}${this.extension}`}}class Kc extends tS{constructor(t){super(t)}caseCompare(t){return this.workspace==t.workspace?this.openedFileName==t.openedFileName?0:this.openedFileName<t.openedFileName?1:-1:this.workspace<t.workspace?1:-1}}class bX extends Kc{constructor(t){super(t)}}class wX extends Kc{constructor(t){super(t)}}class SX extends dn{constructor(t){super(t)}setToEmpty(){let t=fe.getNowIsoDate().split(".")[0];return t=fe.replaceAll(t,"-",""),t=fe.replaceAll(t,":",""),this.groupIDs=`G${t}`,this.title="",this.description="",this.category="",this}}class L2 extends dn{constructor(t){super(t),this.children||(this.children=new Array)}shortText(){return this.text.length<200?this.text:`${this.text.substring(0,200)}......`}getGroupID(){var t;return(null===(t=this.member)||void 0===t?void 0:t.groupIDs)||"UNGROUPED"}addGroupID(t){this.member.addGroupID(t)}removeGroupID(t){this.member.removeGroupID(t)}clearGroupID(){this.member.clearGroupIDs()}compareGroupID(t){return this.getGroupID()==t.getGroupID()?0:this.getGroupID()>t.getGroupID()?1:-1}isGroup(){return fe.matches(this.referenceType,"LaGroup")}isSentence(){return fe.matches(this.referenceType,"LaSentence")}isParagraph(){return fe.matches(this.referenceType,"LaParagraph")}memberCount(){return this.member.memberCount()}addChild(t){this.children.push(t)}canShowPolarity(){const t=this.member;return!!(null==t?void 0:t.isFindingSentence)&&t.isFindingSentence()}polarityColor(){const t=this.member;return null==t?void 0:t.polarityColor()}sentTag(){const t=this.member;return null==t?void 0:t.sentTag()}processGroup(){const t=this.member;t.clearMembers(),this.children.forEach(e=>{if(e.isSentence()){const r=e.member;r.isItemOfInterest=!1,t.establishSentence(r)}})}}class nS extends dn{constructor(t){var e;super(t),this.isItemOfInterest||(this.isItemOfInterest=!1),(null==t?void 0:t.userTags)&&(this.userTags=new Array,null===(e=null==t?void 0:t.userTags)||void 0===e||e.forEach(r=>{const a=new $c(r);a.applyJSON(r),this.addUserTag(a)}))}getSummary(){return this.author}anchorTag(){return""}addUserTag(t){return this.userTags||(this.userTags=new Array),this.userTags.push(t),t}removeUserTag(t){if(this.userTags){const e=this.userTags.indexOf(t);e>-1&&this.userTags.splice(e,1)}return t}createTagDisplayRecord(){const t=this;return{object:t,objectID:t.referenceID,rhetClass:"Reference",sentenceNumber:0,notes:t.notes,text:""}}asJson(){return{referenceID:this.referenceID,referenceType:this.referenceType,notes:this.notes,userTags:this.userTags}}}class VO extends dn{constructor(t){var e,r;super(t),this.members=new Array,this.createdOn=fe.getNowIsoDate(),null===(e=null==t?void 0:t.members)||void 0===e||e.forEach(a=>{const d=new nS(a);this.members.push(d)}),this.isItemOfInterest||(this.isItemOfInterest=!1),(null==t?void 0:t.userTags)&&(this.userTags=new Array,null===(r=null==t?void 0:t.userTags)||void 0===r||r.forEach(a=>{const d=new $c(a);d.applyJSON(a),this.addUserTag(d)}))}get myType(){return"LaGroup"}getGroupID(){return this.groupIDs||""}compareGroupID(t){return this.getGroupID()==t.getGroupID()?0:this.getGroupID()>t.getGroupID()?1:-1}createTagDisplayRecord(){const t=this;return{object:t,objectID:t.title,rhetClass:"Group",sentenceNumber:0,notes:t.notes,text:""}}getSummary(){return this.title}anchorTag(){return this.getGroupID()}addGroupID(t){return this.groupIDs=this.groupIDs?`${this.groupIDs};${t}`:t,t}removeGroupID(t){if(this.groupIDs){const e=this.groupIDs.split(";"),r=e.indexOf(t);r>-1&&(e.splice(r,1),this.groupIDs=e.join(";"))}return t}clearGroupIDs(){this.groupIDs=null}clearMembers(){return this.members=new Array,this.members}memberCount(){return this.getMembers().length}getMembers(){return this.members||[]}addUserTag(t){return this.userTags||(this.userTags=new Array),this.userTags.push(t),t}removeUserTag(t){if(this.userTags){const e=this.userTags.indexOf(t);e>-1&&this.userTags.splice(e,1)}return t}isImmutable(){return!fe.isEmpty(this.unchangedSince)}showImmutable(){return this.isImmutable()?this.unchangedSince:""}markAsImmutable(){return this.isItemOfInterest=!1,this.unchangedSince=fe.getNowIsoDate(),this}establishParagraph(t){if(this.members.find(a=>a.referenceID==t.paraID))return;t.addGroupID(this.groupIDs);const r=new nS({referenceID:t.paraID,referenceType:t.myType});this.members.push(r)}establishSentence(t){if(this.members.find(a=>a.referenceID==t.sentID))return;t.addGroupID(this.groupIDs);const r=new nS({referenceID:t.sentID,referenceType:t.myType});this.members.push(r)}asJson(){return this.getMembers().map(r=>r.asJson()),{groupIDs:this.groupIDs,title:this.title,description:this.description,category:this.category,createdOn:this.createdOn,notes:this.notes,userTags:this.userTags,members:this.members}}}class BO extends dn{constructor(t){super(t),this.author="",this.text="",this.groupLookup={},this.groups=new Array,this.paragraphLookup={},this.paragraphs=new Array,this.sentenceLookup={},this.sentences=new Array,this.decisionLookup={},this.footnoteLookup={},this.footnotes=new Array,this.parking=new Array,this.lampsType="LegalModel",(null==t?void 0:t.caseInfo)&&(this.modelCoreInfo=new tS(t.caseInfo))}setText(t){return this.text=t,this}get filename(){return this.modelCoreInfo.asFilename().getFilename()}updateFilename(t){this.modelCoreInfo.override(t)}getModelName(){return this.caseNumber}clearBookmarks(){this.getSentences().forEach(t=>t.isBookmark=!1)}getBookmarks(){return this.getSentences().filter(e=>1==e.isBookmark).map(e=>e.anchorTag())}getParagraphs(){return this.paragraphs}getSentences(){return this.sentences}findFootnotes(t){const e=new Array;return t.footnoteRefs&&Object.keys(t.footnoteRefs).forEach(r=>{e.push(this.footnoteLookup[r])}),e}getFootnoteText(t){let e="";return t.forEach(r=>{var a;e+=`${null===(a=this.footnoteLookup[r])||void 0===a?void 0:a.footnoteText()} \n`}),e}getFootnotes(){return this.footnotes}getGroups(){return this.groups}createCaseCoreInfo(t){const e={guidKey:fe.generateUUID(),name:this.caseNumber,extension:".json",version:"0000",owner:"",source:(null==t?void 0:t.source)?null==t?void 0:t.source:"",keywords:"",metadata:{},lastChange:this.getDateTime()};return this.modelCoreInfo=new tS(Object.assign(Object.assign({},e),t)),fe.matches(this.modelCoreInfo.source,this.modelCoreInfo.owner)&&(this.modelCoreInfo.owner=""),this.modelCoreInfo}extractLaFilename(){const t=new Rv;return this.modelCoreInfo&&t.override({pre:this.modelCoreInfo.pre,name:this.modelCoreInfo.name,version:this.modelCoreInfo.version,extension:this.modelCoreInfo.extension}),t}mergeModelCoreInfo(t){return this.getModelCoreInfo().override(t),this.modelCoreInfo}getSentencesOfInterest(){return this.getSentences().filter(t=>t.isItemOfInterest)}getParagraphsOfInterest(){return this.getParagraphs().filter(t=>t.isItemOfInterest)}findParagraph(t){const e=t.paraIDTag();return this.resolveParagraph(e)}doSplitParagraphOn(t){const e=parseInt(t.paragraphNumber);return this.resolveParagraph(`${t.caseNumber}P${e}`)}getPreviousParagraph(t){const e=parseInt(t.paragraphNumber)-1;return this.resolveParagraph(`${t.caseNumber}P${e}`)}getNextParagraph(t){const e=parseInt(t.paragraphNumber)+1;return this.resolveParagraph(`${t.caseNumber}P${e}`)}getPreviousSentence(t){const r=pn.sentenceRef(t,t.renumId-1);return this.resolveSentence(r)}getPreviousFootnote(t,e){const r=""+(e.renumId-1);return this.resolveFootnote(t).resolveSentence(r)}getNextSentence(t){const r=pn.sentenceRef(t,t.renumId+1);return this.resolveSentence(r)}parkSentence(t){return this.parking.push(t),this}removeSentence(t){delete this.sentenceLookup[t.sentID];const e=this.sentences.filter(r=>r.sentID!=t.sentID);return this.sentences=e,this}establishSentence(t){t.computeID();const e=this.resolveSentence(t.sentID);return e&&this.removeSentence(e),this.sentenceLookup[t.sentID]=t,this.sentences.push(t),e&&e.groupIDs&&t.addGroupID(e.groupIDs),this}establishFootnote(t){return this.footnoteLookup[t.footnoteID]=t,this.footnotes.push(t),this}removeParagraph(t){delete this.paragraphLookup[t.paraID];const e=this.paragraphs.filter(r=>r.paraID!=t.paraID);return this.paragraphs=e,this}establishParagraph(t){t.computeID();const e=this.resolveParagraph(t.paraID);return e&&this.removeParagraph(e),t.completeArgumentScore(),this.paragraphLookup[t.paraID]=t,this.paragraphs.push(t),e&&e.groupIDs&&t.addGroupID(e.groupIDs),this}removeGroup(t){delete this.groupLookup[t.groupIDs];const e=this.groups.filter(r=>r.groupIDs!=t.groupIDs);return this.groups=e,this}establishGroup(t){const e=this.resolveGroup(t.groupIDs);return e&&this.removeGroup(e),this.groupLookup[t.groupIDs]=t,this.groups.push(t),this}deleteSentence(t){const e=this.resolveParagraph(t.paraID);e&&(this.removeSentence(t),e.deleteSentence(t),0==e.sentences.length&&(this.removeParagraph(e),this.reorderParagraphs()),e.renumSentences(),this.refreshSentences())}splitSentence(t,e){const a=this.paragraphLookup[t.paraID];if(a){t.text=e[0];for(let d=1;d<e.length;d++){const p=new pn(t);p.sentenceNumber=`${t.sentenceNumber}.${d}`,p.renumId=t.renumId+d/10,p.text=e[d],this.establishSentence(p),a.addSentence(p)}a.renumSentences(),this.refreshSentences()}return a}deleteFootnoteSentence(t){const e=t.GetSectionType(),r=this.resolveFootnote(e);r&&r.deleteSentence(t)}createGroupFromSpec(t){let e=this.resolveGroup(t.groupIDs);return e?e.override(t):(e=new VO(t),this.establishGroup(e)),e}splitText(t,e){const r=t.indexOf(e);return{first:t.substring(0,r),last:t.substring(r)}}splitFootnote(t,e){const r=t.GetSectionType(),a=this.footnoteLookup[r];if(a){t.text=e[0];for(let d=1;d<e.length;d++){const p=new pn(t);p.sentenceNumber=`${t.sentenceNumber}.${d}`,p.renumId=t.renumId+d/10,p.text=e[d],this.establishSentence(p),a.addSentence(p)}a.renumSentences(),this.refreshSentences()}return a}reorderParagraphs(){const t=this.paragraphs.splice(0);this.paragraphs=[],this.paragraphLookup={};let e=1;t.forEach(r=>{r.sentences.length>0&&(r.renumId=e,r.paragraphNumber=`${e}`,this.establishParagraph(r),r.sentences.forEach(a=>{a.paragraphNumber=r.paragraphNumber,a.computeID()}),e+=1)})}sortParagraphs(){var t;return this.paragraphs=null===(t=this.paragraphs)||void 0===t?void 0:t.sort((e,r)=>e.renumId-r.renumId),this.paragraphs}normalizeModel(){var t,e;let r=null;const a=this.getSentences();a.forEach(d=>{d.HasSection()?r=d.GetSectionType():d.SetSectionTypeAndStatus(r,d.isSection),d.text=d.text?d.text.trim():""}),null===(t=this.paragraphs)||void 0===t||t.forEach(d=>{d.clearSentences()}),a.forEach(d=>{this.establishParagraphFromSentence(d)}),null===(e=this.sortParagraphs())||void 0===e||e.forEach(d=>{d.sortSentences()})}refreshSentences(){const t=new Array;this.getParagraphs().forEach(e=>{e.sentences.forEach(r=>{t.push(r)})}),this.getParagraphs().forEach(e=>{e.clearSentences()}),t.forEach(e=>{this.establishParagraphFromSentence(e)})}establishParagraphFromSentence(t){t.computeID();let e=this.resolveParagraph(t.paraID);return e||(e=new qh({caseNumber:t.caseNumber,paragraphNumber:t.paragraphNumber}),this.establishParagraph(e)),e.addSentence(t),e}resolveParagraph(t){return this.paragraphLookup[t]}resolveSentence(t){return this.sentenceLookup[t]}resolveFootnote(t){return this.footnoteLookup[t]}resolveGroup(t){return this.groupLookup[t]}resolveSentenceKeys(t){const e=new Array;return t&&t.forEach(r=>{const a=this.sentenceLookup[r];a&&e.push(a)}),e}resolveDecisionKeys(t){const e=new Array;return t&&t.forEach(r=>{const a=this.decisionLookup[r];a&&e.push(a)}),e}attachDecisionRoot(t){this.decisionLookup={},this.attachDecision(t),this.decisionRoot=t}attachDecision(t){this.decisionLookup[t.ruleID]=t,t.subNodes&&t.subNodes.forEach(e=>{this.attachDecision(e)})}getDateTime(){return fe.getNowIsoDate()}getModelCoreInfo(){return this.modelCoreInfo||(this.modelCoreInfo=this.createCaseCoreInfo({})),this.modelCoreInfo}asJson(){var t,e,r,a,d;return{caseNumber:this.caseNumber,lampsType:this.lampsType,caseInfo:this.getModelCoreInfo(),modelInfo:this.modelInfo,groups:null===(t=this.groups)||void 0===t?void 0:t.map(f=>f.asJson()),sentences:null===(e=this.sentences)||void 0===e?void 0:e.map(f=>f.asJson()),paragraphs:null===(r=this.paragraphs)||void 0===r?void 0:r.map(f=>f.asJson()),footnotes:null===(a=this.footnotes)||void 0===a?void 0:a.map(f=>f.asJson()),ruleTree:null===(d=this.decisionRoot)||void 0===d?void 0:d.asJson(),parking:this.parking,text:this.text,preprocessed:this.preprocessed}}asUploadedCase(t,e){this.modelCoreInfo.override({owner:t?t.username:"unknown",workspace:e||"development",lastChange:this.getDateTime()});const r=this.asJson(),a=new bX(r.caseInfo);return a.data=JSON.stringify(r),a}}class Av extends BO{constructor(t){super(t),this.lampsType="LegalCase"}}class iS extends dn{constructor(t){super(t),this._admin=!1}asJson(){return{firstName:this.firstName,lastName:this.lastName,username:this.username,email:this.email}}fullName(){return`${this.firstName} ${this.lastName}`}displayName(){return this.username?`${this._admin?"*":""}${this.username}`:""}markAsAdmin(){this._admin=!0}isAdmin(){return this._admin}}class WO extends dn{constructor(t){super(t)}isLeaderRecord(){return fe.matches(this.leader,this.member)}scoreForSorting(){return this.isLeaderRecord()?100:10}memberCompare(t){this.isLeaderRecord();return this.scoreForSorting()-t.scoreForSorting()}}class EX extends dn{constructor(t){super(t),this.godMode=!1,this.members=new Array}addMember(t){this.members.push(t)}canDelete(){return"Leaders"!=this.teamName}}const rS="AdvancedQuery";class DX extends dn{constructor(t){super(t)}isEmpty(){return fe.isEmpty(this.simplify())}simplify(){const t={};return Object.keys(this).forEach(e=>{fe.isEmpty(this[e])||(t[e]=this[e])}),t}}class oS extends dn{constructor(t){super(t)}}class TX extends oS{constructor(t){super(t),this.sentence=new pn(t._source)}get isSelected(){var t;return null===(t=this.sentence)||void 0===t?void 0:t.isItemOfInterest}get rawText(){return this.sentence.text}get formatedScore(){return Math.round(100*this._score)/100}get RhetClassLabel(){return`${this.sentence.getRhetClass()}`}get CaseNoLabel(){return`Case No. ${this.sentence.caseNumber}`}get SearchScoreLabel(){return`Search Score ${this.formatedScore}`}get caseNumber(){return this.sentence.caseNumber}CaseLink(){return`${window.location.protocol}//${window.location.hostname}:${window.location.port}/legalmarker/#/case/${this.caseNumber}`}}const sS="currentUser";let _r=(()=>{class n{constructor(e){this.http=e;const r=JSON.parse(localStorage.getItem(sS)),a=r?new iS(r):null;this.currentUserSubject=new lo(a)}get API_URL(){return lt.loginURL}get currentUserValue(){return this.currentUserSubject.value}get isCurrentUserAdmin(){return!!this.currentUserValue&&this.currentUserValue.isAdmin()}processUsers(e){const r=new Array;return e.forEach(a=>{const d=new iS(a);r.push(d)}),r}localLogin(e){const r=new iS({username:e});return this.currentUserSubject=new lo(r),localStorage.setItem(sS,JSON.stringify(r)),this.currentUserSubject.next(r),r}login(e,r){const a=`${this.API_URL}/Users/Authenticate`,d={headers:new mr({"Content-Type":"application/json"})};return this.http.post(a,e,d).pipe(Je(p=>{if(r&&r(),p.hasError)return ue.error(p.message),Re();const f=this.processUsers(p.payload)[0];return f&&f.token?(localStorage.setItem(sS,JSON.stringify(f)),this.currentUserSubject.next(f),f):Re()}),Xt(p=>(r&&r(),ue.error(p&&p.hasError?p.message:p),Re())))}register(e,r){const a=`${this.API_URL}/Users/Register`,d={headers:new mr({"Content-Type":"application/json"})};return lt.isLegalMarker&&r&&r(),this.http.post(a,e,d).pipe(Je(p=>(r&&r(),p.hasError?(ue.error(p.message),Re()):this.processUsers(p.payload)[0])),Xt(p=>(r&&r(),ue.error(p&&p.hasError?p.message:p),Re())))}logout(){localStorage.removeItem(sS),this.currentUserSubject.next(null)}getAllUsers$(){const r=`${this.API_URL}/Users/AllUsers`,a={headers:new mr({"Content-Type":"application/json"})};return this.http.get(r,a).pipe(Je(d=>this.processUsers(d.payload)),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,r),Re()}))}getIsUserAdmin$(e){const a=`${this.API_URL}/Users/IsAdmin`,d={headers:new mr({"Content-Type":"application/json"})},p=e&&e.asJson();return this.http.post(a,p,d).pipe(Je(f=>{const m=f.payload[0];return m.status&&e.markAsAdmin(),m.status}),Xt(f=>{const m=JSON.stringify(f,void 0,3);return ue.error(m,a),Re()}))}getDeleteUser$(e){const r="/Users/Delete/",a=encodeURIComponent(e.email),d=`${this.API_URL}${r}${a}`,p={headers:new mr({"Content-Type":"application/json"})};return this.http.delete(d,p).pipe(Je(f=>{const m=this.processUsers(f.payload);return ue.success(`${f.length} items deleted!`,r),m}),Xt(f=>{const m=JSON.stringify(f,void 0,3);return ue.error(m,d),Re()}))}}return n.\u0275fac=function(e){return new(e||n)(K(Cl))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),El=(()=>{class n{constructor(e,r){this.http=e,this.aService=r}get API_URL(){return lt.libraryURL}setActiveTeam(e){return this._currentTeam=e,e&&ue.success(`${e.teamName} is the active team`,e.workspace),this._currentTeam}get activeTeam(){return this._currentTeam}get currentWorkspace(){return this.activeTeam?this.activeTeam.workspace:"guest"}get currentPattern(){return this.activeTeam&&this.activeTeam.pattern?this.activeTeam.pattern:"case-{name}-{version}"}processTeamUsers(e){const r=new Array;return e.forEach(a=>{const d=new iS(a);r.push(d)}),r}processTeamMembers(e){const r=new Array;return e.forEach(a=>{const d=new WO(a);r.push(d)}),r.sort((a,d)=>d.memberCompare(a)),r}processTeams(e){const r=new Array,a={};return e.forEach(d=>{const p=d.teamName;let f=a[p];f||(f=new EX({teamName:p,leader:d.leader,pattern:d.pattern,workspace:d.workspace}),a[p]=f,"Leaders"===p?this.aService.currentUserValue.isAdmin()&&r.push(f):r.push(f)),f.addMember(d)}),r}establishTeamMember$(e){const r="/Teams/EstablishTeamMember",a=`${this.API_URL}${r}`;return this.http.post(a,e).pipe(Je(d=>(ue.success(`${d.length} item updated!`,r),d.payload)),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}establishTeam$(e){const r="/Teams/EstablishTeam",a=`${this.API_URL}${r}`;return this.http.post(a,e).pipe(Je(d=>(ue.success(`${d.length} team established!`,r),d.payload)),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}getAdminTeam$(e){const r="/Teams/AdminTeam",a=`${this.API_URL}${r}/${e}`;return this.http.get(a).pipe(Je(d=>{let p=this.processTeamMembers(d.payload);p=p.filter(m=>"Leaders"==m.teamName);const f=this.processTeams(p);return ue.success(`${d.length} items loaded!`,r),f}),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}getAllTeam$(){const e="/Teams/AllTeamMembers",r=`${this.API_URL}${e}`;return this.http.get(r).pipe(Je(a=>{let d=this.processTeamMembers(a.payload);d=d.filter(f=>"Leaders"!=f.teamName);const p=this.processTeams(d);return p.forEach(f=>f.godMode=!0),ue.success(`${a.length} items loaded!`,e),p}),Xt(a=>{const d=JSON.stringify(a,void 0,3);return ue.error(d,r),Re()}))}getTeamForLeader$(e){const r="/Teams/TeamMembersForLeader",a=`${this.API_URL}${r}/${e}`;return this.http.get(a).pipe(Je(d=>{let p=this.processTeamMembers(d.payload);p=p.filter(m=>"Leaders"!==m.teamName);const f=this.processTeams(p);return ue.success(`${d.length} items loaded!`,r),f}),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}getActiveTeamFor$(e){const r="/Teams/TeamMembersForMember",a=`${this.API_URL}${r}/${e}`;return this.http.get(a).pipe(Je(d=>{let p=this.processTeamMembers(d.payload);p=p.filter(v=>"Leaders"!=v.teamName);const m=this.processTeams(p)[0];return m&&this.setActiveTeam(m),ue.success(`${d.length} items loaded!`,r),this.activeTeam}),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}getTeamMembersFor$(e){const r="/Teams/TeamMembersForMember",a=`${this.API_URL}${r}/${e}`;return this.http.get(a).pipe(Je(d=>{let p=this.processTeamMembers(d.payload);p=p.filter(m=>"Leaders"!=m.teamName);const f=this.processTeams(p);return ue.success(`${d.length} items loaded!`,r),f}),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}getTeamDetailsForTeam$(e){const r="/Teams/TeamDetailsForTeam",a=`${this.API_URL}${r}/${e}`;return this.http.get(a).pipe(Je(d=>{const p=this.processTeamUsers(d.payload);return ue.success(`${d.length} items loaded!`,r),p}),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}deleteTeamMember$(e){const r="/Teams/DeleteTeamMember",a=`${this.API_URL}${r}/${e}`;return this.http.delete(a).pipe(Je(d=>(ue.success(`${d.length} item deleted!`,r),d.payload)),Xt(d=>{const p=JSON.stringify(d,void 0,3);return ue.error(p,a),Re()}))}deleteTeam$(e){const r="/Teams/DeleteTeam",a=encodeURIComponent(e),d=`${this.API_URL}${r}/${a}`;return this.http.delete(d).pipe(Je(p=>(ue.success(`${p.length} team deleted!`,r),p.payload)),Xt(p=>{const f=JSON.stringify(p,void 0,3);return ue.error(f,d),Re()}))}}return n.\u0275fac=function(e){return new(e||n)(K(Cl),K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RX(n,t){1&n&&(S(0,"div",8)(1,"h6"),F(2,"*leader"),E()())}function AX(n,t){if(1&n){const e=le();S(0,"div",8)(1,"button",11),U("click",function(){return J(e),L().doToggleInvite()}),F(2),E()()}if(2&n){const e=L();D(1),I("ngClass",e.invitedClass()),D(1),Ae(e.invitedText())}}function OX(n,t){if(1&n){const e=le();S(0,"div",8)(1,"button",11),U("click",function(){return J(e),L().doToggleActive()}),F(2),E()()}if(2&n){const e=L();D(1),I("ngClass",e.activeClass()),D(1),Ae(e.activeText())}}function xX(n,t){if(1&n){const e=le();S(0,"div",8)(1,"button",12),U("click",function(){return J(e),L().doUpdateMember()}),F(2,"Update"),E()()}}function IX(n,t){if(1&n){const e=le();S(0,"button",13),U("click",function(){return J(e),L().doConfirmDelete()}),F(1,"Confirm"),E()}}let MX=(()=>{class n{constructor(e,r){this.formBuilder=e,this.tService=r,this.confirmDelete=!1}resetTeamMember(e){this.teamMemberForm=this.formBuilder.group({member:[e.member],invited:[e.invited],active:[e.active]})}ngOnChanges(e){for(const r in e)this.resetTeamMember(e[r].currentValue)}ngOnInit(){this.resetTeamMember(this.member)}isLeader(){return this.member.isLeaderRecord()}isNotLeader(){return!this.member.isLeaderRecord()}invitedText(){return this.f.invited.value?"Invited":"Not Invited"}invitedClass(){return this.f.invited.value?"btn-success":"btn-danger"}doToggleInvite(){this.f.invited.setValue(!this.f.invited.value)}activeText(){return this.f.active.value?"Active":"Not Active"}activeClass(){return this.f.active.value?"btn-success":"btn-danger"}doToggleActive(){this.f.active.setValue(!this.f.active.value)}deleteText(){return this.confirmDelete?"Save":"Delete"}doDeleteMember(){this.confirmDelete=!this.confirmDelete}doConfirmDelete(){this.confirmDelete=!1,this.tService.deleteTeamMember$(this.member.guidKey).subscribe(e=>{ne.broadcastCommand(this,"RefreshTeams")})}get f(){return this.teamMemberForm.controls}doUpdateMember(){this.member.override({pattern:this.team.pattern,member:this.f.member.value,invited:this.f.invited.value,active:this.f.active.value}),this.tService.establishTeamMember$(this.member).subscribe(r=>{ne.broadcastCommand(this,"RefreshTeams")})}ngOnDestroy(){this.teamMemberForm=null,this.member=null}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(El))},n.\u0275cmp=Ce({type:n,selectors:[["app-team-member"]],inputs:{team:"team",member:"member"},features:[$t],decls:19,vars:8,consts:[[1,"container"],["rowHeight","70px"],[2,"width","95%",3,"formGroup"],[1,"form-row"],[1,"col-sm-4"],["type","email","formControlName","member","placeholder","Team Member email",1,"form-control"],["class","col-auto",4,"ngIf"],["class","col-auto ",4,"ngIf"],[1,"col-auto"],[1,"btn","btn-danger",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn",3,"ngClass","click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),X(5,"input",5),E(),V(6,RX,3,0,"div",6),V(7,AX,3,2,"div",6),V(8,OX,3,2,"div",7),V(9,xX,3,0,"div",7),S(10,"div",8)(11,"button",9),U("click",function(){return r.doDeleteMember()}),F(12),E()(),S(13,"div",8),V(14,IX,2,0,"button",10),E(),S(15,"div",8)(16,"h6"),F(17),E()()()()(),X(18,"br"),E()),2&e&&(D(2),I("formGroup",r.teamMemberForm),D(4),I("ngIf",r.isLeader()),D(1),I("ngIf",r.isNotLeader()),D(1),I("ngIf",r.isNotLeader()),D(1),I("ngIf",r.isNotLeader()),D(3),Ae(r.deleteText()),D(2),I("ngIf",r.confirmDelete),D(3),Ae(r.member.pattern))},directives:[as,ss,Vr,Yi,fr,xo,ut,va],styles:[""]}),n})();function PX(n,t){if(1&n&&(S(0,"div",2)(1,"span",3),F(2),E(),S(3,"span",3),F(4),E(),S(5,"span",3),F(6),E()()),2&n){const e=L();D(2),_t("username: ",e.user.username,""),D(2),_t("first: ",e.user.firstName,""),D(2),_t("last: ",e.user.lastName,"")}}let FX=(()=>{class n{constructor(){}ngOnInit(){}ngOnDestroy(){this.user=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-team-member-display"]],inputs:{user:"user"},decls:3,vars:1,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-4"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,PX,7,3,"div",1),X(2,"br"),E()),2&e&&(D(1),I("ngIf",r.user))},directives:[ut],styles:[""]}),n})();function NX(n,t){if(1&n){const e=le();S(0,"button",3),U("click",function(){return J(e),L().doCreateTeamMember()}),F(1,"Invite a New Team Member"),E()}}function LX(n,t){1&n&&(S(0,"div"),F(1,"Members's Email is required"),E())}function kX(n,t){if(1&n&&(S(0,"div",14),V(1,LX,2,0,"div",15),E()),2&n){const e=L(2);D(1),I("ngIf",e.f.member.errors.required)}}const GX=function(n){return{"is-invalid":n}};function HX(n,t){if(1&n){const e=le();S(0,"div",4)(1,"form",5)(2,"div",6)(3,"label",7),F(4,"Email:"),E(),S(5,"div",8),X(6,"input",9),V(7,kX,2,1,"div",10),E(),S(8,"div",11)(9,"button",12),U("click",function(){return J(e),L().doCreate()}),F(10,"Invite"),E()(),S(11,"div",11)(12,"button",13),U("click",function(){return J(e),L().doCancel()}),F(13,"Cancel"),E()(),S(14,"div",11)(15,"h4"),F(16),E()()()()()}if(2&n){const e=L();D(1),I("formGroup",e.teamCreateMemberForm),D(5),I("ngClass",rr(4,GX,e.submitted&&e.f.member.errors)),D(1),I("ngIf",e.submitted&&e.f.member.errors),D(9),Ae(e.team.pattern)}}let VX=(()=>{class n{constructor(e,r){this.formBuilder=e,this.tService=r,this.showForm=!1,this.submitted=!1}ngOnInit(){this.teamCreateMemberForm=this.formBuilder.group({member:["",or.required]})}ngOnDestroy(){this.teamCreateMemberForm=null}get f(){return this.teamCreateMemberForm.controls}doCreate(){if(this.submitted=!0,this.teamCreateMemberForm.invalid)return;const r=new WO({teamName:this.team.teamName,pattern:this.team.pattern,workspace:this.team.workspace,leader:this.team.leader,member:this.f.member.value,invited:!0,active:!1});this.tService.establishTeamMember$(r).subscribe(a=>{ne.broadcastCommand(this,"RefreshTeams")}),this.showForm=!1}doCreateTeamMember(){this.showForm=!0}doCancel(){this.showForm=!1}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(El))},n.\u0275cmp=Ce({type:n,selectors:[["app-create-team-member"]],inputs:{team:"team"},decls:4,vars:2,consts:[[1,"container"],["class","btn btn-primary",3,"click",4,"ngIf"],["rowHeight","140px",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["rowHeight","140px"],[2,"width","95%",3,"formGroup"],[1,"form-group","row"],["for","member",1,"col-auto","col-form-label"],[1,"col-sm-4"],["type","email","id","member","formControlName","member","placeholder","What is the members email?",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-auto"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,NX,2,0,"button",1),V(2,HX,17,6,"div",2),X(3,"br"),E()),2&e&&(D(1),I("ngIf",!r.showForm),D(1),I("ngIf",r.showForm))},directives:[ut,as,ss,Vr,Yi,fr,xo,va],styles:[""]}),n})();function BX(n,t){if(1&n&&(S(0,"div"),X(1,"app-team-member",4),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("team",r.team)("member",e)}}function WX(n,t){if(1&n&&(S(0,"div"),V(1,BX,2,2,"div",3),E()),2&n){const e=L();D(1),I("ngForOf",e.team.members)}}function jX(n,t){if(1&n&&(S(0,"div"),X(1,"app-team-member-display",5),E()),2&n){const e=t.$implicit;D(1),I("user",e)}}function UX(n,t){if(1&n&&(S(0,"div"),V(1,jX,2,1,"div",3),E()),2&n){const e=L();D(1),I("ngForOf",e.userList)}}function $X(n,t){1&n&&X(0,"app-create-team-member",6),2&n&&I("team",L().team)}function zX(n,t){if(1&n){const e=le();S(0,"div",9)(1,"button",10),U("click",function(){return J(e),L(2).doConfirmDeleteTeam()}),F(2,"Confirm"),E()()}}function KX(n,t){if(1&n){const e=le();S(0,"div",9)(1,"button",11),U("click",function(){return J(e),L(2).doDeleteTeam()}),F(2),E()()}if(2&n){const e=L(2);D(2),Ae(e.deleteText())}}function YX(n,t){if(1&n&&(S(0,"mat-action-row")(1,"h5",7),F(2),E(),S(3,"h5",7),F(4),E(),V(5,zX,3,0,"div",8),V(6,KX,3,1,"div",8),E()),2&n){const e=L();D(2),Ae(null==e.leaderDetails?null:e.leaderDetails.fullName()),D(2),Ae(e.team.pattern),D(1),I("ngIf",e.confirmDelete),D(1),I("ngIf",e.userCanEdit)}}let qX=(()=>{class n{constructor(e){this.tService=e,this.expanded=!1,this.userCanEdit=!1,this.confirmDelete=!1}ngOnInit(){this.loadDetailsForTeam()}loadDetailsForTeam(){const e=this.tService.getTeamDetailsForTeam$(this.team.teamName).subscribe(r=>{this.userList=r,this.leaderDetails=this.team.canDelete()&&r.find(a=>a.email===this.team.leader),e.unsubscribe()})}deleteText(){return this.confirmDelete?"Save Team":"Delete Team"}doDeleteTeam(){this.confirmDelete=!this.confirmDelete}doConfirmDeleteTeam(){this.confirmDelete=!1,this.tService.deleteTeam$(this.team.teamName).subscribe(e=>{ne.broadcastCommand(this,"RefreshTeams")})}}return n.\u0275fac=function(e){return new(e||n)(R(El))},n.\u0275cmp=Ce({type:n,selectors:[["app-team"]],inputs:{expanded:"expanded",userCanEdit:"userCanEdit",team:"team"},decls:13,vars:7,consts:[[3,"expanded"],[4,"ngIf"],[3,"team",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"team","member"],[3,"user"],[3,"team"],[1,"col-5"],["class","col-auto ",4,"ngIf"],[1,"col-auto"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(S(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"h5"),F(4),E()(),S(5,"mat-panel-description")(6,"h5"),F(7),E()()(),V(8,WX,2,1,"div",1),V(9,UX,2,1,"div",1),V(10,$X,1,1,"app-create-team-member",2),V(11,YX,7,4,"mat-action-row",1),E(),X(12,"br")),2&e&&(I("expanded",r.expanded),D(4),_t("TEAM: ",r.team.teamName,""),D(3),_t(" workspace: ",r.team.workspace,""),D(1),I("ngIf",r.userCanEdit),D(1),I("ngIf",!r.userCanEdit),D(1),I("ngIf",r.userCanEdit),D(1),I("ngIf",r.leaderDetails||r.team.godMode))},directives:[Mw,Pw,oO,rO,ut,Wt,MX,FX,VX,rG],styles:[""]}),n})();function QX(n,t){if(1&n){const e=le();S(0,"button",3),U("click",function(){return J(e),L().doCreateTeam()}),F(1,"Create a New Team"),E()}}function JX(n,t){if(1&n){const e=le();S(0,"div",4)(1,"form",5)(2,"div",6)(3,"label",7),F(4,"Name:"),E(),S(5,"div",8),X(6,"input",9),E()(),S(7,"div",6)(8,"label",10),F(9,"Workspace:"),E(),S(10,"div",8),X(11,"input",11),E()(),S(12,"div",6)(13,"label",12),F(14,"File Version Pattern:"),E(),S(15,"div",8),X(16,"input",13),E()(),S(17,"div",6)(18,"div",14)(19,"button",15),U("click",function(){return J(e),L().doCreateAndPost()}),F(20,"Create"),E()(),S(21,"div",14)(22,"button",16),U("click",function(){return J(e),L().doCancel()}),F(23,"Cancel"),E()()()()()}if(2&n){const e=L();D(1),I("formGroup",e.teamCreateForm)}}let XX=(()=>{class n{constructor(e,r,a){this.formBuilder=e,this.aService=r,this.tService=a,this.showForm=!1,this.submitted=!1}ngOnInit(){this.teamCreateForm=this.formBuilder.group({teamName:["",or.required],workspace:["",or.required],pattern:["BVA{name}-PTSD-{version}",or.required]})}ngOnDestroy(){this.teamCreateForm=null}get f(){return this.teamCreateForm.controls}doCreateAndPost(){this.submitted=!0;const e=fe.toVirtualFolder(this.f.workspace.value);if(this.f.workspace.setValue(e),this.teamCreateForm.invalid)return;const r=this.aService.currentUserValue.email,d=new WO({teamName:this.f.teamName.value,workspace:this.f.workspace.value,pattern:this.f.pattern.value,leader:r,member:r,invited:!0,active:!0});this.tService.establishTeam$(d).subscribe(p=>{ne.broadcastCommand(this,"RefreshTeams")}),this.showForm=!1}doCreateTeam(){this.showForm=!0}doCancel(){this.showForm=!1}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(_r),R(El))},n.\u0275cmp=Ce({type:n,selectors:[["app-create-team"]],decls:4,vars:2,consts:[[1,"container"],["class","btn btn-primary",3,"click",4,"ngIf"],["rowHeight","240px",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["rowHeight","240px"],[2,"width","95%",3,"formGroup"],[1,"form-group","row"],["for","teamName",1,"col-auto","col-form-label"],[1,"col-sm-10"],["type","text","id","teamName","formControlName","teamName","placeholder","What is the team name?",1,"form-control"],["for","workspace",1,"col-auto","col-form-label"],["type","text","id","workspace","formControlName","workspace","placeholder","In what folder will cases be stored? (no spaces or special characters)",1,"form-control"],["for","pattern",1,"col-auto","col-form-label"],["type","text","id","pattern","formControlName","pattern","placeholder","Files are stored using a uniform pattern. What is it for this workspace",1,"form-control"],[1,"col-auto"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,QX,2,0,"button",1),V(2,JX,24,1,"div",2),X(3,"br"),E()),2&e&&(D(1),I("ngIf",!r.showForm),D(1),I("ngIf",r.showForm))},directives:[ut,as,ss,Vr,Yi,fr,xo],styles:[""]}),n})();function ZX(n,t){if(1&n){const e=le();S(0,"button",10),U("click",function(){return J(e),L(2).doConfirmDelete()}),F(1," Confirm "),E()}}function eZ(n,t){if(1&n&&(S(0,"div",3)(1,"span"),F(2,"*"),E(),S(3,"span"),F(4),E()()),2&n){const e=L(2);D(4),Ae(e.user.firstName)}}function tZ(n,t){if(1&n){const e=le();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),U("click",function(){return J(e),L().doRemoveMember()}),F(4," Bench User "),E()(),S(5,"div",5)(6,"button",6),U("click",function(){return J(e),L().doDeleteMember()}),F(7),E()(),S(8,"div",5),V(9,ZX,2,0,"button",7),E(),V(10,eZ,5,1,"div",8),S(11,"div",5)(12,"span"),F(13),E()(),S(14,"div",5)(15,"span"),F(16),E()(),S(17,"div",9)(18,"span"),F(19),E()()()()}if(2&n){const e=L();D(7),_t(" ",e.deleteText()," "),D(2),I("ngIf",e.confirmDelete),D(1),I("ngIf",e.isAdmin()),D(3),Ae(e.user.lastName),D(3),Ae(e.user.username),D(3),Ae(e.user.email)}}let nZ=(()=>{class n{constructor(e){this.aService=e,this.confirmDelete=!1}ngOnInit(){if(this.user){const e=this.aService.getIsUserAdmin$(this.user).subscribe(r=>{ne.broadcastCommand(this,"ReplaceUser",[this.user]),e.unsubscribe()})}}isAdmin(){return this.user&&this.user.isAdmin()}doRemoveMember(){this.confirmDelete=!this.confirmDelete}deleteText(){return this.confirmDelete?"Save":"Delete"}doDeleteMember(){this.confirmDelete=!this.confirmDelete}doConfirmDelete(){this.confirmDelete=!1;const e=this.aService.getDeleteUser$(this.user).subscribe(r=>{ne.broadcastCommand(this,"RemoveUser",[this.user]),e.unsubscribe(),this.user=void 0})}}return n.\u0275fac=function(e){return new(e||n)(R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["app-user"]],inputs:{user:"user"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-2"],[1,"btn","btn-primary",3,"click"],[1,"col-1"],[1,"btn","btn-danger",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"col-3"],[1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&V(0,tZ,20,6,"div",0),2&e&&I("ngIf",r.user)},directives:[ut],styles:[""]}),n})();function iZ(n,t){if(1&n&&(S(0,"div"),X(1,"app-user",1),E()),2&n){const e=t.$implicit;D(1),I("user",e)}}let rZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-users"]],inputs:{list:"list"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"user"]],template:function(e,r){1&e&&V(0,iZ,2,1,"div",0),2&e&&I("ngForOf",r.list)},directives:[Wt,nZ],styles:[""]}),n})();function oZ(n,t){1&n&&(S(0,"mat-icon",4),F(1,"security"),E(),F(2," Leaders That I Authorize "))}function sZ(n,t){if(1&n&&(S(0,"div"),X(1,"app-team",5),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("userCanEdit",r.userCanEdit)("team",e)("expanded",r.isFirstInList(e,r.adminList))}}function aZ(n,t){if(1&n&&(S(0,"mat-tab"),V(1,oZ,3,0,"ng-template",2),V(2,sZ,2,3,"div",3),E()),2&n){const e=L();D(2),I("ngForOf",e.adminList)}}function lZ(n,t){1&n&&(S(0,"mat-icon",4),F(1,"explore"),E(),F(2," Teams That I Lead "))}function cZ(n,t){if(1&n&&(S(0,"div"),X(1,"app-team",5),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("userCanEdit",r.userCanEdit)("team",e)("expanded",r.isFirstInList(e,r.leaderList))}}function uZ(n,t){1&n&&X(0,"app-create-team")}function dZ(n,t){if(1&n&&(S(0,"mat-tab"),V(1,lZ,3,0,"ng-template",2),V(2,cZ,2,3,"div",3),V(3,uZ,1,0,"app-create-team",1),E()),2&n){const e=L();D(2),I("ngForOf",e.leaderList),D(1),I("ngIf",e.userCanEdit)}}function pZ(n,t){1&n&&(S(0,"mat-icon",4),F(1,"person_outline"),E(),F(2," Teams That I Belong To "))}function hZ(n,t){if(1&n&&(S(0,"div"),X(1,"app-team",5),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("userCanEdit",!1)("team",e)("expanded",r.isFirstInList(e,r.memberList))}}function fZ(n,t){if(1&n&&(S(0,"mat-tab"),V(1,pZ,3,0,"ng-template",2),V(2,hZ,2,3,"div",3),E()),2&n){const e=L();D(2),I("ngForOf",e.memberList)}}function gZ(n,t){1&n&&(S(0,"mat-icon",4),F(1,"group_work"),E(),F(2," All Teams (God mode) "))}function mZ(n,t){if(1&n&&(S(0,"div"),X(1,"app-team",5),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("userCanEdit",!0)("team",e)("expanded",r.isFirstInList(e,r.godmodeTeamList))}}function vZ(n,t){if(1&n&&(S(0,"mat-tab"),V(1,gZ,3,0,"ng-template",2),V(2,mZ,2,3,"div",3),E()),2&n){const e=L();D(2),I("ngForOf",e.godmodeTeamList)}}function _Z(n,t){1&n&&(S(0,"mat-icon",4),F(1,"group_work"),E(),F(2," All Registered Users (God mode) "))}function yZ(n,t){if(1&n&&(S(0,"mat-tab"),V(1,_Z,3,0,"ng-template",2),X(2,"app-users",6),E()),2&n){const e=L();D(2),I("list",e.godmodeUsersList)}}let CZ=(()=>{class n{constructor(e,r){this.lService=e,this.aService=r,this.userCanEdit=!0,ne.registerCommand(this,"RefreshTeams",this.doRefresh),ne.processCommands(this)}isFirstInList(e,r){return e===r&&r[0]}doRefreshMembership(){const r=this.lService.getTeamMembersFor$(this.aService.currentUserValue.email).subscribe(a=>{this.memberList=a,r.unsubscribe()})}doRefreshLeadership(){const r=this.lService.getTeamForLeader$(this.aService.currentUserValue.email).subscribe(a=>{this.leaderList=a,r.unsubscribe()})}doRefreshAdmin(){if(!0===this.aService.currentUserValue.isAdmin()){const a=this.lService.getAdminTeam$(this.aService.currentUserValue.email).subscribe(d=>{this.adminList=d,a.unsubscribe()})}}doRefreshGodmodeTeams(){if(!0===this.aService.currentUserValue.isAdmin()){const r=this.lService.getAllTeam$().subscribe(a=>{this.godmodeTeamList=a,r.unsubscribe()})}}doRefreshGodmodeUsers(){if(!0===this.aService.currentUserValue.isAdmin()){const r=this.aService.getAllUsers$().subscribe(a=>{this.godmodeUsersList=a,r.unsubscribe()})}}doRefresh(){this.doRefreshAdmin(),this.doRefreshLeadership(),this.doRefreshMembership(),this.doRefreshGodmodeTeams(),this.doRefreshGodmodeUsers()}ngOnInit(){this.doRefresh()}}return n.\u0275fac=function(e){return new(e||n)(R(El),R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["app-teams"]],inputs:{userCanEdit:"userCanEdit"},decls:6,vars:5,consts:[["mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],[4,"ngFor","ngForOf"],[1,"example-tab-icon"],[3,"userCanEdit","team","expanded"],[3,"list"]],template:function(e,r){1&e&&(S(0,"mat-tab-group",0),V(1,aZ,3,1,"mat-tab",1),V(2,dZ,4,2,"mat-tab",1),V(3,fZ,3,1,"mat-tab",1),V(4,vZ,3,1,"mat-tab",1),V(5,yZ,3,1,"mat-tab",1),E()),2&e&&(D(1),I("ngIf",r.adminList),D(1),I("ngIf",r.leaderList),D(1),I("ngIf",r.memberList),D(1),I("ngIf",r.godmodeTeamList),D(1),I("ngIf",r.godmodeUsersList))},directives:[dd,ut,Wc,sk,Ji,Wt,qX,XX,rZ],styles:[".example-tab-icon[_ngcontent-%COMP%]{margin-right:12px}"]}),n})();var Ea="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0;function jO(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Qh(r.response,t,e)},r.onerror=function(){console.error("could not download file")},r.send()}function k2(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function aS(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var G2=Ea.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Qh=Ea.saveAs||("object"!=typeof window||window!==Ea?function(){}:"download"in HTMLAnchorElement.prototype&&!G2?function(t,e,r){var a=Ea.URL||Ea.webkitURL,d=document.createElement("a");d.download=e=e||t.name||"download",d.rel="noopener","string"==typeof t?(d.href=t,d.origin!==location.origin?k2(d.href)?jO(t,e,r):aS(d,d.target="_blank"):aS(d)):(d.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(d.href)},4e4),setTimeout(function(){aS(d)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download","string"==typeof t)if(k2(t))jO(t,e,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){aS(a)})}else navigator.msSaveOrOpenBlob(function bZ(n,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(t,r),e)}:function(t,e,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return jO(t,e,r);var d="application/octet-stream"===t.type,p=/constructor/i.test(Ea.HTMLElement)||Ea.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&p||G2)&&"undefined"!=typeof FileReader){var m=new FileReader;m.onloadend=function(){var b=m.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=b:location=b,a=null},m.readAsDataURL(t)}else{var v=Ea.URL||Ea.webkitURL,C=v.createObjectURL(t);a?a.location=C:location.href=C,a=null,setTimeout(function(){v.revokeObjectURL(C)},4e4)}});Ea.saveAs=Qh.saveAs=Qh;var Dl=(()=>{return(n=Dl||(Dl={}))[n.Editor=0]="Editor",n[n.Marker=1]="Marker",n[n.Viewer=2]="Viewer",n[n.Selection=3]="Selection",n[n.Notes=4]="Notes",n[n.Search=5]="Search",n[n.Login=6]="Login",n[n.Footnote=7]="Footnote",n[n.None=8]="None",Dl;var n})();let ui=(()=>{class n{constructor(){this._currentTag="",this.canAddNotes=!1,this.canAddTags=!1,this.canLabel=!1,this.canJoinText=!1,this.canSplitText=!1,this.canQuickSplitText=!1,this.canDeleteText=!1,this.canEditText=!1,this.canMoveSentenceForward=!1,this.canMoveSentenceBackward=!1,this.canMoveSentenceUp=!1,this.canMoveSentenceDown=!1,this.canSplitParagraph=!1,this.canSelectSentence=!1,this.canEditSection=!1,this.canInsertSentence=!1,this.canInsertParagraph=!1,this.canEditFootnote=!1,this.hideColors=!1,this.isPowerUser=!1,this.tagDefinitions=new vX,this.postEditLookup={},this.openPage=Dl.None,this.loadTagDefinitions(lt.defaultTags),this.loadTagDefinitions(lt.userTags)}setCurrentAnchorTag(e){this._currentTag=e}gotoCurrentAnchorTag(){fe.isNotEmpty(this._currentTag)&&(ne.broadcastCommand(this,"GoToBookmark;JumpToAnchor",this._currentTag),this._currentTag="")}addPostEdit(e){this.postEditLookup[e.sentID]=e}isPostEdit(e){return!!this.postEditLookup[e.sentID]}clearPostEdit(){this.postEditLookup={}}doToggleColors(){this.hideColors=!this.hideColors,this.gotoCurrentAnchorTag()}doToggleNotes(){this.canAddNotes=!this.canAddNotes,this.gotoCurrentAnchorTag()}doToggleTags(){this.canAddTags=!this.canAddTags,this.gotoCurrentAnchorTag()}doToggleLabel(){this.canLabel=!this.canLabel,this.gotoCurrentAnchorTag()}doToggleCanJoinText(){this.canJoinText=!this.canJoinText,this.gotoCurrentAnchorTag()}doToggleCanSplitText(){this.canSplitText=!this.canSplitText,this.gotoCurrentAnchorTag()}doToggleCanQuickSplitText(){this.canQuickSplitText=!this.canQuickSplitText,this.gotoCurrentAnchorTag()}doToggleCanDeleteText(){this.canDeleteText=!this.canDeleteText,this.gotoCurrentAnchorTag()}doToggleCanEditText(){this.canEditText=!this.canEditText,this.gotoCurrentAnchorTag()}doToggleCanSplitParagraph(){this.canSplitParagraph=!this.canSplitParagraph,this.gotoCurrentAnchorTag()}doToggleCanMoveSentenceForward(){this.canMoveSentenceForward=!this.canMoveSentenceForward,this.gotoCurrentAnchorTag()}doToggleCanMoveSentenceBackward(){this.canMoveSentenceBackward=!this.canMoveSentenceBackward,this.gotoCurrentAnchorTag()}doToggleCanMoveSentenceUp(){this.canMoveSentenceUp=!this.canMoveSentenceUp,this.gotoCurrentAnchorTag()}doToggleCanMoveSentenceDown(){this.canMoveSentenceDown=!this.canMoveSentenceDown,this.gotoCurrentAnchorTag()}doToggleSectionEdit(){this.canEditSection=!this.canEditSection,this.gotoCurrentAnchorTag()}doToggleSentenceSelection(){this.canSelectSentence=!this.canSelectSentence,this.gotoCurrentAnchorTag()}doToggleInsertParagraph(){this.canInsertParagraph=!this.canInsertParagraph,this.gotoCurrentAnchorTag()}doToggleInsertSentence(){this.canInsertSentence=!this.canInsertSentence,this.gotoCurrentAnchorTag()}doToggleEditFootnote(){this.canEditFootnote=!this.canEditFootnote,this.gotoCurrentAnchorTag()}loadTagDefinitions(e){Object.keys(e).forEach(r=>{this.tagDefinitions.establishTag(r,e[r])})}tagList(){return this.tagDefinitions.tagList}attribution(){let e=this.tagDefinitions.findTag("attribution");return e||(e=this.tagDefinitions.establishTag("attribution","type:[Finding,Evidence,LegalRule,Reasoning,Citation];cue;subject;object")),e}saveTagsAs(e){try{const r=this.tagDefinitions.toJson(),a=JSON.stringify(r,void 0,3),d=new Blob([a],{type:"text/plain;charset=utf-8"});Qh(d,e),ue.success("Tags Saved!",e)}catch(r){ue.error(e,r.message)}}loadFile(e){const r=new FileReader;r.onerror=a=>{ue.error("fail...",JSON.stringify(a.target))},r.onload=()=>{const a=JSON.parse(r.result);this.tagDefinitions.fromJson(a),ue.success("loading!",e.name)},r.readAsText(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UO extends pe{constructor(t=1/0,e=1/0,r=cA){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:p}=this;e||(r.push(t),!a&&r.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,d=a.slice();for(let p=0;p<d.length&&!t.closed;p+=r?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<r.length&&r.splice(0,r.length-d),!a){const p=e.now();let f=0;for(let m=1;m<r.length&&r[m]<=p;m+=2)f=m;f&&r.splice(0,f+1)}}}class Jh extends dn{constructor(t){super(),this.baseURL=lt.baseURL,this.baseURLAPI=lt.baseURLAPI,this.override(t)}getUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.baseURLAPI}${this.endpoint}`)}}class lS extends Jh{constructor(t){super(),this.baseURL=lt.searchURL,this.baseURLAPI=lt.searchURLAPI,this.override(t)}getUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.baseURLAPI}${this.endpoint}`)}}class H2 extends Jh{constructor(t){super(),this.baseURL=lt.hubURL,this.override(t)}getUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}}class wZ extends Jh{constructor(t){super(),this.baseURL=lt.launchMarkerEndpoint,this.override(t)}getUrl(){const e=`${this.baseURL}${this.endpoint}`;return this.endpoint.indexOf(".azurecontainer.io")>0?encodeURI(this.endpoint):encodeURI(e)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}open(){const t=this.getUrl();ue.info("opening",t),window.open(t,"_blank")}}class SZ extends Jh{constructor(t){super(),this.baseURL=lt.launchPadEndpoint,this.override(t)}getUrl(){const e=`${this.baseURL}${this.endpoint}`;return this.endpoint.indexOf(".azurecontainer.io")>0?encodeURI(this.endpoint):encodeURI(e)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}open(){const t=this.getUrl();window.open(t,"_blank")}}class EZ extends Jh{constructor(t){super(),this.baseURL=lt.launchSearchEndpoint,this.override(t)}getUrl(){const e=`${this.baseURL}${this.endpoint}`;return this.endpoint.indexOf(".azurecontainer.io")>0?encodeURI(this.endpoint):encodeURI(e)}getAPIUrl(){return encodeURI(`${this.baseURL}${this.endpoint}`)}open(){const t=this.getUrl();window.open(t,"_blank")}}class wd extends Jh{constructor(t){super(),this.override(t)}}class V2 extends BO{constructor(t){super(t),this.lampsType="LegalSearch"}}class Xh{}let $O=(()=>{class n{constructor(e){this.http=e}makeHeaders(e,r){return Object.assign(Object.assign(Object.assign({},e),r),{"Content-Type":"application/json"})}mapToModel(e,r,a){return r.map(p=>{const f=a?a(p):p;return new e(f)})}esReportSuccess(e,r,a){const d=new Xh,p=r.response;return p.error?(d.hasError=!0,d.message=p.error,Re(d)):(d.payload=this.mapToModel(e,p.hits.hits,a),Re(d))}esSearchReportSuccess(e,r,a){const d=new Xh,p=r.response;return p.error?(d.hasError=!0,d.message=p.error,Re(d)):(d.payload=this.mapToModel(e,p.payload,a),Re(d))}handleError(e){let r="";return r=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,window.alert(r),pd(()=>r)}get$(e,r,a,d){const p=new pe,f=r.getAPIUrl(),m=this.makeHeaders(a);return this.http.get(f,m).pipe(Go(v=>(v.payload=this.mapToModel(e,v.payload,d),Re(v))),Xt(v=>(console.log(JSON.stringify(v,void 0,3)),Re(new Xh)))).subscribe(p),p}post$(e,r,a,d){const p=new pe,f=r.getAPIUrl(),m=this.makeHeaders();return console.log("post$ url=",f),this.http.post(f,a,m).pipe(Go(v=>(v.payload=this.mapToModel(e,v.payload,d),Re(v))),Xt(v=>(console.log(JSON.stringify(v,void 0,3)),Re(new Xh)))).subscribe(p),p}esGet$(e,r,a){const d=new pe,p=r.getAPIUrl(),f=this.makeHeaders();return console.log("esGet$ url=",p),this.http.get(p,f).pipe(Go(m=>(m.payload=this.mapToModel(e,m.hits.hits,a),Re(m))),Xt(m=>(ue.error(p,"HTTP Issue"),console.log(JSON.stringify(m,void 0,3)),Re(new Xh)))).subscribe(d),d}esPost$(e,r,a,d,p){const f=new pe,m=r.getAPIUrl(),v=this.makeHeaders();return console.log("esPost$ url=",m),this.http.post(m,a,v).pipe(Go(C=>(C.payload=this.mapToModel(e,C.payload,p),Re(C))),Xt(C=>(console.log(JSON.stringify(C,void 0,3)),Re(new Xh)))).subscribe(f),f}}return n.\u0275fac=function(e){return new(e||n)(K(Cl))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cS=(()=>{class n{constructor(e,r){this.payloadService=e,this.aService=r}uploadCase$(e){const r=new pe,a=new wd({serviceKey:"caseUpload$",endpoint:"/Cases/UploadCase"});return this.payloadService.get$(Kc,a).subscribe({next:p=>{p.hasError?r.error(p.message):r.next(p.payload)},error:p=>r.error(p),complete:()=>console.info("complete")}),r}downloadCase$(e,r){const a=new pe,d=new wd({serviceKey:"caseDownload$",endpoint:"/Cases/DownloadCase"});return this.payloadService.get$(wX,d).subscribe({next:f=>{f.hasError?a.error(f.message):a.next(f.payload[0])},error:f=>a.error(f),complete:()=>console.info("complete")}),a}getCaseDirectory$(){const e=new pe,r=new wd({serviceKey:"getCaseDirectory$",endpoint:"/Cases/ActiveCases"});return this.payloadService.get$(Kc,r).subscribe({next:d=>{d.hasError?e.error(d.message):(d.payload=d.payload.sort((p,f)=>f.caseCompare(p)),e.next(d.payload))},error:d=>e.error(d),complete:()=>console.info("complete")}),e}caseHistory$(e,r){const a=new pe,d=new wd({serviceKey:"caseHistory$",endpoint:"/Cases/CaseHistory"});return this.payloadService.get$(Kc,d).subscribe({next:f=>{f.hasError?a.error(f.message):(f.payload=f.payload.sort((m,v)=>v.caseCompare(m)),a.next(f.payload))},error:f=>a.error(f),complete:()=>console.info("complete")}),a}getCasesInWorkspace$(e){const r=new pe,a=new wd({serviceKey:"getCasesInWorkspace$",endpoint:"/Cases/ActiveCasesInWorkspace"});return this.payloadService.get$(Kc,a).subscribe({next:p=>{p.hasError?r.error(p.message):(p.payload=p.payload.sort((f,m)=>m.caseCompare(f)),r.next(p.payload))},error:p=>r.error(p),complete:()=>console.info("complete")}),r}getAllActiveCases$(){const e=new pe,r=new wd({serviceKey:"getAllActiveCases$",endpoint:"/Cases/ActiveCases"});return this.payloadService.get$(Kc,r).subscribe({next:d=>{d.hasError?e.error(d.message):(d.payload=d.payload.sort((p,f)=>f.caseCompare(p)),e.next(d.payload))},error:d=>e.error(d),complete:()=>console.info("complete")}),e}getAllCases$(){const e=new pe,r=new wd({serviceKey:"getAllCases$",endpoint:"/Cases/AllCases"});return this.payloadService.get$(Kc,r).subscribe({next:d=>{d.hasError?e.error(d.message):(d.payload=d.payload.sort((p,f)=>f.caseCompare(p)),e.next(d.payload))},error:d=>e.error(d),complete:()=>console.info("complete")}),e}}return n.\u0275fac=function(e){return new(e||n)(K($O),K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DZ=[0,2e3,1e4,3e4,null];class B2{constructor(t){this._retryDelays=void 0!==t?[...t,null]:DZ}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}function W2(n,t,e,r,a,d,p){try{var f=n[d](p),m=f.value}catch(v){return void e(v)}f.done?t(m):Promise.resolve(m).then(r,a)}function ni(n){return function(){var t=this,e=arguments;return new Promise(function(r,a){var d=n.apply(t,e);function p(m){W2(d,r,a,p,f,"next",m)}function f(m){W2(d,r,a,p,f,"throw",m)}p(void 0)})}}class Zh extends Error{constructor(t,e){const r=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=r}}class zO extends Error{constructor(t="A timeout occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class Ov extends Error{constructor(t="An abort occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class TZ extends Error{constructor(t,e){const r=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=r}}class RZ extends Error{constructor(t,e){const r=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=r}}class AZ extends Error{constructor(t,e){const r=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=r}}class OZ extends Error{constructor(t){const e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class xZ extends Error{constructor(t,e){const r=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=r}}class j2{constructor(t,e,r){this.statusCode=t,this.statusText=e,this.content=r}}class KO{get(t,e){return this.send(Hv(Pi({},e),{method:"GET",url:t}))}post(t,e){return this.send(Hv(Pi({},e),{method:"POST",url:t}))}delete(t,e){return this.send(Hv(Pi({},e),{method:"DELETE",url:t}))}getCookieString(t){return""}}var ve=(()=>{return(n=ve||(ve={}))[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None",ve;var n})();class xv{constructor(){}log(t,e){}}xv.instance=new xv;class Xi{static isRequired(t,e){if(null==t)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,r){if(!(t in e))throw new Error(`Unknown ${r} value: ${t}.`)}}class ar{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Iv(n,t){let e="";return YO(n)?(e=`Binary data of length ${n.byteLength}`,t&&(e+=`. Content: '${function MZ(n){const t=new Uint8Array(n);let e="";return t.forEach(r=>{e+=`0x${r<16?"0":""}${r.toString(16)} `}),e.substr(0,e.length-1)}(n)}'`)):"string"==typeof n&&(e=`String data of length ${n.length}`,t&&(e+=`. Content: '${n}'`)),e}function YO(n){return n&&"undefined"!=typeof ArrayBuffer&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function U2(n,t,e,r,a,d,p){return qO.apply(this,arguments)}function qO(){return(qO=ni(function*(n,t,e,r,a,d,p){let f={};if(a){const T=yield a();T&&(f={Authorization:`Bearer ${T}`})}const[m,v]=ef();f[m]=v,n.log(ve.Trace,`(${t} transport) sending data. ${Iv(d,p.logMessageContent)}.`);const C=YO(d)?"arraybuffer":"text",b=yield e.post(r,{content:d,headers:Pi(Pi({},f),p.headers),responseType:C,timeout:p.timeout,withCredentials:p.withCredentials});n.log(ve.Trace,`(${t} transport) request complete. Response status: ${b.statusCode}.`)})).apply(this,arguments)}class FZ{constructor(t,e){this._subject=t,this._observer=e}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class uS{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){const r=`[${(new Date).toISOString()}] ${ve[t]}: ${e}`;switch(t){case ve.Critical:case ve.Error:this.out.error(r);break;case ve.Warning:this.out.warn(r);break;case ve.Information:this.out.info(r);break;default:this.out.log(r)}}}}function ef(){let n="X-SignalR-User-Agent";return ar.isNode&&(n="User-Agent"),[n,NZ("6.0.4",LZ(),ar.isNode?"NodeJS":"Browser",kZ())]}function NZ(n,t,e,r){let a="Microsoft SignalR/";const d=n.split(".");return a+=`${d[0]}.${d[1]}`,a+=` (${n}; `,a+=t&&""!==t?`${t}; `:"Unknown OS; ",a+=`${e}`,a+=r?`; ${r}`:"; Unknown Runtime Version",a+=")",a}function LZ(){if(!ar.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function kZ(){if(ar.isNode)return process.versions.node}function $2(n){return n.stack?n.stack:n.message?n.message:`${n}`}class VZ extends KO{constructor(t){if(super(),this._logger=t,"undefined"==typeof fetch){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function HZ(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(t){var e=this;return ni(function*(){if(t.abortSignal&&t.abortSignal.aborted)throw new Ov;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const r=new e._abortControllerType;let a;t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),a=new Ov});let p,d=null;t.timeout&&(d=setTimeout(()=>{r.abort(),e._logger.log(ve.Warning,"Timeout from HTTP request."),a=new zO},t.timeout));try{p=yield e._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:!0===t.withCredentials?"include":"same-origin",headers:Pi({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},t.headers),method:t.method,mode:"cors",redirect:"follow",signal:r.signal})}catch(v){throw a||(e._logger.log(ve.Warning,`Error from HTTP request. ${v}.`),v)}finally{d&&clearTimeout(d),t.abortSignal&&(t.abortSignal.onabort=null)}if(!p.ok){const v=yield z2(p,"text");throw new Zh(v||p.statusText,p.status)}const m=yield z2(p,t.responseType);return new j2(p.status,p.statusText,m)})()}getCookieString(t){let e="";return ar.isNode&&this._jar&&this._jar.getCookies(t,(r,a)=>e=a.join("; ")),e}}function z2(n,t){let e;switch(t){case"arraybuffer":e=n.arrayBuffer();break;case"text":default:e=n.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return e}class BZ extends KO{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Ov):t.method?t.url?new Promise((e,r)=>{const a=new XMLHttpRequest;a.open(t.method,t.url,!0),a.withCredentials=void 0===t.withCredentials||t.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");const d=t.headers;d&&Object.keys(d).forEach(p=>{a.setRequestHeader(p,d[p])}),t.responseType&&(a.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{a.abort(),r(new Ov)}),t.timeout&&(a.timeout=t.timeout),a.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),a.status>=200&&a.status<300?e(new j2(a.status,a.statusText,a.response||a.responseText)):r(new Zh(a.response||a.responseText||a.statusText,a.status))},a.onerror=()=>{this._logger.log(ve.Warning,`Error from HTTP request. ${a.status}: ${a.statusText}.`),r(new Zh(a.statusText,a.status))},a.ontimeout=()=>{this._logger.log(ve.Warning,"Timeout from HTTP request."),r(new zO)},a.send(t.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class WZ extends KO{constructor(t){if(super(),"undefined"!=typeof fetch||ar.isNode)this._httpClient=new VZ(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new BZ(t)}}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Ov):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}let Mv=(()=>{class n{}return n.Authorization="Authorization",n.Cookie="Cookie",n})();var wi=(()=>{return(n=wi||(wi={}))[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling",wi;var n})(),lr=(()=>{return(n=lr||(lr={}))[n.Text=1]="Text",n[n.Binary=2]="Binary",lr;var n})();class jZ{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class K2{constructor(t,e,r,a){this._httpClient=t,this._accessTokenFactory=e,this._logger=r,this._pollAbort=new jZ,this._options=a,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(t,e){var r=this;return ni(function*(){if(Xi.isRequired(t,"url"),Xi.isRequired(e,"transferFormat"),Xi.isIn(e,lr,"transferFormat"),r._url=t,r._logger.log(ve.Trace,"(LongPolling transport) Connecting."),e===lr.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[a,d]=ef(),p=Pi({[a]:d},r._options.headers),f={abortSignal:r._pollAbort.signal,headers:p,timeout:1e5,withCredentials:r._options.withCredentials};e===lr.Binary&&(f.responseType="arraybuffer");const m=yield r._getAccessToken();r._updateHeaderToken(f,m);const v=`${t}&_=${Date.now()}`;r._logger.log(ve.Trace,`(LongPolling transport) polling: ${v}.`);const C=yield r._httpClient.get(v,f);200!==C.statusCode?(r._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${C.statusCode}.`),r._closeError=new Zh(C.statusText||"",C.statusCode),r._running=!1):r._running=!0,r._receiving=r._poll(r._url,f)})()}_getAccessToken(){var t=this;return ni(function*(){return t._accessTokenFactory?yield t._accessTokenFactory():null})()}_updateHeaderToken(t,e){t.headers||(t.headers={}),e?t.headers[Mv.Authorization]=`Bearer ${e}`:t.headers[Mv.Authorization]&&delete t.headers[Mv.Authorization]}_poll(t,e){var r=this;return ni(function*(){try{for(;r._running;){const a=yield r._getAccessToken();r._updateHeaderToken(e,a);try{const d=`${t}&_=${Date.now()}`;r._logger.log(ve.Trace,`(LongPolling transport) polling: ${d}.`);const p=yield r._httpClient.get(d,e);204===p.statusCode?(r._logger.log(ve.Information,"(LongPolling transport) Poll terminated by server."),r._running=!1):200!==p.statusCode?(r._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${p.statusCode}.`),r._closeError=new Zh(p.statusText||"",p.statusCode),r._running=!1):p.content?(r._logger.log(ve.Trace,`(LongPolling transport) data received. ${Iv(p.content,r._options.logMessageContent)}.`),r.onreceive&&r.onreceive(p.content)):r._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(d){r._running?d instanceof zO?r._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing."):(r._closeError=d,r._running=!1):r._logger.log(ve.Trace,`(LongPolling transport) Poll errored after shutdown: ${d.message}`)}}}finally{r._logger.log(ve.Trace,"(LongPolling transport) Polling complete."),r.pollAborted||r._raiseOnClose()}})()}send(t){var e=this;return ni(function*(){return e._running?U2(e._logger,"LongPolling",e._httpClient,e._url,e._accessTokenFactory,t,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var t=this;return ni(function*(){t._logger.log(ve.Trace,"(LongPolling transport) Stopping polling."),t._running=!1,t._pollAbort.abort();try{yield t._receiving,t._logger.log(ve.Trace,`(LongPolling transport) sending DELETE request to ${t._url}.`);const e={},[r,a]=ef();e[r]=a;const d={headers:Pi(Pi({},e),t._options.headers),timeout:t._options.timeout,withCredentials:t._options.withCredentials},p=yield t._getAccessToken();t._updateHeaderToken(d,p),yield t._httpClient.delete(t._url,d),t._logger.log(ve.Trace,"(LongPolling transport) DELETE request sent.")}finally{t._logger.log(ve.Trace,"(LongPolling transport) Stop finished."),t._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(ve.Trace,t),this.onclose(this._closeError)}}}class UZ{constructor(t,e,r,a){this._httpClient=t,this._accessTokenFactory=e,this._logger=r,this._options=a,this.onreceive=null,this.onclose=null}connect(t,e){var r=this;return ni(function*(){if(Xi.isRequired(t,"url"),Xi.isRequired(e,"transferFormat"),Xi.isIn(e,lr,"transferFormat"),r._logger.log(ve.Trace,"(SSE transport) Connecting."),r._url=t,r._accessTokenFactory){const a=yield r._accessTokenFactory();a&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(a)}`)}return new Promise((a,d)=>{let f,p=!1;if(e===lr.Text){if(ar.isBrowser||ar.isWebWorker)f=new r._options.EventSource(t,{withCredentials:r._options.withCredentials});else{const m=r._httpClient.getCookieString(t),v={};v.Cookie=m;const[C,b]=ef();v[C]=b,f=new r._options.EventSource(t,{withCredentials:r._options.withCredentials,headers:Pi(Pi({},v),r._options.headers)})}try{f.onmessage=m=>{if(r.onreceive)try{r._logger.log(ve.Trace,`(SSE transport) data received. ${Iv(m.data,r._options.logMessageContent)}.`),r.onreceive(m.data)}catch(v){return void r._close(v)}},f.onerror=m=>{p?r._close():d(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},f.onopen=()=>{r._logger.log(ve.Information,`SSE connected to ${r._url}`),r._eventSource=f,p=!0,a()}}catch(m){return void d(m)}}else d(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(t){var e=this;return ni(function*(){return e._eventSource?U2(e._logger,"SSE",e._httpClient,e._url,e._accessTokenFactory,t,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class $Z{constructor(t,e,r,a,d,p){this._logger=r,this._accessTokenFactory=e,this._logMessageContent=a,this._webSocketConstructor=d,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=p}connect(t,e){var r=this;return ni(function*(){if(Xi.isRequired(t,"url"),Xi.isRequired(e,"transferFormat"),Xi.isIn(e,lr,"transferFormat"),r._logger.log(ve.Trace,"(WebSockets transport) Connecting."),r._accessTokenFactory){const a=yield r._accessTokenFactory();a&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(a)}`)}return new Promise((a,d)=>{let p;t=t.replace(/^http/,"ws");const f=r._httpClient.getCookieString(t);let m=!1;if(ar.isNode){const v={},[C,b]=ef();v[C]=b,f&&(v[Mv.Cookie]=`${f}`),p=new r._webSocketConstructor(t,void 0,{headers:Pi(Pi({},v),r._headers)})}p||(p=new r._webSocketConstructor(t)),e===lr.Binary&&(p.binaryType="arraybuffer"),p.onopen=v=>{r._logger.log(ve.Information,`WebSocket connected to ${t}.`),r._webSocket=p,m=!0,a()},p.onerror=v=>{let C=null;C="undefined"!=typeof ErrorEvent&&v instanceof ErrorEvent?v.error:"There was an error with the transport",r._logger.log(ve.Information,`(WebSockets transport) ${C}.`)},p.onmessage=v=>{if(r._logger.log(ve.Trace,`(WebSockets transport) data received. ${Iv(v.data,r._logMessageContent)}.`),r.onreceive)try{r.onreceive(v.data)}catch(C){return void r._close(C)}},p.onclose=v=>{if(m)r._close(v);else{let C=null;C="undefined"!=typeof ErrorEvent&&v instanceof ErrorEvent?v.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",d(new Error(C))}}})})()}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ve.Trace,`(WebSockets transport) sending data. ${Iv(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ve.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)))}_isCloseEvent(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code}}class zZ{constructor(t,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Xi.isRequired(t,"url"),this._logger=function PZ(n){return void 0===n?new uS(ve.Information):null===n?xv.instance:void 0!==n.log?n:new uS(n)}(e.logger),this.baseUrl=this._resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let r=null,a=null;if(ar.isNode){const d=require;r=d("ws"),a=d("eventsource")}ar.isNode||"undefined"==typeof WebSocket||e.WebSocket?ar.isNode&&!e.WebSocket&&r&&(e.WebSocket=r):e.WebSocket=WebSocket,ar.isNode||"undefined"==typeof EventSource||e.EventSource?ar.isNode&&!e.EventSource&&void 0!==a&&(e.EventSource=a):e.EventSource=EventSource,this._httpClient=e.httpClient||new WZ(this._logger),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(t){var e=this;return ni(function*(){if(Xi.isIn(t=t||lr.Binary,lr,"transferFormat"),e._logger.log(ve.Debug,`Starting connection with transfer format '${lr[t]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(t),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const r="Failed to start the HttpConnection before stop() was called.";return e._logger.log(ve.Error,r),yield e._stopPromise,Promise.reject(new Error(r))}if("Connected"!==e._connectionState){const r="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(ve.Error,r),Promise.reject(new Error(r))}e._connectionStarted=!0})()}send(t){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new QO(this.transport)),this._sendQueue.send(t))}stop(t){var e=this;return ni(function*(){return"Disconnected"===e._connectionState?(e._logger.log(ve.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(ve.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(r=>{e._stopPromiseResolver=r}),yield e._stopInternal(t),void(yield e._stopPromise))})()}_stopInternal(t){var e=this;return ni(function*(){e._stopError=t;try{yield e._startInternalPromise}catch(r){}if(e.transport){try{yield e.transport.stop()}catch(r){e._logger.log(ve.Error,`HttpConnection.transport.stop() threw error '${r}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(ve.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(t){var e=this;return ni(function*(){let r=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==wi.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(wi.WebSockets),yield e._startTransport(r,t)}else{let a=null,d=0;do{if(a=yield e._getNegotiationResponse(r),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Error("The connection was stopped during negotiation.");if(a.error)throw new Error(a.error);if(a.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(a.url&&(r=a.url),a.accessToken){const p=a.accessToken;e._accessTokenFactory=()=>p}d++}while(a.url&&d<100);if(100===d&&a.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(r,e._options.transport,a,t)}e.transport instanceof K2&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(ve.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(a){return e._logger.log(ve.Error,"Failed to start the connection: "+a),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(a)}})()}_getNegotiationResponse(t){var e=this;return ni(function*(){const r={};if(e._accessTokenFactory){const f=yield e._accessTokenFactory();f&&(r[Mv.Authorization]=`Bearer ${f}`)}const[a,d]=ef();r[a]=d;const p=e._resolveNegotiateUrl(t);e._logger.log(ve.Debug,`Sending negotiation request: ${p}.`);try{const f=yield e._httpClient.post(p,{content:"",headers:Pi(Pi({},r),e._options.headers),timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==f.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${f.statusCode}'`));const m=JSON.parse(f.content);return(!m.negotiateVersion||m.negotiateVersion<1)&&(m.connectionToken=m.connectionId),m}catch(f){let m="Failed to complete negotiation with the server: "+f;return f instanceof Zh&&404===f.statusCode&&(m+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(ve.Error,m),Promise.reject(new OZ(m))}})()}_createConnectUrl(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+`id=${e}`:t}_createTransport(t,e,r,a){var d=this;return ni(function*(){let p=d._createConnectUrl(t,r.connectionToken);if(d._isITransport(e))return d._logger.log(ve.Debug,"Connection was provided an instance of ITransport, using that directly."),d.transport=e,yield d._startTransport(p,a),void(d.connectionId=r.connectionId);const f=[],m=r.availableTransports||[];let v=r;for(const C of m){const b=d._resolveTransportOrError(C,e,a);if(b instanceof Error)f.push(`${C.transport} failed:`),f.push(b);else if(d._isITransport(b)){if(d.transport=b,!v){try{v=yield d._getNegotiationResponse(t)}catch(T){return Promise.reject(T)}p=d._createConnectUrl(t,v.connectionToken)}try{return yield d._startTransport(p,a),void(d.connectionId=v.connectionId)}catch(T){if(d._logger.log(ve.Error,`Failed to start the transport '${C.transport}': ${T}`),v=void 0,f.push(new AZ(`${C.transport} failed: ${T}`,wi[C.transport])),"Connecting"!==d._connectionState){const M="Failed to select transport before stop() was called.";return d._logger.log(ve.Debug,M),Promise.reject(new Error(M))}}}}return Promise.reject(f.length>0?new xZ(`Unable to connect to the server with any of the available transports. ${f.join(" ")}`,f):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(t){switch(t){case wi.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new $Z(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case wi.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new UZ(this._httpClient,this._accessTokenFactory,this._logger,this._options);case wi.LongPolling:return new K2(this._httpClient,this._accessTokenFactory,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,e)}_resolveTransportOrError(t,e,r){const a=wi[t.transport];if(null==a)return this._logger.log(ve.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(!function KZ(n,t){return!n||0!=(t&n)}(e,a))return this._logger.log(ve.Debug,`Skipping transport '${wi[a]}' because it was disabled by the client.`),new RZ(`'${wi[a]}' is disabled by the client.`,a);if(!(t.transferFormats.map(p=>lr[p]).indexOf(r)>=0))return this._logger.log(ve.Debug,`Skipping transport '${wi[a]}' because it does not support the requested transfer format '${lr[r]}'.`),new Error(`'${wi[a]}' does not support ${lr[r]}.`);if(a===wi.WebSockets&&!this._options.WebSocket||a===wi.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ve.Debug,`Skipping transport '${wi[a]}' because it is not supported in your environment.'`),new TZ(`'${wi[a]}' is not supported in your environment.`,a);this._logger.log(ve.Debug,`Selecting transport '${wi[a]}'.`);try{return this._constructTransport(a)}catch(p){return p}}_isITransport(t){return t&&"object"==typeof t&&"connect"in t}_stopConnection(t){if(this._logger.log(ve.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(ve.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),t?this._logger.log(ve.Error,`Connection disconnected with error '${t}'.`):this._logger.log(ve.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(ve.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(ve.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}else this._logger.log(ve.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!ar.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const e=window.document.createElement("a");return e.href=t,this._logger.log(ve.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){const e=t.indexOf("?");let r=t.substring(0,-1===e?t.length:e);return"/"!==r[r.length-1]&&(r+="/"),r+="negotiate",r+=-1===e?"":t.substring(e),-1===r.indexOf("negotiateVersion")&&(r+=-1===e?"?":"&",r+="negotiateVersion="+this._negotiateVersion),r}}class QO{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new dS,this._transportResult=new dS,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new dS),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}_sendLoop(){var t=this;return ni(function*(){for(;;){if(yield t._sendBufferedData.promise,!t._executing){t._transportResult&&t._transportResult.reject("Connection stopped.");break}t._sendBufferedData=new dS;const e=t._transportResult;t._transportResult=void 0;const r="string"==typeof t._buffer[0]?t._buffer.join(""):QO._concatBuffers(t._buffer);t._buffer.length=0;try{yield t._transport.send(r),e.resolve()}catch(a){e.reject(a)}}})()}static _concatBuffers(t){const e=t.map(d=>d.byteLength).reduce((d,p)=>d+p),r=new Uint8Array(e);let a=0;for(const d of t)r.set(new Uint8Array(d),a),a+=d.byteLength;return r.buffer}}class dS{constructor(){this.promise=new Promise((t,e)=>[this._resolver,this._rejecter]=[t,e])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}class Ho{static write(t){return`${t}${Ho.RecordSeparator}`}static parse(t){if(t[t.length-1]!==Ho.RecordSeparator)throw new Error("Message is incomplete.");const e=t.split(Ho.RecordSeparator);return e.pop(),e}}Ho.RecordSeparatorCode=30,Ho.RecordSeparator=String.fromCharCode(Ho.RecordSeparatorCode);class YZ{writeHandshakeRequest(t){return Ho.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,r;if(YO(t)){const f=new Uint8Array(t),m=f.indexOf(Ho.RecordSeparatorCode);if(-1===m)throw new Error("Message is incomplete.");const v=m+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(f.slice(0,v))),r=f.byteLength>v?f.slice(v).buffer:null}else{const f=t,m=f.indexOf(Ho.RecordSeparator);if(-1===m)throw new Error("Message is incomplete.");const v=m+1;e=f.substring(0,v),r=f.length>v?f.substring(v):null}const a=Ho.parse(e),d=JSON.parse(a[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[r,d]}}var yn=(()=>{return(n=yn||(yn={}))[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close",yn;var n})();class qZ{constructor(){this.observers=[]}next(t){for(const e of this.observers)e.next(t)}error(t){for(const e of this.observers)e.error&&e.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new FZ(this,t)}}var Hn=(()=>{return(n=Hn||(Hn={})).Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting",Hn;var n})();class JO{constructor(t,e,r,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ve.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Xi.isRequired(t,"connection"),Xi.isRequired(e,"logger"),Xi.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=r,this.connection=t,this._reconnectPolicy=a,this._handshakeProtocol=new YZ,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Hn.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:yn.Ping})}static create(t,e,r,a){return new JO(t,e,r,a)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Hn.Disconnected&&this._connectionState!==Hn.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var t=this;return ni(function*(){if(t._connectionState!==Hn.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));t._connectionState=Hn.Connecting,t._logger.log(ve.Debug,"Starting HubConnection.");try{yield t._startInternal(),ar.isBrowser&&window.document.addEventListener("freeze",t._freezeEventListener),t._connectionState=Hn.Connected,t._connectionStarted=!0,t._logger.log(ve.Debug,"HubConnection connected successfully.")}catch(e){return t._connectionState=Hn.Disconnected,t._logger.log(ve.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var t=this;return ni(function*(){t._stopDuringStartError=void 0,t._receivedHandshakeResponse=!1;const e=new Promise((r,a)=>{t._handshakeResolver=r,t._handshakeRejecter=a});yield t.connection.start(t._protocol.transferFormat);try{const r={protocol:t._protocol.name,version:t._protocol.version};if(t._logger.log(ve.Debug,"Sending handshake request."),yield t._sendMessage(t._handshakeProtocol.writeHandshakeRequest(r)),t._logger.log(ve.Information,`Using HubProtocol '${t._protocol.name}'.`),t._cleanupTimeout(),t._resetTimeoutPeriod(),t._resetKeepAliveInterval(),yield e,t._stopDuringStartError)throw t._stopDuringStartError}catch(r){throw t._logger.log(ve.Debug,`Hub handshake failed with error '${r}' during start(). Stopping HubConnection.`),t._cleanupTimeout(),t._cleanupPingTimer(),yield t.connection.stop(r),r}})()}stop(){var t=this;return ni(function*(){const e=t._startPromise;t._stopPromise=t._stopInternal(),yield t._stopPromise;try{yield e}catch(r){}})()}_stopInternal(t){return this._connectionState===Hn.Disconnected?(this._logger.log(ve.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Hn.Disconnecting?(this._logger.log(ve.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Hn.Disconnecting,this._logger.log(ve.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ve.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))}stream(t,...e){const[r,a]=this._replaceStreamingParams(e),d=this._createStreamInvocation(t,e,a);let p;const f=new qZ;return f.cancelCallback=()=>{const m=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],p.then(()=>this._sendWithProtocol(m))},this._callbacks[d.invocationId]=(m,v)=>{v?f.error(v):m&&(m.type===yn.Completion?m.error?f.error(new Error(m.error)):f.complete():f.next(m.item))},p=this._sendWithProtocol(d).catch(m=>{f.error(m),delete this._callbacks[d.invocationId]}),this._launchStreams(r,p),f}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){const[r,a]=this._replaceStreamingParams(e),d=this._sendWithProtocol(this._createInvocation(t,e,!0,a));return this._launchStreams(r,d),d}invoke(t,...e){const[r,a]=this._replaceStreamingParams(e),d=this._createInvocation(t,e,!1,a);return new Promise((f,m)=>{this._callbacks[d.invocationId]=(C,b)=>{b?m(b):C&&(C.type===yn.Completion?C.error?m(new Error(C.error)):f(C.result):m(new Error(`Unexpected message type: ${C.type}`)))};const v=this._sendWithProtocol(d).catch(C=>{m(C),delete this._callbacks[d.invocationId]});this._launchStreams(r,v)})}on(t,e){!t||!e||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),-1===this._methods[t].indexOf(e)&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(e){const a=r.indexOf(e);-1!==a&&(r.splice(a,1),0===r.length&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const e=this._protocol.parseMessages(t,this._logger);for(const r of e)switch(r.type){case yn.Invocation:this._invokeClientMethod(r);break;case yn.StreamItem:case yn.Completion:{const a=this._callbacks[r.invocationId];if(a){r.type===yn.Completion&&delete this._callbacks[r.invocationId];try{a(r)}catch(d){this._logger.log(ve.Error,`Stream callback threw error: ${$2(d)}`)}}break}case yn.Ping:break;case yn.Close:{this._logger.log(ve.Information,"Close message received from server.");const a=r.error?new Error("Server returned an error on close: "+r.error):void 0;!0===r.allowReconnect?this.connection.stop(a):this._stopPromise=this._stopInternal(a);break}default:this._logger.log(ve.Warning,`Invalid message type: ${r.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,r;try{[r,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(a){const d="Error parsing handshake response: "+a;this._logger.log(ve.Error,d);const p=new Error(d);throw this._handshakeRejecter(p),p}if(e.error){const a="Server returned handshake error: "+e.error;this._logger.log(ve.Error,a);const d=new Error(a);throw this._handshakeRejecter(d),d}return this._logger.log(ve.Debug,"Server handshake complete."),this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(ni(function*(){if(t._connectionState===Hn.Connected)try{yield t._sendMessage(t._cachedPingMessage)}catch(r){t._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){const e=this._methods[t.target.toLowerCase()];if(e){try{e.forEach(r=>r.apply(this,t.arguments))}catch(r){this._logger.log(ve.Error,`A callback for the method ${t.target.toLowerCase()} threw error '${r}'.`)}if(t.invocationId){const r="Server requested a response, which is not supported in this version of the client.";this._logger.log(ve.Error,r),this._stopPromise=this._stopInternal(new Error(r))}}else this._logger.log(ve.Warning,`No client method with the name '${t.target}' found.`)}_connectionClosed(t){this._logger.log(ve.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Hn.Disconnecting?this._completeClose(t):this._connectionState===Hn.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Hn.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Hn.Disconnected,this._connectionStarted=!1,ar.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[t]))}catch(e){this._logger.log(ve.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}_reconnect(t){var e=this;return ni(function*(){const r=Date.now();let a=0,d=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),p=e._getNextRetryDelay(a++,0,d);if(null===p)return e._logger.log(ve.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(t);if(e._connectionState=Hn.Reconnecting,e._logger.log(ve.Information,t?`Connection reconnecting because of error '${t}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(f=>f.apply(e,[t]))}catch(f){e._logger.log(ve.Error,`An onreconnecting callback called with error '${t}' threw error '${f}'.`)}if(e._connectionState!==Hn.Reconnecting)return void e._logger.log(ve.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==p;){if(e._logger.log(ve.Information,`Reconnect attempt number ${a} will start in ${p} ms.`),yield new Promise(f=>{e._reconnectDelayHandle=setTimeout(f,p)}),e._reconnectDelayHandle=void 0,e._connectionState!==Hn.Reconnecting)return void e._logger.log(ve.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=Hn.Connected,e._logger.log(ve.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(f=>f.apply(e,[e.connection.connectionId]))}catch(f){e._logger.log(ve.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${f}'.`)}return}catch(f){if(e._logger.log(ve.Information,`Reconnect attempt failed because of error '${f}'.`),e._connectionState!==Hn.Reconnecting)return e._logger.log(ve.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===Hn.Disconnecting&&e._completeClose());d=f instanceof Error?f:new Error(f.toString()),p=e._getNextRetryDelay(a++,Date.now()-r,d)}}e._logger.log(ve.Information,`Reconnect retries have been exhausted after ${Date.now()-r} ms and ${a} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(t,e,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:r})}catch(a){return this._logger.log(ve.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${a}'.`),null}}_cancelCallbacksWithError(t){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(r=>{const a=e[r];try{a(null,t)}catch(d){this._logger.log(ve.Error,`Stream 'error' callback called with '${t}' threw error: ${$2(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,r,a){if(r)return 0!==a.length?{arguments:e,streamIds:a,target:t,type:yn.Invocation}:{arguments:e,target:t,type:yn.Invocation};{const d=this._invocationId;return this._invocationId++,0!==a.length?{arguments:e,invocationId:d.toString(),streamIds:a,target:t,type:yn.Invocation}:{arguments:e,invocationId:d.toString(),target:t,type:yn.Invocation}}}_launchStreams(t,e){if(0!==t.length){e||(e=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:a=>{let d;d=a instanceof Error?a.message:a&&a.toString?a.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,d)))},next:a=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,a)))}})}}_replaceStreamingParams(t){const e=[],r=[];for(let a=0;a<t.length;a++){const d=t[a];if(this._isObservable(d)){const p=this._invocationId;this._invocationId++,e[p]=d,r.push(p.toString()),t.splice(a,1)}}return[e,r]}_isObservable(t){return t&&t.subscribe&&"function"==typeof t.subscribe}_createStreamInvocation(t,e,r){const a=this._invocationId;return this._invocationId++,0!==r.length?{arguments:e,invocationId:a.toString(),streamIds:r,target:t,type:yn.StreamInvocation}:{arguments:e,invocationId:a.toString(),target:t,type:yn.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:yn.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:yn.StreamItem}}_createCompletionMessage(t,e,r){return e?{error:e,invocationId:t,type:yn.Completion}:{invocationId:t,result:r,type:yn.Completion}}}class ZZ{constructor(){this.name="json",this.version=1,this.transferFormat=lr.Text}parseMessages(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=xv.instance);const r=Ho.parse(t),a=[];for(const d of r){const p=JSON.parse(d);if("number"!=typeof p.type)throw new Error("Invalid payload.");switch(p.type){case yn.Invocation:this._isInvocationMessage(p);break;case yn.StreamItem:this._isStreamItemMessage(p);break;case yn.Completion:this._isCompletionMessage(p);break;case yn.Ping:case yn.Close:break;default:e.log(ve.Information,"Unknown message type '"+p.type+"' ignored.");continue}a.push(p)}return a}writeMessage(t){return Ho.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(t,e){if("string"!=typeof t||""===t)throw new Error(e)}}const eee={trace:ve.Trace,debug:ve.Debug,info:ve.Information,information:ve.Information,warn:ve.Warning,warning:ve.Warning,error:ve.Error,critical:ve.Critical,none:ve.None};class nee{configureLogging(t){if(Xi.isRequired(t,"logging"),function iee(n){return void 0!==n.log}(t))this.logger=t;else if("string"==typeof t){const e=function tee(n){const t=eee[n.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${n}`)}(t);this.logger=new uS(e)}else this.logger=new uS(t);return this}withUrl(t,e){return Xi.isRequired(t,"url"),Xi.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof e?Pi(Pi({},this.httpConnectionOptions),e):Hv(Pi({},this.httpConnectionOptions),{transport:e}),this}withHubProtocol(t){return Xi.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new B2(t):t:new B2,this}build(){const t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new zZ(this.url,t);return JO.create(e,this.logger||xv.instance,this.protocol||new ZZ,this.reconnectPolicy)}}class ree{constructor(t,e){this.topic=t,this.payload=new CX(e)}}class oee{constructor(t,e){this.topic=t,this.payload=e}}let pS=(()=>{class n{constructor(){this.pluginDictionary={}}pluginList(){return Object.values(this.pluginDictionary)}establishHubConnection(){if(this.connection)return this.connection;const e=new H2({serviceKey:"documentHubService$",endpoint:"/documentHub"});return this.hubURL=e.getUrl(),this.connection=(new nee).withUrl(this.hubURL,{withCredentials:!1,skipNegotiation:!0,transport:wi.WebSockets}).configureLogging(ve.Trace).build(),this.connection}doStart(e,r){if(this.connection)return ue.warning("reuse connection"),void e();const a="Legal Pad";this.establishHubConnection().start().then(()=>{ue.success(`${a} hub is ready`,this.hubURL),e()}).catch(d=>{ue.error(`${a} hub has not connected`,this.hubURL),r()}).finally(()=>{})}doStop(e){this.connection&&(this.connection.stop(),this.connection.onclose(e),this.connection=void 0)}Pong$(){return this.pongSubject||(this.pongSubject=new pe,this.connection.on("Pong",e=>{this.pongSubject.next(e)})),this.pongSubject}doPing(){const e=`ping ${fe.getNowIsoDate()}`;this.connection.invoke("Ping",e)}TopicPayload$(){return this.topicPayloadSubject||(this.topicPayloadSubject=new pe,this.connection.on("TopicPayload",(e,r)=>{const a=new oee(e,r);this.topicPayloadSubject.next(a)})),this.topicPayloadSubject}broadcastTopicPayload(e,r){return!!this.connection&&(this.connection.invoke("TopicPayload",e,r),!0)}broadcastTopic(e,r){return!!this.connection&&(this.connection.invoke(e,r),!0)}doOpenCase(e){this.broadcastTopicPayload("OpenCase",e),ue.info(`Sending caseID ${e}`,"Open In Marker")}Plugin$(){return this.pluginSubject||(this.pluginSubject=new pe,this.connection.on("Plugin",(e,r)=>{const a=new ree(e,r),d=a.payload;this.pluginDictionary[d.sourceGuid]=d,this.pluginList().forEach(f=>{fe.getDeltaSeconds(f.timeStamp)>10&&(console.log("deleting plugin",f),delete this.pluginDictionary[f.sourceGuid])}),this.pluginSubject.next(a)})),this.pluginSubject}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XO=(()=>{class n{constructor(e){this.isModelDirty=!1,this.isPingSuccess=!1,this.serverConnected=!1,this.defaultModelRefId="",this.selectedText="",this.modelStats={},this.currentBookmark="",this.saveCountdown=30,setTimeout(()=>{this.payloadService=e.get($O),this.libraryService=e.get(cS),this.authService=e.get(_r),this.teamService=e.get(El),this.hubService=e.get(pS)},.01)}isPingSucessful(){return this.isPingSuccess}pingServer$(){const e=new pe;return setTimeout(()=>{this.isPingSuccess=!0,e.next(!0)},100),e}isConnected(){return this.serverConnected}varifyConnection(e,r){this.pingServer$().subscribe({next:a=>{this.serverConnected=a,e()},error:a=>{this.serverConnected=a,r()}})}filename(){var e;return null===(e=this.currentFilename)||void 0===e?void 0:e.getFilename()}get shortFilename(){var e;return null===(e=this.currentFilename)||void 0===e?void 0:e.getName()}LaFilename(){return this.currentFilename||this.extractLaFilename(),this.currentFilename}extractLaFilename(){return this.currentFilename=this.currentLegalModel?this.currentLegalModel.extractLaFilename():new Rv,this.currentFilename}getFootnoteText(e){var r;return null===(r=this.legalModel())||void 0===r?void 0:r.getFootnoteText(e)}clearBookmarks(){this.currentBookmark="",this.legalModel().clearBookmarks()}gotoNextBookmark(e){const r=this.legalModel().getBookmarks();if(fe.isEmpty(r))return;const a=r.indexOf(this.currentBookmark);e?this.currentBookmark=e:(-1!=a&&(this.currentBookmark=r[a+1]),this.currentBookmark||(this.currentBookmark=r[r.length-1])),ne.broadcastCommand(this,"GoToBookmark;JumpToAnchor",this.currentBookmark)}gotoPreviousBookmark(e){const r=this.legalModel().getBookmarks();if(fe.isEmpty(r))return;const a=r.indexOf(this.currentBookmark);e?this.currentBookmark=e:(a>=1&&(this.currentBookmark=r[a-1]),this.currentBookmark||(this.currentBookmark=r[0])),ne.broadcastCommand(this,"GoToBookmark;JumpToAnchor",this.currentBookmark)}pluginList(){return this.hubService.pluginList()}getUniqueSection(){const e={Dissent:"",Court:"",Concur:""};return this.legalModel().getSentences().forEach(a=>{const d=a.GetSectionType();e[d]=d}),Object.keys(e).sort()}getCurrentModel$(){return ue.error("getCurrentModel$, should not be called"),this.modelStream$}legalModel(){return this.currentLegalModel}hasLegalModel(){return!!this.currentLegalModel}getModelName(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getModelName()}getSentencesOfInterest(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getSentencesOfInterest()}getParagraphsOfInterest(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getParagraphsOfInterest()}isParagraph(e){return fe.matches(e.referenceType,"LaParagraph")}isSentence(e){return fe.matches(e.referenceType,"LaSentence")}isGroup(e){return fe.matches(e.referenceType,"LaGroup")}resolve(e){var r,a,d;let p;return this.isParagraph(e)?p=null===(r=this.currentLegalModel)||void 0===r?void 0:r.resolveParagraph(e.referenceID):this.isSentence(e)?p=null===(a=this.currentLegalModel)||void 0===a?void 0:a.resolveSentence(e.referenceID):this.isGroup(e)&&(p=null===(d=this.currentLegalModel)||void 0===d?void 0:d.resolveGroup(e.referenceID)),p}stopEvents(){this.hubService.doStop(()=>{ue.error("Service stopped")})}clearCountdown(){this.saveInterval&&clearInterval(this.saveInterval),this.saveCountdown=0}resetCountdown(){this.clearCountdown(),this.saveCountdown=30;const e=this.checkStatus,r=this;this.saveInterval=setInterval(function(){e(r)},1e3)}checkStatus(e){return e.saveCountdown-=1,e.saveCountdown<=0&&(clearInterval(e.saveInterval),e.onAutoSaveAs()),e.saveCountdown}broadcastMakeDocumentPrediction(){this.currentLegalModel.getSentences().filter(a=>0==a.isImmutable()).forEach(a=>{const d=new pn(a);this.hubService.broadcastTopicPayload("MakeDocumentPrediction",d)})}broadcastMakeSentencePrediction(e){const r=new pn(e);this.hubService.broadcastTopicPayload("MakeSentencePrediction",r)}applyPredictionForAll(e,r,a,d){this.currentLegalModel.getSentences().filter(m=>0==m.isImmutable()).forEach(m=>{if(m.hasPredictedClass(r)){const v=m.readProbabilityValue(e);v>=a&&(m.writeLabel(e,r,null==d?void 0:d.email),m.writeProbability(e,v,null==d?void 0:d.email))}}),this.markAsDirty()}autoSaveCountdown(){return this.saveCountdown}get currentUsername(){const e=this.authService.currentUserValue;return e?e.username:"unknown"}isDirty(){return this.isModelDirty}markAsDirty(){this.currentLegalModel?(this.isModelDirty||this.resetCountdown(),this.isModelDirty=!0):this.isModelDirty=!1}markAsSaved(){this.clearCountdown(),this.isModelDirty=!1}establishParagraph(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.establishParagraph(e)}findParagraph(e){var r;const a=e.paraIDTag();return null===(r=this.currentLegalModel)||void 0===r?void 0:r.resolveParagraph(a)}resolveSentenceKeys(e){return this.hasModel()?this.currentLegalModel.resolveSentenceKeys(e):[]}parkSentence(e){var r;return this.markAsDirty(),null===(r=this.currentLegalModel)||void 0===r?void 0:r.parkSentence(e)}removeSentence(e){var r;return this.markAsDirty(),null===(r=this.currentLegalModel)||void 0===r?void 0:r.removeSentence(e)}removeParagraph(e){var r;return this.markAsDirty(),null===(r=this.currentLegalModel)||void 0===r?void 0:r.removeParagraph(e)}reorderParagraphs(){var e;this.markAsDirty(),null===(e=this.currentLegalModel)||void 0===e||e.reorderParagraphs()}removeGroup(e){var r;return this.markAsDirty(),null===(r=this.currentLegalModel)||void 0===r?void 0:r.removeGroup(e)}createGroup(e){var r;return this.markAsDirty(),null===(r=this.currentLegalModel)||void 0===r?void 0:r.createGroupFromSpec(e)}onFileOpen(e){try{ue.info("opening...",e.name),this.readAndRestoreFile(e)}catch(r){ue.error(r.message)}}onFileSave(){try{this.currentLegalModel&&(this.saveCurrentModel(),ue.info("saving...",this.filename()))}catch(e){ue.error(e.message)}}onSetDirty(){this.markAsDirty()}onAutoSaveAs(){try{this.isDirty()&&this.currentLegalModel&&(this.saveCurrentModel(),ue.info("auto saving...",this.filename()))}catch(e){ue.error(e.message)}}readAndRestoreFile(e){ue.error("cannot call an abstract function")}fillModelFromJson(e,r){var a,d,p,f;return(null===(a=r.paragraphs)||void 0===a?void 0:a.length)>0&&r.paragraphs.forEach(m=>{const v=new qh(m);e.establishParagraph(v)}),(null===(d=r.sentences)||void 0===d?void 0:d.length)>0&&r.sentences.forEach(m=>{const v=new pn(m);e.establishSentence(v)}),(null===(p=r.footnotes)||void 0===p?void 0:p.length)>0&&r.footnotes.forEach(m=>{const v=new F2(m);e.establishFootnote(v)}),(null===(f=r.groups)||void 0===f?void 0:f.length)>0&&r.groups.forEach(m=>{const v=new VO(m);e.establishGroup(v)}),e}createLegalModel(e,r){this.resetStats();const a=new e({caseNumber:r.docID||r.caseNumber||"Unknown",preprocessed:r.preprocessed||[]});return a.createCaseCoreInfo(r.caseInfo),this.fillModelFromJson(a,r),this.markAsSaved(),this.finalizeLoadModel(a,r)}finalizeLoadModel(e,r){return this.currentLegalModel=e,this.currentFilename=this.extractLaFilename(),this.currentLegalModel}hasModel(){return!!this.currentLegalModel}getModelCoreInfo(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getModelCoreInfo()}getParagraphs(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getParagraphs()}getSentences(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getSentences()}getFootnotes(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getFootnotes()}getGroups(){var e;return null===(e=this.currentLegalModel)||void 0===e?void 0:e.getGroups()}getFilteredSentenceList(e){if(fe.matches("all",e)&&this.hasModel())return this.currentLegalModel.getSentences();if(this.computeLaStats(),this.modelStats[e]){const r=this.modelStats[e].getMembers();return r.sort((a,d)=>d.compare(a)),r}return[]}resetStats(){this.modelStats={},this.modelStatsList=null}findFootnotes(e){var r;return(null===(r=this.currentLegalModel)||void 0===r?void 0:r.findFootnotes(e))||[]}sentenceRhetClasses(){const a=Object.assign({All:0},lt.defaultPredictions.rhetClass.predictions);return Object.keys(a)}getSentenceRoles(){return this.sentenceRhetClasses().slice()}computeLaStats(){var e;if((null===(e=this.modelStatsList)||void 0===e?void 0:e.length)>0)return this.modelStatsList;if(this.modelStats={},this.modelStatsList=new Array,this.currentLegalModel){this.sentenceRhetClasses().forEach(d=>{const p=new yX({filter:d,name:d});this.modelStatsList.push(p),this.modelStats[d]=p});const r=this.modelStats.All;r.perserveOrder=!0;const a=this.currentLegalModel.getSentences();a&&a.forEach(d=>{r.addMember(d);const p=d.readRhetClass(),f=this.modelStats[p];f&&f.addMember(d)}),fe.forEachKeyValue(this.modelStats,(d,p)=>{p.sortMembers()})}return this.modelStatsList}saveCurrentModel(){if(!this.currentLegalModel)return void ue.error("lsJson model is empty","no document is currently open");const e=this.authService.currentUserValue,r=this.teamService.currentWorkspace;this.currentFilename.incrementVersion(),this.currentLegalModel.updateFilename(this.currentFilename);const a=this.currentLegalModel.asUploadedCase(e,r),d=new Blob([a.data],{type:"text/plain;charset=utf-8"});Qh(d,this.currentLegalModel.filename),this.markAsSaved(),ne.broadcastCommand(this,"Saved",this.currentLegalModel.filename)}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class see{clear(){return this.includeany="",this.includeall="",this.exactphrase="",this.excludeany="",this.FindingSentence=!1,this.EvidenceSentence=!1,this.LegalRuleSentence=!1,this.ReasoningSentence=!1,this.CitationSentence=!1,this}}let Da=(()=>{class n extends XO{constructor(e){super(e),this.lastSearch=new see,ne.registerCommand(this,"FileOpenSearch",this.onFileOpen),ne.registerCommand(this,"FileSaveSearch",this.onFileSave),ne.registerCommand(this,"AutoSaveSearchAs",this.onAutoSaveAs),ne.registerCommand(this,"SetDirty",this.onSetDirty),ne.processCommands(this),this.currentFilename=new Rv({pre:"search",name:fe.getNowIsoDate().split(".")[0]})}extractLaFilename(){return this.currentLegalModel&&(this.currentFilename=this.currentLegalModel.extractLaFilename(),this.currentFilename.pre="search"),this.currentFilename}getCurrentModel$(){return null==this.modelStream$&&(this.modelStream$=new UO(1)),this.modelStream$}addParagraph(e){var r;return null===(r=this.currentLegalModel)||void 0===r||r.establishParagraph(e),e}queryForParagraph(e,r){const a=e.paraIDTag();this.findParagraph$(a).subscribe(d=>{const p=d[0];if(p){const f=new qh(p._source);r&&r(f),ue.success(`Paragraph ${a} found`,`Sentences ${f.sentences.length}`)}else ue.warning(`Paragraph ${a} not found in search`)})}createCaseOfSearchResults(e){const r=this.createLegalModel(V2,{});e.map(d=>d.sentence).forEach(d=>{r.establishSentence(d)}),this.getCurrentModel$().next(r)}readAndRestoreFile(e){const r=new FileReader;r.onerror=a=>{ue.error("fail...",JSON.stringify(a.target))},r.onload=()=>{const a=JSON.parse(r.result),d=this.createLegalModel(V2,a);this.currentFilename=this.extractLaFilename(),this.currentFilename.syncronise(e.name),this.getCurrentModel$().next(d),ue.success("Search loading!",d.filename)},r.readAsText(e)}bold(e){return`<b class="boldhighlight">${e}</b>`}replaceSplitJoin(e,r,a){return e.split(r).join(a)}replaceBold(e,r){return this.replaceSplitJoin(e,r,this.bold(r))}textMarkup(e,r){let a=e;return r.forEach(d=>{a=this.replaceBold(a,d),a=this.replaceBold(a,d.toLowerCase()),a=this.replaceBold(a,fe.capitalize(d.toLowerCase()))}),a=`&nbsp; &nbsp; ${a}`,a}advancedQuery$(e){var r,a,d;let p=null===(r=e.includeany)||void 0===r?void 0:r.split(" ").filter(T=>T.length>0),f=null===(a=e.includeall)||void 0===a?void 0:a.split(" ").filter(T=>T.length>0),m=null===(d=e.exactphrase)||void 0===d?void 0:d.split(" ").filter(T=>T.length>0);if(p=p||[],f=f||[],m=m||[],this.searchTextList=[...p,...f,...m],e.isEmpty())return void ue.warning("Search Filters Are Empty");const v=new lS({serviceKey:"advancedQuery$",endpoint:"/query"}),C=new pe;return this.payloadService.esPost$(TX,v,e).subscribe({next:T=>{if(T.hasError)C.error(T.message);else{const M=T.payload.map(H=>(H.innerHTML=this.textMarkup(H.sentence.text,this.searchTextList),H));C.next(M)}C.complete()},error:T=>{C.error(T),C.complete()},complete:()=>{C.complete()}}),C}findCase$(e){const r=new lS({serviceKey:"findCase$",endpoint:`/Case/${e}`}),a=new pe;return this.payloadService.esGet$(oS,r).subscribe({next:p=>{p.hasError?a.error(p.message):a.next(p.payload),a.complete()},error:p=>{a.error(p),a.complete()},complete:()=>{a.complete()}}),a}findParagraph$(e){const r=new lS({serviceKey:"findParagraph$",endpoint:`/paragraph/${e}`}),a=new pe;return this.payloadService.esGet$(oS,r).subscribe({next:p=>{p.hasError?a.error(p.message):a.next(p.payload),a.complete()},error:p=>{a.error(p),a.complete()},complete:()=>{a.complete()}}),a}findSentence$(e){const r=new lS({serviceKey:"findSentence$",endpoint:`/sentence/${e}`}),a=new pe;return this.payloadService.esGet$(oS,r).subscribe({next:p=>{p.hasError?a.error(p.message):a.next(p.payload),a.complete()},error:p=>{a.error(p),a.complete()},complete:()=>{a.complete()}}),a}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hn=(()=>{class n extends XO{constructor(e){super(e),ne.registerCommand(this,"FileOpenCase",this.onFileOpen),ne.registerCommand(this,"FileSaveCase",this.onFileSave),ne.registerCommand(this,"AutoSaveCaseAs",this.onAutoSaveAs),ne.registerCommand(this,"SetDirty",this.onSetDirty),ne.processCommands(this)}getCurrentModel$(){return null==this.modelStream$&&(this.modelStream$=new UO(1)),this.modelStream$}startEvents(){this.hubService.TopicPayload$().subscribe(e=>{this.receiveTopicPayload(e)}),this.hubService.Plugin$().subscribe(e=>{ne.broadcastCommand(this,"RefreshPlugins",e)})}receiveTopicPayload(e){var r,a;if(fe.matches(e.topic,"SentencePrediction")){const d=e.payload.sentID,f=null===(r=this.currentLegalModel)||void 0===r?void 0:r.resolveSentence(d);if(f){let m=new HO({rhetClass:e.payload.class});f.enrichmentSet=m,ue.success("asserting prediction...",`${d}`)}ne.broadcastCommand(this,"RefreshPrediction")}if(fe.matches(e.topic,"DocumentPrediction")){const d=e.payload.sentID,p=null===(a=this.currentLegalModel)||void 0===a?void 0:a.resolveSentence(d);if(p){let f=new HO({rhetClass:e.payload.class});p.enrichmentSet=f,ne.broadcastCommand(this,"FindAnchor",p.anchorTag()),p.applyEnrichmentSet(f),this.computeLaStats()}ne.broadcastCommand(this,"RefreshPrediction")}}get polarityRoles(){const a=Object.assign({},lt.defaultPredictions.polarity.predictions);return Object.keys(a)}getPolarityValues(){return this.polarityRoles.slice()}doSplitParagraphOn(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.doSplitParagraphOn(e)}getPreviousParagraph(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.getPreviousParagraph(e)}getNextParagraph(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.getNextParagraph(e)}setParagraphSection(e,r,a){e.sentences.forEach(d=>{this.setSentenceSection(d,r,d.isFirst&&a)})}setSentenceSection(e,r,a){e.SetSectionTypeAndStatus(r,a),this.findFootnotes(e).forEach(d=>{d.SetSectionTypeAndStatus(r)})}getPreviousSentence(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.getPreviousSentence(e)}getPreviousFootnote(e){var r;const a=e.GetSectionType();return null===(r=this.currentLegalModel)||void 0===r?void 0:r.getPreviousFootnote(a,e)}getNextSentence(e){var r;return null===(r=this.currentLegalModel)||void 0===r?void 0:r.getNextSentence(e)}deleteSentence(e){this.markAsDirty(),this.currentLegalModel.deleteSentence(e)}joinSentence(e,r,a){const d=e.mergeTextFromSentence(r,a);return this.currentLegalModel.deleteSentence(r),this.markAsDirty(),d}joinFootnote(e,r,a){const d=e.mergeTextFromSentence(r,a);return this.currentLegalModel.deleteFootnoteSentence(r),this.markAsDirty(),d}splitSentence(e,r){const a=this.currentLegalModel.splitSentence(e,r);return a&&this.markAsDirty(),a}splitFootnote(e,r){const a=this.currentLegalModel.splitFootnote(e,r);return a&&this.markAsDirty(),a}appendSentenceToParagraph(e,r){const a=this.currentLegalModel.resolveParagraph(e.paraID);a!=r?(a.deleteSentence(e),r.addSentence(e),e.renumId=1e4,r.renumSentences(),this.currentLegalModel.reorderParagraphs(),this.markAsDirty()):ue.error("Cannot add sentence to same paragraph")}prependSentenceToParagraph(e,r){const a=this.currentLegalModel.resolveParagraph(e.paraID);a!=r?(a.deleteSentence(e),r.addSentence(e),e.renumId=.1,r.renumSentences(),this.currentLegalModel.reorderParagraphs(),this.markAsDirty()):ue.error("Cannot add sentence to same paragraph")}moveSentenceForward(e){const r=this.currentLegalModel.resolveParagraph(e.paraID);e.renumId-=1.1,r.renumSentences(),this.markAsDirty()}moveSentenceBackward(e){const r=this.currentLegalModel.resolveParagraph(e.paraID);e.renumId+=1.1,r.renumSentences(),this.markAsDirty()}normalizeModel(){var e;null===(e=this.currentLegalModel)||void 0===e||e.normalizeModel()}insertSentence(e){return!!this.currentLegalModel&&(this.currentLegalModel.establishSentence(e),this.currentLegalModel.normalizeModel(),!0)}finalizeLoadModel(e,r){if(e.setText(r.text),e.normalizeModel(),r.ruleTree){const a=this.processDecisionRoot(r.ruleTree);e.attachDecisionRoot(a)}return super.finalizeLoadModel(e,r)}extractLaFilename(){return this.currentLegalModel&&(this.currentFilename=this.currentLegalModel.extractLaFilename(),this.currentFilename.pre="case"),this.currentFilename}readAndRestoreFile(e){const r=new FileReader;r.onerror=a=>{ue.error("fail...",JSON.stringify(a.target))},r.onload=()=>{const a=JSON.parse(r.result);this.createLegalModel(Av,a),this.currentFilename=this.extractLaFilename(),this.currentFilename.syncronise(e.name)},r.readAsText(e)}processDecisionRoot(e){const r=new _X(e);return e.nodes&&(fe.isArray(e.nodes)?e.nodes:[e.nodes]).forEach(d=>{this.processDecisionNodes(d,r)}),r}processDecisionNodes(e,r){const a=new N2(e);return r.addChild(a),e.nodes&&(fe.isArray(e.nodes)?e.nodes:[e.nodes]).forEach(p=>{this.processDecisionNodes(p,a)}),a}resolveDecisionKeys(e){return this.hasModel()?this.currentLegalModel.resolveDecisionKeys(e):[]}findDecisionByKey(e){const r=this.resolveDecisionKeys([e]);return fe.isEmpty(r)?void 0:r[0]}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tf=(()=>{class n{constructor(e){this.formBuilder=e,this.isOpen=!1}isPanelOpen(){return this.isOpen&&this.caseInfo}doOpenPanel(e){!this.caseInfo||(this.isOpen=!0)}doClosePanel(e){this.isOpen=!1}resetCaseInfo(e){this.caseInfoForm=this.formBuilder.group({openedFileName:[e.openedFileName],version:[e.version],title:[e.title],description:[e.description],notes:[e.notes],keywords:[e.keywords],metadata:[e.metadata],owner:[e.owner||"Author"],source:[e.source],name:[e.name],extension:[e.extension],lastChange:[e.lastChange],nextFileName:[e.nextFileName],prevFileName:[e.prevFileName],workspace:[e.workspace],guidKey:[e.guidKey]})}ngOnChanges(e){for(const r in e)this.resetCaseInfo(e[r].currentValue)}ngOnInit(){this.resetCaseInfo(this.caseInfo)}get f(){return this.caseInfoForm.controls}onSubmit(){this.caseInfo.override({openedFileName:this.f.openedFileName.value,version:this.f.version.value,title:this.f.title.value,description:this.f.description.value,notes:this.f.notes.value,keywords:this.f.keywords.value,source:this.f.source.value,metadata:this.f.metadata.value,owner:this.f.owner.value||"author",name:this.f.name.value,extension:this.f.extension.value,lastChange:this.f.lastChange.value,nextFileName:this.f.nextFileName.value,prevFileName:this.f.prevFileName.value,workspace:this.f.workspace.value,guidKey:this.f.guidKey.value}),this.isOpen=!1,ne.broadcastCommand(this,"SetDirty")}ngOnDestroy(){this.caseInfoForm=null,this.caseInfo=null}}return n.\u0275fac=function(e){return new(e||n)(R(Bs))},n.\u0275cmp=Ce({type:n,selectors:[["app-case-title"]],inputs:{caseInfo:"caseInfo"},features:[$t],decls:50,vars:7,consts:[[1,"container",2,"max-width","100%"],[3,"expanded","opened","closed"],["target","blank",3,"href"],["rowHeight","300px"],[2,"width","99%",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","title",1,"col-sm-1","col-form-label"],[1,"col-sm-11"],["type","text","formControlName","title","id","title","placeholder","there is no title",1,"form-control"],["for","description",1,"col-sm-1","col-form-label"],["type","text","formControlName","description","id","description","placeholder","there is no description",1,"form-control"],["for","source",1,"col-sm-1","col-form-label"],["type","text","formControlName","source","id","source","placeholder","there is no source url",1,"form-control"],["for","keywords",1,"col-sm-1","col-form-label"],["type","text","formControlName","keywords","id","keywords","placeholder","there are no keywords",1,"form-control"],["for","notes",1,"col-sm-1","col-form-label"],["type","text","formControlName","notes","id","notes","placeholder","there are no notes",1,"form-control"],[1,"col-sm-1"],[1,"btn","btn-primary"],[1,"col-sm-3"],["type","text","formControlName","name","id","caseId","placeholder","name",1,"form-control"],[1,"col-sm-4"],["type","text","readonly","","formControlName","lastChange","placeholder","lastChange",1,"form-control"],["type","email","formControlName","owner","placeholder","owner",1,"form-control"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1),U("opened",function(d){return r.doOpenPanel(d)})("closed",function(d){return r.doClosePanel(d)}),S(3,"mat-expansion-panel-header")(4,"mat-panel-title"),F(5),E(),S(6,"mat-panel-description")(7,"span"),F(8),E(),F(9," \xa0\xa0\xa0 "),S(10,"a",2),F(11),E()()(),S(12,"div",3)(13,"form",4),U("ngSubmit",function(){return r.onSubmit()}),S(14,"div",5)(15,"label",6),F(16,"Title:"),E(),S(17,"div",7),X(18,"input",8),E()(),S(19,"div",5)(20,"label",9),F(21,"Description:"),E(),S(22,"div",7),X(23,"input",10),E()(),S(24,"div",5)(25,"label",11),F(26,"Source:"),E(),S(27,"div",7),X(28,"input",12),E()(),S(29,"div",5)(30,"label",13),F(31,"Keywords:"),E(),S(32,"div",7),X(33,"input",14),E()(),S(34,"div",5)(35,"label",15),F(36,"Notes:"),E(),S(37,"div",7),X(38,"input",16),E()(),S(39,"div",5)(40,"div",17)(41,"button",18),F(42,"Update"),E()(),S(43,"div",19),X(44,"input",20),E(),S(45,"div",21),X(46,"input",22),E(),S(47,"div",21),X(48,"input",23),E()()()()()(),X(49,"br"),E()),2&e&&(D(2),I("expanded",r.isPanelOpen()),D(3),ns(" File: ",r.caseInfo.getFilename()," \xa0\xa0\xa0 ",r.caseInfo.lastChange," "),D(3),Ae(r.caseInfo.owner),D(2),Fn("href",r.caseInfo.source,Qa),D(1),Ae(r.caseInfo.source),D(2),I("formGroup",r.caseInfoForm))},directives:[RY,Mw,Pw,oO,rO,as,ss,Vr,Yi,fr,xo],encapsulation:2}),n})();class q2 extends BO{constructor(t){super(t),this.lampsType="LegalPad"}establishSentence(t){t.computeID();const e=this.resolveSentence(t.sentID);return e&&this.removeSentence(e),this.sentenceLookup[t.sentID]=t,this.sentences.push(t),e&&e.groupIDs&&t.addGroupID(e.groupIDs),this}}let jr=(()=>{class n extends XO{constructor(e){super(e),ne.registerCommand(this,"FileOpenNotes",this.onFileOpen),ne.registerCommand(this,"FileSaveNotes",this.onFileSave),ne.registerCommand(this,"AutoSaveNotesAs",this.onAutoSaveAs),ne.registerCommand(this,"SetDirty",this.onSetDirty),ne.processCommands(this),this.currentFilename=new Rv({pre:"note",name:fe.getNowIsoDate().split(".")[0]})}extractLaFilename(){return this.currentLegalModel&&(this.currentFilename=this.currentLegalModel.extractLaFilename(),this.currentFilename.pre="note"),this.currentFilename}getCurrentModel$(){return null==this.modelStream$&&(this.modelStream$=new UO(1)),this.modelStream$}startEvents(){this.hubService.Pong$().subscribe(e=>{ue.success(e)}),this.hubService.TopicPayload$().subscribe(e=>{this.receiveTopicPayload(e)})}readAndRestoreFile(e){const r=new FileReader;r.onerror=a=>{ue.error("fail...",JSON.stringify(a.target))},r.onload=()=>{const a=JSON.parse(r.result),d=this.createLegalModel(q2,a);this.currentFilename=this.extractLaFilename(),this.currentFilename.syncronise(e.name),this.getCurrentModel$().next(d),ue.success("Search loading!",d.filename)},r.readAsText(e)}get summary(){return this.hubService.summary}sendPing(){this.hubService.doPing()}broadcastAddSentenceToPad(e){const r=new pn(e);r.markAsImmutable(),this.hubService.broadcastTopicPayload("AddSentenceToPad",r)}broadcastAddParagraphToPad(e){const r=new qh(e);r.sentences=e.sentences.map(a=>new pn(a).markAsImmutable()),this.hubService.broadcastTopicPayload("AddParagraphToPad",r)}receiveTopicPayload(e){var r,a,d;if(!this.currentLegalModel){const p=this.createLegalModel(q2,{});this.getCurrentModel$().next(p)}if(fe.matches(e.topic,"warning")&&ue.warning(e.topic,e.payload),fe.matches(e.topic,"info")&&ue.info(e.topic,e.payload),fe.matches(e.topic,"error")&&ue.error(e.topic,e.payload),fe.matches(e.topic,"AddSentenceToPad")){const p=new pn(e.payload);null===(r=this.currentLegalModel)||void 0===r||r.establishSentence(p.markAsImmutable()),ue.success("adding sentence...",`${p.fullSentTag()}`)}if(fe.matches(e.topic,"AddParagraphToPad")){const p=new qh(e.payload);null===(a=this.currentLegalModel)||void 0===a||a.establishParagraph(p.markAsImmutable()),ue.success("adding paragraph...",`${p.computeID().paraID}`)}if(fe.matches(e.topic,"Prediction")){const p=e.payload.sentID,m=e.payload.class,v=null===(d=this.currentLegalModel)||void 0===d?void 0:d.resolveSentence(p);if(v){let C=new HO(m);v.applyEnrichmentSet(C),ne.broadcastCommand(this,"FindAnchor",v.anchorTag())}}ne.broadcastCommand(this,"RefreshDisplay")}}return n.\u0275fac=function(e){return new(e||n)(K(qt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aee(n,t){if(1&n&&(S(0,"span")(1,"button",1),F(2),E()()),2&n){const e=L();D(2),Ae(e.groupID())}}let lee=(()=>{class n{constructor(e){this.cService=e}ngOnInit(){}hasGroup(){var e;return!fe.isEmpty(null===(e=this.sentence)||void 0===e?void 0:e.groupIDs)}groupID(){var e;return null===(e=this.sentence)||void 0===e?void 0:e.groupIDs}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-group-badge"]],inputs:{sentence:"sentence"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","rounded-pill","bg-info","text-dark","grouping-tag"]],template:function(e,r){1&e&&V(0,aee,3,1,"span",0),2&e&&I("ngIf",r.hasGroup())},directives:[ut],encapsulation:2}),n})();function cee(n,t){1&n&&(S(0,"mat-icon"),F(1,"bookmark"),E())}function uee(n,t){1&n&&(S(0,"mat-icon"),F(1,"bookmark_border"),E())}let dee=(()=>{class n{constructor(e){this.cService=e}ngOnInit(){}doToggleBookmark(){this.sentence.toggleBookmark(),this.isActive()&&this.cService.gotoNextBookmark(this.sentence.anchorTag())}isActive(){return!!this.sentence.isBookmark}isNotActive(){return!this.sentence.isBookmark}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-bookmark"]],inputs:{sentence:"sentence"},decls:3,vars:2,consts:[["type","button",1,"btn",2,"padding","0",3,"click"],[4,"ngIf"]],template:function(e,r){1&e&&(S(0,"button",0),U("click",function(){return r.doToggleBookmark()}),V(1,cee,2,0,"mat-icon",1),V(2,uee,2,0,"mat-icon",1),E()),2&e&&(D(1),I("ngIf",r.isActive()),D(1),I("ngIf",r.isNotActive()))},directives:[ut,Ji],encapsulation:2}),n})();function pee(n,t){if(1&n&&(S(0,"span",3),F(1),E()),2&n){const e=L();I("ngClass",e.selectionClass()),D(1),Ae(e.selectionFlag)}}function hee(n,t){if(1&n){const e=le();S(0,"button",4),U("click",function(){return J(e),L().doToggleParagraphOfInterest()}),F(1),E()}if(2&n){const e=L();D(1),Ae(e.sentence.paraTag())}}function fee(n,t){if(1&n){const e=le();S(0,"span")(1,"button",5),U("click",function(){return J(e),L().doToggleSentenceOfInterest()}),F(2),E()()}if(2&n){const e=L();D(2),_t(" ",e.sentence.sentTag()," ")}}let gee=(()=>{class n{constructor(e,r,a){this.tService=e,this.lService=r,this.pService=a,this.selectionFlag=""}ngOnInit(){}isFootnotePage(){return this.tService.openPage==Dl.Footnote}isFirstSentence(){var e;return"1"===(null===(e=this.sentence)||void 0===e?void 0:e.sentenceNumber)}selectionClass(){this.selectionFlag="";var e=this.lService.findParagraph(this.sentence);if(null==e?void 0:e.isItemOfInterest)return this.selectionFlag=`${e.paraTag()} IS SELECTED`,"item-of-interest-style"}doToggleParagraphOfInterest(){if(this.sentence){var e=this.lService.findParagraph(this.sentence);e&&(e.isItemOfInterest=!e.isItemOfInterest)}}getSentenceBadges(){return this.sentence?[this.sentence]:[]}doToggleSentenceOfInterest(){return this.setIsSentenceOfInterest(!this.getIsSentenceOfInterest())}getIsSentenceOfInterest(){return this.sentence.isItemOfInterest}setIsSentenceOfInterest(e){this.tService.clearPostEdit(),this.sentence.isItemOfInterest=e}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-sentence-badge"]],inputs:{sentence:"sentence"},decls:3,vars:3,consts:[[3,"ngClass",4,"ngIf"],["style","margin-left: 5px; margin-right: 5px","class","badge rounded-pill bg-info text-dark",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"badge","rounded-pill","bg-info","text-dark",2,"margin-left","5px","margin-right","5px",3,"click"],[1,"badge","rounded-pill","bg-info","text-dark",2,"margin-left","10px","margin-right","5px",3,"click"]],template:function(e,r){1&e&&(V(0,pee,2,2,"span",0),V(1,hee,2,1,"button",1),V(2,fee,3,1,"span",2)),2&e&&(I("ngIf",r.isFirstSentence()),D(1),I("ngIf",r.isFirstSentence()),D(1),I("ngForOf",r.getSentenceBadges()))},directives:[ut,va,Wt],encapsulation:2}),n})();function mee(n,t){if(1&n&&(S(0,"sup",2)(1,"small"),F(2),E()()),2&n){const e=t.$implicit;Fn("tooltip",L(2).footnoteToolTips(e)),D(2),Ae(e)}}function vee(n,t){if(1&n&&(gi(0),V(1,mee,3,2,"sup",1),mi()),2&n){const e=L();D(1),I("ngForOf",e.footnoteIDs())}}let _ee=(()=>{class n{constructor(e){this.cService=e,this.showReference=!0}ngOnInit(){this.showReference=!!this.sentence.footnoteRefs}footnoteRef(){return this.sentence.footnoteRefs}footnoteIDs(){return Object.keys(this.footnoteRef())}footnoteToolTips(e){return this.cService.getFootnoteText([`FN${e}`])}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-footnotelink"]],inputs:{sentence:"sentence"},decls:1,vars:1,consts:[[4,"ngIf"],["style","color: blue","class","btn",3,"tooltip",4,"ngFor","ngForOf"],[1,"btn",2,"color","blue",3,"tooltip"]],template:function(e,r){1&e&&V(0,vee,2,1,"ng-container",0),2&e&&I("ngIf",r.showReference)},directives:[ut,Wt,Br],encapsulation:2}),n})();function yee(n,t){if(1&n){const e=le();S(0,"span")(1,"button",2),U("click",function(){const d=J(e).$implicit;return L().doChangeSection(d)}),F(2),E()()}if(2&n){const e=t.$implicit;D(2),Ae(e)}}function Cee(n,t){if(1&n){const e=le();S(0,"button",20),U("click",function(){return J(e),L(2).doExecute()}),F(1,"Are you sure?"),E()}}function bee(n,t){if(1&n&&X(0,"app-sentence",21),2&n){const e=t.$implicit;I("renderLikePage",!0)("sentence",e)("userCanEdit",!0)}}function wee(n,t){if(1&n){const e=le();S(0,"span")(1,"button",2),U("click",function(){const d=J(e).$implicit;return L(2).doApplyItem(d)}),F(2),E()()}if(2&n){const e=t.$implicit;D(2),Ae(e)}}function See(n,t){if(1&n){const e=le();S(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),U("click",function(a){return J(e),L().doClose(a)}),F(5,"\u2612"),E(),S(6,"span",8),U("click",function(a){return J(e),L().doClose(a)}),F(7," Select an existing section "),E(),S(8,"span",9)(9,"input",10),U("ngModelChange",function(a){return J(e),L().renametext=a})("ngModelChange",function(a){return J(e),L().onRenameChange(a)}),E(),S(10,"button",11),U("click",function(){return J(e),L().doCancel()}),F(11,"cancel"),S(12,"mat-icon"),F(13,"clear"),E()(),S(14,"button",12),U("click",function(){return J(e),L().doApply()}),F(15,"ok"),S(16,"mat-icon"),F(17,"check_circle"),E()(),V(18,Cee,2,0,"button",13),E(),X(19,"br"),S(20,"span",14)(21,"input",15),U("change",function(a){return J(e),L().onSectionBeginChanged(a)})("ngModelChange",function(a){return J(e),L().issection=a}),E(),S(22,"span",16),U("click",function(){return J(e),L().doToggleSection()}),F(23,"This sentence should start the next section"),E()()(),S(24,"div",17),V(25,bee,1,3,"app-sentence",18),X(26,"br")(27,"br"),S(28,"span",19)(29,"span")(30,"i"),F(31,"Select from existing section tags below:"),E()()(),X(32,"br")(33,"br"),V(34,wee,3,1,"span",0),E()()()()}if(2&n){const e=L();D(9),I("ngModel",e.renametext),D(9),I("ngIf",e.isDirty),D(3),I("ngModel",e.issection),D(4),I("ngForOf",e.changedTargets()),D(9),I("ngForOf",e.getPossableSection())}}let Q2=(()=>{class n{constructor(e,r){this.tService=e,this.cService=r,this.isDirty=!1,this.targets=new Array,this.issection=!1,this.renametext="",this.showEditor=!1}isFootnotePage(){return this.tService.openPage==Dl.Footnote}ngOnInit(){this.isDirty=!1,this.issection=this.sentence.isSection,this.renametext=this.sentence.GetSectionType();const e=this.cService.findParagraph(this.sentence);null==e||e.sentences.forEach(r=>{this.targets.push(new pn(r))})}onRenameChange(e){this.doApply()}getSectionBadges(){return this.sentence?this.sentence.getSectionBadges():[]}getPossableSection(){return this.cService.getUniqueSection()}onSectionBeginChanged(e){this.targets[0].isSection=this.issection}doToggleSection(){this.issection=!this.issection,this.targets[0].isSection=this.issection}changedTargets(){return this.targets}doChangeSection(e){this.isFootnotePage()||(this.showEditor=!this.showEditor)}doApplyItem(e){this.isDirty&&fe.matches(this.renametext,e)?this.doExecute():(this.renametext=e,this.doApply())}doApply(){this.isDirty=!0,this.tService.clearPostEdit(),this.targets.forEach(e=>{this.cService.setSentenceSection(e,this.renametext,!!e.isFirst&&this.issection)})}doExecute(){try{const e=this.cService.findParagraph(this.sentence);e&&this.cService.setParagraphSection(e,this.renametext,this.issection)}catch(e){}this.doClose()}doCancel(){this.isDirty=!1,this.tService.clearPostEdit(),this.doClose()}doClose(e){this.showEditor=!1,null==e||e.preventDefault(),this.isDirty&&ne.broadcastCommand(this,"SetDirty"),this.isDirty=!1}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-section-badge"]],inputs:{sentence:"sentence"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"badge","rounded-pill","bg-info","text-dark",2,"background-color","darkkhaki","margin-left","5px","margin-right","10px",3,"click"],[1,"row"],[1,"col-sm-12"],[1,"card","border","border-success"],[1,"card-header"],["tooltip","close note editor",1,"btn",3,"click"],[1,"btn",2,"margin-right","15px",3,"click"],["role","group",1,"btn-group","mr-10",2,"max-width","95%"],["id","renametext","type","text","placeholder","",2,"max-width","150px","padding-left","20px",3,"ngModel","ngModelChange"],["tooltip","cancel these changes","type","button",1,"btn","btn-badge",2,"padding-left","50px",3,"click"],["tooltip","OK accept these changes","type","button",1,"btn","btn-badge",2,"padding-left","50px",3,"click"],["style","margin-left: 150px;","class","btn btn-badge btn-success",3,"click",4,"ngIf"],["role","group",1,"btn-group","mr-10",2,"max-width","50%","margin-left","260px"],["type","checkbox",1,"largerCheckbox",3,"ngModel","change","ngModelChange"],[1,"btn",2,"padding-left","10px",3,"click"],[1,"card-body"],[3,"renderLikePage","sentence","userCanEdit",4,"ngFor","ngForOf"],["role","group",1,"btn-group","mr-10",2,"max-width","50%"],[1,"btn","btn-badge","btn-success",2,"margin-left","150px",3,"click"],[3,"renderLikePage","sentence","userCanEdit"]],template:function(e,r){1&e&&(V(0,yee,3,1,"span",0),V(1,See,35,5,"div",1)),2&e&&(I("ngForOf",r.getSectionBadges()),D(1),I("ngIf",r.showEditor))},encapsulation:2}),n})();function Eee(n,t){if(1&n&&(S(0,"span")(1,"button",1),F(2),E()()),2&n){const e=t.$implicit;D(2),Ae(e)}}let Dee=(()=>{class n{constructor(e){this.lService=e}ngOnInit(){}getDecisionBadges(){const e=this.sentence?this.sentence.getDecisionKeys():[];return e.length>0?this.lService.resolveDecisionKeys(e).map(a=>a.sentTag()):e}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-decision-list-badge"]],inputs:{sentence:"sentence"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-info","text-dark"]],template:function(e,r){1&e&&V(0,Eee,3,1,"span",0),2&e&&I("ngForOf",r.getDecisionBadges())},directives:[Wt],encapsulation:2}),n})();function Tee(n,t){if(1&n&&(S(0,"span",16),F(1),Ku(2,"Short"),E()),2&n){const e=t.$implicit;cn(e.name),D(1),ns("\xa0",Yu(2,4,e.name),"\xa0(",e.value,")\xa0")}}function Ree(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(3).doToggleMarkedForDelete()}),F(1,"restore_from_trash"),E()}}function Aee(n,t){if(1&n){const e=le();gi(0),S(1,"sub",17),F(2),E(),V(3,Ree,2,0,"mat-icon",11),S(4,"mat-icon",18),U("click",function(){return J(e),L(2).doDelete()}),F(5,"delete"),E(),mi()}if(2&n){const e=L(2);D(2),Ae(null==e.context?null:e.context.showImmutable()),D(1),I("ngIf",e.isMarkedForDelete())}}function Oee(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doAddNote()}),F(1,"note_add"),E()}}function xee(n,t){if(1&n){const e=le();S(0,"mat-icon",19),U("click",function(){return J(e),L(2).doOpenNote()}),F(1,"feedback"),E()}2&n&&Fn("tooltip",L(2).context.notes)}function Iee(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doAddTags()}),F(1,"local_offer"),E()}}function Mee(n,t){if(1&n){const e=le();S(0,"mat-icon",19),U("click",function(){return J(e),L(2).doOpenTags()}),F(1,"more"),E()}2&n&&Fn("tooltip",L(2).tagToolTips())}function Pee(n,t){1&n&&X(0,"app-note",20),2&n&&I("context",L(2).context)}function Fee(n,t){1&n&&X(0,"app-tags",20),2&n&&I("context",L(2).context)}function Nee(n,t){if(1&n){const e=le();S(0,"div",1)(1,"div",2)(2,"p",3)(3,"strong"),F(4),E(),S(5,"span",4),F(6),E()(),S(7,"div",5)(8,"span",6),U("click",function(){return J(e),L().doToggleParagraphOfInterest()}),F(9),E(),S(10,"button",7),U("click",function(){return J(e),L().doToggleParagraphOfInterest()}),F(11),E(),V(12,Tee,3,6,"span",8),V(13,Aee,6,2,"ng-container",9),S(14,"button",10),F(15),E(),V(16,Oee,2,0,"mat-icon",11),V(17,xee,2,1,"mat-icon",12),V(18,Iee,2,0,"mat-icon",11),V(19,Mee,2,1,"mat-icon",12),E()(),V(20,Pee,1,1,"app-note",13),V(21,Fee,1,1,"app-tags",13),S(22,"div",14),X(23,"app-paragraph",15),E()()}if(2&n){const e=L();D(4),_t(" PARAGRAPH \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",null==e.context?null:e.context.label," "),D(2),Ae(null==e.context?null:e.context.score),D(1),I("ngClass",e.selectionClass()),D(2),Ae(e.selectionFlag),D(2),Ae(null==e.context?null:e.context.label),D(1),I("ngForOf",null==e.context?null:e.context.computeStats()),D(1),I("ngIf",e.canShowImmutable()),D(2),Ae(null==e.context?null:e.context.label),D(1),I("ngIf",!e.hasNotes()&&e.canAddNotes()),D(1),I("ngIf",e.hasNotes()),D(1),I("ngIf",!e.hasTags()&&e.canAddTags()),D(1),I("ngIf",e.hasTags()),D(1),I("ngIf",e.showNotes),D(1),I("ngIf",e.showTags),D(2),I("showImmutable",e.showImmutable)("paragraph",e.context)}}let Pv=(()=>{class n{constructor(e,r,a,d){this.tagService=e,this.eService=r,this.cService=a,this.pService=d,this.showNotes=!1,this.showTags=!1,this.markedForDelete=!1,this.userCanEdit=!0,this.userCanDelete=!1,this.showImmutable=!0,this.selectionFlag=""}defaultService(){return lt.isLegalSearch?this.eService:lt.isLegalPad?this.pService:this.cService}ngOnInit(){if(this.sentence){var e=this.defaultService();if(this.context=e.findParagraph(this.sentence),!this.context){const r=this.sentence.paraIDTag();ue.info("pulling from search",`lookup ${r}`),this.eService.queryForParagraph(this.sentence,a=>{e.establishParagraph(a),this.context=a})}}ne.registerCommand(this,"CloseAll",this.doClose),ne.registerCommand(this,"CloseNote",this.doCloseNote),ne.registerCommand(this,"CloseTags",this.doCloseTags),ne.processCommands(this)}canEdit(){return this.userCanEdit}canDelete(){return this.sentence.isImmutable()&&this.userCanDelete}doToggleMarkedForDelete(){this.markedForDelete=!this.markedForDelete}isMarkedForDelete(){return this.markedForDelete}doDelete(){this.markedForDelete?this.pService.removeParagraph(this.context):this.doToggleMarkedForDelete()}canShowImmutable(){return this.showImmutable&&this.context.isImmutable()}doClose(e){this.showNotes=!1,this.showTags=!1}hasNotes(){return!1===fe.isEmpty(this.context.notes)}canAddNotes(){return this.userCanEdit&&this.tagService.canAddNotes}doAddNote(){this.context.isImmutable()||!this.userCanEdit||(this.showNotes=!this.showNotes)}doOpenNote(){this.context.isImmutable()||!this.userCanEdit||(this.showNotes=!this.showNotes)}doCloseNote(){this.showNotes=!1}doAddTags(){this.context.isImmutable()||!this.userCanEdit||(this.showTags=!this.showTags)}tagToolTips(){const e=this.context.userTags.map(r=>r.tagName);return JSON.stringify(e)}hasTags(){return!1===fe.isEmpty(this.context.userTags)}canAddTags(){return this.userCanEdit&&this.tagService.canAddTags}doOpenTags(){this.context.isImmutable()||!this.userCanEdit||(this.showTags=!this.showTags)}doCloseTags(){this.showTags=!1}getSentences(){var e;return null===(e=this.context)||void 0===e?void 0:e.sentences}selectionClass(){var e;if(this.selectionFlag="",null===(e=this.context)||void 0===e?void 0:e.isItemOfInterest)return this.selectionFlag=`${this.context.label} IS SELECTED`,"item-of-interest-style"}doToggleParagraphOfInterest(){this.context&&(this.context.isItemOfInterest=!this.context.isItemOfInterest)}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(Da),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-phrasecontext"]],inputs:{userCanEdit:"userCanEdit",userCanDelete:"userCanDelete",showImmutable:"showImmutable",sentence:"sentence",context:"context"},decls:1,vars:1,consts:[["class","border-success mb-3",4,"ngIf"],[1,"border-success","mb-3"],[1,"card-header"],[2,"text-align","center","background-color","rgb(80, 156, 255)","max-height","40px"],[2,"margin-left","20px"],[3,"ngClass"],[3,"click"],[1,"badge","rounded-pill","bg-info","text-dark",2,"margin-left","10px","margin-right","5px",3,"click"],["style","margin-right: 5px",3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge","rounded-pill","bg-info","text-dark",2,"background-color","darkkhaki","margin-left","5px","margin-right","10px"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"click",4,"ngIf"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"tooltip","click",4,"ngIf"],[3,"context",4,"ngIf"],[1,"card-body"],[3,"showImmutable","paragraph"],[2,"margin-right","5px"],[2,"padding-left","10px"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"click"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"tooltip","click"],[3,"context"]],template:function(e,r){1&e&&V(0,Nee,24,16,"div",0),2&e&&I("ngIf",r.context)},encapsulation:2}),n})(),J2=(()=>{class n{constructor(e){this.cService=e}ngOnInit(){this.onRefreshSelected(),ne.registerCommand(this,"RefreshSelected",this.onRefreshSelected),ne.processCommands(this)}isImmutable(){return this.sentence.isImmutable()}onRefreshSelected(){}doClose(e){ne.broadcastCommand(this,"CloseAll")}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-label"]],inputs:{sentence:"sentence"},decls:12,vars:5,consts:[[1,"card","border","border-warning"],[1,"card-header"],["tooltip","close labels editor",1,"btn",3,"click"],[1,"btn",2,"margin-right","15px",3,"click"],[1,"card-body"],[3,"renderLikePage","sentence","userCanEdit"],[3,"sentence"],[2,"padding-left","50px",3,"innerHTML"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"button",2),U("click",function(d){return r.doClose(d)}),F(3,"\u2612"),E(),S(4,"span",3),U("click",function(d){return r.doClose(d)}),F(5," Label "),E()(),S(6,"div",4),X(7,"app-sentence",5)(8,"br")(9,"br")(10,"app-labeler",6)(11,"div",7),E()()),2&e&&(D(7),I("renderLikePage",!0)("sentence",r.sentence)("userCanEdit",!0),D(3),I("sentence",r.sentence),D(1),I("innerHTML",r.sentence.modelStatsToolTips(),Ss))},encapsulation:2}),n})();class Lee{constructor(t){this.globalSplitters=null==t?void 0:t.globalSplitters,this.globalExceptions=null==t?void 0:t.globalExceptions,this.ExceptionDictionary=this.buildExceptionDictionary(this.globalExceptions)}buildExceptionDictionary(t){const e={},r={};return null==t||t.forEach(a=>{const d=a.replace(/\./g,"@!");e[a]=d,r[d]=a}),{exDic:e,exRev:r}}}class X2{constructor(t=""){this._cur=0,this._buffer="",this.setBuffer(t)}setBuffer(t){return this._cur=0,this._buffer=t,this}getChar(){if(this._cur<this._buffer.length)return this._buffer[this._cur++]}putChar(){return this._cur>0&&this._cur--,this.peekChar()}peekChar(t=0){const e=this._cur+t;if(e<this._buffer.length)return this._buffer[e]}advanceChar(t=0){this._cur=this._cur+t}jumpToKey(t){return!!this._buffer.includes(t)&&(this._cur=this._buffer.indexOf(t)+t.length,!0)}isWhiteSpace(t){return/^\s*$/.test(t)}skipWhitespace(){let t="";for(;(t=this.peekChar())&&this.isWhiteSpace(t);)this.getChar()}readUntilWhitespace(){let t="",e="";for(;(t=this.getChar())&&!this.isWhiteSpace(t);)e+=t;return e}}class Mi{constructor(t=""){this.isTerminator=!1,this._text=t}contains(t){return-1!=this._text.indexOf(t)}isFootnoteRef(){return this.startsWith("{{")&&this.text.endsWith("}}")}extractFootnote(){return this._text.split("{{")[1].split("}}")[0]}static isSpecial(t,e=0){const r=t[e];return"\u2070"==r||"\xb9"==r||"\xb2"==r||"\xb3"==r||"\u2074"==r||"\u2075"==r||"\u2076"==r||"\u2077"==r||"\u2078"==r||"\u2079"==r||t.charCodeAt(e)>255}get text(){return this._text}asString(){return this._text||""}removingEndingPeriod(){return this._text.endsWith(".")&&(this._text=this._text.slice(0,-1)),this._text}isDigits(t){return/^\d+$/.test(t)}isGrouped(){return this._text.startsWith("[")||this._text.startsWith("(")}isEmpty(){return""===this._text}isNumber(){return!this.isEmpty()&&this.isDigits(this._text)}isNull(){return!this._text||0===this._text.length}isWhiteSpace(){return/^\s*$/.test(this._text)}isNullOrWhiteSpace(){return this.isNull()||this.isWhiteSpace()}findKeyAttribute(t){return t.isAttributeText(this._text)}findStandardSection(t){return t.isSectionText(this._text)}startsWithCapital(){if(!this.isEmpty()){const t=this._text[0];return"("!=t&&t.toUpperCase()===t}return!1}removeLastChar(){this._text=this._text.substring(0,this._text.length-1)}startsWithChar(t){return!this.isEmpty()&&this._text[0]===t}startsWith(t){return!this.isEmpty()&&this._text.startsWith(t)}endsWithChar(t){const e=this._text.length-1;return!this.isEmpty()&&this._text[e]===t}endsWith(t){return!this.isEmpty()&&this._text.endsWith(t)}append(t){return this._text=`${this._text}${t}`,this}replace(t,e){return this._text=this._text.replace(t,e),this}createFootnoteList(){const t=Array();let e=Mi.isSpecial(this._text,0),r=""+this._text[0];for(var a=1,d=this._text.length;a<d;a++){let p=this._text.charCodeAt(a),f=Mi.isSpecial(this._text,a),m=this._text[a];32==p||"."==m?(r+=m,t.push(r),r=""):e!=f&&f||e!=f&&!f?(r.length>0&&t.push(r),r=m):r+=m,e=f}return t.push(r),t}replaceAll(t,e){const r=e.length;let a=this.asString(),d=a.indexOf(t);for(;-1!==d;)a=a.replace(t,e),d=a.indexOf(t,d+r);return this._text=a,a}}class Ta{constructor(t){this.id="",this.isSection=!1,this.sectionType="",this.tokens=new Array,t&&this.append(t)}onlyGroupedTokens(){return this.tokens.filter(t=>t.isGrouped())}isEmpty(){return 0===this.tokens.length}append(t){return this.tokens.push(t),this}lastToken(){return this.tokens[this.tokens.length-1]}endsWith(t){return this.lastToken().endsWith(t)}asString(){return this.tokens.reduce((e,r)=>0===e.length?r.text:`${e} ${r.text}`,"")}asSentenceList(t){const e=new Array;let r=new Ta;this.tokens.forEach(p=>{r.append(p),p.isTerminator&&(e.push(r),r=new Ta)}),e.push(r);let a=1;return e.map(p=>{const f=new pn(t);return f.text=p.asString(),f.sentenceNumber+=a/10,f.renumId+=a/10,a++,f})}addFootnoteRefs(t,e){this.footnoteRefs||(this.footnoteRefs={}),this.footnoteRefs[t]=e}getFootnoteRefs(t){return this.tokens.forEach(e=>{if(e.contains("{{")){const r=e.extractFootnote();this.addFootnoteRefs(r,`${t}N${r}`)}}),this.footnoteRefs}findFootnoteRefNumber(){let t=0;const e=this.tokens.find(r=>r.isFootnoteRef());return e&&(e.replaceAll("{{",""),e.replaceAll("}}",""),t=parseInt(e.asString(),10)),t}mergeTextFrom(t){return t.tokens.forEach(e=>{this.append(e)}),this}}class hS{constructor(t){this.id="",this.sentences=new Array,t&&this.appendSentence(t)}isEmpty(){return 0===this.sentences.length}clearAll(){return this.sentences=new Array,this}createSentenceFromToken(t){const e=new Ta(t);return this.appendSentence(e),e}appendSentence(t){return this.sentences.push(t),this}firstSentence(){return this.sentences[0]}lastSentence(){return this.sentences[this.sentences.length-1]}asString(){return this.sentences.reduce((e,r)=>`${e} ${r.asString()}`,"")}createGroups(){return this.text.endsWith("||")&&(this.text=this.text.substring(0,this.text.length-2)),this.text.split("||").map(e=>e.trim())}parseGroupsIntoSets(t){return this.sets=new Array,this.createGroups().forEach(r=>{t.setBuffer(r.trim());let a=t.getSentence();for(;a.length>0;)this.sets.push(a),a=t.getSentence()}),this.sets}}class nf{constructor(t,e,r=!1){this.id=0,this.paragraphs=new Array,this.isAttribute=!1,this.sectionType=t,this.title=e,this.isAttribute=r}append(t){return this.paragraphs.push(t),this}lastParagraph(){return this.paragraphs[this.paragraphs.length-1]}}class ZO{constructor(){this.attributes={},this.caseNumber="",this.sections=new Array}isEmpty(){return 0===this.sections.length}assert(t,e){return this.attributes[t]=e,this}getValue(t){return this.attributes[t]}append(t){return this.sections.push(t),t.id=this.sections.length,this}toSentences(){const t=[],e=this.caseNumber;let r=0,a=0;return this.sections.forEach(d=>{const p=d.title,f=d.sectionType;r++,a=1;const m={sentID:`${e}P${r}S${a}`,text:p&&p.asString(),isSection:!0,sectionType:f};p&&!p.isEmpty()&&t.push(m),d.paragraphs.forEach(v=>{r++,a=1,v.sentences.forEach(C=>{let b={sentID:`${e}P${r}S${a}`,text:C.asString(),isSection:!1,sectionType:f};b.text.length>0&&(t.push(b),a++)})})}),t}}class tx{constructor(t){this._config=t}setBuffer(t){this._buffer=new X2(t)}getChar(){return this._buffer.getChar()}peekChar(t=0){return this._buffer.peekChar(t)}advanceChar(t=0){return this._buffer.advanceChar(t)}readNestedUntil(t){let r="";return"["===t?r=this.readUntil(t,"]",1e3):"("===t?r=this.readUntil(t,")",1e3):'"'===t&&(r=this.readUntil(t,'"',1e3)),r=r.trim(),r}readUntil(t,e,r){let a=0,d=this.getChar(),p="";if(!d)return p;for(p+=d,d=this.getChar();d&&d!==e&&a<r;)"["===d||"("===d||'"'===d?(p+=d,p+=this.readNestedUntil(d)):p+=d,d=this.getChar(),a++,a==r&&(console.log(`------------------------------------------${r}`),console.log(`Cound not find character ${e}`),console.log(`error: ${p}`),console.log("------------------------------------------"));return p+=e,p}isNull(t){return!t||0===t.length}isWhiteSpace(t){return/^\s*$/.test(t)}isDigit(t){return/^\d+$/.test(t)}isCapital(t){return/[A-Z]/.test(t)}isNullOrWhiteSpace(t){return this.isNull(t)||this.isWhiteSpace(t)}isSectionText(t,e=30){var r,a;const d=Object.keys(null===(r=this._config)||void 0===r?void 0:r.standardSections);for(let p=0;p<d.length;p++){const f=d[p];if(t&&t.includes(f)&&t.indexOf(f)<e)return null===(a=this._config)||void 0===a?void 0:a.standardSections[f]}return null}isAttributeText(t){var e,r;const a=Object.keys(null===(e=this._config)||void 0===e?void 0:e.keyAttributes);for(let d=0;d<a.length;d++){const p=a[d];if(t&&t.includes(p))return null===(r=this._config)||void 0===r?void 0:r.keyAttributes[p]}return null}attributeDictionary(t){var e;const r={};return Object.keys(null===(e=this._config)||void 0===e?void 0:e.keyAttributes).forEach(a=>{const d=new X2(t);if(d.jumpToKey(a)){d.skipWhitespace();const p=d.readUntilWhitespace();r[a]=p}}),r}computeSectionType(t){if(t.HasSection())return;const e=this.isSectionText(t.text);e?(console.log("new section",e),t.SetSectionTypeAndStatus(e,!0)):this.isAttributeText(t.text)&&t.SetSectionTypeAndStatus(e,!1)}readToken(){const t=new Mi;let e=this.peekChar(),r=this.peekChar(1);for(;e;){if("."===e&&this.isWhiteSpace(r))return t.append(this.getChar());if("."===e&&this.isCapital(r))return t.append(this.getChar());if("["===e||"("===e){let a=this.readNestedUntil(e);t.append(a)}else{if(this.isWhiteSpace(e))return t;"\xa7"===e?t.append(this.getChar()):"\u201d"===e||"\u201c"===e?(this.getChar(),t.append('"')):"\u2019"===e||"\u2018"===e?(this.getChar(),t.append("'")):e.charCodeAt(0)>255?(console.log(`unicode = ${e}`),t.append(this.getChar())):t.append(this.getChar())}e=this.peekChar(),r=this.peekChar(1)}return t}readWhitespace(){const t=new Mi;let e=this.peekChar();for(;e&&this.isWhiteSpace(e);)t.append(this.getChar()),e=this.peekChar();return t}getSentence(){return this.readSentence().asString()}readSentence(){const t=new Ta;this.readWhitespace();let e=this.readToken();for(;!e.isEmpty();){if(t.append(e),this.isEndOfSentence(e))return t;this.readWhitespace(),e=this.readToken()}return t}readSentenceToLastToken(){const t=new Ta;this.readWhitespace();let e=this.readToken();for(;!e.isEmpty();)t.append(e),this.readWhitespace(),e=this.readToken();return t}replaceAll(t,e,r){const a=r.length;let d=t,p=d.indexOf(e);for(;-1!==p;)d=d.replace(e,r),p=d.indexOf(e,p+a);return d}firstAndRest(t,e){const r=t.indexOf(e);return{first:t.substring(0,r),rest:t.substring(r)}}replaceSplitJoin(t,e,r){return t.split(e).join(r)}isSentenceException(t){var e,r;return!!(null===(r=null===(e=this._config)||void 0===e?void 0:e.globalExceptions)||void 0===r?void 0:r.find(d=>d==t.text))}isEndOfSentence(t){if(this.isSentenceException(t))return!1;const e=[".",'."',".'",". )",". ]"];for(var r=0;r<e.length;r++)if(t.endsWith(e[r]))return!0;return!1}breakUpTextBlock(t){this.setBuffer(t);const e=this.readSentenceToLastToken().onlyGroupedTokens().map(f=>f.removingEndingPeriod());e.length>0&&(console.log("\r\nSpecial Tokens\r\n..........................."),console.log(e));const r=this._config.buildExceptionDictionary(e),a=Object.assign(Object.assign({},this._config.ExceptionDictionary.exDic),r.exDic),d=Object.assign(Object.assign({},this._config.ExceptionDictionary.exRev),r.exRev);Object.keys(a).forEach(f=>{t=this.replaceAll(t,f,a[f])}),this._config.globalSplitters.forEach(f=>{t=this.replaceSplitJoin(t,f,`${f}###`)}),Object.keys(d).forEach(f=>{t=this.replaceAll(t,f,d[f])});let p=t.split("###");return p=p.map(f=>f.trim()),console.log("\r\nTurn this wall of text\r\n..........................."),console.log(t),console.log(".......into this array..............."),console.log(p),console.log(`..................Done^^^ ${p.length} \r\n`),p}tokensFromParagraph(t){const e=t.asString();return this.breakUpTextBlock(e).map(d=>new Mi(d.trim()))}joinSentences(t,e){Mi.isSpecial(e[0],0)?this.createFootnotes(t,e):this.createFootnoteReference(t,e)}createFootnotes(t,e){let r=e[0];Mi.isSpecial(r,0)||(console.log(`this should start with superscript  ${r}`),console.log(e));let d=r;for(var p=1,f=e.length;p<f;p++)if(r=e[p],Mi.isSpecial(r,0)){var m=new Mi(d.trim());t.createSentenceFromToken(m),d=r}else d+=r;m=new Mi(d.trim()),t.createSentenceFromToken(m)}createFootnoteReference(t,e){let r=e[0];Mi.isSpecial(r,0)&&(console.log(`this should NOT start with superscript  ${r}`),console.log(e));let d=new Array,p=r;for(var f=1,m=e.length;f<m;f++)if(r=e[f],Mi.isSpecial(r,0)){d.push(r.trim()),p+=r;var v=new Mi(p.trim());t.createSentenceFromToken(v),p="",d=new Array}else p+=r;v=new Mi(p.trim()),t.createSentenceFromToken(v)}deconstructParagraph(t){const e=this.tokensFromParagraph(t);t.clearAll();const r=e.length>0&&e.shift();if(r&&r.isNumber()){const a=e.length>0&&e.shift();a&&r.append(a.text)}r&&this.joinSentences(t,r.createFootnoteList()),e.forEach(a=>{a.isNullOrWhiteSpace()||this.joinSentences(t,a.createFootnoteList())}),console.log("deconstruct")}splitIntoLogicalStrings(t){let e=t.split("\r\n\r\n"),r=new Array;return e.forEach(a=>{if(""==a)return;let d=this.replaceAll(a," \r\n"," ");r.push(d)}),r}readDocument(t){const e=new ZO;let r=new nf("Opening");e.append(r);const a=this.splitIntoLogicalStrings(t);return console.log(a),this.readDocumentListWithoutSections(a)}readDocumentListWithoutSections(t){const e=new ZO;let r=new nf("Opening");return e.append(r),t.forEach(a=>{const d=new Mi(a);if(!d.isEmpty()){const p=new Ta(d),f=new hS(p);r.append(f),this.deconstructParagraph(f)}}),e.caseNumber=e.getValue("Citation Nr:"),e}readDocumentList(t){const e=new ZO;let r=new nf("Opening");return e.append(r),t.forEach(a=>{const d=new Mi(a),p=d.findStandardSection(this),f=d.findKeyAttribute(this),m=d.replace("\r","").replace("\n","").replace("\t","");if(null!=p)r=new nf(p,m),e.append(r);else if(null!=f){r=new nf("attributeSection",m,!0),e.append(r);const v=this.attributeDictionary(d.text);Object.keys(v).forEach(C=>{e.assert(C,v[C])})}else if(r&&!d.isEmpty()){const v=new Ta(d),C=new hS(v);r.append(C),this.deconstructParagraph(C)}else if(""!==a){console.log(`no section to place string ${a}`);const v=new nf("unknown",new Mi),C=new Ta(d),b=new hS(C);this.deconstructParagraph(b),v.append(b),e.append(v)}}),e.caseNumber=e.getValue("Citation Nr:"),e}extractNumbers(t){if(!t)return;let e="";for(const r of t)r>="0"&&r<="9"&&(e+=r);return e}}class kee{constructor(t,e,r,a,d=""){this.caseNumber="",this.sentences=new Array,this.text="",this.parser=t,this.caseNumber=e,this.footnotes=a,this.spSentList=r,this.text=d}computeModel(t){let e="";return this.spSentList.forEach(r=>{r.isSection&&(e=r.sectionType);const a=r.asString(),d=new pn({sentID:`${this.caseNumber}${r.id}`,text:a,isSection:r.isSection,sectionType:e,footnoteRefs:r.getFootnoteRefs(this.caseNumber)});this.sentences.push(d),this.footnotes.forEach(p=>{const f=p.footnoteID;r.tokens.forEach(m=>{m.contains(f)&&(m.replace(f,`{{${p.footnoteNumber}}}`),p.sectionType=e,p.sentID=d.sentID)})})}),this.asLSJson(t)}asLSJson(t){const e=new Av({caseNumber:this.caseNumber,name:this.caseNumber});return{caseNumber:this.caseNumber,caseInfo:e.createCaseCoreInfo(t),sentences:this.sentences.map(r=>r.asJson()),footnotes:this.footnotes.map(r=>r.asJson()),text:this.text}}}class co{constructor(){this.footnoteIds=Array(),this.foundfootnoteIds=Array(),this.missedIds=Array(),this.text="",this.rawtext=""}isEmpty(){return fe.isEmpty(this.text)}mergePage(t){this.text+=t.text,this.footnoteIds.concat(t.footnoteIds)}endsWithPeriod(){return!!this.text.endsWith(". ")}startsWithCapLetter(){let t=this.text[0];return" "==t&&(t=this.text[1]),t!==t.toLowerCase()}endsWithCapLetter(){let e=this.text[this.text.length-1];return e!==e.toLowerCase()}copyPage(t){this.text=t.text,this.footnoteIds=t.footnoteIds}static findAndReplaceCase1(t,e,r){const a=`.${e} `,d=`. ${e} `,p=`.${e}`,f=`.{{${e}}}||`;let m=t.text.indexOf(a,r);if(m>=0){const v=t.text[m-1];if(!(v>="0"&&v<="9"))return t.text=t.text.replace(a,f),m}return m=t.text.indexOf(d,r),m>=0?(t.text=t.text.replace(d,f),m):(t.text.endsWith(p)&&(m=t.text.length,t.text=t.text.replace(p,f)),m)}static findAndReplaceCase2(t,e,r){const a=`"${e} `,d=`"{{${e}}}||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase3(t,e,r){const a=`.${e}\r`,d=`.{{${e}}}||\r`,p=t.text.indexOf(a,r);if(-1==p)return p;const f=t.text[p-1];return f>="0"&&f<="9"?-1:(t.text=t.text.replace(a,d),p)}static findAndReplaceCase4(t,e,r){const a=`${e}\r\n`,d=`{{${e}}}||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase5(t,e,r){const a=`,${e}`,d=`,{{${e}}}`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase6(t,e,r){const a=`;${e}`,d=`;{{${e}}}`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase7(t,e,r){const a=`. ${e} `,d=`.{{${e}}}||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase8(t,e,r){const a=`:${e} `,d=`:{{${e}}}||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase9(t,e,r){const a=`\r\n ${e} `,d=`{{${e}}}||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceCase10(t,e,r){const a=`${e}; `,d=`{{${e}}};||`,p=t.text.indexOf(a,r);return-1==p||(t.text=t.text.replace(a,d)),p}static findAndReplaceTrailingSpace(t,e,r){const a=`${e} `,d=`{{${e}}} `,p=t.text.indexOf(a,r);if(-1==p)return p;const f=t.text[p-1];return"."==f||f>="0"&&f<="9"?-1:(t.text=t.text.replace(a,d),p)}static findAndReplaceAnything(t,e,r){const a=`${e}`,d=`{{${e}}}`,p=t.text.indexOf(a,r);if(-1==p)return p;const f=t.text[p-1];return"."==f||f>="0"&&f<="9"?-1:(t.text=t.text.replace(a,d),p)}findAndReplaceFootnote(t){const e=[co.findAndReplaceCase1,co.findAndReplaceCase2,co.findAndReplaceCase3,co.findAndReplaceCase4,co.findAndReplaceCase5,co.findAndReplaceCase6,co.findAndReplaceCase7,co.findAndReplaceCase8,co.findAndReplaceCase9,co.findAndReplaceCase10,co.findAndReplaceTrailingSpace,co.findAndReplaceAnything];for(var r=0;r<e.length;r++)if(-1!=e[r](this,t,0))return!0;return!1}replaceAll(t,e,r){const a=r.length;let d=t,p=d.indexOf(e);for(;-1!==p;)d=d.replace(e,r),p=d.indexOf(e,p+a);return d}doCleanText(){this.text=this.replaceAll(this.rawtext,"\x02","")}doFootnoteMarkup(){this.doCleanText(),this.footnoteIds.forEach(t=>{this.findAndReplaceFootnote(t)&&this.foundfootnoteIds.push(t)}),this.foundfootnoteIds.length!=this.footnoteIds.length&&this.footnoteIds.forEach(t=>{this.foundfootnoteIds.find(r=>r==t)||(this.missedIds.push(t),console.log("missed footnote ",t))})}createParagraphs(){const t=new Array;return this.text.split("\r\n").forEach(r=>{const a=new hS;a.text=r.trim(),t.push(a)}),t}}function Gee(n,t){if(1&n){const e=le();S(0,"button",14),U("click",function(){return J(e),L().doFromLeft()}),S(1,"mat-icon"),F(2,"space_bar"),E()()}}function Hee(n,t){if(1&n){const e=le();S(0,"input",15),U("ngModelChange",function(a){return J(e),L().splittext=a})("ngModelChange",function(a){return J(e),L().onSplitChange(a)}),E()}2&n&&I("ngModel",L().splittext)}function Vee(n,t){if(1&n){const e=le();S(0,"button",16),U("click",function(){return J(e),L().doFromRight()}),S(1,"mat-icon"),F(2,"space_bar"),E()()}}function Bee(n,t){if(1&n){const e=le();S(0,"input",15),U("ngModelChange",function(a){return J(e),L().splittext=a})("ngModelChange",function(a){return J(e),L().onJoinChange(a)}),E()}2&n&&I("ngModel",L().splittext)}function Wee(n,t){if(1&n){const e=le();S(0,"input",15),U("ngModelChange",function(a){return J(e),L().splittext=a})("ngModelChange",function(a){return J(e),L().onDeleteChange(a)}),E()}2&n&&I("ngModel",L().splittext)}function jee(n,t){if(1&n){const e=le();S(0,"button",17),U("click",function(){return J(e),L().doExecuteAndClose()}),F(1,"Are you sure?"),E()}}function Uee(n,t){if(1&n&&X(0,"app-sentence",18),2&n){const e=t.$implicit;I("showSelect",!0)("renderLikePage",!0)("sentence",e)("userCanEdit",!0)}}function $ee(n,t){if(1&n){const e=le();S(0,"textarea",21),U("ngModelChange",function(a){return J(e),L(2).sentence1.text=a}),E()}2&n&&I("ngModel",L(2).sentence1.text)}function zee(n,t){if(1&n){const e=le();S(0,"td")(1,"button",26),U("click",function(){J(e);const a=L(3);return a.doToggleDelete(a.sentence1)}),S(2,"mat-icon"),F(3),E()()()}if(2&n){const e=L(3);D(3),Ae(e.icon(e.sentence1))}}function Kee(n,t){if(1&n){const e=le();S(0,"td")(1,"button",26),U("click",function(){J(e);const a=L(3);return a.doToggleDelete(a.sentence2)}),S(2,"mat-icon"),F(3),E()()()}if(2&n){const e=L(3);D(3),Ae(e.icon(e.sentence2))}}function Yee(n,t){if(1&n){const e=le();S(0,"table",22)(1,"tr"),V(2,zee,4,1,"td",23),S(3,"td",24)(4,"textarea",25),U("ngModelChange",function(a){return J(e),L(2).sentence1.text=a}),E()()(),S(5,"tr"),V(6,Kee,4,1,"td",23),S(7,"td",24)(8,"textarea",25),U("ngModelChange",function(a){return J(e),L(2).sentence2.text=a}),E()()()()}if(2&n){const e=L(2);D(2),I("ngIf",e.isDeleteMode()),D(2),I("ngModel",e.sentence1.text),D(2),I("ngIf",e.isDeleteMode()),D(2),I("ngModel",e.sentence2.text)}}function qee(n,t){if(1&n&&(S(0,"div",11),V(1,$ee,1,1,"textarea",19),V(2,Yee,9,4,"table",20),E()),2&n){const e=L();D(1),I("ngIf",e.canEditText()),D(1),I("ngIf",!e.canEditText())}}function Qee(n,t){if(1&n){const e=le();S(0,"span")(1,"button",28),U("click",function(){const d=J(e).$implicit;return L(2).doSplitAtToken(d)}),F(2),E()()}if(2&n){const e=t.$implicit,r=L(2);D(1),cn(r.getButtonClass(e)),D(1),_t("",e.text," \xa0\u2704\xa0")}}function Jee(n,t){if(1&n&&(S(0,"div",11),V(1,Qee,3,3,"span",27),E()),2&n){const e=L();D(1),I("ngForOf",e.tokenList.tokens)}}var Yc=(()=>{return(n=Yc||(Yc={}))[n.FromLeft=0]="FromLeft",n[n.FromRight=1]="FromRight",Yc;var n})();let Z2=(()=>{class n{constructor(e,r){this.tService=e,this.cService=r,this.editMode=Wr.None,this.canExecute=!1,this.targets=new Array,this.splittext="",this.original="",this.fromSide=Yc.FromLeft;const a=new Lee;this.parser=new tx(a)}isFootnotePage(){return this.tService.openPage==Dl.Footnote}ngOnInit(){if(this.original=this.context.text,this.sentence1=null,this.sentence2=null,this.isJoinMode()){const e=this.isFootnotePage()?this.cService.getPreviousFootnote(this.context):this.cService.getPreviousSentence(this.context),r=this.context;this.sentence1=new pn(e),this.sentence2=new pn(r),this.previous=e,this.targets=[this.sentence1,this.sentence2]}if(this.isTokenizeMode()&&(this.parser.setBuffer(this.context.text),this.tokenList=this.parser.readSentenceToLastToken(),this.targets=this.tokenList.asSentenceList(this.context)),this.isSplitMode()){const e=this.context;this.sentence1=new pn(e),this.sentence2=new pn(e),this.sentence2.sentenceNumber=`${this.sentence1.renumId+1}`,this.sentence2.text="",this.targets=[this.sentence1,this.sentence2]}if(this.isDeleteMode()){const e=this.context;this.sentence1=new pn(e),this.sentence2=new pn(e),this.sentence2.text="",this.targets=[this.sentence1,this.sentence2]}if(this.isEditMode()&&(this.sentence1=new pn(this.context),this.targets=[this.sentence1]),this.isInsertParagraphMode()){const e=this.context;this.sentence1=new pn(e),this.sentence1.text="FIRST SENTENCE OF A NEW PARAGRAPH";const r=parseInt(e.paragraphNumber)+.5;this.sentence1.paragraphNumber=`${r}`,this.sentence1.sentenceNumber="1",this.sentence1.computeID(),this.targets=[this.sentence1]}if(this.isInsertSentenceMode()){const e=this.context;this.sentence1=new pn(e);const r=parseInt(e.sentenceNumber)+.5;this.sentence1.text="INSERTED NEW SENTENCE IN THIS PARAGRAPH",this.sentence1.sentenceNumber=`${r}`,this.sentence1.computeID(),this.targets=[this.sentence1]}if(this.isFootnoteMode()){const e=this.context;this.cService.findFootnotes(e),this.sentence1=new pn(e),this.targets=[this.sentence1]}this.tService.clearPostEdit(),this.onRefreshSelected(),ne.registerCommand(this,"RefreshSelected",this.onRefreshSelected),ne.processCommands(this)}isJoinMode(){return this.editMode==Wr.Join}isTokenizeMode(){return this.editMode==Wr.Tokenize}isSplitMode(){return this.editMode==Wr.Split}isDeleteMode(){return this.editMode==Wr.Delete}isEditMode(){return this.editMode==Wr.Edit}isFootnoteMode(){return this.editMode==Wr.Footnote}isInsertParagraphMode(){return this.editMode==Wr.InsertPara}isInsertSentenceMode(){return this.editMode==Wr.InsertSent}canEditText(){return this.isEditMode()||this.isInsertParagraphMode()||this.isInsertSentenceMode()||this.isFootnoteMode()}mode(){return this.isJoinMode()?"Join Sentences":this.isTokenizeMode()?"Quick Split":this.isSplitMode()?"Split Sentences":this.isDeleteMode()?"Split / Delete Fragments":this.isEditMode()?"Edit Sentence Text":this.isInsertSentenceMode()?"Insert Sentence / New Text":this.isInsertParagraphMode()?"Insert Paragraph / New Text":this.isFootnoteMode()?"Edit / Delete Footnote":"unknown mode"}changedTargets(){return this.targets}getButtonClass(e){return this.parser.isEndOfSentence(e)?"btn-success":""}doSplitAtToken(e){this.canExecute=!1,e.isTerminator=!e.isTerminator,this.targets=this.tokenList.asSentenceList(this.context)}onJoinChange(e){this.canExecute=!1,this.sentence1.text=this.previous.text;const r="             ".substring(0,this.splittext.length);this.sentence2.text=`${r}${this.original}`,this.splittext=r}onSplitChange(e){this.canExecute=!1;let r=this.sentence1.text+this.sentence2.text,a=this.splittext.length,d=r.indexOf(this.splittext);if(a>0&&-1!=d){if(this.fromSide==Yc.FromLeft&&(this.sentence1.text=r.substring(0,d),this.sentence2.text=r.substring(d)),this.fromSide==Yc.FromRight){const p=d+a;this.sentence1.text=r.substring(0,p),this.sentence2.text=r.substring(p)}}else this.sentence1.text=r,this.sentence2.text=""}onDeleteChange(e){this.canExecute=!1;let r=this.sentence1.text+this.sentence2.text,a=this.splittext.length,d=r.indexOf(this.splittext);if(a>0&&-1!=d){const p=d+a;this.sentence1.text=r.substring(0,p),this.sentence2.text=r.substring(p)}else this.sentence1.text=r,this.sentence2.text=""}doToggleDelete(e){this.canExecute=!1,e.toggleDeleted()}icon(e){return e.IsDeleted()?"delete_forever":"delete_outline"}onRefreshSelected(){}doClose(e){null==e||e.preventDefault(),ne.broadcastCommand(this,"CloseAll"),this.canExecute&&ne.broadcastCommand(this,"SetDirty")}doCancel(){this.canExecute=!1,this.tService.clearPostEdit(),this.doClose()}doFromLeft(){this.canExecute=!1,this.fromSide=Yc.FromLeft,this.onSplitChange()}doFromRight(){this.canExecute=!1,this.fromSide=Yc.FromRight,this.onSplitChange()}doPreJoin(){this.tService.clearPostEdit();const e=this.sentence1.mergeTextFromSentence(this.sentence2,this.splittext);this.sentence2.text="",this.tService.addPostEdit(e),this.targets=[e]}doJoinSentence(){this.tService.clearPostEdit();const e=this.cService.getPreviousSentence(this.context),a=this.cService.joinSentence(e,this.context,this.splittext);this.tService.addPostEdit(a)}doJoinFootnote(){this.tService.clearPostEdit();const e=this.cService.getPreviousFootnote(this.context),a=this.cService.joinFootnote(e,this.context,this.splittext);this.tService.addPostEdit(a)}doPreSplit(){this.tService.clearPostEdit(),this.sentence1.text=this.sentence1.text.trim(),this.tService.addPostEdit(this.sentence1),this.sentence2.text=this.sentence2.text.trim(),this.tService.addPostEdit(this.sentence2)}doSplitSentence(){this.tService.clearPostEdit();const e=this.sentence1.text.trim(),r=this.sentence2.text.trim();if(0==r.length)return;const a=this.cService.splitSentence(this.context,[e,r]);if(a){const p=a.resolveSentence(this.context.sentenceNumber),f=a.getNextSentence(p);this.tService.addPostEdit(p),this.tService.addPostEdit(f),ne.broadcastCommand(this,"RefreshDisplay")}}doSplitFootnote(){this.tService.clearPostEdit();const e=this.sentence1.text.trim(),r=this.sentence2.text.trim();if(0==r.length)return;const a=this.cService.splitFootnote(this.context,[e,r]);if(a){const p=a.resolveSentence(this.context.sentenceNumber),f=a.getNextSentence(p);this.tService.addPostEdit(p),this.tService.addPostEdit(f),ne.broadcastCommand(this,"RefreshDisplay")}}doPreDelete(){this.tService.clearPostEdit(),this.sentence1.text=this.sentence1.text.trim(),this.sentence2.text=this.sentence2.text.trim(),this.tService.addPostEdit(this.sentence2),this.tService.addPostEdit(this.sentence1)}doDelete(){this.tService.clearPostEdit();const e=this.sentence1.IsEmptyOrDeleted();if(!e&&this.sentence2.IsEmpty())return void ue.success("No Changes");const r=this.sentence2.IsEmptyOrDeleted();e||r?(!e&&r&&(this.context.text=this.sentence1.text,this.tService.addPostEdit(this.context),this.sentence2.IsEmpty()||(this.cService.parkSentence(this.sentence2),ue.warning("Sentence is removed",this.sentence2.text))),e&&!r&&(this.context.text=this.sentence2.text,this.tService.addPostEdit(this.context),this.sentence2.IsEmpty()||(this.cService.parkSentence(this.sentence1),ue.warning("Sentence is removed",this.sentence1.text))),e&&r&&(this.cService.deleteSentence(this.context),this.cService.parkSentence(this.context),ue.warning("Sentence is removed",this.context.text)),ne.broadcastCommand(this,"RefreshDisplay")):ue.success("No Changes")}doPreEdit(){this.tService.clearPostEdit(),this.sentence1.text=this.sentence1.text.trim(),this.tService.addPostEdit(this.sentence1)}doEdit(){this.tService.clearPostEdit(),this.context.text=this.sentence1.text,this.tService.addPostEdit(this.context)}doPreInsertSentence(){this.tService.clearPostEdit(),this.tService.addPostEdit(this.sentence1)}doInsertSentence(){const e=this.cService.findParagraph(this.context);e.addSentence(this.sentence1),e.renumSentences(),this.tService.clearPostEdit(),this.tService.addPostEdit(this.sentence1)}doPreInsertParagraph(){this.tService.clearPostEdit(),this.tService.addPostEdit(this.sentence1)}doInsertParagraph(){this.cService.insertSentence(this.sentence1),this.cService.reorderParagraphs(),this.tService.clearPostEdit(),this.tService.addPostEdit(this.sentence1)}doPreFootnote(){this.tService.clearPostEdit(),this.sentence1.text=this.sentence1.text.trim(),this.tService.addPostEdit(this.sentence1)}doFootnote(){this.tService.clearPostEdit(),this.context.text=this.sentence1.text,this.tService.addPostEdit(this.context)}doPreTokenize(){this.tService.clearPostEdit(),this.tService.addPostEdit(this.context)}doTokenizeSentence(){this.tService.clearPostEdit();const e=this.tokenList.asSentenceList(this.context).map(a=>a.text),r=this.cService.splitSentence(this.context,e);if(r){let d=r.resolveSentence(this.context.sentenceNumber);this.tService.addPostEdit(d);for(let p=1;p<e.length;p++)d=r.getNextSentence(d),this.tService.addPostEdit(d);ne.broadcastCommand(this,"RefreshDisplay")}}doTokenizeFootnote(){this.tService.clearPostEdit();const e=this.tokenList.asSentenceList(this.context).map(a=>a.text),r=this.cService.splitFootnote(this.context,e);if(r){let d=r.resolveSentence(this.context.sentenceNumber);this.tService.addPostEdit(d);for(let p=1;p<e.length;p++)d=r.getNextSentence(d),this.tService.addPostEdit(d);ne.broadcastCommand(this,"RefreshDisplay")}}doApply(){this.canExecute=!this.canExecute,this.isJoinMode()&&this.doPreJoin(),this.isSplitMode()&&this.doPreSplit(),this.isTokenizeMode()&&this.doPreTokenize(),this.isDeleteMode()&&this.doPreDelete(),this.isEditMode()&&this.doPreEdit(),this.isInsertSentenceMode()&&this.doPreInsertSentence(),this.isInsertParagraphMode()&&this.doPreInsertParagraph(),this.isFootnoteMode()&&this.doPreFootnote()}doExecute(){this.isJoinMode()&&(this.isFootnotePage()?this.doJoinFootnote():this.doJoinSentence()),this.isSplitMode()&&(this.isFootnotePage()?this.doSplitFootnote():this.doSplitSentence()),this.isTokenizeMode()&&(this.isFootnotePage()?this.doTokenizeFootnote():this.doTokenizeSentence()),this.isDeleteMode()&&this.doDelete(),this.isEditMode()&&this.doEdit(),this.isInsertSentenceMode()&&this.doInsertSentence(),this.isInsertParagraphMode()&&this.doInsertParagraph(),this.isFootnoteMode()&&this.doFootnote()}doExecuteAndClose(){try{this.doExecute()}catch(e){ue.error(e.message)}this.doClose()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-sentence-edit"]],inputs:{context:"context",editMode:"editMode"},decls:27,vars:10,consts:[[1,"card","border","border-warning","bg-light","bg-gradient"],[1,"card-header"],["tooltip","close sentence text editor",1,"btn",3,"click"],[1,"btn",2,"margin-right","15px",3,"click"],["role","group",1,"btn-group","mr-10",2,"max-width","50%","margin-left","100px"],["tooltip","split from left","type","button","class","btn btn-badge",3,"click",4,"ngIf"],["style","max-width: 150px","id","splittext","type","text","placeholder","",3,"ngModel","ngModelChange",4,"ngIf"],["tooltip","split from right","type","button","class","btn btn-badge",3,"click",4,"ngIf"],["tooltip","cancel these changes","type","button",1,"btn","btn-badge",2,"margin-left","100px",3,"click"],["tooltip","OK accept these changes","type","button",1,"btn","btn-badge",2,"margin-left","100px",3,"click"],["style","margin-left: 100px","class","btn btn-badge btn-success",3,"click",4,"ngIf"],[1,"card-body"],[3,"showSelect","renderLikePage","sentence","userCanEdit",4,"ngFor","ngForOf"],["class","card-body",4,"ngIf"],["tooltip","split from left","type","button",1,"btn","btn-badge",3,"click"],["id","splittext","type","text","placeholder","",2,"max-width","150px",3,"ngModel","ngModelChange"],["tooltip","split from right","type","button",1,"btn","btn-badge",3,"click"],[1,"btn","btn-badge","btn-success",2,"margin-left","100px",3,"click"],[3,"showSelect","renderLikePage","sentence","userCanEdit"],["rows","4","style","width: 100%",3,"ngModel","ngModelChange",4,"ngIf"],["style","min-width: 100%",4,"ngIf"],["rows","4",2,"width","100%",3,"ngModel","ngModelChange"],[2,"min-width","100%"],[4,"ngIf"],[2,"width","97%"],["readonly","","rows","2",2,"width","100%",3,"ngModel","ngModelChange"],[1,"btn","btn-badge",3,"click"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-badge",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"button",2),U("click",function(d){return r.doClose(d)}),F(3,"\u2612"),E(),S(4,"span",3),U("click",function(d){return r.doClose(d)}),F(5),E(),S(6,"span",4),V(7,Gee,3,0,"button",5),V(8,Hee,1,1,"input",6),V(9,Vee,3,0,"button",7),V(10,Bee,1,1,"input",6),V(11,Wee,1,1,"input",6),S(12,"button",8),U("click",function(){return r.doCancel()}),F(13,"cancel"),S(14,"mat-icon"),F(15,"clear"),E()(),S(16,"button",9),U("click",function(){return r.doApply()}),F(17," ok"),S(18,"mat-icon"),F(19,"check_circle"),E()(),V(20,jee,2,0,"button",10),E()(),S(21,"div",11),V(22,Uee,1,4,"app-sentence",12),X(23,"br")(24,"br"),E(),V(25,qee,3,2,"div",13),V(26,Jee,2,1,"div",13),E()),2&e&&(D(5),_t(" ",r.mode()," "),D(2),I("ngIf",r.isSplitMode()),D(1),I("ngIf",r.isSplitMode()),D(1),I("ngIf",r.isSplitMode()),D(1),I("ngIf",r.isJoinMode()),D(1),I("ngIf",r.isDeleteMode()),D(9),I("ngIf",r.canExecute),D(2),I("ngForOf",r.changedTargets()),D(3),I("ngIf",!r.isTokenizeMode()),D(1),I("ngIf",r.isTokenizeMode()))},encapsulation:2}),n})();function Xee(n,t){if(1&n){const e=le();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),U("click",function(a){return J(e),L().doClose(a)}),F(5,"\u2612"),E(),S(6,"span",6),U("click",function(a){return J(e),L().doClose(a)}),F(7),E(),S(8,"button",7),U("click",function(a){return J(e),L().doRemove(a)}),F(9,"remove this note"),E()(),S(10,"div",8)(11,"textarea",9),U("ngModelChange",function(a){return J(e),L().noteSource().notes=a})("ngModelChange",function(a){return J(e),L().onChange(a)}),E()()()()()}if(2&n){const e=L();D(7),_t(" Notes: ",e.noteKey(),""),D(4),I("ngModel",e.noteSource().notes)}}let Fv=(()=>{class n{constructor(){this.isDirty=!1}doClose(e){null==e||e.preventDefault(),ne.broadcastCommand(this,"CloseNote"),this.isDirty&&ne.broadcastCommand(this,"SetDirty")}doRemove(e){this.isDirty=!0,this.context.notes="",ne.broadcastCommand(this,"NoteRemoved"),this.doClose(e)}onChange(e){this.isDirty=!0}noteSource(){return this.context}noteKey(){return this.context.getSummary()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-note"]],inputs:{context:"context"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-12"],[1,"card","border","border-success"],[1,"card-header"],["tooltip","close note editor",1,"btn",3,"click"],[1,"btn",2,"margin-right","35px",3,"click"],["tooltip","close note editor",1,"btn","btn-primary",3,"click"],[1,"card-body"],["rows","4",2,"width","90%",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&V(0,Xee,12,2,"div",0),2&e&&I("ngIf",r.context)},directives:[ut,Br,Yi,fr,Sh],encapsulation:2}),n})();function Zee(n,t){if(1&n){const e=le();S(0,"li")(1,"h4",12),U("click",function(){const d=J(e).$implicit,p=L(3).$implicit;return L().selectTagValue(p,d)}),F(2),E()()}if(2&n){const e=t.$implicit;D(2),_t(" ",e," ")}}function ete(n,t){if(1&n&&(S(0,"ul",11),V(1,Zee,3,1,"li",4),E()),2&n){const e=L(2).$implicit;D(1),I("ngForOf",e.dropDownList)}}function tte(n,t){if(1&n){const e=le();S(0,"div",7)(1,"button",8),F(2),E(),F(3," \xa0\xa0\xa0\xa0 "),S(4,"input",9),U("ngModelChange",function(a){return J(e),L().$implicit.tagValue=a}),E(),V(5,ete,2,1,"ul",10),E()}if(2&n){const e=L().$implicit;D(1),Fn("tooltip",e.tagValue),D(1),Ae(e.tagName),D(2),I("ngModel",e.tagValue)}}function nte(n,t){if(1&n){const e=le();S(0,"div")(1,"button",13),U("click",function(){J(e);const a=L().$implicit;return L().readTag(a)}),F(2),E(),F(3," \xa0\xa0 "),S(4,"input",14),U("ngModelChange",function(a){return J(e),L().$implicit.tagValue=a}),E()()}if(2&n){const e=L().$implicit;D(1),Fn("tooltip",e.tagValue),D(1),Ae(e.tagName),D(2),I("ngModel",e.tagValue)}}function ite(n,t){if(1&n&&(S(0,"div"),V(1,tte,6,3,"div",5),V(2,nte,5,3,"div",6),E()),2&n){const e=t.$implicit;D(1),I("ngIf",e.dropDownList),D(1),I("ngIf",!e.dropDownList)}}let rte=(()=>{class n{constructor(e){this.cService=e}ngOnInit(){}get title(){return this.userTag.tagName}tagElements(){return this.userTag.isTagGroup?this.userTag.userTagList():[this.userTag]}readTag(e){if(window.getSelection){const r=window.getSelection().toString();e.tagValue=r,ne.broadcastCommand(this,"SetDirty")}}doDeleteTag(e){this.context.removeUserTag(e),ne.broadcastCommand(this,"SetDirty")}selectTagValue(e,r){e.tagValue=r,ne.broadcastCommand(this,"SetDirty")}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-tag-editor"]],inputs:{context:"context",userTag:"userTag"},decls:9,vars:2,consts:[[1,"card-header"],[2,"display","flex","justify-content","space-between"],[1,"badge","rounded-pill","bg-info","text-dark","badge-xs","badge-danger",3,"click"],[1,"card-body"],[4,"ngFor","ngForOf"],["class","btn-group","dropdown","",4,"ngIf"],[4,"ngIf"],["dropdown","",1,"btn-group"],["id","dd-btn","dropdownToggle","",1,"brn-sm","btn-success",2,"min-width","80px",3,"tooltip"],["readonly","","type","text","size","60",1,"pull-right",3,"ngModel","ngModelChange"],["id","dd-btn","class","dropdown-menu","role","menu","aria-labelledby","dd-btn",4,"dropdownMenu"],["id","dd-btn","role","menu","aria-labelledby","dd-btn",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"brn-sm","btn-success",2,"min-width","80px",3,"tooltip","click"],["type","text","size","60",1,"pull-right",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"span")(3,"strong"),F(4),E()(),S(5,"button",2),U("click",function(){return r.doDeleteTag(r.userTag)}),F(6,"delete tag"),E()()(),S(7,"div",3),V(8,ite,3,2,"div",4),E()),2&e&&(D(4),Ae(r.title),D(4),I("ngForOf",r.tagElements()))},directives:[Wt,ut,wG,jq,Br,Yi,fr,Sh,Wq],encapsulation:2}),n})();function ote(n,t){if(1&n){const e=le();S(0,"span")(1,"button",15),U("click",function(){const d=J(e).$implicit;return L(2).addTag(d)}),F(2),E(),F(3," \xa0 "),E()}if(2&n){const e=t.$implicit;D(2),Ae(e.tagName)}}function ste(n,t){if(1&n){const e=le();S(0,"button",16),U("click",function(){return J(e),L(2).doCreateNewTag()}),F(1,"Define New Tag"),E()}}function ate(n,t){if(1&n){const e=le();S(0,"button",17),U("click",function(){return J(e),L(2).doCancelNewTag()}),F(1,"Cancel"),E()}}function lte(n,t){if(1&n){const e=le();S(0,"button",16),U("click",function(){return J(e),L(2).doSaveTagsToFile()}),F(1,"Save Tag Definition"),E()}}function cte(n,t){if(1&n){const e=le();S(0,"button",16),U("click",function(){return J(e),L(),Lr(11).click()}),F(1,"Load Tag Definitions"),E()}}function ute(n,t){1&n&&(S(0,"div"),F(1,"Tag name is required"),E())}function dte(n,t){if(1&n&&(S(0,"div",25),V(1,ute,2,0,"div",12),E()),2&n){const e=L(3);D(1),I("ngIf",e.f.tagName.errors.required)}}function pte(n,t){1&n&&(S(0,"div"),F(1,"Tag type is required"),E())}function hte(n,t){if(1&n&&(S(0,"div",25),V(1,pte,2,0,"div",12),E()),2&n){const e=L(3);D(1),I("ngIf",e.f.tagType.errors.required)}}const eH=function(n){return{"is-invalid":n}};function fte(n,t){if(1&n){const e=le();S(0,"div"),X(1,"br"),S(2,"form",18),U("ngSubmit",function(){return J(e),L(2).onSubmit()}),S(3,"div",19)(4,"label",20)(5,"strong"),F(6,"tag name:"),E()(),X(7,"input",21),V(8,dte,2,1,"div",22),E(),S(9,"div",19)(10,"label",23)(11,"strong"),F(12,"tag type:"),E()(),X(13,"input",24),V(14,hte,2,1,"div",22),E()()()}if(2&n){const e=L(2);D(2),I("formGroup",e.tagCreationForm),D(5),I("ngClass",rr(5,eH,e.submitted&&e.f.tagName.errors)),D(1),I("ngIf",e.submitted&&e.f.tagName.errors),D(5),I("ngClass",rr(7,eH,e.submitted&&e.f.tagType.errors)),D(1),I("ngIf",e.submitted&&e.f.tagType.errors)}}function gte(n,t){if(1&n&&(S(0,"div"),X(1,"app-tag-editor",26),E()),2&n){const e=t.$implicit,r=L(2);D(1),I("context",r.context)("userTag",e)}}function mte(n,t){if(1&n){const e=le();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),U("click",function(a){return J(e),L().doClose(a)}),F(5,"\u2612"),E(),S(6,"span",6),U("click",function(a){return J(e),L().doClose(a)}),F(7," Current Tags =>"),E(),V(8,ote,4,1,"span",7),S(9,"p")(10,"input",8,9),U("change",function(a){return J(e),L().onFileOpen(a)}),E(),V(12,ste,2,0,"button",10),V(13,ate,2,0,"button",11),V(14,lte,2,0,"button",10),V(15,cte,2,0,"button",10),E(),V(16,fte,15,9,"div",12),E(),S(17,"div",13),V(18,gte,2,2,"div",7),E()()(),S(19,"div",14)(20,"pre"),F(21),Ku(22,"json"),E()()()}if(2&n){const e=L();D(8),I("ngForOf",e.tagDefinitionList()),D(4),I("ngIf",!e.isNewTagOpen),D(1),I("ngIf",e.isNewTagOpen),D(1),I("ngIf",e.isNewTagOpen),D(1),I("ngIf",e.isNewTagOpen),D(1),I("ngIf",e.isNewTagOpen),D(2),I("ngForOf",e.userTagList()),D(3),Ae(Yu(22,8,e.userTagList()))}}let Nv=(()=>{class n{constructor(e,r){this.formBuilder=e,this.tService=r,this.isDirty=!1,this.isNewTagOpen=!1,this.submitted=!1}doClose(e){null==e||e.preventDefault(),ne.broadcastCommand(this,"CloseTags"),this.isDirty&&ne.broadcastCommand(this,"SetDirty")}ngOnInit(){this.tagCreationForm=this.formBuilder.group({tagName:["example",or.required],tagType:["tag0:[option1,option2,option3];tag1;tag2;tag2"]})}get f(){return this.tagCreationForm.controls}onSubmit(){if(this.submitted=!0,this.tagCreationForm.invalid)return;const e=this.f.tagName.value;fe.matches(e,"example")?ue.error(`No need to create ${e}`,"we're sorry!"):(this.tService.tagDefinitions.establishTag(e,this.f.tagType.value),ue.success(`Creating tag ${e}`,"you're welcome!"))}tagDefinitionList(){return this.tService.tagList()}tagSource(){return this.context}userTagList(){return this.tagSource().userTags}addTag(e){const r=e.duplicate();this.tagSource().addUserTag(r),this.isDirty=!1}doCreateNewTag(){this.isNewTagOpen=!0}doSaveNewTag(){this.onSubmit(),this.isNewTagOpen=!1}doCancelNewTag(){this.isNewTagOpen=!1}doSaveTagsToFile(){this.doSaveNewTag(),this.tService.saveTagsAs("userTags.json"),this.isDirty=!1}onFileOpen(e){this.tService.loadFile(e.target.files[0]),this.isNewTagOpen=!1}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(ui))},n.\u0275cmp=Ce({type:n,selectors:[["app-tags"]],inputs:{context:"context"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-8"],[1,"card","border","border-success"],[1,"card-header"],["tooltip","close tag editor",1,"btn",3,"click"],["tooltip","use these to add a new tag to this sentence",1,"btn",2,"margin-right","15px",3,"click"],[4,"ngFor","ngForOf"],["type","file",2,"display","none",3,"change"],["hiddenfileinput",""],["class","btn btn-outline-info","style","margin-right: 10px",3,"click",4,"ngIf"],["class","btn btn-outline-danger","style","margin-right: 10px",3,"click",4,"ngIf"],[4,"ngIf"],[1,"card-body"],[1,"col-sm-4","card","border","border-info"],[1,"badge","rounded-pill","bg-info","text-dark","btn-success","btn-lg",3,"click"],[1,"btn","btn-outline-info",2,"margin-right","10px",3,"click"],[1,"btn","btn-outline-danger",2,"margin-right","10px",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","tagName"],["type","text","formControlName","tagName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","tagType"],["type","text","formControlName","tagType",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[3,"context","userTag"]],template:function(e,r){1&e&&V(0,mte,23,10,"div",0),2&e&&I("ngIf",r.context)},directives:[ut,Br,Wt,as,ss,Vr,Yi,fr,xo,va,rte],pipes:[VP],encapsulation:2}),n})();function vte(n,t){1&n&&X(0,"app-sentence-badge",4),2&n&&I("sentence",L(2).sentence)}function _te(n,t){if(1&n){const e=le();S(0,"button",12),U("click",function(){return J(e),L(2).doOpenClassification()}),F(1),E()}if(2&n){const e=L(2);cn(e.RhetColorClass()),D(1),_t(" ",e.sentence.readProbability()," ")}}function yte(n,t){if(1&n&&(bs(),S(0,"svg",13),X(1,"circle",14),E()),2&n){const e=L(2);D(1),ln("fill",e.sentence.polarityColor()),rt("fill",e.sentence.polarityColor())}}function Cte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Tokenize)}),F(1,"content_cut"),E()}}function bte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Split)}),F(1,"space_bar"),E()}}function wte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Delete)}),F(1,"delete_forever"),E()}}function Ste(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Edit)}),F(1,"edit_attributes"),E()}}function Ete(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Footnote)}),F(1,"insert_comment"),E()}}function Dte(n,t){1&n&&X(0,"app-section-badge",4),2&n&&I("sentence",L(2).sentence)}function Tte(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(3).doToggleMarkedForDelete()}),F(1,"restore_from_trash"),E()}}function Rte(n,t){if(1&n){const e=le();gi(0),S(1,"sub",16),F(2),E(),V(3,Tte,2,0,"mat-icon",10),S(4,"mat-icon",17),U("click",function(){return J(e),L(2).doDelete()}),F(5,"delete"),E(),mi()}if(2&n){const e=L(2);D(2),Ae(e.sentence.showImmutable()),D(1),I("ngIf",e.isMarkedForDelete())}}function Ate(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(2).doAddNote()}),F(1,"note_add"),E()}}function Ote(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doOpenNote()}),F(1,"feedback"),E()}2&n&&Fn("tooltip",L(2).sentence.notes)}function xte(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(2).doAddTags()}),F(1,"local_offer"),E()}}function Ite(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doOpenTags()}),F(1,"more"),E()}2&n&&Fn("tooltip",L(2).tagToolTips())}function Mte(n,t){1&n&&X(0,"app-decision-list-badge",4),2&n&&I("sentence",L(2).sentence)}function Pte(n,t){1&n&&X(0,"app-phrasecontext",4),2&n&&I("sentence",L(2).sentence)}function Fte(n,t){if(1&n){const e=le();S(0,"p"),X(1,"app-group-badge",4)(2,"app-bookmark",4),S(3,"button",5),U("click",function(){return J(e),L().doToggleContext()}),F(4),E(),V(5,vte,1,1,"app-sentence-badge",1),V(6,_te,2,3,"button",6),V(7,yte,2,3,"svg",7),S(8,"span",8),U("mouseover",function(){J(e);const a=L();return a.setCurrentAnchorTag(a.sentence.anchorTag())}),E(),X(9,"app-footnotelink",4),V(10,Cte,2,0,"mat-icon",9),V(11,bte,2,0,"mat-icon",9),V(12,wte,2,0,"mat-icon",9),V(13,Ste,2,0,"mat-icon",9),V(14,Ete,2,0,"mat-icon",9),V(15,Dte,1,1,"app-section-badge",1),V(16,Rte,6,2,"ng-container",0),V(17,Ate,2,0,"mat-icon",10),V(18,Ote,2,1,"mat-icon",11),V(19,xte,2,0,"mat-icon",10),V(20,Ite,2,1,"mat-icon",11),V(21,Mte,1,1,"app-decision-list-badge",1),V(22,Pte,1,1,"app-phrasecontext",1),E()}if(2&n){const e=L();D(1),I("sentence",e.sentence),D(1),I("sentence",e.sentence),D(2),Ae(e.sentenceTag()),D(1),I("ngIf",e.canSelectSentence()),D(1),I("ngIf",e.canShowProbability()),D(1),I("ngIf",e.canShowPolarity()),D(1),cn(e.ColorClass()),Fn("id",e.sentence.anchorTag()),I("innerHTML",e.innerTextMarkup(),Ss),D(1),I("sentence",e.sentence),D(1),I("ngIf",e.canDoQuickSplitText()),D(1),I("ngIf",e.canDoSplitText()),D(1),I("ngIf",e.canDoDeleteText()),D(1),I("ngIf",e.canDoEditText()),D(1),I("ngIf",e.canDoEditFootnote()),D(1),I("ngIf",e.canEditSection()),D(1),I("ngIf",e.canShowImmutable()),D(1),I("ngIf",!e.hasNotes()&&e.canAddNotes()),D(1),I("ngIf",e.hasNotes()),D(1),I("ngIf",!e.hasTags()&&e.canAddTags()),D(1),I("ngIf",e.hasTags()),D(1),I("ngIf",e.canEdit()),D(1),I("ngIf",e.showContext)}}function Nte(n,t){1&n&&X(0,"app-bookmark",4),2&n&&I("sentence",L(2).sentence)}function Lte(n,t){1&n&&X(0,"app-sentence-badge",4),2&n&&I("sentence",L(2).sentence)}function kte(n,t){if(1&n){const e=le();S(0,"button",12),U("click",function(){return J(e),L(2).doOpenClassification()}),F(1),E()}if(2&n){const e=L(2);cn(e.RhetColorClass()),D(1),_t(" ",e.sentence.readProbability()," ")}}function Gte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Join)}),F(1,"swap_horiz"),E()}}function Hte(n,t){if(1&n&&(bs(),S(0,"svg",13),X(1,"circle",14),E()),2&n){const e=L(2);D(1),ln("fill",e.sentence.polarityColor()),rt("fill",e.sentence.polarityColor())}}function Vte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){return J(e),L(2).doMoveSentenceUp()}),F(1,"vertical_align_top"),E()}}function Bte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){return J(e),L(2).doMoveSentenceForward()}),F(1,"skip_previous"),E()}}function Wte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Tokenize)}),F(1,"content_cut"),E()}}function jte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Split)}),F(1,"space_bar"),E()}}function Ute(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Delete)}),F(1,"delete_forever"),E()}}function $te(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Edit)}),F(1,"edit_attributes"),E()}}function zte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.Footnote)}),F(1,"insert_comment"),E()}}function Kte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){return J(e),L(2).doMoveSentenceBackward()}),F(1,"skip_next"),E()}}function Yte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){return J(e),L(2).doSplitParagraph()}),F(1,"broken_image"),E()}}function qte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){return J(e),L(2).doMoveSentenceDown()}),F(1,"vertical_align_bottom"),E()}}function Qte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.InsertPara)}),F(1,"format_textdirection_l_to_r"),E()}}function Jte(n,t){if(1&n){const e=le();S(0,"mat-icon",15),U("click",function(){J(e);const a=L(2);return a.doOpenTextEditor(a.EditOp.InsertSent)}),F(1,"linear_scale"),E()}}function Xte(n,t){1&n&&X(0,"app-section-badge",4),2&n&&I("sentence",L(2).sentence)}function Zte(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(3).doToggleMarkedForDelete()}),F(1,"restore_from_trash"),E()}}function ene(n,t){if(1&n){const e=le();gi(0),S(1,"sub",16),F(2),E(),V(3,Zte,2,0,"mat-icon",10),S(4,"mat-icon",17),U("click",function(){return J(e),L(2).doDelete()}),F(5,"delete"),E(),mi()}if(2&n){const e=L(2);D(2),Ae(e.sentence.showImmutable()),D(1),I("ngIf",e.isMarkedForDelete())}}function tne(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(2).doAddNote()}),F(1,"note_add"),E()}}function nne(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doOpenNote()}),F(1,"feedback"),E()}2&n&&Fn("tooltip",L(2).sentence.notes)}function ine(n,t){if(1&n){const e=le();S(0,"mat-icon",17),U("click",function(){return J(e),L(2).doAddTags()}),F(1,"local_offer"),E()}}function rne(n,t){if(1&n){const e=le();S(0,"mat-icon",18),U("click",function(){return J(e),L(2).doOpenTags()}),F(1,"more"),E()}2&n&&Fn("tooltip",L(2).tagToolTips())}function one(n,t){1&n&&X(0,"app-decision-list-badge",4),2&n&&I("sentence",L(2).sentence)}function sne(n,t){if(1&n){const e=le();gi(0),V(1,Nte,1,1,"app-bookmark",1),V(2,Lte,1,1,"app-sentence-badge",1),V(3,kte,2,3,"button",6),V(4,Gte,2,0,"mat-icon",9),V(5,Hte,2,3,"svg",7),V(6,Vte,2,0,"mat-icon",9),V(7,Bte,2,0,"mat-icon",9),S(8,"span",8),U("mouseover",function(){J(e);const a=L();return a.setCurrentAnchorTag(a.sentence.anchorTag())}),E(),X(9,"app-footnotelink",4),V(10,Wte,2,0,"mat-icon",9),V(11,jte,2,0,"mat-icon",9),V(12,Ute,2,0,"mat-icon",9),V(13,$te,2,0,"mat-icon",9),V(14,zte,2,0,"mat-icon",9),V(15,Kte,2,0,"mat-icon",9),V(16,Yte,2,0,"mat-icon",9),V(17,qte,2,0,"mat-icon",9),V(18,Qte,2,0,"mat-icon",9),V(19,Jte,2,0,"mat-icon",9),V(20,Xte,1,1,"app-section-badge",1),V(21,ene,6,2,"ng-container",0),V(22,tne,2,0,"mat-icon",10),V(23,nne,2,1,"mat-icon",11),V(24,ine,2,0,"mat-icon",10),V(25,rne,2,1,"mat-icon",11),V(26,one,1,1,"app-decision-list-badge",1),mi()}if(2&n){const e=L();D(1),I("ngIf",e.sentence.isBookmark),D(1),I("ngIf",e.canSelectSentence()),D(1),I("ngIf",e.canShowProbability()),D(1),I("ngIf",e.canDoJoinText()),D(1),I("ngIf",e.canShowPolarity()),D(1),I("ngIf",e.canDoMoveSentenceUp()),D(1),I("ngIf",e.canDoMoveSentenceForward()),D(1),cn(e.ColorClass()),Fn("id",e.sentence.anchorTag()),I("innerHTML",e.innerTextMarkup(),Ss),D(1),I("sentence",e.sentence),D(1),I("ngIf",e.canDoQuickSplitText()),D(1),I("ngIf",e.canDoSplitText()),D(1),I("ngIf",e.canDoDeleteText()),D(1),I("ngIf",e.canDoEditText()),D(1),I("ngIf",e.canDoEditFootnote()),D(1),I("ngIf",e.canDoMoveSentenceBackward()),D(1),I("ngIf",e.canDoSplitParagraph()),D(1),I("ngIf",e.canDoMoveSentenceDown()),D(1),I("ngIf",e.canDoInsertParagraph()),D(1),I("ngIf",e.canDoInsertSentence()),D(1),I("ngIf",e.canEditSection()),D(1),I("ngIf",e.canShowImmutable()),D(1),I("ngIf",!e.hasNotes()&&e.canAddNotes()),D(1),I("ngIf",e.hasNotes()),D(1),I("ngIf",!e.hasTags()&&e.canAddTags()),D(1),I("ngIf",e.hasTags()),D(1),I("ngIf",e.canEdit())}}function ane(n,t){1&n&&X(0,"app-label",4),2&n&&I("sentence",L().sentence)}function lne(n,t){if(1&n&&X(0,"app-sentence-edit",19),2&n){const e=L();I("context",e.sentence)("editMode",e.editMode)}}function cne(n,t){1&n&&X(0,"app-note",20),2&n&&I("context",L().sentence)}function une(n,t){1&n&&X(0,"app-tags",20),2&n&&I("context",L().sentence)}let Vo=(()=>{class n{constructor(e,r,a){this.tService=e,this.cService=r,this.pService=a,this.EditOp=Wr,this.readyToLabel=!1,this.readyToEditText=!1,this.editMode=Wr.None,this.showNotes=!1,this.showTags=!1,this.showContext=!1,this.showSelect=!1,this.markedForDelete=!1,this.userCanAddNotesAndTags=!1,this.userCanEdit=!0,this.userCanDelete=!1,this.showImmutable=!0,this.fullSendID=!1,this.filter="All"}ngOnInit(){ne.registerCommand(this,"CloseAll",this.doClose),ne.registerCommand(this,"CloseNote",this.doCloseNote),ne.registerCommand(this,"CloseTags",this.doCloseTags),ne.processCommands(this)}innerTextMarkup(){return this.tService.isPostEdit(this.sentence)&&!this.sentence.IsDeleted()?this.sentence.postEditMarkup(this.sentence.text):this.sentence.textMarkup(this.sentence.isItemOfInterest)}ColorClass(){return this.tService.hideColors?"":this.sentence.getRhetClass()}RhetColorClass(){return this.sentence.getRhetClass()}canShowPolarity(){return this.sentence.isFindingSentence()&&this.userCanEdit}getIsSentenceOfInterest(){return this.sentence.isItemOfInterest}setIsSentenceOfInterest(e){this.sentence.isItemOfInterest=e}canShowImmutable(){return this.showImmutable&&this.sentence.isImmutable()}isSentenceFilter(){return fe.matches(this.filter,"Sentence")}isSentenceOrAllFilter(){return this.isSentenceFilter()||fe.matches(this.filter,"All")}isNotSentenceOrAllFilter(){return!this.isSentenceFilter()&&!fe.matches(this.filter,"All")}doCloseNote(){this.showNotes=!1}doClose(e){this.readyToLabel=!1,this.readyToEditText=!1,this.showNotes=!1,this.showTags=!1}canEdit(){return this.userCanEdit}canDelete(){return this.sentence.isImmutable()&&this.userCanDelete}canEditSection(){return!(!this.userCanAddNotesAndTags&&!this.userCanEdit)&&this.tService.canEditSection}canSelectSentence(){return!!this.showSelect||!(!this.userCanAddNotesAndTags&&!this.userCanEdit)&&this.tService.canSelectSentence}setCurrentAnchorTag(e){this.tService.setCurrentAnchorTag(e)}doToggleMarkedForDelete(){this.markedForDelete=!this.markedForDelete}isMarkedForDelete(){return this.markedForDelete}doDelete(){this.markedForDelete?this.pService.removeSentence(this.sentence):this.doToggleMarkedForDelete()}hasNotes(){return!1===fe.isEmpty(this.sentence.notes)}isSentenceNotFirst(){return!this.sentence.isFirst}isSentenceNotLast(){return!this.sentence.isLast}canDoMoveSentenceUp(){return this.userCanAddNotesAndTags&&this.tService.canMoveSentenceUp&&this.sentence.isFirst}canDoMoveSentenceDown(){return this.userCanAddNotesAndTags&&this.tService.canMoveSentenceDown&&this.sentence.isLast}canDoSplitParagraph(){return this.userCanAddNotesAndTags&&this.tService.canSplitParagraph&&this.isSentenceNotLast()}canDoInsertParagraph(){return this.userCanAddNotesAndTags&&this.tService.canInsertParagraph&&this.sentence.isLast}canDoInsertSentence(){return this.userCanAddNotesAndTags&&this.tService.canInsertSentence}canDoEditFootnote(){return this.userCanAddNotesAndTags&&this.tService.canEditFootnote&&this.sentence.hasFootnoteReference()}canDoMoveSentenceForward(){return this.userCanAddNotesAndTags&&this.tService.canMoveSentenceForward&&this.isSentenceNotFirst()}canDoMoveSentenceBackward(){return this.userCanAddNotesAndTags&&this.tService.canMoveSentenceBackward&&this.isSentenceNotLast()}canDoJoinText(){return this.userCanAddNotesAndTags&&this.tService.canJoinText&&this.isSentenceNotFirst()}canDoSplitText(){return this.userCanAddNotesAndTags&&this.tService.canSplitText}canDoQuickSplitText(){return this.userCanAddNotesAndTags&&this.tService.canQuickSplitText}canDoEditText(){return this.userCanAddNotesAndTags&&this.tService.canEditText}canDoDeleteText(){return this.userCanAddNotesAndTags&&this.tService.canDeleteText}doSplitParagraph(){this.cService.doSplitParagraphOn(this.sentence)}doMoveSentenceUp(){const e=this.cService.getPreviousParagraph(this.sentence);e&&this.cService.appendSentenceToParagraph(this.sentence,e)}doMoveSentenceDown(){const e=this.cService.getNextParagraph(this.sentence);e&&this.cService.prependSentenceToParagraph(this.sentence,e)}doMoveSentenceForward(){this.cService.moveSentenceForward(this.sentence)}doMoveSentenceBackward(){this.cService.moveSentenceBackward(this.sentence)}canAddNotes(){return(this.userCanAddNotesAndTags||this.userCanEdit)&&this.tService.canAddNotes}doAddNote(){this.sentence.isImmutable()||!this.userCanAddNotesAndTags&&!this.userCanEdit||(this.showNotes=!this.showNotes)}doOpenNote(){this.sentence.isImmutable()||!this.userCanAddNotesAndTags&&!this.userCanEdit||(this.showNotes=!this.showNotes)}doAddTags(){this.sentence.isImmutable()||!this.userCanAddNotesAndTags&&!this.userCanEdit||(this.showTags=!this.showTags)}canShowProbability(){return this.tService.canLabel&&this.sentence.readProbabilityValue()>=0}tagToolTips(){const e=this.sentence.userTags.map(r=>r.tagName);return JSON.stringify(e)}hasTags(){return!1===fe.isEmpty(this.sentence.userTags)}canAddTags(){return(this.userCanAddNotesAndTags||this.userCanEdit)&&this.tService.canAddTags}doOpenTags(){this.sentence.isImmutable()||!this.userCanAddNotesAndTags&&!this.userCanEdit||(this.showTags=!this.showTags)}doCloseTags(){this.showTags=!1}doToggleItemOfInterest(){!this.userCanAddNotesAndTags&&!this.userCanEdit||this.setIsSentenceOfInterest(!this.getIsSentenceOfInterest())}hasItemOfInterest(){return this.getIsSentenceOfInterest()}doToggleContext(){this.showContext=!this.showContext}doOpenClassification(){var e;!this.tService.canLabel&&!this.userCanEdit||(null===(e=this.sentence)||void 0===e?void 0:e.isSection)||(this.readyToLabel?this.readyToLabel=!1:(this.readyToLabel=!0,ne.broadcastCommand(this,"CloseAll",null,r=>{this.readyToLabel=!0})))}doOpenTextEditor(e=Wr.None){!this.tService.canSplitText&&!this.userCanEdit||(this.editMode=e,this.readyToEditText?this.readyToEditText=!1:(this.readyToEditText=!0,ne.broadcastCommand(this,"CloseAll",null,r=>{this.readyToEditText=!0})))}doOpenQuickSplit(){!this.tService.canQuickSplitText&&!this.userCanEdit||(this.readyToEditText?this.readyToEditText=!1:(this.readyToEditText=!0,ne.broadcastCommand(this,"CloseAll",null,e=>{this.readyToEditText=!0})))}isReadyToLabel(){return this.readyToLabel}isReadyToEditText(){return this.readyToEditText}sentenceTag(){var e,r;return this.fullSendID?null===(e=this.sentence)||void 0===e?void 0:e.fullSentTag():null===(r=this.sentence)||void 0===r?void 0:r.sentTag()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-sentence"]],inputs:{showSelect:"showSelect",userCanAddNotesAndTags:"userCanAddNotesAndTags",userCanEdit:"userCanEdit",userCanDelete:"userCanDelete",showImmutable:"showImmutable",sentence:"sentence",renderLikePage:"renderLikePage",fullSendID:"fullSendID",filter:"filter"},decls:6,vars:6,consts:[[4,"ngIf"],[3,"sentence",4,"ngIf"],[3,"context","editMode",4,"ngIf"],[3,"context",4,"ngIf"],[3,"sentence"],[3,"click"],["class","badge text-dark","style","margin-left: 10px; margin-right: 5px",3,"class","click",4,"ngIf"],["height","20","width","20",4,"ngIf"],[3,"id","innerHTML","mouseover"],["class","btn reader-btn",3,"click",4,"ngIf"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"click",4,"ngIf"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"tooltip","click",4,"ngIf"],[1,"badge","text-dark",2,"margin-left","10px","margin-right","5px",3,"click"],["height","20","width","20"],["cx","12","cy","10","r","6","stroke","black","stroke-width","1"],[1,"btn","reader-btn",3,"click"],[2,"padding-left","10px"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"click"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"tooltip","click"],[3,"context","editMode"],[3,"context"]],template:function(e,r){1&e&&(V(0,Fte,23,24,"p",0),V(1,sne,27,29,"ng-container",0),V(2,ane,1,1,"app-label",1),V(3,lne,1,2,"app-sentence-edit",2),V(4,cne,1,1,"app-note",3),V(5,une,1,1,"app-tags",3)),2&e&&(I("ngIf",!r.renderLikePage),D(1),I("ngIf",r.renderLikePage),D(1),I("ngIf",r.isReadyToLabel()),D(1),I("ngIf",r.isReadyToEditText()),D(1),I("ngIf",r.showNotes),D(1),I("ngIf",r.showTags))},directives:[ut,lee,dee,gee,_ee,Ji,Q2,Br,Dee,Pv,J2,Z2,Fv,Nv],encapsulation:2}),n})();function dne(n,t){if(1&n&&X(0,"app-sentence",1),2&n){const e=t.$implicit,r=L();I("showImmutable",r.showImmutable)("userCanAddNotesAndTags",r.userCanAddNotesAndTags)("userCanEdit",r.userCanEdit)("sentence",e)("renderLikePage",!0)}}let Sd=(()=>{class n{constructor(){this.hideFootnotes=!1,this.userCanAddNotesAndTags=!1,this.userCanEdit=!0,this.showImmutable=!0}ngOnInit(){}getSentences(){return this.paragraph.sentences}getFilteredSentences(){return this.getSentences()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-paragraph"]],inputs:{hideFootnotes:"hideFootnotes",userCanAddNotesAndTags:"userCanAddNotesAndTags",userCanEdit:"userCanEdit",showImmutable:"showImmutable",paragraph:"paragraph"},decls:2,vars:1,consts:[[3,"showImmutable","userCanAddNotesAndTags","userCanEdit","sentence","renderLikePage",4,"ngFor","ngForOf"],[3,"showImmutable","userCanAddNotesAndTags","userCanEdit","sentence","renderLikePage"]],template:function(e,r){1&e&&(S(0,"p"),V(1,dne,1,5,"app-sentence",0),E()),2&e&&(D(1),I("ngForOf",r.getFilteredSentences()))},directives:[Wt,Vo],encapsulation:2}),n})();function pne(n,t){if(1&n){const e=le();S(0,"button",10),U("click",function(a){const p=J(e).$implicit;return L().applyFilter(a,p)}),F(1),E()}if(2&n){const e=t.$implicit;cn(e.name),D(1),_t("",e.markerLabel(),"\xa0 \xa0")}}function hne(n,t){if(1&n){const e=le();S(0,"div",11)(1,"div",12)(2,"span",13),F(3,"CASE EDITOR"),E(),S(4,"button",14),U("click",function(){return J(e),L().doToggleSentenceSelection()}),F(5,"select sentence "),S(6,"mat-icon"),F(7,"view_headline"),E()(),S(8,"button",15),U("click",function(){return J(e),L().doToggleCanMoveSentenceUp()}),F(9," move up "),S(10,"mat-icon"),F(11,"vertical_align_top"),E()(),S(12,"button",16),U("click",function(){return J(e),L().doToggleCanMoveSentenceDown()}),F(13," move down "),S(14,"mat-icon"),F(15,"vertical_align_bottom"),E()(),S(16,"button",17),U("click",function(){return J(e),L().doToggleCanSplitParagraph()}),F(17," paragraph "),S(18,"mat-icon"),F(19,"broken_image"),E()(),S(20,"button",18),U("click",function(){return J(e),L().doToggleCanJoinText()}),F(21,"join text "),S(22,"mat-icon"),F(23,"swap_horiz"),E()(),S(24,"button",19),U("click",function(){return J(e),L().doToggleCanSplitText()}),F(25,"split text "),S(26,"mat-icon"),F(27,"space_bar"),E()(),S(28,"button",20),U("click",function(){return J(e),L().doToggleCanQuickSplitText()}),F(29,"quick split"),S(30,"mat-icon"),F(31,"content_cut"),E()(),S(32,"button",21),U("click",function(){return J(e),L().doToggleCanDeleteText()}),F(33,"delete text "),S(34,"mat-icon"),F(35,"delete_forever"),E()(),S(36,"button",22),U("click",function(){return J(e),L().doToggleCanEditText()}),F(37,"edit text "),S(38,"mat-icon"),F(39,"edit_attributes"),E()(),S(40,"button",23),U("click",function(){return J(e),L().doToggleSectionEdit()}),F(41,"sections "),S(42,"mat-icon"),F(43,"view_agenda"),E()(),S(44,"button",24),U("click",function(){return J(e),L().doToggleInsertParagraph()}),F(45,"insert paragraph "),S(46,"mat-icon"),F(47,"format_textdirection_l_to_r"),E()(),S(48,"button",25),U("click",function(){return J(e),L().doToggleInsertSentence()}),F(49,"insert sentence "),S(50,"mat-icon"),F(51,"linear_scale"),E()()()()}}function fne(n,t){1&n&&X(0,"app-case-title",26),2&n&&I("caseInfo",L().getModelCoreInfo())}function gne(n,t){if(1&n&&X(0,"app-paragraph",28),2&n){const e=t.$implicit,r=L(2);I("userCanAddNotesAndTags",!0)("hideFootnotes",!0)("userCanEdit",r.userCanEdit)("paragraph",e)}}function mne(n,t){if(1&n&&(S(0,"div"),V(1,gne,1,4,"app-paragraph",27),E()),2&n){const e=L();D(1),I("ngForOf",e.getParagraphs())}}function vne(n,t){if(1&n&&X(0,"app-sentence",30),2&n){const e=t.$implicit,r=L(2);I("userCanAddNotesAndTags",!0)("userCanEdit",r.userCanEdit)("filter",r.filter)("sentence",e)("renderLikePage",!1)}}function _ne(n,t){if(1&n&&(S(0,"div"),V(1,vne,1,5,"app-sentence",29),E()),2&n){const e=L();D(1),I("ngForOf",e.getFilteredSentences())}}let yne=(()=>{class n{constructor(e,r,a,d){this.route=e,this.tagService=r,this.eService=a,this.cService=d,this.userCanEdit=!0,this.filter="All",this.cService.defaultModelRefId.length>0&&(ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}get canShareNotes(){return lt.isLegalMarker&&this.cService.hasModel()}getModelCoreInfo(){return this.cService.getModelCoreInfo()}loadCaseFromSearch(e){ue.info(`caseID  ${e}`,"loading from Search..."),this.eService.findCase$(e).subscribe(r=>{const a=r[0];a?(this.cService.createLegalModel(Av,a._source),this.onRefreshDisplay()):ue.warning(`caseID ${e} not found in search`)})}applyFilter(e,r){this.filter=r.filter}get getSentenceLaStats(){return this.cService.computeLaStats()}doToggleColors(){this.tagService.doToggleColors()}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}doToggleLabel(){this.tagService.doToggleLabel()}doToggleCanJoinText(){this.tagService.doToggleCanJoinText()}doToggleCanSplitText(){this.tagService.doToggleCanSplitText()}doToggleCanQuickSplitText(){this.tagService.doToggleCanQuickSplitText()}doToggleCanDeleteText(){this.tagService.doToggleCanDeleteText()}doToggleCanEditText(){this.tagService.doToggleCanEditText()}doToggleCanMoveSentenceForward(){this.tagService.doToggleCanMoveSentenceForward()}doToggleCanMoveSentenceBackward(){this.tagService.doToggleCanMoveSentenceBackward()}doToggleCanMoveSentenceUp(){this.tagService.doToggleCanMoveSentenceUp()}doToggleCanSplitParagraph(){this.tagService.doToggleCanSplitParagraph()}doToggleCanMoveSentenceDown(){this.tagService.doToggleCanMoveSentenceDown()}doToggleSectionEdit(){this.tagService.doToggleSectionEdit()}doToggleInsertParagraph(){this.tagService.doToggleInsertParagraph()}doToggleInsertSentence(){this.tagService.doToggleInsertSentence()}doToggleEditFootnote(){this.tagService.doToggleEditFootnote()}doToggleSentenceSelection(){this.tagService.doToggleSentenceSelection()}btnClass(e=!1){return{"btn bg-light":!0,"reader-on-btn":e,"reader-off-btn":!e}}getParagraphs(){return this.cService.getParagraphs()}getFilteredSentences(){return this.cService.getFilteredSentenceList(this.filter)}isSentenceFilter(){return fe.matches(this.filter,"Sentence")}HasNoSentenceFilter(){return fe.matches(this.filter,"All")}get isModelOpen(){return this.cService.legalModel()}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(r=>{this.onRefreshDisplay(),this.tagService.gotoCurrentAnchorTag()}),ne.registerCommand(this,"GoToBookmark",this.onGoToBookmark),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this);var e=this.route.snapshot.paramMap.get("caseid");null!=e&&(this.cService.defaultModelRefId=e,ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}onGoToBookmark(e){this.filter="All",this.onRefreshDisplay()}onRefreshDisplay(){this.cService.computeLaStats()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Us),R(ui),R(Da),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-editor"]],inputs:{userCanEdit:"userCanEdit"},decls:13,vars:5,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[3,"class","click",4,"ngFor","ngForOf"],[1,"navbar","navbar-expand-md","sticky-button-menu"],[1,"container","menu-container",2,"text-align","center","max-width","90%","border-style","solid","border-width","medium"],["class","btn-toolbar","role","toolbar",4,"ngIf"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],[4,"ngIf"],[3,"click"],["role","toolbar",1,"btn-toolbar"],["role","group",1,"btn-group","mr-10"],[2,"padding-right","100px"],["tooltip","select a sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","move sentence to previous paragraph","type","button",1,"btn","btn-badge",3,"click"],["tooltip","move sentence to next paragraph","type","button",1,"btn","btn-badge",3,"click"],["tooltip","split the paragraph here","type","button",1,"btn","btn-badge",3,"click"],["tooltip","join text to previous sentence",1,"btn","btn-badge",3,"click"],["tooltip","split the text into two sentences",1,"btn","btn-badge",3,"click"],["tooltip","Quick Split Sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","mark sentence as deleted",1,"btn","btn-badge",3,"click"],["tooltip","edit the sentence text",1,"btn","btn-badge",3,"click"],["tooltip","show / assign sections","type","button",1,"btn","btn-badge",3,"click"],["tooltip","insert Paragraph","type","button",1,"btn","btn-badge",3,"click"],["tooltip","insert Sentence","type","button",1,"btn","btn-badge",3,"click"],[3,"caseInfo"],[3,"userCanAddNotesAndTags","hideFootnotes","userCanEdit","paragraph",4,"ngFor","ngForOf"],[3,"userCanAddNotesAndTags","hideFootnotes","userCanEdit","paragraph"],[3,"userCanAddNotesAndTags","userCanEdit","filter","sentence","renderLikePage",4,"ngFor","ngForOf"],[3,"userCanAddNotesAndTags","userCanEdit","filter","sentence","renderLikePage"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"div",2),V(3,pne,2,3,"button",3),E()(),S(4,"div",4)(5,"div",5),V(6,hne,52,0,"div",6),E()()(),S(7,"div",7),V(8,fne,1,1,"app-case-title",8),V(9,mne,2,1,"div",9),V(10,_ne,2,1,"div",9),E(),X(11,"br")(12,"br")),2&e&&(D(3),I("ngForOf",r.getSentenceLaStats),D(3),I("ngIf",r.isModelOpen),D(2),I("ngIf",r.isModelOpen),D(1),I("ngIf",r.HasNoSentenceFilter()),D(1),I("ngIf",!r.HasNoSentenceFilter()))},directives:[Wt,ut,Br,Ji,tf,Sd,Vo],encapsulation:2}),n})();function Cne(n,t){if(1&n){const e=le();S(0,"button",10),U("click",function(a){const p=J(e).$implicit;return L().applyFilter(a,p)}),F(1),E()}if(2&n){const e=t.$implicit;cn(e.name),D(1),_t("",e.markerLabel(),"\xa0 \xa0")}}function bne(n,t){if(1&n){const e=le();S(0,"div",11)(1,"div",12)(2,"span",13),F(3,"CASE MARKER"),E(),S(4,"button",14),U("click",function(){return J(e),L().doToggleColors()}),F(5,"color"),S(6,"mat-icon"),F(7,"brush"),E()(),S(8,"button",15),U("click",function(){return J(e),L().doToggleNotes()}),F(9,"add notes"),S(10,"mat-icon"),F(11,"note_add"),E()(),S(12,"button",16),U("click",function(){return J(e),L().doToggleTags()}),F(13,"add tags"),S(14,"mat-icon"),F(15,"local_offer"),E()(),S(16,"button",17),U("click",function(){return J(e),L().doToggleLabel()}),F(17,"label"),S(18,"mat-icon"),F(19,"create"),E()(),S(20,"button",18),U("click",function(){return J(e),L().doGoToPreviousBookmark()}),F(21,"previous "),S(22,"mat-icon"),F(23,"bookmark"),E()(),S(24,"button",19),U("click",function(){return J(e),L().doGoToNextBookmark()}),F(25,"next "),S(26,"mat-icon"),F(27,"bookmark"),E()(),S(28,"button",20),U("click",function(){return J(e),L().doClearBookmarks()}),F(29,"clear "),S(30,"mat-icon"),F(31,"bookmark_border"),E()(),S(32,"button",21),U("click",function(){return J(e),L().doToggleSentenceSelection()}),F(33,"select sentence "),S(34,"mat-icon"),F(35,"view_headline"),E()(),S(36,"button",22),U("click",function(){return J(e),L().doToggleSectionEdit()}),F(37,"sections "),S(38,"mat-icon"),F(39,"view_agenda"),E()(),S(40,"button",17),U("click",function(){return J(e),L().doAutomaticLabel()}),F(41,"auto label "),S(42,"mat-icon"),F(43,"border_color"),E()()()()}}function wne(n,t){1&n&&X(0,"app-case-title",23),2&n&&I("caseInfo",L().getModelCoreInfo())}function Sne(n,t){if(1&n&&X(0,"app-paragraph",25),2&n){const e=t.$implicit,r=L(2);I("hideFootnotes",!0)("userCanAddNotesAndTags",!0)("userCanEdit",r.userCanEdit)("paragraph",e)}}function Ene(n,t){if(1&n&&(S(0,"div"),V(1,Sne,1,4,"app-paragraph",24),E()),2&n){const e=L();D(1),I("ngForOf",e.getParagraphs())}}function Dne(n,t){if(1&n&&X(0,"app-sentence",27),2&n){const e=t.$implicit,r=L(2);I("userCanAddNotesAndTags",!0)("userCanEdit",r.userCanEdit)("filter",r.filter)("sentence",e)("renderLikePage",!1)}}function Tne(n,t){if(1&n&&(S(0,"div"),V(1,Dne,1,5,"app-sentence",26),E()),2&n){const e=L();D(1),I("ngForOf",e.getFilteredSentences())}}let nx=(()=>{class n{constructor(e,r,a,d,p){this.route=e,this.tagService=r,this.eService=a,this.cService=d,this.pService=p,this.userCanEdit=!1,this.banner=" take notes and add tags while you are reading",this.filter="All",this.cService.defaultModelRefId.length>0&&(ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}get canShareNotes(){return lt.isLegalMarker&&this.cService.hasModel()}loadCaseFromSearch(e){ue.info(`caseID  ${e}`,"loading from Search..."),this.eService.findCase$(e).subscribe(r=>{const a=r[0];a?(this.cService.createLegalModel(Av,a._source),ne.broadcastCommand(this,"RefreshDisplay")):ue.warning(`caseID ${e} not found in search`)})}get getSentenceLaStats(){return this.cService.computeLaStats()}doToggleColors(){this.tagService.doToggleColors()}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}doToggleLabel(){this.tagService.doToggleLabel()}doAutomaticLabel(){this.cService.broadcastMakeDocumentPrediction(),ne.broadcastCommand(this,"RefreshDisplay")}doToggleCanJoinText(){this.tagService.doToggleCanJoinText()}doToggleCanSplitText(){this.tagService.doToggleCanSplitText()}doToggleCanQuickSplitText(){this.tagService.doToggleCanQuickSplitText()}doToggleSectionEdit(){this.tagService.doToggleSectionEdit()}doToggleCanMoveSentenceForward(){this.tagService.doToggleCanMoveSentenceForward()}doToggleCanMoveSentenceBackward(){this.tagService.doToggleCanMoveSentenceBackward()}doToggleCanMoveSentenceUp(){this.tagService.doToggleCanMoveSentenceUp()}doToggleCanMoveSentenceDown(){this.tagService.doToggleCanMoveSentenceDown()}doGoToPreviousBookmark(){this.cService.gotoPreviousBookmark()}doGoToNextBookmark(){this.cService.gotoNextBookmark()}doClearBookmarks(){this.cService.clearBookmarks()}doToggleSentenceSelection(){this.tagService.doToggleSentenceSelection()}applyFilter(e,r){this.filter=r.filter}getParagraphs(){return this.cService.getParagraphs()}getFilteredSentences(){return this.cService.getFilteredSentenceList(this.filter)}isSentenceFilter(){return fe.matches(this.filter,"Sentence")}HasNoSentenceFilter(){return fe.matches(this.filter,"All")}get isModelOpen(){return this.cService.legalModel()}btnClass(){return{"btn reader-btn bg-light ":!0}}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(r=>{this.onRefreshDisplay(),this.tagService.gotoCurrentAnchorTag()}),ne.registerCommand(this,"GoToBookmark",this.onGoToBookmark),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this);var e=this.route.snapshot.paramMap.get("caseid");null!=e&&(this.cService.defaultModelRefId=e,ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}getModelCoreInfo(){var e;return null===(e=this.cService)||void 0===e?void 0:e.getModelCoreInfo()}onGoToBookmark(e){this.filter="All",this.onRefreshDisplay()}onRefreshDisplay(){this.cService.computeLaStats()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Us),R(ui),R(Da),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-marker"]],inputs:{userCanEdit:"userCanEdit"},decls:13,vars:5,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[3,"class","click",4,"ngFor","ngForOf"],[1,"navbar","navbar-expand-md","sticky-button-menu"],[1,"container","menu-container",2,"text-align","center","max-width","90%","border-style","solid","border-width","medium"],["class","btn-toolbar","role","toolbar",4,"ngIf"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],[4,"ngIf"],[3,"click"],["role","toolbar",1,"btn-toolbar"],["role","group",1,"btn-group","mr-10"],[2,"padding-right","100px"],["tooltip","show / hide color ","type","button",1,"btn","btn-badge",3,"click"],["tooltip","add notes to items","type","button",1,"btn","btn-badge",3,"click"],["tooltip","add tags to items","type","button",1,"btn","btn-badge",3,"click"],["tooltip","label / reclassify each sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","goto previous bookmark","type","button",1,"btn","btn-badge",3,"click"],["tooltip","goto next bookmark","type","button",1,"btn","btn-badge",3,"click"],["tooltip","clear all bookmarks","type","button",1,"btn","btn-badge",3,"click"],["tooltip","select a sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","show / assign sections","type","button",1,"btn","btn-badge",3,"click"],[3,"caseInfo"],[3,"hideFootnotes","userCanAddNotesAndTags","userCanEdit","paragraph",4,"ngFor","ngForOf"],[3,"hideFootnotes","userCanAddNotesAndTags","userCanEdit","paragraph"],[3,"userCanAddNotesAndTags","userCanEdit","filter","sentence","renderLikePage",4,"ngFor","ngForOf"],[3,"userCanAddNotesAndTags","userCanEdit","filter","sentence","renderLikePage"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"div",2),V(3,Cne,2,3,"button",3),E()(),S(4,"div",4)(5,"div",5),V(6,bne,44,0,"div",6),E()(),S(7,"div",7),V(8,wne,1,1,"app-case-title",8),V(9,Ene,2,1,"div",9),V(10,Tne,2,1,"div",9),E(),X(11,"br")(12,"br"),E()),2&e&&(D(3),I("ngForOf",r.getSentenceLaStats),D(3),I("ngIf",r.isModelOpen),D(2),I("ngIf",r.isModelOpen),D(1),I("ngIf",r.HasNoSentenceFilter()),D(1),I("ngIf",!r.HasNoSentenceFilter()))},directives:[Wt,ut,Br,Ji,tf,Sd,Vo],encapsulation:2}),n})();function Rne(n,t){if(1&n&&(S(0,"li"),F(1),E()),2&n){const e=t.$implicit;D(1),Ae(e.filename)}}let Ane=(()=>{class n{constructor(e){this.lService=e}ngOnInit(){this.doShowHistory()}doShowHistory(){}}return n.\u0275fac=function(e){return new(e||n)(R(cS))},n.\u0275cmp=Ce({type:n,selectors:[["app-item-history"]],inputs:{root:"root"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(S(0,"ul"),V(1,Rne,2,1,"li",0),E()),2&e&&(D(1),I("ngForOf",r.history))},directives:[Wt],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]}),n})();function One(n,t){if(1&n&&(S(0,"h4"),F(1),E()),2&n){const e=L();D(1),_t("\xa0",e.item.workspace,"")}}let xne=(()=>{class n{constructor(e,r){this.cService=e,this.router=r,this.showWorkspace=!1}ngOnInit(){}doLoadItem(e){}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(Ii))},n.\u0275cmp=Ce({type:n,selectors:[["app-directory-item"]],inputs:{item:"item",showWorkspace:"showWorkspace"},decls:23,vars:9,consts:[["mat-raised-button","","color","primary",2,"width","350px",3,"click"],[4,"ngIf"],[3,"root"],[1,"col-9"],[1,"col-3"]],template:function(e,r){1&e&&(S(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"button",0),U("click",function(){return r.doLoadItem(r.item)}),F(4),E(),V(5,One,2,1,"h4",1),E(),S(6,"mat-panel-description")(7,"h5"),F(8),E()()(),S(9,"p"),F(10),E(),S(11,"p"),F(12),E(),S(13,"p"),F(14),E(),X(15,"app-item-history",2),S(16,"mat-action-row")(17,"span",3)(18,"strong"),F(19),E()(),S(20,"span",4),F(21),E()()(),X(22,"br")),2&e&&(D(4),_t(" ",r.item.getFilename()," "),D(1),I("ngIf",r.showWorkspace),D(3),Ae(r.item.title),D(2),Ae(r.item.description),D(2),Ae(r.item.keywords),D(2),Ae(r.item.notes),D(1),I("root",r.item),D(4),Ae(r.item.workspace),D(2),Ae(r.item.owner))},directives:[Mw,Pw,oO,lG,ut,rO,Ane,rG],styles:[".example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}"]}),n})(),tH=(()=>{class n{constructor(e){this.lcService=e,this.rowData=[],this.gridOptions={},this.rowSelection="multiple",this.defaultColumnDefs={sortable:!0,filter:!0,resizeable:!0},this.columnDefs=[{headerName:"workspace",field:"workspace"},{headerName:"file",field:"filename",checkboxSelection:!0},{headerName:"name",field:"name"},{headerName:"version",field:"version"},{headerName:"owner",field:"owner"},{headerName:"title",field:"title"},{headerName:"description",field:"description"},{headerName:"keywords",field:"keywords"},{headerName:"notes",field:"notes"},{headerName:"date",field:"lastChange"}]}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.sizeColumnsToFit()}composeDataSet(e){this.rowData=[],e.forEach(r=>{this.rowData.push(r)})}ngOnInit(){this.composeDataSet(this.listFiles),this.onRefreshDisplay()}onRefreshDisplay(){}onDownloadSelected(){this.gridApi.getSelectedNodes().forEach(r=>{r.setSelected(!1)})}onSelectionChanged(e){this.gridApi.getSelectedRows()}doExport(){this.gridApi.exportDataAsCsv({skipHeader:!1,allColumns:!0,onlySelected:!1,suppressQuotes:!1,filename:"allfiles.csv",columnSeparator:","})}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-directory-grid"]],inputs:{listFiles:"listFiles"},decls:5,vars:5,consts:[[1,"btn","btn-info",2,"margin","10px",3,"click"],[1,"btn","btn-success",2,"margin","10px",3,"click"],[1,"ag-theme-balham",2,"width","100%","height","800px",3,"gridOptions","rowData","rowSelection","defaultColDef","columnDefs","gridReady","selectionChanged"]],template:function(e,r){1&e&&(S(0,"button",0),U("click",function(){return r.doExport()}),F(1,"Export File List to csv"),E(),S(2,"button",1),U("click",function(){return r.onDownloadSelected()}),F(3,"Download Selected Files"),E(),S(4,"ag-grid-angular",2),U("gridReady",function(d){return r.onGridReady(d)})("selectionChanged",function(d){return r.onSelectionChanged(d)}),E()),2&e&&(D(4),I("gridOptions",r.gridOptions)("rowData",r.rowData)("rowSelection",r.rowSelection)("defaultColDef",r.defaultColumnDefs)("columnDefs",r.columnDefs))},directives:[hO],styles:[""]}),n})();function Ine(n,t){if(1&n&&(S(0,"div"),X(1,"app-directory-item",3),E()),2&n){const e=t.$implicit;D(1),I("item",e)}}function Mne(n,t){if(1&n&&(S(0,"div"),V(1,Ine,2,1,"div",1),X(2,"br")(3,"app-directory-grid",2),E()),2&n){const e=L();D(1),I("ngForOf",e.list),D(2),I("listFiles",e.list)}}let Pne=(()=>{class n{constructor(e,r){this.lService=e,this.aService=r,ne.registerCommand(this,"Saved",this.doRefreshCases),ne.processCommands(this)}doRefreshCases(){const r=this.lService.getCasesInWorkspace$(this.team.workspace).subscribe({next:a=>{this.list=a,r.unsubscribe()},error:a=>console.log(a),complete:()=>console.log("complete")})}ngOnInit(){this.doRefreshCases()}}return n.\u0275fac=function(e){return new(e||n)(R(cS),R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["app-workspace"]],inputs:{team:"team"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"listFiles"],[3,"item"]],template:function(e,r){1&e&&V(0,Mne,4,2,"div",0),2&e&&I("ngIf",r.list)},directives:[ut,Wt,xne,tH],styles:[""]}),n})();function Fne(n,t){if(1&n){const e=le();S(0,"mat-icon",4),F(1,"explore"),E(),S(2,"span",5),U("click",function(){J(e);const a=L().$implicit;return L(2).doSelectDefaultTeam(a)}),F(3),E()}if(2&n){const e=L().$implicit;D(3),ns("",e.teamName," : ",e.workspace,"")}}function Nne(n,t){if(1&n&&(S(0,"mat-tab"),V(1,Fne,4,2,"ng-template",2),X(2,"app-workspace",3),E()),2&n){const e=t.$implicit;D(2),I("team",e)}}function Lne(n,t){1&n&&(S(0,"mat-icon",4),F(1,"group_work"),E(),F(2," All Teams (God mode) "))}function kne(n,t){if(1&n&&(S(0,"mat-tab"),V(1,Lne,3,0,"ng-template",2),X(2,"app-directory-grid",6),E()),2&n){const e=L(2);D(2),I("listFiles",e.listAllFiles)}}function Gne(n,t){if(1&n&&(S(0,"mat-tab-group"),V(1,Nne,3,1,"mat-tab",1),V(2,kne,3,1,"mat-tab",0),E()),2&n){const e=L();D(1),I("ngForOf",e.teams),D(1),I("ngIf",e.listAllFiles)}}let Hne=(()=>{class n{constructor(e,r,a){this.lService=e,this.aService=r,this.tService=a,this.currentWorkspace="",ne.registerCommand(this,"Saved",this.doRefreshWorkspaces),ne.processCommands(this)}doSelectDefaultTeam(e){this.tService.setActiveTeam(e),ne.broadcastCommand(this,"SelectTeam",e)}doRefreshWorkspaces(){const r=this.tService.getTeamMembersFor$(this.aService.currentUserValue.email).subscribe(a=>{this.teams=a,r.unsubscribe()})}doRefreshAllFiles(){if(1==this.aService.currentUserValue.isAdmin()){const r=this.lService.getAllCases$().subscribe({next:a=>{this.listAllFiles=a,r.unsubscribe()},error:a=>console.log(a),complete:()=>console.log("complete")})}}ngOnInit(){this.doRefreshWorkspaces(),this.doRefreshAllFiles()}}return n.\u0275fac=function(e){return new(e||n)(R(cS),R(_r),R(El))},n.\u0275cmp=Ce({type:n,selectors:[["app-library"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[3,"team"],[1,"example-tab-icon"],[3,"click"],[3,"listFiles"]],template:function(e,r){1&e&&V(0,Gne,3,2,"mat-tab-group",0),2&e&&I("ngIf",r.teams)},directives:[ut,dd,Wt,Wc,sk,Ji,Pne,tH],styles:[".alignleft[_ngcontent-%COMP%]{float:left}.alignright[_ngcontent-%COMP%]{float:right}"]}),n})();function Vne(n,t){if(1&n){const e=le();S(0,"div",2)(1,"ag-grid-angular",3),U("gridReady",function(a){return J(e),L().onGridReady(a)})("selectionChanged",function(a){return J(e),L().onSelectionChanged(a)}),E()()}if(2&n){const e=L();D(1),I("gridOptions",e.gridOptions)("rowData",e.rowData)("rowSelection",e.rowSelection)("defaultColDef",e.defaultColumnDefs)("columnDefs",e.columnDefs)}}let nH=(()=>{class n{constructor(e,r,a){this.cService=e,this.sService=r,this.pService=a,this.rowData=[],this.gridOptions={},this.rowSelection="single",this.defaultColumnDefs={sortable:!0,filter:!0,resizeable:!0},this.columnDefs=[{headerName:"Sentence Type",field:"rhetClass"},{headerName:"TAG",field:"TagGroup"},{headerName:"ID",field:"sentID"}]}isEmpty(){return 0==this.rowData.length}get legalPad(){return this.pService.legalModel()}get legalCase(){return this.cService.legalModel()}get legalSearch(){return this.sService.legalModel()}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.sizeColumnsToFit()}onExport(){this.gridApi.exportDataAsCsv({fileName:"Tags"})}fillRowData(e,r){e.forEach(a=>{var d;null===(d=a.userTags)||void 0===d||d.forEach(p=>{if(fe.isNotEmpty(p)){const f=a.createTagDisplayRecord();p.extendRecord(f,r),this.rowData.push(f)}})})}composeDataSet(e){this.rowData=[];let r={};e.forEach(a=>{this.fillRowData(a,r)}),Object.keys(r).forEach(a=>{this.columnDefs.push({headerName:a,field:a})})}getGroups(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getGroups().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getGroups().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getGroups().forEach(p=>{d.push(p)}),d}getParagraphs(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getParagraphs().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getParagraphs().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getParagraphs().forEach(p=>{d.push(p)}),d}getSentences(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getSentences().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getSentences().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getSentences().forEach(p=>{d.push(p)}),d}getReference(){const e=[];return this.getGroups().forEach(r=>{e.concat(r.members)}),e}ngOnInit(){this.onRefreshDisplay(),ne.registerCommand(this,"ExportTagsCSV",this.onExport),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}onRefreshDisplay(){this.composeDataSet([this.getSentences(),this.getParagraphs(),this.getGroups(),this.getReference()])}ngOnDestroy(){}onSelectionChanged(e){const a=this.gridApi.getSelectedRows()[0];ne.broadcastCommand(this,"GridSelectionChanged",null==a?void 0:a.object)}doExport(){const e=this.cService.getModelName();this.gridApi.exportDataAsCsv({skipHeader:!1,allColumns:!0,onlySelected:!1,suppressQuotes:!1,filename:e+".csv",columnSeparator:","})}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(Da),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-tagpad"]],decls:4,vars:2,consts:[[2,"text-align","center","background-color","rgb(80, 156, 255)"],["style","max-width: 90%","class","container",4,"ngIf"],[1,"container",2,"max-width","90%"],[1,"ag-theme-balham",2,"width","100%","height","1100px",3,"gridOptions","rowData","rowSelection","defaultColDef","columnDefs","gridReady","selectionChanged"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"strong"),F(2),E()(),V(3,Vne,2,5,"div",1)),2&e&&(D(2),_t(" TAGS (",r.rowData.length,")"),D(1),I("ngIf",!r.isEmpty()))},directives:[ut,hO],encapsulation:2}),n})(),Bne=(()=>{class n{constructor(e){this.cService=e}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(e=>{})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-decision"]],decls:4,vars:0,consts:[[2,"text-align","center","background-color","coral","max-height","40px"]],template:function(e,r){1&e&&(X(0,"p"),S(1,"p",0)(2,"strong"),F(3," This case does not have a rule tree "),E()())},styles:[""]}),n})(),ix=(()=>{class n{transform(e,r){return"Sentence"===e?"Other":e=e.replace("Sentence","")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=hi({name:"Short",type:n,pure:!0}),n})(),Wne=(()=>{class n{transform(e){return e.split("T")[1]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=hi({name:"lastupdate",type:n,pure:!0}),n})(),jne=(()=>{class n{transform(e){return e.split("-")[4]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=hi({name:"shortguid",type:n,pure:!0}),n})();function Une(n,t){if(1&n&&(S(0,"span",12),F(1),Ku(2,"Short"),E()),2&n){const e=t.$implicit;cn(e.name),D(1),ns("\xa0",Yu(2,4,e.name),"\xa0(",e.value,")\xa0")}}function $ne(n,t){if(1&n){const e=le();S(0,"div",4)(1,"div",5)(2,"span",6),F(3),E(),V(4,Une,3,6,"span",7),S(5,"span",8),F(6),E(),S(7,"mat-icon",9),U("click",function(){const d=J(e).$implicit;return L(2).doExportParagraph(d)}),F(8,"shop"),E()(),S(9,"div",10),X(10,"app-paragraph",11),E()()}if(2&n){const e=t.$implicit;D(3),Ae(e.label),D(1),I("ngForOf",e.computeStats()),D(2),Ae(e.score),D(4),I("paragraph",e)}}function zne(n,t){if(1&n&&(S(0,"div",2),V(1,$ne,11,4,"div",3),E()),2&n){const e=L();D(1),I("ngForOf",e.getSortedParagraphs())}}let Kne=(()=>{class n{constructor(e,r){this.cService=e,this.pService=r}get isModelOpen(){return this.cService.legalModel()}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}getSortedParagraphs(){const e=this.cService.getParagraphs().filter(r=>null!=r);return e.sort((r,a)=>a.compareScore(r)),e}doExportParagraph(e){e?(this.pService.broadcastAddParagraphToPad(e),ue.success("Sent paragraph to legal pad")):ue.warning("Sentence must be selected first")}onRefreshDisplay(){}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-argument"]],decls:2,vars:1,consts:[[1,"sticky-button-bar"],["class","container text-container",4,"ngIf"],[1,"container","text-container"],["class","card border border-success",4,"ngFor","ngForOf"],[1,"card","border","border-success"],[1,"card-header"],[2,"margin-right","20px"],["style","margin-right: 5px",3,"class",4,"ngFor","ngForOf"],[2,"margin-left","20px"],[1,"btn","bg-light",2,"padding-top","0px","padding-left","0px",3,"click"],[1,"card-body"],[3,"paragraph"],[2,"margin-right","5px"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,zne,2,1,"div",1),E()),2&e&&(D(1),I("ngIf",r.isModelOpen))},directives:[ut,Wt,Ji,Sd],pipes:[ix],encapsulation:2}),n})();function Yne(n,t){1&n&&(S(0,"div"),F(1,"Username / Email is required"),E())}function qne(n,t){if(1&n&&(S(0,"div",10),V(1,Yne,2,0,"div",11),E()),2&n){const e=L();D(1),I("ngIf",e.f.username.errors.required)}}function Qne(n,t){1&n&&(S(0,"div"),F(1,"Password is required"),E())}function Jne(n,t){if(1&n&&(S(0,"div",10),V(1,Qne,2,0,"div",11),E()),2&n){const e=L(2);D(1),I("ngIf",e.f.password.errors.required)}}const iH=function(n){return{"is-invalid":n}};function Xne(n,t){if(1&n&&(S(0,"div",2)(1,"label",12),F(2,"Password"),E(),X(3,"input",13),V(4,Jne,2,1,"div",5),E()),2&n){const e=L();D(3),I("ngClass",rr(2,iH,e.submitted&&e.f.password.errors)),D(1),I("ngIf",e.submitted&&e.f.password.errors)}}function Zne(n,t){1&n&&X(0,"img",14)}function eie(n,t){1&n&&(S(0,"a",15),F(1,"Register"),E())}let tie=(()=>{class n{constructor(e,r,a,d,p,f){this.formBuilder=e,this.route=r,this.router=a,this.tagService=d,this.tService=p,this.aService=f,this.localLogin=lt.localLogin,this.loading=!1,this.submitted=!1,this.aService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",or.required],password:["",or.required]}),this.localLogin&&(this.loginForm=this.formBuilder.group({username:["",or.required]})),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.localLogin){const e=this.aService.localLogin(this.loginForm.value.username);return ue.success(`Hello, ${e.username}`,"let's get started"),this.router.navigate([this.returnUrl]),this.tagService.isPowerUser=!0,ne.broadcastCommand(this,"PowerUser"),void(this.tagService.isPowerUser&&ue.warning(`You are a power user ${e.username}`,"you have the power to modify the original text"))}this.loginForm.invalid||(this.loading=!0,this.aService.login(this.loginForm.value,()=>this.loading=!1).subscribe(e=>{e&&(ue.success(`Hello, ${e.fullName()}`,"welcome back"),this.aService.getIsUserAdmin$(e).subscribe(r=>{this.router.navigate([this.returnUrl])}),this.tService.getActiveTeamFor$(e.email).subscribe())}))}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(Us),R(Ii),R(ui),R(El),R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["ng-component"]],decls:15,vars:9,consts:[[1,"container","text-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"btn","btn-primary",3,"disabled"],["class","pl-3","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],["routerLink","/register","class","btn btn-link",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",1,"pl-3"],["routerLink","/register",1,"btn","btn-link"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"h2"),F(2,"Login"),E(),S(3,"form",1),U("ngSubmit",function(){return r.onSubmit()}),S(4,"div",2)(5,"label",3),F(6,"Username"),E(),X(7,"input",4),V(8,qne,2,1,"div",5),E(),V(9,Xne,5,4,"div",6),S(10,"div",2)(11,"button",7),F(12,"Login"),E(),V(13,Zne,1,0,"img",8),V(14,eie,2,0,"a",9),E()()()),2&e&&(D(3),I("formGroup",r.loginForm),D(4),I("ngClass",rr(7,iH,r.submitted&&r.f.username.errors)),D(1),I("ngIf",r.submitted&&r.f.username.errors),D(1),I("ngIf",!r.localLogin),D(2),I("disabled",r.loading),D(2),I("ngIf",r.loading),D(1),I("ngIf",!r.localLogin))},directives:[as,ss,Vr,Yi,fr,xo,va,ut,zh],encapsulation:2}),n})();function nie(n,t){1&n&&(S(0,"div"),F(1,"First Name is required"),E())}function iie(n,t){if(1&n&&(S(0,"div",19),V(1,nie,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.firstName.errors.required)}}function rie(n,t){1&n&&(S(0,"div"),F(1,"Last Name is required"),E())}function oie(n,t){if(1&n&&(S(0,"div",19),V(1,rie,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.lastName.errors.required)}}function sie(n,t){1&n&&(S(0,"div"),F(1,"Username is required and used to identify your contributions "),E())}function aie(n,t){if(1&n&&(S(0,"div",19),V(1,sie,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.username.errors.required)}}function lie(n,t){1&n&&(S(0,"div"),F(1,"Email is required and must be unique across all users"),E())}function cie(n,t){if(1&n&&(S(0,"div",19),V(1,lie,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.email.errors.required)}}function uie(n,t){1&n&&(S(0,"div"),F(1,"Password is required"),E())}function die(n,t){1&n&&(S(0,"div"),F(1,"Password must be at least 6 characters"),E())}function pie(n,t){if(1&n&&(S(0,"div",19),V(1,uie,2,0,"div",20),V(2,die,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.password.errors.required),D(1),I("ngIf",e.f.password.errors.minlength)}}function hie(n,t){1&n&&(S(0,"div"),F(1,"Team Leader's Email is required"),E())}function fie(n,t){if(1&n&&(S(0,"div",19),V(1,hie,2,0,"div",20),E()),2&n){const e=L();D(1),I("ngIf",e.f.leader.errors.required)}}function gie(n,t){1&n&&X(0,"img",21)}const rf=function(n){return{"is-invalid":n}};let mie=(()=>{class n{constructor(e,r,a){this.formBuilder=e,this.router=r,this.aService=a,this.loading=!1,this.submitted=!1,this.aService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:["",or.required],lastName:["",or.required],username:["",or.required],email:["",or.required],leader:["",or.required],password:["",[or.required,or.minLength(6)]]})}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,!this.registerForm.invalid&&(this.loading=!0,this.aService.register(this.registerForm.value,()=>this.loading=!1).subscribe(e=>{e&&(ue.success(`Hello, ${e.fullName()}`,"you are registered"),this.router.navigate(["/login"]))}))}}return n.\u0275fac=function(e){return new(e||n)(R(Bs),R(Ii),R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["ng-component"]],decls:40,vars:27,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["for","email"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","leader"],["type","email","formControlName","leader",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","pl-3","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],["routerLink","/login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",1,"pl-3"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"h2"),F(2,"Register"),E(),S(3,"form",1),U("ngSubmit",function(){return r.onSubmit()}),S(4,"div",2)(5,"label",3),F(6,"First Name"),E(),X(7,"input",4),V(8,iie,2,1,"div",5),E(),S(9,"div",2)(10,"label",6),F(11,"Last Name"),E(),X(12,"input",7),V(13,oie,2,1,"div",5),E(),S(14,"div",2)(15,"label",8),F(16,"Username (Used to identify your edits and contributions)"),E(),X(17,"input",9),V(18,aie,2,1,"div",5),E(),S(19,"div",2)(20,"label",10),F(21,"Email (Used to uniquely identify you among all registered users)) "),E(),X(22,"input",11),V(23,cie,2,1,"div",5),E(),S(24,"div",2)(25,"label",12),F(26,"Password"),E(),X(27,"input",13),V(28,pie,3,2,"div",5),E(),S(29,"div",2)(30,"label",14),F(31,"Team Leader's Email (You must be invited by your team leader to register)"),E(),X(32,"input",15),V(33,fie,2,1,"div",5),E(),S(34,"div",2)(35,"button",16),F(36,"Register"),E(),V(37,gie,1,0,"img",17),S(38,"a",18),F(39,"Cancel"),E()()()()),2&e&&(D(3),I("formGroup",r.registerForm),D(4),I("ngClass",rr(15,rf,r.submitted&&r.f.firstName.errors)),D(1),I("ngIf",r.submitted&&r.f.firstName.errors),D(4),I("ngClass",rr(17,rf,r.submitted&&r.f.lastName.errors)),D(1),I("ngIf",r.submitted&&r.f.lastName.errors),D(4),I("ngClass",rr(19,rf,r.submitted&&r.f.username.errors)),D(1),I("ngIf",r.submitted&&r.f.username.errors),D(4),I("ngClass",rr(21,rf,r.submitted&&r.f.email.errors)),D(1),I("ngIf",r.submitted&&r.f.email.errors),D(4),I("ngClass",rr(23,rf,r.submitted&&r.f.password.errors)),D(1),I("ngIf",r.submitted&&r.f.password.errors),D(4),I("ngClass",rr(25,rf,r.submitted&&r.f.leader.errors)),D(1),I("ngIf",r.submitted&&r.f.leader.errors),D(2),I("disabled",r.loading),D(2),I("ngIf",r.loading))},directives:[as,ss,Vr,Yi,fr,xo,va,ut,zh],encapsulation:2}),n})(),rH=(()=>{class n{constructor(e,r){this.router=e,this.authenticationService=r}canActivate(e,r){return!(!this.authenticationService.currentUserValue&&!lt.isLegalMarker&&(this.router.navigate(["/login"],{queryParams:{returnUrl:r.url}}),1))}}return n.\u0275fac=function(e){return new(e||n)(K(Ii),K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vie=(()=>{class n{constructor(e){this.authenticationService=e}intercept(e,r){return r.handle(e).pipe(Xt(a=>(401===a.status&&(this.authenticationService.logout(),location.reload()),pd(a.error.message||a.statusText))))}}return n.\u0275fac=function(e){return new(e||n)(K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),_ie=(()=>{class n{constructor(e){this.authenticationService=e}intercept(e,r){const a=this.authenticationService.currentUserValue;return a&&a.token&&(e=e.clone({setHeaders:{Authorization:`Bearer ${a.token}`}})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function yie(n,t){if(1&n){const e=le();S(0,"mat-icon",3),U("click",function(a){return J(e),L().doAddNote(a)}),F(1,"note_add"),E()}}function Cie(n,t){if(1&n){const e=le();S(0,"mat-icon",4),U("click",function(a){return J(e),L().doOpenNote(a)}),F(1,"feedback"),E()}2&n&&Fn("tooltip",L().reference.notes)}function bie(n,t){if(1&n){const e=le();S(0,"mat-icon",3),U("click",function(a){return J(e),L().doAddTags(a)}),F(1,"local_offer"),E()}}function wie(n,t){if(1&n){const e=le();S(0,"mat-icon",4),U("click",function(a){return J(e),L().doOpenTags(a)}),F(1,"more"),E()}2&n&&Fn("tooltip",L().tagToolTips())}function Sie(n,t){1&n&&X(0,"app-note",5),2&n&&I("context",L().reference)}function Eie(n,t){1&n&&X(0,"app-tags",5),2&n&&I("context",L().reference)}let Die=(()=>{class n{constructor(e,r,a){this.tagService=e,this.pService=r,this.cService=a,this.showNotes=!1,this.showTags=!1}ngOnInit(){ne.registerCommand(this,"CloseNote",this.doCloseNote),ne.registerCommand(this,"CloseTags",this.doCloseTags),ne.processCommands(this)}refType(){return this.reference.referenceType.replace("La","")}refID(){return this.reference.referenceID}doCloseNote(){this.showNotes=!1}canAddNotes(){return this.tagService.canAddNotes}doAddNote(e){null==e||e.preventDefault(),this.showNotes=!this.showNotes}doOpenNote(e){e.stopPropagation(),null==e||e.preventDefault(),this.showNotes=!this.showNotes}hasNotes(){return!1===fe.isEmpty(this.reference.notes)}doAddTags(e){e.stopPropagation(),null==e||e.preventDefault(),this.showTags=!this.showTags}tagToolTips(){const e=this.reference.userTags.map(r=>r.tagName);return JSON.stringify(e)}hasTags(){return!1===fe.isEmpty(this.reference.userTags)}canAddTags(){return this.tagService.canAddTags}doOpenTags(e){null==e||e.preventDefault(),this.showTags=!this.showTags}doCloseTags(){this.showTags=!1}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(jr),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-strong-reference"]],inputs:{reference:"reference"},decls:11,vars:8,consts:[["class","btn","style","padding-top: 0px; margin-right: 10px",3,"click",4,"ngIf"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"tooltip","click",4,"ngIf"],[3,"context",4,"ngIf"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"click"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"tooltip","click"],[3,"context"]],template:function(e,r){1&e&&(S(0,"p")(1,"span"),F(2),S(3,"strong"),F(4),E()(),V(5,yie,2,0,"mat-icon",0),V(6,Cie,2,1,"mat-icon",1),V(7,bie,2,0,"mat-icon",0),V(8,wie,2,1,"mat-icon",1),V(9,Sie,1,1,"app-note",2),V(10,Eie,1,1,"app-tags",2),E()),2&e&&(D(2),_t("",r.refType()," "),D(2),Ae(r.refID()),D(1),I("ngIf",!r.hasNotes()&&r.canAddNotes()),D(1),I("ngIf",r.hasNotes()),D(1),I("ngIf",!r.hasTags()&&r.canAddTags()),D(1),I("ngIf",r.hasTags()),D(1),I("ngIf",r.showNotes),D(1),I("ngIf",r.showTags))},directives:[ut,Ji,Br,Fv,Nv],encapsulation:2}),n})();function Tie(n,t){if(1&n){const e=le();S(0,"mat-icon",6),U("click",function(a){return J(e),L().doAddNote(a)}),F(1,"note_add"),E()}}function Rie(n,t){if(1&n){const e=le();S(0,"mat-icon",7),U("click",function(a){return J(e),L().doOpenNote(a)}),F(1,"feedback"),E()}2&n&&Fn("tooltip",L().group.notes)}function Aie(n,t){if(1&n){const e=le();S(0,"mat-icon",6),U("click",function(a){return J(e),L().doAddTags(a)}),F(1,"local_offer"),E()}}function Oie(n,t){if(1&n){const e=le();S(0,"mat-icon",7),U("click",function(a){return J(e),L().doOpenTags(a)}),F(1,"more"),E()}2&n&&Fn("tooltip",L().tagToolTips())}function xie(n,t){1&n&&X(0,"app-note",8),2&n&&I("context",L().group)}function Iie(n,t){1&n&&X(0,"app-tags",8),2&n&&I("context",L().group)}function Mie(n,t){if(1&n&&X(0,"app-paragraph",12),2&n){const e=L().$implicit,r=L();I("showImmutable",!1)("userCanEdit",!1)("paragraph",r.resolveStrongReference(e))}}function Pie(n,t){if(1&n&&X(0,"app-sentence",13),2&n){const e=L().$implicit,r=L();I("showImmutable",!1)("userCanEdit",!1)("renderLikePage",!0)("sentence",r.resolveStrongReference(e))}}function Fie(n,t){if(1&n&&(S(0,"div"),X(1,"app-strong-reference",9),S(2,"p"),V(3,Mie,1,3,"app-paragraph",10),V(4,Pie,1,4,"app-sentence",11),E()()),2&n){const e=t.$implicit,r=L();D(1),I("reference",e),D(2),I("ngIf",r.isParagraph(e)),D(1),I("ngIf",r.isSentence(e))}}let Nie=(()=>{class n{constructor(e,r,a){this.tService=e,this.pService=r,this.cService=a,this.isOpen=!1,this.showNotes=!1,this.showTags=!1}ngOnInit(){ne.registerCommand(this,"CloseNote",this.doCloseNote),ne.registerCommand(this,"CloseTags",this.doCloseTags),ne.processCommands(this)}isPanelOpen(){return this.isOpen&&this.group}doOpenPanel(e){null==e||e.preventDefault(),this.group&&(this.isOpen=!0)}doClosePanel(e){null==e||e.preventDefault(),this.isOpen=!1}hasNotes(){return!1===fe.isEmpty(this.group.notes)}doCloseNote(){this.showNotes=!1}canAddNotes(){return this.tService.canAddNotes}doAddNote(e){null==e||e.preventDefault(),!this.group.isImmutable()&&(this.showNotes=!this.showNotes)}doOpenNote(e){null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.group.isImmutable()&&(this.showNotes=!this.showNotes)}doAddTags(e){null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.group.isImmutable()&&(this.showTags=!this.showTags)}tagToolTips(){const e=this.group.userTags.map(r=>r.tagName);return JSON.stringify(e)}hasTags(){return!1===fe.isEmpty(this.group.userTags)}canAddTags(){return this.tService.canAddTags}doOpenTags(e){null==e||e.preventDefault(),!this.group.isImmutable()&&(this.showTags=!this.showTags)}doCloseTags(){this.showTags=!1}getIsGroupOfInterest(){return this.group.isItemOfInterest}setIsGroupOfInterest(e){this.group.isItemOfInterest=e}doToggleItemOfInterest(){this.setIsGroupOfInterest(!this.getIsGroupOfInterest())}isParagraph(e){return fe.matches(e.referenceType,"LaParagraph")}isSentence(e){return fe.matches(e.referenceType,"LaSentence")}resolveStrongReference(e){return this.pService.resolve(e)}resolveReferences(){const e=new Array;return this.group.getMembers().forEach(r=>{const a=this.resolveStrongReference(r);e.push(a)}),e}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(jr),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-group-details"]],inputs:{group:"group"},decls:18,vars:12,consts:[[1,"container",2,"max-width","100%"],[1,"badge","rounded-pill","bg-info","text-dark","grouping-tag"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"click",4,"ngIf"],["class","btn","style","padding-top: 0px; margin-right: 10px",3,"tooltip","click",4,"ngIf"],[3,"context",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"click"],[1,"btn",2,"padding-top","0px","margin-right","10px",3,"tooltip","click"],[3,"context"],[3,"reference"],[3,"showImmutable","userCanEdit","paragraph",4,"ngIf"],[3,"showImmutable","userCanEdit","renderLikePage","sentence",4,"ngIf"],[3,"showImmutable","userCanEdit","paragraph"],[3,"showImmutable","userCanEdit","renderLikePage","sentence"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div")(2,"h3")(3,"strong"),F(4),E(),F(5),S(6,"button",1),F(7),E()(),S(8,"h4"),F(9),E(),V(10,Tie,2,0,"mat-icon",2),V(11,Rie,2,1,"mat-icon",3),V(12,Aie,2,0,"mat-icon",2),V(13,Oie,2,1,"mat-icon",3),V(14,xie,1,1,"app-note",4),V(15,Iie,1,1,"app-tags",4),E(),V(16,Fie,5,3,"div",5),X(17,"br"),E()),2&e&&(D(4),ns("",r.group.title," (",r.group.memberCount(),")"),D(1),_t(" ",r.group.category," "),D(2),Ae(r.group.groupIDs),D(2),Ae(r.group.description),D(1),I("ngIf",!r.hasNotes()&&r.canAddNotes()),D(1),I("ngIf",r.hasNotes()),D(1),I("ngIf",!r.hasTags()&&r.canAddTags()),D(1),I("ngIf",r.hasTags()),D(1),I("ngIf",r.showNotes),D(1),I("ngIf",r.showTags),D(1),I("ngForOf",r.group.getMembers()))},directives:[ut,Ji,Br,Fv,Nv,Wt,Die,Sd,Vo],encapsulation:2}),n})();function Lie(n,t){if(1&n){const e=le();S(0,"button",8),U("click",function(a){const p=J(e).$implicit;return L().applyFilter(a,p)}),F(1),E()}if(2&n){const e=t.$implicit;D(1),_t("",e.title,"\xa0 \xa0")}}function kie(n,t){if(1&n){const e=le();S(0,"mat-icon",9),U("click",function(){return J(e),L().doToggleNotes()}),F(1,"note_add"),E()}}function Gie(n,t){if(1&n){const e=le();S(0,"mat-icon",9),U("click",function(){return J(e),L().doToggleTags()}),F(1,"local_offer"),E()}}function Hie(n,t){1&n&&X(0,"app-case-title",10),2&n&&I("caseInfo",L().getModelCoreInfo())}function Vie(n,t){1&n&&X(0,"app-group-details",11),2&n&&I("group",L().currentGroup)}let Bie=(()=>{class n{constructor(e,r){this.tagService=e,this.pService=r,this.currentGroup=null}getModelCoreInfo(){return this.pService.getModelCoreInfo()}applyFilter(e,r){this.currentGroup=r}get isModelOpen(){return this.pService.legalModel()}ngOnInit(){this.sub=this.pService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}onRefreshDisplay(){}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}getGroups(){return this.pService.getGroups()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-group"]],decls:11,vars:5,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[3,"click",4,"ngFor","ngForOf"],["class","btn bg-light","style","padding-top: 0px; padding-left: 10px",3,"click",4,"ngIf"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],[3,"group",4,"ngIf"],[3,"click"],[1,"btn","bg-light",2,"padding-top","0px","padding-left","10px",3,"click"],[3,"caseInfo"],[3,"group"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2),V(4,Lie,2,1,"button",3),V(5,kie,2,0,"mat-icon",4),V(6,Gie,2,0,"mat-icon",4),E()()(),S(7,"div",5),V(8,Hie,1,1,"app-case-title",6),X(9,"br"),V(10,Vie,1,1,"app-group-details",7),E()()),2&e&&(D(4),I("ngForOf",r.getGroups()),D(1),I("ngIf",r.isModelOpen),D(1),I("ngIf",r.isModelOpen),D(2),I("ngIf",r.isModelOpen),D(2),I("ngIf",r.currentGroup))},directives:[Wt,ut,Ji,tf,Nie],encapsulation:2}),n})();function Wie(n,t){1&n&&X(0,"app-sentence",13),2&n&&I("sentence",t.$implicit)("renderLikePage",!1)("fullSendID",!0)}function jie(n,t){if(1&n&&(S(0,"div",14),X(1,"app-phrasecontext",15),E()),2&n){const e=t.$implicit;D(1),I("context",e)}}let Uie=(()=>{class n{constructor(e,r,a,d){this.tagService=e,this.sService=r,this.cService=a,this.pService=d}get legalPad(){return this.pService.legalModel()}get legalCase(){return this.cService.legalModel()}get legalSearch(){return this.sService.legalModel()}ngOnInit(){ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}get paragraphCount(){return this.getParagraphs().length}getParagraphs(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getParagraphsOfInterest().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getParagraphsOfInterest().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getParagraphsOfInterest().forEach(p=>{d.push(p)}),d}get sentenceCount(){return this.getSentences().length}getSentences(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getSentencesOfInterest().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getSentencesOfInterest().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getSentencesOfInterest().forEach(p=>{d.push(p)}),d}onRefreshDisplay(){}doClearAll(e){this.getSentences().forEach(r=>{r.isItemOfInterest=!1}),this.getParagraphs().forEach(r=>{r.isItemOfInterest=!1})}doSendToPad(e){let r=0,a=0;this.getSentences().forEach(d=>{r+=1,this.pService.broadcastAddSentenceToPad(d)}),this.getParagraphs().forEach(d=>{a+=1,this.pService.broadcastAddParagraphToPad(d)}),r+a>0?ue.success("Sent to legal pad",`${r} sentences ${a} paragraphs`):ue.warning("Sentence or Paragraph must be selected first.")}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(Da),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-selections"]],decls:29,vars:6,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container"],[1,"btn","btn-info",2,"min-width","180px",3,"click"],[1,"btn","bg-light",2,"padding-top","0px","padding-left","10px",3,"click"],[1,"container","text-container"],["mat-align-tabs","center",2,"padding-top","10px"],[3,"label"],[1,"container"],[2,"text-align","center","background-color","rgb(252, 255, 80)"],[3,"sentence","renderLikePage","fullSendID",4,"ngFor","ngForOf"],[2,"text-align","center","background-color","rgb(80, 156, 255)"],["class","border-success mb-3",4,"ngFor","ngForOf"],[3,"sentence","renderLikePage","fullSendID"],[1,"border-success","mb-3"],[3,"context"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),U("click",function(d){return r.doClearAll(d)}),F(5,"Clear All Selections"),E(),S(6,"button",3),U("click",function(d){return r.doSendToPad(d)}),F(7,"Send All to Legal Pad"),E(),S(8,"mat-icon",4),U("click",function(){return r.doToggleNotes()}),F(9,"note_add"),E(),S(10,"mat-icon",4),U("click",function(){return r.doToggleTags()}),F(11,"local_offer"),E()()()(),S(12,"div",5)(13,"mat-tab-group",6)(14,"mat-tab",7)(15,"div",8)(16,"div",9)(17,"strong"),F(18),E()(),X(19,"br"),S(20,"div"),V(21,Wie,1,3,"app-sentence",10),E()()(),S(22,"mat-tab",7)(23,"div",8)(24,"div",11)(25,"strong"),F(26),E()(),X(27,"br"),V(28,jie,2,1,"div",12),E()()()()()),2&e&&(D(14),ll("label","SENTENCES (",r.sentenceCount,")"),D(4),_t(" SENTENCES (",r.sentenceCount,")"),D(3),I("ngForOf",r.getSentences()),D(1),ll("label","PARAGRAPHS (",r.paragraphCount,")"),D(4),_t(" PARAGRAPHS (",r.paragraphCount,") "),D(2),I("ngForOf",r.getParagraphs()))},directives:[Ji,dd,Wc,Wt,Vo,Pv],encapsulation:2}),n})();function $ie(n,t){1&n&&X(0,"app-case-title",13),2&n&&I("caseInfo",L().getModelCoreInfo())}function zie(n,t){1&n&&X(0,"app-sentence",14),2&n&&I("sentence",t.$implicit)("renderLikePage",!1)("fullSendID",!0)}function Kie(n,t){if(1&n&&(S(0,"div",15),X(1,"app-phrasecontext",16),E()),2&n){const e=t.$implicit;D(1),I("context",e)}}let oH=(()=>{class n{constructor(e,r){this.cService=e,this.pService=r}get isModelOpen(){return this.pService.legalModel()}ngOnInit(){this.sub=this.pService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}getModelCoreInfo(){var e;return null===(e=this.pService)||void 0===e?void 0:e.getModelCoreInfo()}get paragraphCount(){return this.getParagraphs().length}getParagraphs(){var e;let r=null===(e=this.pService)||void 0===e?void 0:e.getParagraphs();return null==r||r.sort((a,d)=>a.compareGroupID(d)),r||[]}get sentenceCount(){return this.getSentences().length}getSentences(){var e;let r=null===(e=this.pService)||void 0===e?void 0:e.getSentences();return null==r||r.sort((a,d)=>a.compareGroupID(d)),r||[]}onRefreshDisplay(){}doClearAll(e){this.getSentences().forEach(r=>{r.isItemOfInterest=!1}),this.getParagraphs().forEach(r=>{r.isItemOfInterest=!1})}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-immutable"]],decls:23,vars:7,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container"],[1,"btn","btn-info",2,"min-width","180px",3,"click"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],["mat-align-tabs","center"],[3,"label"],[1,"container"],[2,"text-align","center","background-color","rgb(252, 255, 80)"],["showSelect","true",3,"sentence","renderLikePage","fullSendID",4,"ngFor","ngForOf"],[2,"text-align","center","background-color","rgb(80, 156, 255)"],["class","border-success mb-3",4,"ngFor","ngForOf"],[3,"caseInfo"],["showSelect","true",3,"sentence","renderLikePage","fullSendID"],[1,"border-success","mb-3"],[3,"context"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),U("click",function(d){return r.doClearAll(d)}),F(5,"Clear All Selections"),E()()()(),S(6,"div",4),V(7,$ie,1,1,"app-case-title",5),S(8,"mat-tab-group",6)(9,"mat-tab",7)(10,"div",8)(11,"div",9)(12,"strong"),F(13),E()(),X(14,"br"),V(15,zie,1,3,"app-sentence",10),E()(),S(16,"mat-tab",7)(17,"div",8)(18,"div",11)(19,"strong"),F(20),E()(),X(21,"br"),V(22,Kie,2,1,"div",12),E()()()()()),2&e&&(D(7),I("ngIf",r.isModelOpen),D(2),ll("label","SENTENCES (",r.sentenceCount,")"),D(4),_t(" SENTENCES (",r.sentenceCount,")"),D(2),I("ngForOf",r.getSentences()),D(1),ll("label","PARAGRAPHS  (",r.paragraphCount,")"),D(4),_t(" PARAGRAPHS (",r.paragraphCount,")"),D(2),I("ngForOf",r.getParagraphs()))},directives:[ut,tf,dd,Wc,Wt,Vo,Pv],encapsulation:2}),n})();function Yie(n,t){if(1&n&&(S(0,"div",7),X(1,"app-phrasecontext",8),E()),2&n){const e=t.$implicit;D(1),I("context",e)}}function qie(n,t){if(1&n&&(S(0,"div",5),V(1,Yie,2,1,"div",6),E()),2&n){const e=L();D(1),I("ngForOf",e.getSortedParagraphs())}}let Qie=(()=>{class n{constructor(e,r,a){this.tagService=e,this.cService=r,this.pService=a}get isModelOpen(){return this.cService.legalModel()}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}getSortedParagraphs(){const e=this.cService.getParagraphs().filter(r=>null!=r);return e.sort((r,a)=>a.compareScore(r)),e}onRefreshDisplay(){}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-paragraphs"]],decls:9,vars:1,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[1,"btn","bg-light",2,"padding-top","0px","padding-left","10px",3,"click"],["class","container text-container",4,"ngIf"],[1,"container","text-container"],["class","border-success  mb-3",4,"ngFor","ngForOf"],[1,"border-success","mb-3"],[3,"context"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"mat-icon",3),U("click",function(){return r.doToggleNotes()}),F(5,"note_add"),E(),S(6,"mat-icon",3),U("click",function(){return r.doToggleTags()}),F(7,"local_offer"),E()()(),V(8,qie,2,1,"div",4),E()()),2&e&&(D(8),I("ngIf",r.isModelOpen))},directives:[Ji,ut,Wt,Pv],encapsulation:2}),n})(),Jie=(()=>{class n{constructor(e,r){this.sService=e,this.formBuilder=r,this.submitted=!1}ngOnInit(){this.applyLastSearch(),ne.processCommands(this)}applyLastSearch(){const e=this.sService.lastSearch;this.searchForm=this.formBuilder.group({includeany:[e.includeany],includeall:[e.includeall],exactphrase:[e.exactphrase],excludeany:[e.excludeany],FindingSentence:[e.FindingSentence],EvidenceSentence:[e.EvidenceSentence],LegalRuleSentence:[e.LegalRuleSentence],ReasoningSentence:[e.ReasoningSentence],CitationSentence:[e.CitationSentence]})}get f(){return this.searchForm.controls}doClear(){this.sService.lastSearch.clear(),this.applyLastSearch(),eS.Pub(rS,[])}doSearch(){this.submitted=!0;const e=this.f.includeall.value,r=this.f.includeany.value,a=this.f.exactphrase.value,d=this.f.excludeany.value,p=this.f.FindingSentence.value,f=this.f.EvidenceSentence.value,m=this.f.LegalRuleSentence.value,v=this.f.ReasoningSentence.value,C=this.f.CitationSentence.value;if(!this.searchForm.invalid){const b=[],T=[];p&&T.push("FindingSentence"),f&&T.push("EvidenceSentence"),m&&T.push("LegalRuleSentence"),v&&T.push("ReasoningSentence"),C&&T.push("CitationSentence");const M=new DX({includeall:e||"",includeany:r||"",exactphrase:a||"",excludeany:d||"",classFilter:T,tagsFilter:b}),H=this.sService.lastSearch;H.includeany=M.includeany,H.includeall=M.includeall,H.exactphrase=M.exactphrase,H.excludeany=M.excludeany,H.FindingSentence=p,H.EvidenceSentence=f,H.LegalRuleSentence=m,H.ReasoningSentence=v,H.CitationSentence=C,ue.info("Searching...",JSON.stringify(M.simplify(),void 0,3)),eS.Pub(rS,[M])}}}return n.\u0275fac=function(e){return new(e||n)(R(Da),R(Bs))},n.\u0275cmp=Ce({type:n,selectors:[["app-search-advanced"]],decls:54,vars:1,consts:[["rowHeight","250px"],[2,"width","99%",3,"formGroup"],[1,"form-group","row"],["for","includeany",1,"offset-sm-1","col-sm-2","col-form-label"],[1,"col-sm-4"],["type","text","formControlName","includeany","id","includeany","placeholder","Search for any of these words",1,"form-control"],[1,"col-sm-2","FindingSentence"],["type","checkbox","id","FindingSentence","formControlName","FindingSentence",1,"col-form-label"],["for","FindingSentence",1,"col-form-label",2,"margin-left","10px"],["for","includeall",1,"offset-sm-1","col-sm-2","col-form-label"],["type","text","formControlName","includeall","id","includeall","placeholder","Search for all of these words",1,"form-control"],[1,"col-sm-2","EvidenceSentence"],["type","checkbox","id","EvidenceSentence","formControlName","EvidenceSentence",1,"col-form-label"],["for","EvidenceSentence",1,"col-form-label",2,"margin-left","10px"],["for","exactphrase",1,"offset-sm-1","col-sm-2","col-form-label"],["type","text","formControlName","exactphrase","id","exactphrase","placeholder","Search for this exact phrase",1,"form-control"],[1,"col-sm-2","LegalRuleSentence"],["type","checkbox","id","LegalRuleSentence","formControlName","LegalRuleSentence",1,"col-form-label"],["for","LegalRuleSentence",1,"col-form-label",2,"margin-left","10px"],["for","excludeany",1,"offset-sm-1","col-sm-2","col-form-label"],["type","text","formControlName","excludeany","id","excludeany","placeholder","Exclude results containing any of these words",1,"form-control"],[1,"col-sm-2","ReasoningSentence"],["type","checkbox","id","ReasoningSentence","formControlName","ReasoningSentence",1,"col-form-label"],["for","ReasoningSentence",1,"col-form-label",2,"margin-left","10px"],[1,"offset-sm-1","col-sm-1"],[1,"btn","btn-info",3,"click"],[1,"col-sm-1"],[1,"btn","btn-success",3,"click"],[1,"offset-sm-4","col-sm-2","CitationSentence"],["type","checkbox","id","CitationSentence","formControlName","CitationSentence",1,"col-form-label"],["for","CitationSentence",1,"col-form-label",2,"margin-left","10px"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),F(4,"Any Word:"),E(),S(5,"div",4),X(6,"input",5),E(),S(7,"div",6),X(8,"input",7),S(9,"label",8)(10,"h5"),F(11,"Finding"),E()()()(),S(12,"div",2)(13,"label",9),F(14,"All Words:"),E(),S(15,"div",4),X(16,"input",10),E(),S(17,"div",11),X(18,"input",12),S(19,"label",13)(20,"h5"),F(21,"Evidence"),E()()()(),S(22,"div",2)(23,"label",14),F(24,"Exact Phrase:"),E(),S(25,"div",4),X(26,"input",15),E(),S(27,"div",16),X(28,"input",17),S(29,"label",18)(30,"h5"),F(31,"Legal Rule"),E()()()(),S(32,"div",2)(33,"label",19),F(34,"Exclude Words:"),E(),S(35,"div",4),X(36,"input",20),E(),S(37,"div",21),X(38,"input",22),S(39,"label",23)(40,"h5"),F(41,"Reasoning"),E()()()(),S(42,"div",2)(43,"div",24)(44,"button",25),U("click",function(){return r.doSearch()}),F(45,"Search"),E()(),S(46,"div",26)(47,"button",27),U("click",function(){return r.doClear()}),F(48,"Clear"),E()(),S(49,"div",28),X(50,"input",29),S(51,"label",30)(52,"h5"),F(53,"Citation"),E()()()()()()),2&e&&(D(1),I("formGroup",r.searchForm))},directives:[as,ss,Vr,Yi,fr,xo,db],encapsulation:2}),n})(),Xie=(()=>{class n{constructor(e){this.hubService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(R(pS))},n.\u0275cmp=Ce({type:n,selectors:[["app-item-view"]],inputs:{item:"item"},decls:9,vars:9,consts:[[2,"padding-bottom","15px"],["target","_blank",1,"btn","btn-link",3,"href"],[3,"innerHTML"],["showSelect","true",3,"fullSendID","renderLikePage","sentence","userCanEdit"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"p")(2,"span")(3,"a",1),F(4),E(),S(5,"strong"),F(6),E()(),X(7,"span",2),E(),X(8,"app-sentence",3),E()),2&e&&(D(3),I("href",r.item.CaseLink(),Qa),D(1),Ae(r.item.CaseNoLabel),D(2),ns("\xa0",r.item.SearchScoreLabel,":\xa0",r.item.RhetClassLabel,":"),D(1),I("innerHTML",r.item.innerHTML,Ss),D(1),I("fullSendID",!0)("renderLikePage",!1)("sentence",r.item.sentence)("userCanEdit",!0))},directives:[Vo],encapsulation:2}),n})();function Zie(n,t){if(1&n&&(S(0,"p"),X(1,"app-item-view",1),E()),2&n){const e=t.$implicit;D(1),I("item",e)}}let ere=(()=>{class n{constructor(){this.searchResults=[],this.throttle=300,this.scrollDistance=1}ngOnInit(){}onScrollDown(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-item-set"]],inputs:{searchResults:"searchResults"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"item"]],template:function(e,r){1&e&&(S(0,"div"),V(1,Zie,2,1,"p",0),E()),2&e&&(D(1),I("ngForOf",r.searchResults))},directives:[Wt,Xie],encapsulation:2}),n})();function tre(n,t){if(1&n&&(S(0,"figure",5)(1,"blockquote",6)(2,"pre"),F(3),E()()()),2&n){const e=L();D(3),Ae(e.noResultsFound)}}let nre=(()=>{class n{constructor(){this.noResultsFound="",this.searchResults=[],this.activeTab=0}ngOnInit(){}get listViewLabel(){const e=this.searchResults?this.searchResults.length:0;return e>0?`List View (${e})`:"List View"}get itemViewLabel(){const e=this.searchResults?this.searchResults.length:0;return e>0?`Semantic View (${e})`:"Semantic View"}get cardViewLabel(){const e=this.searchResults?this.searchResults.length:0;return e>0?`Card View (${e})`:"Card View"}get documentViewLabel(){const e=this.searchResults?this.searchResults.length:0;return e>0?`Document View (${e})`:"Document View"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-search-results"]],inputs:{noResultsFound:"noResultsFound",searchResults:"searchResults"},decls:5,vars:4,consts:[["mat-align-tabs","left",3,"selectedIndex"],[3,"label"],[1,"search-results","container",2,"width","80%"],[3,"searchResults"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"blockquote"]],template:function(e,r){1&e&&(S(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2),X(3,"app-item-set",3),V(4,tre,4,1,"figure",4),E()()()),2&e&&(I("selectedIndex",r.activeTab),D(1),Fn("label",r.itemViewLabel),D(2),I("searchResults",r.searchResults),D(1),I("ngIf",r.noResultsFound))},directives:[dd,Wc,ere,ut],encapsulation:2}),n})();function ire(n,t){1&n&&(S(0,"h3"),F(1,"Search Results"),E())}let sH=(()=>{class n{constructor(e){this.sService=e,this.noResultsFound=""}ngOnInit(){eS.Sub(rS,e=>{this.doAdvancedSearch(e[0])})}ngOnDestroy(){eS.Unsub(rS)}doAdvancedSearch(e){this.searchResults=[],this.noResultsFound="";const r=e.simplify(),a=JSON.stringify(r,void 0,3);this.sService.advancedQuery$(e).subscribe({next:p=>{const f=p.length;this.searchResults=p,this.noResultsFound=0==f?`No Results for query: \r\n${a}`:"",this.sService.createCaseOfSearchResults(p),console.log(p[0]),0==f?ue.error(`${f} results found`):ue.success(`${f} results found`)},error:p=>ue.error(p),complete:()=>{}})}}return n.\u0275fac=function(e){return new(e||n)(R(Da))},n.\u0275cmp=Ce({type:n,selectors:[["app-search-and-render"]],decls:5,vars:2,consts:[[1,"sticky-button-bar"],[1,"sticky-button-bar",2,"margin-top","80px"],["matStepLabel",""],[3,"searchResults","noResultsFound"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1),X(2,"app-search-advanced"),V(3,ire,2,0,"ng-template",2),X(4,"app-search-results",3),E()()),2&e&&(D(4),I("searchResults",r.searchResults)("noResultsFound",r.noResultsFound))},directives:[Jie,Fw,nre],encapsulation:2}),n})();function rre(n,t){1&n&&X(0,"app-sentence",4),2&n&&I("sentence",L(2).context)("renderLikePage",!1)("fullSendID",!0)}function ore(n,t){1&n&&X(0,"app-paragraph",5),2&n&&I("paragraph",L(2).context)}function sre(n,t){if(1&n&&(S(0,"div",1),V(1,rre,1,3,"app-sentence",2),V(2,ore,1,1,"app-paragraph",3),E()),2&n){const e=L();D(1),I("ngIf",e.isSentence()),D(1),I("ngIf",e.isParagraph())}}let are=(()=>{class n{constructor(){}ngOnInit(){}isSentence(){return this.context instanceof pn}isParagraph(){return this.context instanceof qh}isReference(){return this.context instanceof nS}isGroup(){return this.context instanceof VO}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-selected-item"]],inputs:{context:"context"},decls:1,vars:1,consts:[["style","background-color: white",4,"ngIf"],[2,"background-color","white"],[3,"sentence","renderLikePage","fullSendID",4,"ngIf"],[3,"paragraph",4,"ngIf"],[3,"sentence","renderLikePage","fullSendID"],[3,"paragraph"]],template:function(e,r){1&e&&V(0,sre,3,2,"div",0),2&e&&I("ngIf",r.context)},directives:[ut,Vo,Sd],encapsulation:2}),n})();function lre(n,t){if(1&n){const e=le();S(0,"div",2)(1,"ag-grid-angular",3),U("gridReady",function(a){return J(e),L().onGridReady(a)})("selectionChanged",function(a){return J(e),L().onSelectionChanged(a)}),E()()}if(2&n){const e=L();D(1),I("gridOptions",e.gridOptions)("rowData",e.rowData)("rowSelection",e.rowSelection)("defaultColDef",e.defaultColumnDefs)("columnDefs",e.columnDefs)}}let cre=(()=>{class n{constructor(e,r,a){this.cService=e,this.sService=r,this.pService=a,this.rowData=[],this.gridOptions={},this.rowSelection="single",this.defaultColumnDefs={sortable:!0,filter:!0,resizeable:!0},this.columnDefs=[{headerName:"Class",field:"rhetClass",width:100},{headerName:"ID",field:"objectID",width:100},{headerName:"NOTES",field:"notes"}]}isEmpty(){return 0==this.rowData.length}get legalPad(){return this.pService.legalModel()}get legalCase(){return this.cService.legalModel()}get legalSearch(){return this.sService.legalModel()}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.sizeColumnsToFit()}onExport(){this.gridApi.exportDataAsCsv({fileName:"Notes"})}fillRowData(e){e.forEach(r=>{if(fe.isNotEmpty(r.notes)){const a=r.createTagDisplayRecord();this.rowData.push(a)}})}composeDataSet(e){this.rowData=[],e.forEach(r=>{this.fillRowData(r)})}getGroups(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getGroups().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getGroups().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getGroups().forEach(p=>{d.push(p)}),d}getParagraphs(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getParagraphs().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getParagraphs().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getParagraphs().forEach(p=>{d.push(p)}),d}getSentences(){var e,r,a;const d=[];return null===(e=this.legalPad)||void 0===e||e.getSentences().forEach(p=>{d.push(p)}),null===(r=this.legalCase)||void 0===r||r.getSentences().forEach(p=>{d.push(p)}),null===(a=this.legalSearch)||void 0===a||a.getSentences().forEach(p=>{d.push(p)}),d}getReference(){const e=[];return this.getGroups().forEach(r=>{e.concat(r.members)}),e}ngOnInit(){this.onRefreshDisplay(),ne.registerCommand(this,"ExportNotesCSV",this.onExport),ne.registerCommand(this,"NoteRemoved",this.onRefreshDisplay),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}onRefreshDisplay(){this.composeDataSet([this.getSentences(),this.getParagraphs(),this.getGroups(),this.getReference()])}ngOnDestroy(){}onSelectionChanged(e){const a=this.gridApi.getSelectedRows()[0];ne.broadcastCommand(this,"GridSelectionChanged",null==a?void 0:a.object)}doExport(){const e=this.cService.getModelName();this.gridApi.exportDataAsCsv({skipHeader:!1,allColumns:!0,onlySelected:!1,suppressQuotes:!1,filename:e+".csv",columnSeparator:","})}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(Da),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-notepad"]],decls:4,vars:2,consts:[[2,"text-align","center","background-color","rgb(252, 255, 80)"],["style","max-width: 90%","class","container",4,"ngIf"],[1,"container",2,"max-width","90%"],[1,"ag-theme-balham",2,"width","100%","height","1100px",3,"gridOptions","rowData","rowSelection","defaultColDef","columnDefs","gridReady","selectionChanged"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"strong"),F(2),E()(),V(3,lre,2,5,"div",1)),2&e&&(D(2),_t(" NOTES (",r.rowData.length,")"),D(1),I("ngIf",!r.isEmpty()))},directives:[ut,hO],encapsulation:2}),n})();function ure(n,t){if(1&n){const e=le();S(0,"button",13),U("click",function(a){return J(e),L().doJumpToMarker(a)}),F(1,"Jump to Marker"),E()}}function dre(n,t){if(1&n){const e=le();S(0,"button",13),U("click",function(a){return J(e),L().doJumpToEditor(a)}),F(1,"Jump to Editor"),E()}}function pre(n,t){if(1&n){const e=le();S(0,"button",3),U("click",function(a){return J(e),L().doClose(a)}),F(1,"Close"),E()}}function hre(n,t){1&n&&X(0,"app-note",10),2&n&&I("context",L().selectedItem)}function fre(n,t){1&n&&X(0,"app-tags",10),2&n&&I("context",L().selectedItem)}let gre=(()=>{class n{constructor(e,r){this.router=e,this.tagService=r}ngOnInit(){ne.registerCommand(this,"GridSelectionChanged",this.onGridSelectionChanged),ne.processCommands(this)}onGridSelectionChanged(e){this.selectedItem=e==this.selectedItem?null:e}isPowerUser(){return this.selectedItem&&this.tagService.isPowerUser}hasNotes(){var e;return fe.isNotEmpty(null===(e=this.selectedItem)||void 0===e?void 0:e.notes)}hasTags(){var e;return fe.isNotEmpty(null===(e=this.selectedItem)||void 0===e?void 0:e.userTags)}doClose(e){this.selectedItem=null,ue.info("inspector closed")}doJumpToMarker(e){var r;this.tagService.setCurrentAnchorTag("");const a=null===(r=this.selectedItem)||void 0===r?void 0:r.anchorTag();a?(setTimeout(()=>{ue.info(a,"anchorTag"),ne.broadcastCommand(this,"JumpToAnchor",a)},500),this.router.navigate(["/marker"])):ue.info("Cannot find anchorTag")}doJumpToEditor(e){var r;this.tagService.setCurrentAnchorTag("");const a=null===(r=this.selectedItem)||void 0===r?void 0:r.anchorTag();a?(setTimeout(()=>{ue.info(a,"anchorTag"),ne.broadcastCommand(this,"JumpToAnchor",a)},500),this.router.navigate(["/editor"])):ue.info("Cannot find anchorTag")}doExportTags(e){ne.broadcastCommand(this,"ExportTagsCSV")}doExportNotes(e){ne.broadcastCommand(this,"ExportNotesCSV")}}return n.\u0275fac=function(e){return new(e||n)(R(Ii),R(ui))},n.\u0275cmp=Ce({type:n,selectors:[["app-notesandtags"]],inputs:{selectedItem:"selectedItem"},decls:22,vars:7,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[1,"btn","btn-info",2,"min-width","180px",3,"click"],["style","min-width: 180px","class","btn btn-success",3,"click",4,"ngIf"],["style","min-width: 180px","class","btn btn-info",3,"click",4,"ngIf"],[1,"container","text-container"],["mat-align-tabs","center"],["label","NOTES"],[2,"width","100%"],[3,"context"],[3,"context",4,"ngIf"],["label","TAGS"],[1,"btn","btn-success",2,"min-width","180px",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),U("click",function(d){return r.doExportNotes(d)}),F(4,"Export Notes to CSV"),E(),S(5,"button",3),U("click",function(d){return r.doExportTags(d)}),F(6,"Export Tags to CSV"),E(),V(7,ure,2,0,"button",4),V(8,dre,2,0,"button",4),V(9,pre,2,0,"button",5),E()(),S(10,"div",6)(11,"mat-tab-group",7)(12,"mat-tab",8)(13,"div",9),X(14,"app-selected-item",10),V(15,hre,1,1,"app-note",11),X(16,"app-notepad"),E()(),S(17,"mat-tab",12)(18,"div",9),X(19,"app-selected-item",10),V(20,fre,1,1,"app-tags",11),X(21,"app-tagpad"),E()()()()()),2&e&&(D(7),I("ngIf",r.selectedItem),D(1),I("ngIf",r.isPowerUser()),D(1),I("ngIf",r.selectedItem),D(5),I("context",r.selectedItem),D(1),I("ngIf",r.hasNotes()),D(4),I("context",r.selectedItem),D(1),I("ngIf",r.hasTags()))},directives:[ut,dd,Wc,are,Fv,cre,Nv,nH],encapsulation:2}),n})();function rx(n,t,e){for(let r in t)if(t.hasOwnProperty(r)){const a=t[r];a?n.setProperty(r,a,(null==e?void 0:e.has(r))?"important":""):n.removeProperty(r)}return n}function sf(n,t){const e=t?"":"none";rx(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function aH(n,t,e){rx(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function fS(n,t){return t&&"none"!=t?n+" "+t:n}function lH(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function ox(n,t){return n.getPropertyValue(t).split(",").map(r=>r.trim())}function sx(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function ax(n,t,e){const{top:r,bottom:a,left:d,right:p}=n;return e>=r&&e<=a&&t>=d&&t<=p}function Lv(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function cH(n,t,e,r){const{top:a,right:d,bottom:p,left:f,width:m,height:v}=n,C=m*t,b=v*t;return r>a-b&&r<p+b&&e>f-C&&e<d+C}class uH{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:sx(e)})})}handleScroll(t){const e=js(t),r=this.positions.get(e);if(!r)return null;const a=r.scrollPosition;let d,p;if(e===this._document){const v=this.getViewportScrollPosition();d=v.top,p=v.left}else d=e.scrollTop,p=e.scrollLeft;const f=a.top-d,m=a.left-p;return this.positions.forEach((v,C)=>{v.clientRect&&e!==C&&e.contains(C)&&Lv(v.clientRect,f,m)}),a.top=d,a.left=p,{top:f,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function dH(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();t.removeAttribute("id");for(let a=0;a<e.length;a++)e[a].removeAttribute("id");return"canvas"===r?fH(n,t):("input"===r||"select"===r||"textarea"===r)&&hH(n,t),pH("canvas",n,t,fH),pH("input, textarea, select",n,t,hH),t}function pH(n,t,e,r){const a=t.querySelectorAll(n);if(a.length){const d=e.querySelectorAll(n);for(let p=0;p<a.length;p++)r(a[p],d[p])}}let _re=0;function hH(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${_re++}`)}function fH(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(r){}}const gH=Gc({passive:!0}),gS=Gc({passive:!1}),lx=new Set(["position"]);class Cre{constructor(t,e,r,a,d,p){this._config=e,this._document=r,this._ngZone=a,this._viewportRuler=d,this._dragDropRegistry=p,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new pe,this._pointerMoveSubscription=Gt.EMPTY,this._pointerUpSubscription=Gt.EMPTY,this._scrollSubscription=Gt.EMPTY,this._resizeSubscription=Gt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new pe,this.started=new pe,this.released=new pe,this.ended=new pe,this.entered=new pe,this.exited=new pe,this.dropped=new pe,this.moved=this._moveEvents,this._pointerDown=f=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(f);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,f)}else this.disabled||this._initializeDragSequence(this._rootElement,f)},this._pointerMove=f=>{const m=this._getPointerPositionOnPage(f);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(f),H=this._dropContainer;if(!M)return void this._endDragSequence(f);(!H||!H.isDragging()&&!H.isReceiving())&&(f.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(f)))}return}f.preventDefault();const v=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(v),this._dropContainer)this._updateActiveDropContainer(v,m);else{const C=this._activeTransform;C.x=v.x-this._pickupPositionOnPage.x+this._passiveTransform.x,C.y=v.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:v,event:f,distance:this._getDragDistance(v),delta:this._pointerDirectionDelta})})},this._pointerUp=f=>{this._endDragSequence(f)},this._nativeDragStart=f=>{if(this._handles.length){const m=this._getTargetHandle(f);m&&!this._disabledHandles.has(m)&&!this.disabled&&f.preventDefault()}else this.disabled||f.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new uH(r),p.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=un(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>sf(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>ti(r)),this._handles.forEach(r=>sf(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ti(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,gS),e.addEventListener("touchstart",this._pointerDown,gH),e.addEventListener("dragstart",this._nativeDragStart,gS)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ti(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),sf(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),sf(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){kv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,a=r.parentNode,d=this._placeholder=this._createPlaceholderElement(),p=this._anchor=this._anchor||this._document.createComment(""),f=this._getShadowRoot();a.insertBefore(p,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),aH(r,!1,lx),this._document.body.appendChild(a.replaceChild(d,r)),this._getPreviewInsertionPoint(a,f).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),a=kv(e),d=!a&&0!==e.button,p=this._rootElement,f=js(e),m=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),v=a?OA(e):AA(e);if(f&&f.draggable&&"mousedown"===e.type&&e.preventDefault(),r||d||m||v)return;if(this._handles.length){const T=p.style;this._rootElementTapHighlight=T.webkitTapHighlightColor||"",T.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(T=>this._updateOnScroll(T)),this._boundaryElement&&(this._boundaryRect=sx(this._boundaryElement));const C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const b=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:b.x,y:b.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){aH(this._rootElement,!0,lx),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),a=this._getPointerPositionOnPage(t),d=this._getDragDistance(a),p=e._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:d,dropPoint:a}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:p,distance:d,dropPoint:a}),e.drop(this,r,this._initialIndex,this._initialContainer,p,d,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:r,y:a}){let d=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,t,e,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,a),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,r=t?t.template:null;let a;if(r&&t){const d=t.matchSize?this._rootElement.getBoundingClientRect():null,p=t.viewContainer.createEmbeddedView(r,t.context);p.detectChanges(),a=vH(p,this._document),this._previewRef=p,t.matchSize?_H(a,d):a.style.transform=mS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const d=this._rootElement;a=dH(d),_H(a,d.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return rx(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},lx),sf(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(d=>a.classList.add(d)):a.classList.add(e)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function vre(n){const t=getComputedStyle(n),e=ox(t,"transition-property"),r=e.find(f=>"transform"===f||"all"===f);if(!r)return 0;const a=e.indexOf(r),d=ox(t,"transition-duration"),p=ox(t,"transition-delay");return lH(d[a])+lH(p[a])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const a=p=>{var f;(!p||js(p)===this._preview&&"transform"===p.propertyName)&&(null===(f=this._preview)||void 0===f||f.removeEventListener("transitionend",a),r(),clearTimeout(d))},d=setTimeout(a,1.5*e);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let r;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),r=vH(this._placeholderRef,this._document)):r=dH(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(t,e){const r=this._rootElement.getBoundingClientRect(),a=t===this._rootElement?null:t,d=a?a.getBoundingClientRect():r,p=kv(e)?e.targetTouches[0]:e,f=this._getViewportScrollPosition();return{x:d.left-r.left+(p.pageX-d.left-f.left),y:d.top-r.top+(p.pageY-d.top-f.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),r=kv(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,a=r.pageX-e.left,d=r.pageY-e.top;if(this._ownerSVGElement){const p=this._ownerSVGElement.getScreenCTM();if(p){const f=this._ownerSVGElement.createSVGPoint();return f.x=a,f.y=d,f.matrixTransform(p.inverse())}}return{x:a,y:d}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:a}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:p}=this._pickupPositionInElement,f=this._boundaryRect,{width:m,height:v}=this._getPreviewRect(),C=f.top+p,b=f.bottom-(v-p);r=mH(r,f.left+d,f.right-(m-d)),a=mH(a,C,b)}return{x:r,y:a}}_updatePointerDirectionDelta(t){const{x:e,y:r}=t,a=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,p=Math.abs(e-d.x),f=Math.abs(r-d.y);return p>this._config.pointerDirectionChangeThreshold&&(a.x=e>d.x?1:-1,d.x=e),f>this._config.pointerDirectionChangeThreshold&&(a.y=r>d.y?1:-1,d.y=r),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,sf(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,gS),t.removeEventListener("touchstart",this._pointerDown,gH),t.removeEventListener("dragstart",this._nativeDragStart,gS)}_applyRootElementTransform(t,e){const r=mS(t,e),a=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=a.transform&&"none"!=a.transform?a.transform:""),a.transform=fS(r,this._initialTransform)}_applyPreviewTransform(t,e){var r;const a=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,d=mS(t,e);this._preview.style.transform=fS(d,a)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===a.width&&0===a.height)return;const d=r.left-a.left,p=a.right-r.right,f=r.top-a.top,m=a.bottom-r.bottom;r.width>a.width?(d>0&&(t+=d),p>0&&(t-=p)):t=0,r.height>a.height?(f>0&&(e+=f),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:kv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const r=js(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Lv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=wA(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const a=this._document;return e||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return ti(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function mS(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function mH(n,t,e){return Math.max(t,Math.min(e,n))}function kv(n){return"t"===n.type[0]}function vH(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const r=t.createElement("div");return e.forEach(a=>r.appendChild(a)),r}function _H(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=mS(t.left,t.top)}function cx(n,t,e){const r=Gv(t,n.length-1),a=Gv(e,n.length-1);if(r===a)return;const d=n[r],p=a<r?-1:1;for(let f=r;f!==a;f+=p)n[f]=n[f+p];n[a]=d}function yH(n,t,e,r){const a=Gv(e,n.length-1),d=Gv(r,t.length);n.length&&t.splice(d,0,n.splice(a,1)[0])}function Gv(n,t){return Math.max(0,Math.min(t,n))}class bre{constructor(t,e,r,a,d){this._dragDropRegistry=e,this._ngZone=a,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new pe,this.entered=new pe,this.exited=new pe,this.dropped=new pe,this.sorted=new pe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Gt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new pe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function mre(n=0,t=_w){return n<0&&(n=0),Sw(n,n,t)}(0,dA).pipe(ei(this._stopScrollTimers)).subscribe(()=>{const p=this._scrollNode,f=this.autoScrollStep;1===this._verticalScrollDirection?p.scrollBy(0,-f):2===this._verticalScrollDirection&&p.scrollBy(0,f),1===this._horizontalScrollDirection?p.scrollBy(-f,0):2===this._horizontalScrollDirection&&p.scrollBy(f,0)})},this.element=ti(t),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new uH(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,r,a){let d;this._draggingStarted(),null==a?(d=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===d&&(d=this._getItemIndexFromPointerPosition(t,e,r))):d=a;const p=this._activeDraggables,f=p.indexOf(t),m=t.getPlaceholderElement();let v=p[d];if(v===t&&(v=p[d+1]),!v&&(null==d||-1===d||d<p.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(v=p[0]),f>-1&&p.splice(f,1),v&&!this._dragDropRegistry.isDragging(v)){const C=v.getRootElement();C.parentElement.insertBefore(m,C),p.splice(d,0,t)}else ti(this.element).appendChild(m),p.push(t);m.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,r,a,d,p,f){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:a,isPointerOverContainer:d,distance:p,dropPoint:f})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(a=>a.isDragging()).every(a=>-1===t.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=ti(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,r,a){if(this.sortingDisabled||!this._clientRect||!cH(this._clientRect,.05,e,r))return;const d=this._itemPositions,p=this._getItemIndexFromPointerPosition(t,e,r,a);if(-1===p&&d.length>0)return;const f="horizontal"===this._orientation,m=d.findIndex(Q=>Q.drag===t),v=d[p],b=v.clientRect,T=m>p?1:-1,M=this._getItemOffsetPx(d[m].clientRect,b,T),H=this._getSiblingOffsetPx(m,d,T),$=d.slice();cx(d,m,p),this.sorted.next({previousIndex:m,currentIndex:p,container:this,item:t}),d.forEach((Q,te)=>{if($[te]===Q)return;const Y=Q.drag===t,se=Y?M:H,De=Y?t.getPlaceholderElement():Q.drag.getRootElement();Q.offset+=se,f?(De.style.transform=fS(`translate3d(${Math.round(Q.offset)}px, 0, 0)`,Q.initialTransform),Lv(Q.clientRect,0,se)):(De.style.transform=fS(`translate3d(0, ${Math.round(Q.offset)}px, 0)`,Q.initialTransform),Lv(Q.clientRect,se,0))}),this._previousSwap.overlaps=ax(b,e,r),this._previousSwap.drag=v.drag,this._previousSwap.delta=f?a.x:a.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let r,a=0,d=0;if(this._parentPositions.positions.forEach((p,f)=>{f===this._document||!p.clientRect||r||cH(p.clientRect,.05,t,e)&&([a,d]=function wre(n,t,e,r){const a=wH(t,r),d=SH(t,e);let p=0,f=0;if(a){const m=n.scrollTop;1===a?m>0&&(p=1):n.scrollHeight-m>n.clientHeight&&(p=2)}if(d){const m=n.scrollLeft;1===d?m>0&&(f=1):n.scrollWidth-m>n.clientWidth&&(f=2)}return[p,f]}(f,p.clientRect,t,e),(a||d)&&(r=f))}),!a&&!d){const{width:p,height:f}=this._viewportRuler.getViewportSize(),m={width:p,height:f,top:0,right:p,bottom:f,left:0};a=wH(m,e),d=SH(m,t),r=window}r&&(a!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=d,this._scrollNode=r,(a||d)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ti(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ti(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:sx(r)}}).sort((e,r)=>t?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const t=ti(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var r;const a=e.getRootElement();if(a){const d=null===(r=this._itemPositions.find(p=>p.drag===e))||void 0===r?void 0:r.initialTransform;a.style.transform=d||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,r){const a="horizontal"===this._orientation,d=e[t].clientRect,p=e[t+-1*r];let f=d[a?"width":"height"]*r;if(p){const m=a?"left":"top",v=a?"right":"bottom";-1===r?f-=p.clientRect[m]-d[v]:f+=d[m]-p.clientRect[v]}return f}_getItemOffsetPx(t,e,r){const a="horizontal"===this._orientation;let d=a?e.left-t.left:e.top-t.top;return-1===r&&(d+=a?e.width-t.width:e.height-t.height),d}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,a="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const p=r[r.length-1].clientRect;return a?t>=p.right:e>=p.bottom}{const p=r[0].clientRect;return a?t<=p.left:e<=p.top}}_getItemIndexFromPointerPosition(t,e,r,a){const d="horizontal"===this._orientation,p=this._itemPositions.findIndex(({drag:f,clientRect:m})=>{if(f===t)return!1;if(a){const v=d?a.x:a.y;if(f===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1}return d?e>=Math.floor(m.left)&&e<Math.floor(m.right):r>=Math.floor(m.top)&&r<Math.floor(m.bottom)});return-1!==p&&this.sortPredicate(p,t,this)?p:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&ax(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,r){return this._siblings.find(a=>a._canReceive(t,e,r))}_canReceive(t,e,r){if(!this._clientRect||!ax(this._clientRect,e,r)||!this.enterPredicate(t,this))return!1;const a=this._getShadowRoot().elementFromPoint(e,r);if(!a)return!1;const d=ti(this.element);return a===d||d.contains(a)}_startReceiving(t,e){const r=this._activeSiblings;!r.has(t)&&e.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:r})=>{Lv(r,e.top,e.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=wA(ti(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function wH(n,t){const{top:e,bottom:r,height:a}=n,d=.05*a;return t>=e-d&&t<=e+d?1:t>=r-d&&t<=r+d?2:0}function SH(n,t){const{left:e,right:r,width:a}=n,d=.05*a;return t>=e-d&&t<=e+d?1:t>=r-d&&t<=r+d?2:0}const vS=Gc({passive:!1,capture:!0});let Sre=(()=>{class n{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new pe,this.pointerUp=new pe,this.scroll=new pe,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,vS)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,vS)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const a=r.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:vS}),a||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:vS}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,p)=>{this._document.addEventListener(p,d.handler,d.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new sn(a=>this._ngZone.runOutsideAngular(()=>{const p=f=>{this._activeDragInstances.length&&a.next(f)};return e.addEventListener("scroll",p,!0),()=>{e.removeEventListener("scroll",p,!0)}}))),wr(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(K(et),K(Xe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ere={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ux=(()=>{class n{constructor(e,r,a,d){this._document=e,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=d}createDrag(e,r=Ere){return new Cre(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new bre(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(K(Xe),K(et),K(Bc),K(Sre))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EH=new Ee("CDK_DRAG_PARENT"),DH=new Ee("CdkDropListGroup"),TH=new Ee("CDK_DRAG_CONFIG");let Dre=0;const RH=new Ee("CdkDropList");let Tre=(()=>{class n{constructor(e,r,a,d,p,f,m){this.element=e,this._changeDetectorRef=a,this._scrollDispatcher=d,this._dir=p,this._group=f,this._destroyed=new pe,this.connectedTo=[],this.id="cdk-drop-list-"+Dre++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new z,this.entered=new z,this.exited=new z,this.sorted=new z,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,m&&this._assignDefaults(m),this._dropListRef.enterPredicate=(v,C)=>this.enterPredicate(v.data,C.data),this._dropListRef.sortPredicate=(v,C,b)=>this.sortPredicate(v,C.data,b.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),f&&f._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=un(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Qi(this._dir.value),ei(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=EA(this.connectedTo).map(a=>"string"==typeof a?n._dropLists.find(p=>p.id===a):a);if(this._group&&this._group._items.forEach(a=>{-1===r.indexOf(a)&&r.push(a)}),!this._scrollableParentsResolved){const a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=un(this.sortingDisabled),e.autoScrollDisabled=un(this.autoScrollDisabled),e.autoScrollStep=ko(this.autoScrollStep,2),e.connectedTo(r.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:a,sortingDisabled:d,listAutoScrollDisabled:p,listOrientation:f}=e;this.disabled=null!=a&&a,this.sortingDisabled=null!=d&&d,this.autoScrollDisabled=null!=p&&p,this.orientation=f||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(R(Ge),R(ux),R(_n),R(JL),R(gr,8),R(DH,12),R(TH,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(rt("id",r.id),Ue("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[gt([{provide:DH,useValue:void 0},{provide:RH,useExisting:n}])]}),n})();const AH=new Ee("CdkDragHandle"),Rre=new Ee("CdkDragPlaceholder"),Are=new Ee("CdkDragPreview");let xre=(()=>{class n{constructor(e,r,a,d,p,f,m,v,C,b,T){this.element=e,this.dropContainer=r,this._ngZone=d,this._viewContainerRef=p,this._dir=m,this._changeDetectorRef=C,this._selfHandle=b,this._parentDrag=T,this._destroyed=new pe,this.started=new z,this.released=new z,this.ended=new z,this.entered=new z,this.exited=new z,this.dropped=new z,this.moved=new sn(M=>{const H=this._dragRef.moved.pipe(Je($=>({source:this,pointerPosition:$.pointerPosition,event:$.event,delta:$.delta,distance:$.distance}))).subscribe(M);return()=>{H.unsubscribe()}}),this._dragRef=v.createDrag(e,{dragStartThreshold:f&&null!=f.dragStartThreshold?f.dragStartThreshold:5,pointerDirectionChangeThreshold:f&&null!=f.pointerDirectionChangeThreshold?f.pointerDirectionChangeThreshold:5,zIndex:null==f?void 0:f.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),f&&this._assignDefaults(f),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=un(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(er(1),ei(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,a=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const r=this.element.nativeElement;let a=r;this.rootElementSelector&&(a=void 0!==r.closest?r.closest(this.rootElementSelector):null===(e=r.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(a||r)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):ti(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,a=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,p=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof a&&a?a:ko(a),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(p).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(er(1)).subscribe(()=>{var r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let a=this.element.nativeElement.parentElement;for(;a;){if(a.classList.contains("cdk-drag")){e.withParent((null===(r=n._dragInstances.find(d=>d.element.nativeElement===a))||void 0===r?void 0:r._dragRef)||null);break}a=a.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:a,constrainPosition:d,previewClass:p,boundaryElement:f,draggingDisabled:m,rootElementSelector:v,previewContainer:C}=e;this.disabled=null!=m&&m,this.dragStartDelay=a||0,r&&(this.lockAxis=r),d&&(this.constrainPosition=d),p&&(this.previewClass=p),f&&(this.boundaryElement=f),v&&(this.rootElementSelector=v),C&&(this.previewContainer=C)}_setupHandlesListener(){this._handles.changes.pipe(Qi(this._handles),qi(e=>{const r=e.filter(a=>a._parentDrag===this).map(a=>a.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Go(e=>wr(...e.map(r=>r._stateChanges.pipe(Qi(r))))),ei(this._destroyed)).subscribe(e=>{const r=this._dragRef,a=e.element.nativeElement;e.disabled?r.disableHandle(a):r.enableHandle(a)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(R(Ge),R(RH,12),R(Xe),R(et),R(Nn),R(TH,8),R(gr,8),R(ux),R(_n),R(AH,10),R(EH,12))},n.\u0275dir=ce({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,a){if(1&e&&(Bt(a,Are,5),Bt(a,Rre,5),Bt(a,AH,5)),2&e){let d;qe(d=Qe())&&(r._previewTemplate=d.first),qe(d=Qe())&&(r._placeholderTemplate=d.first),qe(d=Qe())&&(r._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&Ue("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[gt([{provide:EH,useExisting:n}]),$t]}),n})(),Ire=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({providers:[ux],imports:[VA]}),n})(),Mre=(()=>{class n{constructor(e){this.formBuilder=e,this.groupInfo=new SX,this.success=!1}resetGroupInfo(e){this.createGroupForm=this.formBuilder.group({groupIDs:[e.groupIDs,or.required],title:[e.title,or.required],description:[e.description],category:[e.category]})}ngOnChanges(e){for(const r in e)this.resetGroupInfo(e[r].currentValue)}doCancel(){this.success=!1}doCreate(){this.success=!0}ngOnInit(){this.resetGroupInfo(this.groupInfo.setToEmpty())}get f(){return this.createGroupForm.controls}onSubmit(){this.createGroupForm.invalid||(this.groupInfo.override({title:this.f.title.value,description:this.f.description.value,category:this.f.category.value}),this.success?(ne.broadcastCommand(this,"CreateGroup",this.groupInfo),ne.broadcastCommand(this,"SetDirty")):ne.broadcastCommand(this,"CloseCreateGroup"),this.success=!1)}ngOnDestroy(){this.createGroupForm=null,this.groupInfo=null}}return n.\u0275fac=function(e){return new(e||n)(R(Bs))},n.\u0275cmp=Ce({type:n,selectors:[["app-create-group"]],features:[$t],decls:28,vars:1,consts:[[1,"container"],["rowHeight","300px"],[2,"width","99%",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","title",1,"col-sm-1","col-form-label"],[1,"col-sm-7"],["type","text","formControlName","title","id","title","placeholder","title for the new group",1,"form-control"],["for","groupIDs",1,"col-sm-1","col-form-label"],[1,"col-sm-3"],["type","text","formControlName","groupIDs","id","groupIDs","placeholder","groupIDs",1,"form-control"],["for","description",1,"col-sm-1","col-form-label"],[1,"col-sm-11"],["type","text","formControlName","description","id","description","placeholder","description for the new group",1,"form-control"],["for","category",1,"col-sm-1","col-form-label"],["type","text","formControlName","category","id","category","placeholder","category of the new group",1,"form-control"],[1,"offset-sm-1","col-sm-1"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",1)(2,"form",2),U("ngSubmit",function(){return r.onSubmit()}),S(3,"div",3)(4,"label",4),F(5,"Title:"),E(),S(6,"div",5),X(7,"input",6),E(),S(8,"label",7),F(9,"GroupID:"),E(),S(10,"div",8),X(11,"input",9),E()(),S(12,"div",3)(13,"label",10),F(14,"Description:"),E(),S(15,"div",11),X(16,"input",12),E()(),S(17,"div",3)(18,"label",13),F(19,"Category:"),E(),S(20,"div",5),X(21,"input",14),E(),S(22,"div",15)(23,"button",16),U("click",function(){return r.doCancel()}),F(24,"Cancel"),E()(),S(25,"div",15)(26,"button",17),U("click",function(){return r.doCreate()}),F(27,"Create"),E()()()()()()),2&e&&(D(2),I("formGroup",r.createGroupForm))},directives:[as,ss,Vr,Yi,fr,xo],styles:[""]}),n})();function Pre(n,t){1&n&&X(0,"app-create-group")}function Fre(n,t){if(1&n&&(bs(),S(0,"svg",20),X(1,"circle",21),E()),2&n){const e=L().$implicit;D(1),ln("fill",e.polarityColor()),rt("fill",e.polarityColor())}}function Nre(n,t){if(1&n){const e=le();S(0,"div",16)(1,"div"),V(2,Fre,2,3,"svg",17),S(3,"button",18),U("click",function(){const d=J(e).$implicit;return L(2).doToggleOfInterest(d)}),F(4),E(),S(5,"button",19),F(6),E(),S(7,"span"),F(8),E()()()}if(2&n){const e=t.$implicit;D(2),I("ngIf",e.canShowPolarity()),D(2),_t(" ",e.sentTag()," "),D(2),Ae(e.getGroupID()),D(1),cn(e.rhetClass),D(1),Ae(e.text)}}function Lre(n,t){if(1&n&&(S(0,"div")(1,"span"),F(2),E(),S(3,"button",19),F(4),E()()),2&n){const e=L().$implicit;D(2),ns("",e.text," (",e.memberCount(),")"),D(2),Ae(e.getGroupID())}}function kre(n,t){if(1&n&&(bs(),S(0,"svg",20),X(1,"circle",21),E()),2&n){const e=L(2).$implicit;D(1),ln("fill",e.polarityColor()),rt("fill",e.polarityColor())}}function Gre(n,t){if(1&n&&(S(0,"div",23),V(1,kre,2,3,"svg",17),S(2,"span"),F(3),E()()),2&n){const e=L().$implicit;D(1),I("ngIf",e.canShowPolarity()),D(1),cn(e.rhetClass),D(1),Ae(e.shortText())}}function Hre(n,t){if(1&n&&(S(0,"div",16),V(1,Lre,5,3,"div",7),V(2,Gre,4,4,"div",22),E()),2&n){const e=t.$implicit;D(1),I("ngIf",e.isGroup()),D(1),I("ngIf",!e.isGroup())}}const OH=function(n){return[n]};function Vre(n,t){if(1&n){const e=le();S(0,"div",6),V(1,Pre,1,0,"app-create-group",7),S(2,"div",8)(3,"div",9)(4,"div",10)(5,"h2"),F(6,"Selected Items"),E(),S(7,"div",11,12),U("cdkDropListDropped",function(a){return J(e),L().onDropFromUngroup(a)}),V(9,Nre,9,6,"div",13),E()()(),S(10,"div",14)(11,"div",10)(12,"h2"),F(13,"Grouped"),E(),S(14,"div",11,15),U("cdkDropListDropped",function(a){return J(e),L().onDropFromGroup(a)}),V(16,Hre,3,2,"div",13),E()()()()()}if(2&n){const e=Lr(8),r=Lr(15),a=L();D(1),I("ngIf",a.showCreateGroup),D(6),I("cdkDropListConnectedTo",rr(7,OH,r))("cdkDropListData",a.UngroupedList()),D(2),I("ngForOf",a.UngroupedList()),D(5),I("cdkDropListConnectedTo",rr(9,OH,e))("cdkDropListData",a.GroupedList()),D(2),I("ngForOf",a.GroupedList())}}let Bre=(()=>{class n{constructor(e,r){this.tagService=e,this.pService=r,this.showCreateGroup=!1,this._groupedList=new Array,this._ungroupedList=new Array}ngOnInit(){this.sub=this.pService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.registerCommand(this,"CloseCreateGroup",this.onCloseCreateGroup),ne.registerCommand(this,"CreateGroup",this.onCreateGroup),ne.processCommands(this)}onRefreshDisplay(){this.rebuildUngroupedProxy(),this.rebuildGroupedProxy()}doToggleShowCreateGroup(){this.showCreateGroup=!this.showCreateGroup}onDropFromUngroup(e){const r=e.container.data,a=e.previousContainer.data,d=a[e.previousIndex];e.previousContainer===e.container?d.isGroup()||(ue.info("Sorting.."),cx(r,e.previousIndex,e.currentIndex),this.executeRegrouping(r)):d.isGroup()||(ue.info("Ungrouping.."),yH(a,r,e.previousIndex,e.currentIndex),this.doMarkItemsSelected(a,!1),this.executeRegrouping(a),this.doMarkItemsSelected(r,!0)),this.onRefreshDisplay()}onDropFromGroup(e){const r=e.container.data,a=e.previousContainer.data,d=a[e.previousIndex];e.previousContainer===e.container?d.isGroup()||(ue.info("Regrouping.."),cx(r,e.previousIndex,e.currentIndex),d.clearGroupID(),this.executeRegrouping(r)):d.isGroup()||(ue.info("Grouping.."),yH(a,r,e.previousIndex,e.currentIndex),this.doMarkItemsSelected(r,!1),this.executeRegrouping(r),this.doMarkItemsSelected(a,!0)),this.onRefreshDisplay()}executeRegrouping(e){let r=null,a=new Array;null==e||e.forEach(d=>{d.isGroup()?(r=d,a.push(r)):r&&d.isSentence()?r.addChild(d):d.isSentence()&&this.doMarkItemsSelected([d],!0)}),a.forEach(d=>{d.processGroup()}),this.rebuildGroupedProxy(),this.rebuildUngroupedProxy(),ne.broadcastCommand(this,"SetDirty")}doMarkItemsSelected(e,r){e.forEach(a=>{const d=a.member;d&&(d.isItemOfInterest=r)})}doToggleOfInterest(e){const r=e.member;r&&(r.isItemOfInterest=!r.isItemOfInterest,this.rebuildUngroupedProxy())}resolveStrongReference(e){return this.pService.resolve(e)}toSentenceProxy(e){if(e)return new L2({member:e,text:e.text,referenceType:"LaSentence",rhetClass:e.readRhetClass()});console.log("null value sent to toSentenceProxy")}toGroupProxy(e){if(e)return new L2({member:e,text:`${e.title}`,referenceType:"LaGroup",rhetClass:"Sentence"});console.log("null value sent to toGroupProxy")}rebuildUngroupedProxy(){!this.isModelOpen||(this._ungroupedList=new Array,this.pService.getSentences().filter(e=>e.isItemOfInterest).forEach(e=>{const r=this.toSentenceProxy(e);r.clearGroupID(),r&&this._ungroupedList.push(r)}))}UngroupedList(){return this._ungroupedList}rebuildGroupedProxy(){!this.isModelOpen||(this._groupedList=new Array,this.pService.getGroups().forEach(e=>{const r=this.toGroupProxy(e);this._groupedList.push(r),e.getMembers().forEach(a=>{const d=this.pService.resolve(a),p=this.toSentenceProxy(d);p&&this._groupedList.push(p)})}))}GroupedList(){return this._groupedList}get isModelOpen(){return this.pService.legalModel()}onCloseCreateGroup(){this.showCreateGroup=!1}onCreateGroup(e){var r;null===(r=this.pService)||void 0===r||r.createGroup(e),this.showCreateGroup=!1,this.onRefreshDisplay()}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(jr))},n.\u0275cmp=Ce({type:n,selectors:[["app-grouping"]],decls:11,vars:1,consts:[[1,"sticky-button-bar"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container"],[1,"btn","btn-info",2,"min-width","180px",3,"click"],[1,"btn","bg-light",2,"padding-top","0px","padding-left","10px",3,"click"],["class","text-container","style","width: 100%",4,"ngIf"],[1,"text-container",2,"width","100%"],[4,"ngIf"],[1,"row"],[1,"offset-sm-1","col-5"],[1,"hitzone"],["cdkDropList","",1,"dragable-list",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["ungroupedListSource","cdkDropList"],["cdkDrag","","class","drag-block",4,"ngFor","ngForOf"],[1,"col-5"],["groupedListSource","cdkDropList"],["cdkDrag","",1,"drag-block"],["height","20","width","20",4,"ngIf"],[1,"badge","rounded-pill","bg-info","text-dark",2,"margin-left","10px","margin-right","5px",3,"click"],[1,"badge","rounded-pill","bg-info","text-dark","grouping-tag"],["height","20","width","20"],["cx","12","cy","10","r","6","stroke","black","stroke-width","1"],["style","padding-left: 30px",4,"ngIf"],[2,"padding-left","30px"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),U("click",function(){return r.doToggleShowCreateGroup()}),F(5,"Create Group"),E(),S(6,"mat-icon",4),U("click",function(){return r.doToggleNotes()}),F(7,"note_add"),E(),S(8,"mat-icon",4),U("click",function(){return r.doToggleTags()}),F(9,"local_offer"),E()()()(),V(10,Vre,17,11,"div",5),E()),2&e&&(D(10),I("ngIf",r.isModelOpen))},directives:[Ji,ut,Mre,Tre,Wt,xre],styles:[".wrapper[_ngcontent-%COMP%]{margin:25px auto;max-width:600px;text-align:center;padding:0 20px}.hitzone[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:top}.dragable-list[_ngcontent-%COMP%]{width:100%;border:solid 1px #ccc;min-height:300px;display:inline-block;border-radius:4px;overflow:hidden;margin-top:25px}.drag-block[_ngcontent-%COMP%]{padding:10px;border-bottom:solid 1px #ccc;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-block[_ngcontent-%COMP%]:last-child{border:none}.dragable-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-block[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})();function Wre(n,t){if(1&n){const e=le();S(0,"button",8),U("click",function(a){const p=J(e).$implicit;return L().applyFilter(a,p)}),F(1),E()}if(2&n){const e=t.$implicit;cn(e.name),D(1),_t("",e.markerLabel(),"\xa0 \xa0")}}function jre(n,t){1&n&&X(0,"app-case-title",9),2&n&&I("caseInfo",L().getModelCoreInfo())}function Ure(n,t){if(1&n&&X(0,"app-paragraph",11),2&n){const e=t.$implicit;I("userCanEdit",L(2).userCanEdit)("paragraph",e)}}function $re(n,t){if(1&n&&(S(0,"div"),V(1,Ure,1,2,"app-paragraph",10),E()),2&n){const e=L();D(1),I("ngForOf",e.getParagraphs())}}function zre(n,t){if(1&n&&X(0,"app-sentence",13),2&n){const e=t.$implicit,r=L(2);I("userCanEdit",r.userCanEdit)("filter",r.filter)("sentence",e)("renderLikePage",!1)}}function Kre(n,t){if(1&n&&(S(0,"div"),V(1,zre,1,4,"app-sentence",12),E()),2&n){const e=L();D(1),I("ngForOf",e.getFilteredSentences())}}let Yre=(()=>{class n{constructor(e,r,a,d){this.route=e,this.tagService=r,this.eService=a,this.cService=d,this.userCanEdit=!1,this.banner=" you must logged-in edit this document (so your changes can be saved)",this.filter="All",this.cService.defaultModelRefId.length>0&&(ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}get canShareNotes(){return lt.isLegalMarker&&this.cService.hasModel()}loadCaseFromSearch(e){ue.info(`caseID  ${e}`,"loading from Search..."),this.eService.findCase$(e).subscribe(r=>{const a=r[0];a?(this.cService.createLegalModel(Av,a._source),ne.broadcastCommand(this,"RefreshDisplay")):ue.warning(`caseID ${e} not found in search`)})}get getSentenceLaStats(){return this.cService.computeLaStats()}doToggleNotes(){this.tagService.doToggleNotes()}doToggleTags(){this.tagService.doToggleTags()}applyFilter(e,r){this.filter=r.filter}getParagraphs(){return this.cService.getParagraphs()}getFilteredSentences(){return this.cService.getFilteredSentenceList(this.filter)}isSentenceFilter(){return fe.matches(this.filter,"Sentence")}HasNoSentenceFilter(){return fe.matches(this.filter,"All")}get isModelOpen(){return this.cService.legalModel()}ngOnInit(){this.sub=this.cService.getCurrentModel$().subscribe(r=>{this.onRefreshDisplay(),this.tagService.gotoCurrentAnchorTag()}),ne.registerCommand(this,"GoToBookmark",this.onGoToBookmark),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this);var e=this.route.snapshot.paramMap.get("caseid");null!=e&&(this.cService.defaultModelRefId=e,ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."),this.loadCaseFromSearch(this.cService.defaultModelRefId))}getModelCoreInfo(){var e;return null===(e=this.cService)||void 0===e?void 0:e.getModelCoreInfo()}onGoToBookmark(e){this.filter="All",this.onRefreshDisplay()}onRefreshDisplay(){this.cService.computeLaStats()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Us),R(ui),R(Da),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-viewer"]],inputs:{userCanEdit:"userCanEdit"},decls:13,vars:5,consts:[[1,"sticky-button-bar"],[2,"text-align","center","background-color","coral","max-height","40px"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","menu-container",2,"max-width","90%"],[3,"class","click",4,"ngFor","ngForOf"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],[4,"ngIf"],[3,"click"],[3,"caseInfo"],[3,"userCanEdit","paragraph",4,"ngFor","ngForOf"],[3,"userCanEdit","paragraph"],[3,"userCanEdit","filter","sentence","renderLikePage",4,"ngFor","ngForOf"],[3,"userCanEdit","filter","sentence","renderLikePage"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"p",1)(2,"strong"),F(3),E()(),S(4,"div",2)(5,"div",3),V(6,Wre,2,3,"button",4),E()()(),S(7,"div",5),V(8,jre,1,1,"app-case-title",6),V(9,$re,2,1,"div",7),V(10,Kre,2,1,"div",7),E(),X(11,"br")(12,"br")),2&e&&(D(3),_t(" READONLY: ",r.banner," "),D(3),I("ngForOf",r.getSentenceLaStats),D(2),I("ngIf",r.isModelOpen),D(1),I("ngIf",r.HasNoSentenceFilter()),D(1),I("ngIf",!r.HasNoSentenceFilter()))},directives:[Wt,ut,tf,Sd,Vo],encapsulation:2}),n})();function qre(n,t){if(1&n&&(S(0,"span")(1,"button",2),F(2),E()()),2&n){const e=t.$implicit;D(2),Ae(e)}}function Qre(n,t){if(1&n&&X(0,"app-sentence",3),2&n){const e=t.$implicit;I("userCanAddNotesAndTags",!0)("renderLikePage",!0)("sentence",e)("userCanEdit",!0)}}let Jre=(()=>{class n{constructor(e,r){this.tagService=e,this.cService=r}ngOnInit(){}getSectionBadges(){var e;return null===(e=this.footnote)||void 0===e?void 0:e.getSectionBadges()}getFilteredSentences(){var e;return null===(e=this.footnote)||void 0===e?void 0:e.sentences}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-footnote"]],inputs:{footnote:"footnote"},decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"userCanAddNotesAndTags","renderLikePage","sentence","userCanEdit",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-info","text-dark",2,"background-color","darkkhaki","margin-left","5px","margin-right","10px"],[3,"userCanAddNotesAndTags","renderLikePage","sentence","userCanEdit"]],template:function(e,r){1&e&&(S(0,"b"),F(1),E(),V(2,qre,3,1,"span",0),V(3,Qre,1,4,"app-sentence",1)),2&e&&(D(1),_t("",r.footnote.footnoteID,"\xa0 \xa0 "),D(1),I("ngForOf",r.getSectionBadges()),D(1),I("ngForOf",r.getFilteredSentences()))},directives:[Wt,Vo],encapsulation:2}),n})();function Xre(n,t){if(1&n){const e=le();S(0,"div",7)(1,"div",8)(2,"span",9),F(3,"FOOTNOTE EDITOR"),E(),S(4,"button",10),U("click",function(){return J(e),L(2).doToggleSentenceSelection()}),F(5,"select sentence "),S(6,"mat-icon"),F(7,"view_headline"),E()(),S(8,"button",11),U("click",function(){return J(e),L(2).doToggleSectionEdit()}),F(9,"sections "),S(10,"mat-icon"),F(11,"view_agenda"),E()(),S(12,"button",12),U("click",function(){return J(e),L(2).doToggleLabel()}),F(13,"label"),S(14,"mat-icon"),F(15,"create"),E()(),S(16,"button",13),U("click",function(){return J(e),L(2).doToggleColors()}),F(17,"color"),S(18,"mat-icon"),F(19,"brush"),E()(),S(20,"button",14),U("click",function(){return J(e),L(2).doToggleCanJoinText()}),F(21,"join text "),S(22,"mat-icon"),F(23,"swap_horiz"),E()(),S(24,"button",15),U("click",function(){return J(e),L(2).doToggleCanSplitText()}),F(25,"split text "),S(26,"mat-icon"),F(27,"space_bar"),E()(),S(28,"button",16),U("click",function(){return J(e),L(2).doToggleCanQuickSplitText()}),F(29,"quick split"),S(30,"mat-icon"),F(31,"content_cut"),E()(),S(32,"button",17),U("click",function(){return J(e),L(2).doToggleCanEditText()}),F(33,"edit text "),S(34,"mat-icon"),F(35,"edit_attributes"),E()()()()}}function Zre(n,t){if(1&n&&(S(0,"div",5),V(1,Xre,36,0,"div",6),E()),2&n){const e=L();D(1),I("ngIf",e.isModelOpen)}}function eoe(n,t){1&n&&X(0,"app-case-title",18),2&n&&I("caseInfo",L().getModelCoreInfo())}function toe(n,t){if(1&n&&(S(0,"p"),X(1,"app-footnote",19),E()),2&n){const e=t.$implicit;D(1),I("footnote",e)}}let noe=(()=>{class n{constructor(e,r){this.tagService=e,this.cService=r}get isModelOpen(){return this.cService.legalModel()}isPowerUser(){return this.tagService.isPowerUser}onRefreshDisplay(){}ngOnInit(){this.tagService.openPage=Dl.Footnote,this.sub=this.cService.getCurrentModel$().subscribe(e=>{this.onRefreshDisplay()}),ne.registerCommand(this,"RefreshDisplay",this.onRefreshDisplay),ne.processCommands(this)}ngOnDestroy(){this.tagService.openPage=Dl.None,this.sub&&this.sub.unsubscribe()}getModelCoreInfo(){return this.cService.getModelCoreInfo()}getFootnotes(){return this.cService.getFootnotes()}doToggleCanEditText(){this.tagService.doToggleCanEditText()}doToggleLabel(){this.tagService.doToggleLabel()}doToggleColors(){this.tagService.doToggleColors()}doToggleCanJoinText(){this.tagService.doToggleCanJoinText()}doToggleCanSplitText(){this.tagService.doToggleCanSplitText()}doToggleCanQuickSplitText(){this.tagService.doToggleCanQuickSplitText()}doToggleCanDeleteText(){this.tagService.doToggleCanDeleteText()}doToggleInsertSentence(){this.tagService.doToggleInsertSentence()}doToggleSentenceSelection(){this.tagService.doToggleSentenceSelection()}doToggleSectionEdit(){this.tagService.doToggleSectionEdit()}}return n.\u0275fac=function(e){return new(e||n)(R(ui),R(hn))},n.\u0275cmp=Ce({type:n,selectors:[["app-footnotes"]],decls:5,vars:3,consts:[[1,"navbar","navbar-expand-md","sticky-button-bar"],["class","container menu-container","style","text-align: center; max-width: 90%; border-style: solid; border-width: medium",4,"ngIf"],[1,"container","text-container"],[3,"caseInfo",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"container","menu-container",2,"text-align","center","max-width","90%","border-style","solid","border-width","medium"],["class","btn-toolbar","role","toolbar",4,"ngIf"],["role","toolbar",1,"btn-toolbar"],["role","group",1,"btn-group","mr-10"],[2,"padding-right","100px"],["tooltip","select a sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","show / assign sections","type","button",1,"btn","btn-badge",3,"click"],["tooltip","label / reclassify each sentence","type","button",1,"btn","btn-badge",3,"click"],["tooltip","show / hide color ","type","button",1,"btn","btn-badge",3,"click"],["tooltip","join text to previous sentence",1,"btn","btn-badge",3,"click"],["tooltip","split the text into two sentences",1,"btn","btn-badge",3,"click"],["tooltip","Quick Split Sentence",1,"btn","btn-badge",3,"click"],["tooltip","edit the sentence text",1,"btn","btn-badge",3,"click"],[3,"caseInfo"],[3,"footnote"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,Zre,2,1,"div",1),E(),S(2,"div",2),V(3,eoe,1,1,"app-case-title",3),V(4,toe,2,1,"p",4),E()),2&e&&(D(1),I("ngIf",r.isPowerUser()),D(2),I("ngIf",r.isModelOpen),D(1),I("ngForOf",r.getFootnotes()))},directives:[ut,Br,Ji,tf,Wt,Jre],styles:[""]}),n})();function ioe(n,t){if(1&n){const e=le();S(0,"tr")(1,"td"),F(2),Ku(3,"shortguid"),E(),S(4,"td"),F(5),Ku(6,"lastupdate"),E(),S(7,"td"),F(8),E(),S(9,"td"),F(10),E(),S(11,"td"),F(12),E(),S(13,"td"),F(14),E(),S(15,"td"),F(16),E(),S(17,"td")(18,"button",7),U("click",function(){const d=J(e).$implicit;return L().doStart(d)}),F(19,"Start"),E()()()}if(2&n){const e=t.$implicit;D(2),Ae(Yu(3,7,e.sourceGuid)),D(3),Ae(Yu(6,9,e.timeStamp)),D(3),Ae(e.name),D(2),Ae(e.type),D(2),Ae(e.active),D(2),Ae(e.description),D(2),Ae(e.extra)}}let roe=(()=>{class n{constructor(e){this.hubService=e,this.plugins=[]}ngOnInit(){this.banner="Enrichment and Markup Services",ne.registerCommand(this,"RefreshPlugins",this.onRefreshPlugins),ne.processCommands(this)}onRefreshPlugins(){this.plugins=this.hubService.pluginList()}doStart(e){this.hubService.broadcastTopic("Start",e)}doStop(e){this.hubService.broadcastTopic("Stop",e)}}return n.\u0275fac=function(e){return new(e||n)(R(pS))},n.\u0275cmp=Ce({type:n,selectors:[["app-plugin"]],decls:29,vars:3,consts:[[1,"sticky-button-bar"],[2,"text-align","center","background-color","rgb(132, 132, 245)","max-height","40px"],[1,"navbar","navbar-expand-md","sticky-button-bar"],[1,"container","text-container"],[1,"table","table-striped","table-bordered"],["scope","col1"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"p",1)(2,"strong"),F(3),E()(),X(4,"div",2),E(),S(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),F(10,"Guid"),E(),S(11,"th",5),F(12,"Time"),E(),S(13,"th",5),F(14,"Name"),E(),S(15,"th",5),F(16,"Type"),E(),S(17,"th",5),F(18,"Active"),E(),S(19,"th",5),F(20,"Description"),E(),S(21,"th",5),F(22,"Extra"),E(),S(23,"th",5),F(24,"Command"),E()()(),S(25,"tbody"),V(26,ioe,20,11,"tr",6),E()()(),X(27,"br")(28,"br")),2&e&&(D(3),ns(" PLUGINS: ",r.banner," (",r.plugins.length,")"),D(23),I("ngForOf",r.plugins))},directives:[Wt],pipes:[jne,Wne],encapsulation:2}),n})();class ooe extends dn{constructor(t){super(t),this.globalSplitters=t.globalSplitters,this.globalExceptions=t.globalExceptions,this.ExceptionDictionary=this.buildExceptionDictionary(this.globalExceptions)}buildExceptionDictionary(t){const e={},r={};return t.forEach(a=>{const d=a.replace(/\./g,"@!");e[a]=d,r[d]=a}),{exDic:e,exRev:r}}}const soe=JSON.parse('["Jan.","Feb.","Mar.","Apr.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec.","Vet. App.","Vet. App","Vet.App.","Vet.App","Fed. Cir.","Fed.Cir.","Fed. Reg.","Fed.Reg.","U. S. C. A.","U.S.C.A.","U. S. C.","U.S.C.","U. S. A.","U.S.A.","C. F. R.","C.F.R.","U. S.","U.S.","J.P.S.","F.","Pub.L.No.","Pub. L. No.","Pub.L. No.","Stat.","Cf.","cf.","Id. (","Id.  (","Id. at","Id. p.","id. (","id.  (","id. at","id. p."," v.","...",". . .","\u2026",".) (",".\\") (",".\u201d) (",".\u2019) (",".\u2019\u201d) (","Ft.","St.","No.","Dr.","Mr.","Ms.","Mrs.","Gov.","Pvt.","Pfc.","Cpl.","Sgt.","Lt.","Capt.","Maj.","Col.","Gen."," A."," B."," C."," D."," E."," F."," G."," H."," I."," J."," K."," L."," M."," N."," O."," P."," Q."," R."," S."," T."," U."," V."," W."," X."," Y."," Z.",".A.",".B.",".C.",".D.",".E.",".F.",".G.",".H.",".I.",".J.",".K.",".L.",".M.",".N.",".O.",".P.",".Q.",".R.",".S.",".T.",".U.",".V.",".W.",".X.",".Y.",".Z."]'),aoe=JSON.parse('[". ",".\\" ",".\u201d ",".\' ",".\u2019 ",".\u2019\u201d ",".) ",".\\") ",".\u201d) ",".\u2019) ",".\u2019\u201d) "]'),loe=JSON.parse('{"DOCKET NO.":"caseNumber","Citation Nr:":"caseNumber","Decision Date:":"caseDate","Archive Date:":"decisionDate"}'),coe=JSON.parse('{"THE ISSUE":"issuesSection","THE ISSUES":"issuesSection","ISSUE":"issuesSection","ISSUES":"issuesSection","INTRODUCTION":"introductionSection","FINDING OF FACT":"findingsSection","FINDINGS OF FACT":"findingsSection","CONCLUSION OF LAW":"conclusionsLawSection","CONCLUSIONS OF LAW":"conclusionsLawSection","REASONS AND BASES FOR FINDING AND CONCLUSION":"reasonsBasesSection","REASONS AND BASES FOR FINDING AND CONCLUSIONS":"reasonsBasesSection","REASONS AND BASES FOR FINDINGS AND CONCLUSION":"reasonsBasesSection","REASONS AND BASES FOR FINDINGS AND CONCLUSIONS":"reasonsBasesSection","ORDER":"orderSection","REMAND":"remandSection","WITNESS AT HEARING ON APPEAL":"unknownSection","ATTORNEY FOR THE BOARD":"unknownSection","REPRESENTATION":"unknownSection"}'),uoe=JSON.parse('{"ruleID":"SC_1","label":"The veteran has a disability that is service-connected.","nodes":[{"ruleID":"SC_1.1","label":"The veteran has a present disability.","operation":"AND","nodes":[{"ruleID":"SC_1.1.1","label":"The veteran\u2019s claim is for PTSD, and the veteran presently has a diagnosis of PTSD supported by medical evidence diagnosing the condition in accordance with 38 C.F.R. \xa7 4.125(a).","operation":"IMP"}]},{"ruleID":"SC_1.2","label":"The veteran suffered an in-service incurrence or aggravation of a disease or injury in line of duty.","operation":"AND","nodes":[{"ruleID":"SC_1.2.1","label":"The veteran suffered an in-service incurrence of a disease or injury.","operation":"OR","nodes":[{"ruleID":"SC_1.2.1.1","label":"The veteran suffered an injury or contracted a disease during active military service.","operation":"AND","nodes":[{"ruleID":"SC_1.2.1.1.1","label":"The veteran\u2019s claim is for PTSD, and there is credible supporting evidence that the claimed in-service stressor occurred.","operation":"OR"},{"ruleID":"SC_1.2.1.1.2","label":"There is adequate evidence that the veteran suffered from the claimed disease or injury while in service.","operation":"OR"}]},{"ruleID":"SC_1.2.1.2","label":"The injury or disease did not preexist entry into service.","operation":"AND","nodes":[{"ruleID":"SC_1.2.1.2.1","label":"The veteran is presumed to have been in sound condition when examined, accepted, and enrolled for service (the presumption of sound condition or presumption of soundness).","operation":"IMP","nodes":[{"ruleID":"SC_1.2.1.2.1.1","label":"The veteran served in the active military, naval, or air service, during a period of war or after December 31, 1946, and clear and unmistakable evidence demonstrates that the injury or disease existed before acceptance and enrollment and was not aggravated by such service.","operation":"REBUT"}]}]}]},{"ruleID":"SC_1.2.2","label":"The veteran suffered an in-service aggravation of a disease or injury.","operation":"OR","nodes":[{"ruleID":"SC_1.2.2.1","label":"The injury or disease preexisted entry into service.","operation":"AND"},{"ruleID":"SC_1.2.2.2","label":"There was an aggravation during service.","operation":"AND","nodes":[{"ruleID":"SC_1.2.2.2.1","label":"The presumption of aggravation has been satisfied.","operation":"IMP","nodes":[{"ruleID":"SC_1.2.2.2.1.1","label":"Based on clear and unmistakable evidence (obvious or manifest) that is undebatable, there is a specific finding that the increase in disability is due to the natural progress of the disease.","operation":"REBUT"}]}]}]},{"ruleID":"SC_1.2.3","label":"The disability is a result of the veteran\u2019s own willful misconduct or abuse of alcohol or drugs.","operation":"REBUT"}]},{"ruleID":"SC_1.3","label":"There is a causal relationship [nexus] between the present disability and the injury, disease, or aggravation of a preexisting injury or disease incurred during active duty.","operation":"AND","nodes":[{"ruleID":"SC_1.3.1","label":"The veteran\u2019s claim is for PTSD, and there is a link, established by medical evidence, between current symptoms and an in-service stressor.","operation":"IMP"}]}]}');class doe{constructor(t=""){this.title="",this.cleanSourceHTML="",this.caseNumber="",this.config=new ooe({treeRoot:uoe,globalExceptions:soe,globalSplitters:aoe,keyAttributes:loe,standardSections:coe}),this.url=t}replaceSplitJoin(t,e,r){return t.split(e).join(r)}FromTextToLSJson(t){const e=t.split("\r\n");return this.processTextArray(e)}makeInfo(t){const r=this.url.split("/").reverse()[0];return this.caseNumber=r.replace(".htm",""),new tS({guidKey:fe.generateUUID(),name:this.caseNumber,extension:".json",version:"0000",source:this.url,title:t[0],description:`${t[1]}, ${t[2]}`,keywords:t[5],notes:`${t[3]}, ${t[4]}`,lastChange:fe.getNowIsoDate()})}extractFootnotes(t){let e=!1;const r=new Array;return t.forEach(a=>{if(a.indexOf("Footnote")>0)e=!0,r.push(a);else if(e){let p=r.pop();p=`${p} ${a}`,r.push(p)}}),r}processTextArray(t){const e=new Array,r=new Array;let a=!1;t.forEach(v=>{const C=v.trim();if(0==C.length)return;const b=new tx(this.config);b.setBuffer(v);const M=b.readSentenceToLastToken().asString();a?r.push(M):e.push(M),C.startsWith("FOOTNOTES")&&(a=!0,e.pop())});const d=this.extractFootnotes(r);let p=this.makeInfo(e);return this.buildLegalCase(this.caseNumber,e,d).computeModel(p)}buildLegalCase(t,e,r){const a=new tx(this.config),d=new Array;for(var p=0;p<r.length;p++){let Q=r[p];a.setBuffer(Q);const Y=a.readSentenceToLastToken().findFootnoteRefNumber(),se=new F2({id:Y,footnoteNumber:`${Y}`,caseNumber:t});d.push(se.computeID());const De=a.breakUpTextBlock(Q);for(let Fe=0;Fe<De.length;Fe++){const yt=new pn({text:De[Fe],caseNumber:t,sectionType:se.footnoteID,sentenceNumber:`${Fe+1}`,paragraphNumber:"1"});se.addSentence(yt)}}let f=new co;f.text=e.join("\r\n");const m=new Array;let v=0;f.createParagraphs().forEach(Q=>{Q.id=""+ ++v,Q.parseGroupsIntoSets(a),m.push(Q)});let b="";const T=new Array;let M=0;for(var H=0;H<m.length;H++){M++;let Y=1;m[H].sets.forEach((se,De)=>{const Fe=new Mi(se),st=new Ta(Fe),yt=a.isSectionText(se);st.isSection=null!=yt,st.isSection&&(b=yt,De>0&&(M++,Y=1)),st.sectionType=b,st.id=`P${M}S${Y++}`,T.push(st)})}return new kee(a,t,T,d,this.cleanSourceHTML)}}let poe=(()=>{class n{constructor(e,r){this.http=e,this.aService=r}get API_URL(){return lt.converterURL}postConvertToHTML$(e){return this.postConvertTo$("/ToHtml",e)}postConvertToText$(e){return this.postConvertTo$("/ToText",e)}postConvertToLSJson$(e){return this.postConvertTo$("/Tolsjson",e)}postConvertTo$(e,r){const a=`${this.API_URL}${e}`,d=JSON.stringify({url:encodeURI(r)});ue.info("calling service",a);const p={headers:new mr({"Content-Type":"application/json"})};return this.http.post(a,d,p).pipe(Je(f=>f.payload),Xt(f=>{ue.info("catchError",f);const m=JSON.stringify(f,void 0,3);return ue.error(m,a),Re()}))}postConvertFromHTML$(e){return this.postConvertFrom$("/FromHtml",e)}postConvertFromText$(e,r){const a=new doe;a.url=e;const d=a.FromTextToLSJson(r);return Re([a.title,d])}postConvertFrom$(e,r){const a=`${this.API_URL}${e}`,d={text:r};ue.info("calling service",a);const p={headers:new mr({"Content-Type":"application/json"})};return this.http.post(a,d,p).pipe(Je(f=>f.payload),Xt(f=>{ue.info("catchError",f);const m=JSON.stringify(f,void 0,3);return ue.error(m,a),Re()}))}}return n.\u0275fac=function(e){return new(e||n)(K(Cl),K(_r))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hoe=(()=>{class n{constructor(e,r){this.cService=e,this.formBuilder=r,this.result="",this.title="localfile",this.ext="",this.text=""}ngOnInit(){this.convertForm=this.formBuilder.group({caseno:[""]})}ngOnDestroy(){this.convertForm=null}inputText(){return this.text}get f(){return this.convertForm.controls}convertedResult(){return fe.matches(this.ext,".json")?JSON.stringify(this.result,void 0,3):this.result}onFileOpen(e){this.readAndRestoreFile(e.target.files[0])}readAndRestoreFile(e){const r=new FileReader;r.onerror=a=>{ue.error("fail...",JSON.stringify(a.target))},r.onload=()=>{this.text=r.result},this.result="",this.title=e.name.split(".")[0],this.convertForm=this.formBuilder.group({caseno:[this.title]}),r.readAsText(e)}doCovertTextToLSJson(){this.title=this.f.caseno.value,this.cService.postConvertFromText$(this.title,this.text).subscribe(e=>{this.result=e[1],this.ext=".json",ue.success(`converted to ${this.ext}`,this.title)})}doClear(){}doSave(){let e,r="";const a=`${this.title}${this.ext}`;fe.matches(this.ext,".html")&&(r=this.result,e=new Blob([r],{type:"text/plain;charset=utf-8"})),fe.matches(this.ext,".txt")&&(r=this.result,e=new Blob([r],{type:"text/plain;charset=utf-8"})),fe.matches(this.ext,".json")&&(r=JSON.stringify(this.result),e=new Blob([r],{type:"text/plain;charset=utf-8"})),Qh(e,a),ue.info("saved",a)}}return n.\u0275fac=function(e){return new(e||n)(R(poe),R(Bs))},n.\u0275cmp=Ce({type:n,selectors:[["app-file-converter"]],decls:29,vars:4,consts:[[1,"convert-top"],[1,"container",2,"max-width","80%"],["rowHeight","100px"],[3,"formGroup"],[1,"form-group","row"],["for","caseno",1,"offset-sm-1","col-sm-1","col-form-label"],[1,"col-sm-1"],["type","text","formControlName","caseno","id","caseno","placeholder","case no.",1,"form-control"],[1,"offset-sm-1","col-sm-2"],["type","file",2,"display","none",3,"change"],["hiddenfileinput",""],[1,"btn","btn-info","btn-sm",3,"click"],[1,"col-sm-2"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"container","convert-container"]],template:function(e,r){if(1&e){const a=le();S(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),F(6,"Case Number:"),E(),S(7,"div",6),X(8,"input",7),E(),S(9,"div",8)(10,"input",9,10),U("change",function(p){return r.onFileOpen(p)}),E(),S(12,"button",11),U("click",function(){return J(a),Lr(11).click()}),F(13,"Open Text File to Convert"),E()(),S(14,"div",12)(15,"button",11),U("click",function(){return r.doCovertTextToLSJson()}),F(16,"Convert Text to LSJson"),E()(),S(17,"div",12)(18,"button",13),U("click",function(){return r.doSave()}),F(19,"Save File as LSJSON..."),E()()()()()()(),X(20,"br")(21,"br"),S(22,"div",14)(23,"h3"),F(24),E(),S(25,"pre"),F(26),E(),S(27,"pre"),F(28),E()()}2&e&&(D(3),I("formGroup",r.convertForm),D(21),_t("Filename: ",r.title,""),D(2),Ae(r.convertedResult()),D(2),Ae(r.inputText()))},directives:[as,ss,Vr,Yi,fr,xo],styles:[""]}),n})();const _S=[{path:"login",component:tie},{path:"register",component:mie},{path:"plugins",component:roe},{path:"teams",component:CZ,canActivate:[rH]},{path:"library",component:Hne,canActivate:[rH]},{path:"case/:caseid",component:nx},{path:"viewer",component:Yre},{path:"marker",component:nx},{path:"editor",component:yne},{path:"paragraphs",component:Qie},{path:"footnotes",component:noe},{path:"notestags",component:gre},{path:"original",component:oH},{path:"tags",component:nH},{path:"arguments",component:Kne},{path:"groups",component:Bie},{path:"selections",component:Uie},{path:"decision",component:Bne},{path:"search",component:sH},{path:"grouping",component:Bre},{path:"convert",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-case-converter"]],decls:5,vars:0,consts:[[1,"sticky-button-bar"],["mat-align-tabs","center",2,"padding-top","60px"],["label","Convert Case from Local File"]],template:function(e,r){1&e&&(S(0,"div",0)(1,"div",0)(2,"mat-tab-group",1)(3,"mat-tab",2),X(4,"app-file-converter"),E()()()())},directives:[dd,Wc,hoe],styles:[""]}),n})()}];let foe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=$e({imports:[[I2.forRoot(_S,{useHash:!0})],I2]}),n})(),goe=(()=>{class n{constructor(e,r){this.tagService=e,this.httpService=r,this.isLoadSuccess=!1,this.isPingSuccess=!1,window,window,this.configUrl="assets/config.json"}getConfig$(){return this.httpService.get(this.configUrl)}loadConfiguration$(){const e=new pe;return this.getConfig$().subscribe({next:r=>{!1===lt.production&&(Object.keys(r).forEach(a=>{lt[a]=r[a]}),lt.version+=" (dev)"),this.tagService.loadTagDefinitions(lt.defaultTags),this.tagService.loadTagDefinitions(lt.userTags),this.isLoadSuccess=!0,e.next(this.isLoadSuccess)},error:r=>e.error(r),complete:()=>console.info("complete")}),e}getHealth$(){const e=new H2({serviceKey:"pingServer$",endpoint:"/api/Health"});return this.httpService.get(e.getAPIUrl())}pingServer$(){const e=new pe;return this.getHealth$().subscribe({next:r=>{Object.keys(r).forEach(a=>{lt[a]=r[a]}),this.tagService.loadTagDefinitions(lt.defaultTags),this.tagService.loadTagDefinitions(lt.userTags),this.isPingSuccess=!0,e.next(this.isPingSuccess)},error:r=>e.error(r),complete:()=>console.info("complete")}),e}}return n.\u0275fac=function(e){return new(e||n)(K(ui),K(Cl))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{constructor(e){this.configService=e,this.configLoaded=!1,this.serverConnected=!1}isLoaded(){return this.configLoaded}isConnected(){return this.isLoaded()&&this.serverConnected}loadConfiguration(e,r){this.configService.loadConfiguration$().subscribe({next:a=>{this.configLoaded=a,e()},error:a=>{this.configLoaded=a,r()}})}varifyConnection(e,r){this.configService.pingServer$().subscribe({next:a=>{this.serverConnected=a,e()},error:a=>{this.serverConnected=a,r()}})}}return n.\u0275fac=function(e){return new(e||n)(K(goe))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),moe=(()=>{class n{constructor(e){this.formBuilder=e,this.success=!1}resetfilenameInfo(e){this.filenameInfoForm=this.formBuilder.group({pre:[e.pre],version:[e.version],name:[e.name],extension:[e.extension]})}ngOnChanges(e){for(const r in e)this.resetfilenameInfo(e[r].currentValue)}doCancel(){this.success=!1}doSave(){this.success=!0}ngOnInit(){this.resetfilenameInfo(this.filenameInfo)}get f(){return this.filenameInfoForm.controls}onSubmit(){const e={pre:this.f.pre.value,name:this.f.name.value,version:this.f.version.value,extension:this.f.extension.value};this.filenameInfoForm.invalid||(ne.broadcastCommand(this,"ToggleFilenameOpen"),this.success&&(this.filenameInfo.override(e),ne.broadcastCommand(this,"ForceFileSave")),this.success=!1)}ngOnDestroy(){this.filenameInfoForm=null,this.filenameInfo=null}}return n.\u0275fac=function(e){return new(e||n)(R(Bs))},n.\u0275cmp=Ce({type:n,selectors:[["app-filename"]],inputs:{filenameInfo:"filenameInfo"},features:[$t],decls:29,vars:1,consts:[[1,"container",2,"max-width","40%","background-color","antiquewhite"],["rowHeight","300px"],[2,"padding-left","20%"],[2,"width","99%",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","pre",1,"col-sm-1","col-form-label"],[1,"col-sm-11"],["type","text","formControlName","pre","id","pre","placeholder","filename prefix (case, note, search)",1,"form-control"],["for","name",1,"col-sm-1","col-form-label"],["type","text","formControlName","name","id","name","placeholder","unique name of the file",1,"form-control"],["for","version",1,"col-sm-1","col-form-label"],["type","text","formControlName","version","id","version","placeholder","version number (4 digits)",1,"form-control"],[1,"offset-sm-8","col-sm-1"],[1,"btn","btn-danger",3,"click"],[1,"offset-sm-1","col-sm-1"],[1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0),X(1,"br"),S(2,"div",1)(3,"h3",2),F(4,"Rename / Save Current Document"),E(),S(5,"form",3),U("ngSubmit",function(){return r.onSubmit()}),S(6,"div",4)(7,"label",5),F(8,"Prefix:"),E(),S(9,"div",6),X(10,"input",7),E()(),S(11,"div",4)(12,"label",8),F(13,"Name:"),E(),S(14,"div",6),X(15,"input",9),E()(),S(16,"div",4)(17,"label",10),F(18,"Version:"),E(),S(19,"div",6),X(20,"input",11),E()(),S(21,"div",4)(22,"div",12)(23,"button",13),U("click",function(){return r.doCancel()}),F(24,"Cancel"),E()(),S(25,"div",14)(26,"button",15),U("click",function(){return r.doSave()}),F(27,"Save"),E()()()()(),X(28,"br"),E()),2&e&&(D(5),I("formGroup",r.filenameInfoForm))},directives:[as,ss,Vr,Yi,fr,xo],encapsulation:2}),n})();function voe(n,t){if(1&n&&(S(0,"h4",3),F(1),E()),2&n){const e=L();D(1),_t("",e.currentUser.displayName()," ")}}function _oe(n,t){1&n&&(S(0,"strong",23),F(1,"|"),E())}const yoe=function(n){return[n]};function Coe(n,t){if(1&n&&(S(0,"li",20)(1,"a",21),F(2),V(3,_oe,2,0,"strong",22),E()()),2&n){const e=t.$implicit;Fn("tooltip",e.toolTip),D(1),I("routerLink",rr(4,yoe,e.routerLink)),D(1),Ae(e.label),D(1),I("ngIf",e.isDivider)}}function boe(n,t){if(1&n){const e=le();S(0,"li",24)(1,"span",25),U("click",function(){return J(e),L().doToggleFilenameOpen()}),S(2,"em"),F(3),E()()()}if(2&n){const e=L();D(3),Ae(e.filename)}}function woe(n,t){if(1&n){const e=le();S(0,"button",27),U("click",function(){return J(e),L(2).doPing()}),F(1," Ping "),E()}}function Soe(n,t){if(1&n&&(S(0,"li",11),V(1,woe,2,0,"button",26),F(2," \xa0 \xa0 "),E()),2&n){const e=L();D(1),I("ngIf",e.canPing())}}function Eoe(n,t){if(1&n){const e=le();S(0,"button",29),U("click",function(a){return J(e),L(2).onLaunchLegalPad(a)}),F(1," Pad "),E()}}function Doe(n,t){if(1&n&&(S(0,"li",11),V(1,Eoe,2,0,"button",28),F(2," \xa0 "),E()),2&n){const e=L();D(1),I("ngIf",e.canLaunch())}}function Toe(n,t){if(1&n){const e=le();S(0,"button",31),U("click",function(a){return J(e),L(2).onLaunchLegalMarker(a)}),F(1," Marker "),E()}}function Roe(n,t){if(1&n&&(S(0,"li",11),V(1,Toe,2,0,"button",30),F(2," \xa0 "),E()),2&n){const e=L();D(1),I("ngIf",e.canLaunch())}}function Aoe(n,t){if(1&n){const e=le();S(0,"button",33),U("click",function(a){return J(e),L(2).onLaunchLegalSearch(a)}),F(1," Search "),E()}}function Ooe(n,t){if(1&n&&(S(0,"li",11),V(1,Aoe,2,0,"button",32),F(2," \xa0 "),E()),2&n){const e=L();D(1),I("ngIf",e.canLaunch())}}function xoe(n,t){if(1&n){const e=le();S(0,"button",34),U("click",function(a){return J(e),L().applyAutoSave(a)}),F(1),E()}if(2&n){const e=L();D(1),_t("Auto Save (",e.autoSaveCountdown(),")")}}const Ioe=function(){return["/login"]};function Moe(n,t){1&n&&(S(0,"li",35)(1,"a",36),F(2,"Login"),E()()),2&n&&(D(1),I("routerLink",function CM(n,t,e){const r=ai()+n,a=ye();return a[r]===ht?Zo(a,r,e?t.call(e):t()):function Uu(n,t){return n[t]}(a,r)}(1,Ioe)))}function Poe(n,t){if(1&n){const e=le();S(0,"li",35)(1,"a",37),U("click",function(){return J(e),L().doLogout()}),F(2,"Logout"),E()()}}function Foe(n,t){1&n&&X(0,"router-outlet")}function Noe(n,t){1&n&&X(0,"app-filename",38),2&n&&I("filenameInfo",L().LaFilename())}let Loe=(()=>{class n{constructor(e,r,a,d,p,f,m,v,C,b,T,M,H){this.route=e,this.appInitService=r,this.tagService=a,this.tService=d,this.aService=p,this.cService=f,this.pService=m,this.eService=v,this.hubService=C,this.titleService=b,this.router=T,this.toastr=H,this.title="LA-MPS",this.version=lt.version,this.isLegalMarker=lt.isLegalMarker,this.isLegalPad=lt.isLegalPad,this.isLegalSearch=lt.isLegalSearch,this.tagline="",this.hasConfig=!1,this.isDisconnected=this.isLegalMarker,this.isMarker=this.isLegalMarker,this.isPad=this.isLegalPad,this.isSearch=this.isLegalSearch,this.menuItems=new Array,this.isFilenameOpen=!1,this._renderer=M.createRenderer("body",null)}ngOnInit(){ne.displayToast(this,this.openToast),this.appInitService.loadConfiguration(()=>{this.appInitialized(),this.isDisconnected||this.cService.varifyConnection(()=>{this.appConnected()},()=>{ue.error("Connection","DID NOT HAPPEN"),this.appConnected()})},()=>{ue.error("Configuration","DID NOT HAPPEN")}),ne.registerCommand(this,"FindAnchor",this.onFindAnchor),ne.registerCommand(this,"JumpToAnchor",this.onJumpToAnchor),ne.registerCommand(this,"PowerUser",this.onPowerUser),ne.registerCommand(this,"ToggleFilenameOpen",this.doToggleFilenameOpen),ne.registerCommand(this,"ForceFileSave",this.onForceFileSave),ne.processCommands(this);var e=this.route.snapshot.paramMap.get("caseid");null!=e&&(this.cService.defaultModelRefId=e,ue.info(`caseID  ${this.cService.defaultModelRefId}`,"loading case..."))}doPing(){this.pService.sendPing()}doShowPlugins(){this.router.navigate(["/plugins"])}onPowerUser(){this.computeMainMenu()}onJumpToAnchor(e){setTimeout(()=>{const d=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+-200;window.scrollTo({top:d,behavior:"smooth"})},100)}onFindAnchor(e){const d=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+-200;window.scrollTo({top:d,behavior:"smooth"})}labelForOpenButton(){return this.isMarker?"Open Case":this.isPad?"Open Notes":this.isSearch?"Open Search":"Open..."}labelForSaveButton(){return this.isMarker?"Save Case":this.isPad?"Save Notes":this.isSearch?"Save Search":"Save..."}computeMainMenu(){this.isMarker&&(this.title="Legal Marker",this._renderer.removeClass(document.body,"legalPadPage"),this._renderer.removeClass(document.body,"legalSearchPage"),this._renderer.addClass(document.body,"legalMarkerPage"),this.titleService.setTitle(`LA-MPS: ${this.title}`)),this.isPad&&(this.title="Legal Pad",this._renderer.removeClass(document.body,"legalMarkerPage"),this._renderer.removeClass(document.body,"legalSearchPage"),this._renderer.addClass(document.body,"legalPadPage"),this.titleService.setTitle(`LA-MPS: ${this.title}`)),this.isSearch&&(this.title="Legal Search",this._renderer.removeClass(document.body,"legalMarkerPage"),this._renderer.removeClass(document.body,"legalPadPage"),this._renderer.addClass(document.body,"legalSearchPage"),this.titleService.setTitle(`LA-MPS: ${this.title}`)),null!=this.currentUser&&(this.tagService.isPowerUser=!0),vr.clear(),vr.addCommand({name:"viewer"}).toolDetails(()=>"readonly colorized version of case").existIf(()=>this.isMarker),vr.addCommand({name:"marker"}).toolDetails(()=>"colorized version, you can add notes and tags").existIf(()=>this.isMarker),vr.addCommand({name:"editor"}).toolDetails(()=>"sentence classification and evaluation").existIf(()=>this.isMarker),vr.addCommand({name:"paragraphs"}).toolDetails(()=>"paragraphs of this case scored as arguments").existIf(()=>this.isMarker).divider(!0),vr.addCommand({name:"selections"}).toolDetails(()=>"currently selected items").existIf(()=>this.isMarker),vr.addCommand({name:"notestags",label:"Notes/Tags"}).toolDetails(()=>"table of notes and tags").existIf(()=>this.isMarker).divider(!0),vr.addCommand({name:"original"}).toolDetails(()=>"original sentence / paragraph list captured from cases").existIf(()=>this.isPad),vr.addCommand({name:"grouping"}).toolDetails(()=>"move ungrouped items into groups").existIf(()=>this.isPad),vr.addCommand({name:"groups"}).toolDetails(()=>"groups of sentence that support arguments").existIf(()=>this.isPad).divider(!0),vr.addCommand({name:"notestags",label:"Notes/Tags"}).toolDetails(()=>"table of notes and tags").existIf(()=>this.isPad).divider(!0),vr.addCommand({name:"search"}).toolDetails(()=>"search across legal cases and notes").existIf(()=>this.isSearch),vr.addCommand({name:"selections"}).toolDetails(()=>"currently selected items").existIf(()=>this.isSearch).divider(!0),vr.addCommand({name:"notestags",label:"Notes/Tags"}).toolDetails(()=>"table of notes and tags").existIf(()=>this.isSearch).divider(!0),this.menuItems=vr.getCommands().filter(e=>e.canExist&&e.isVisible)}get currentUser(){return this.aService.currentUserValue||null}get currentTeam(){return this.tService.activeTeam||null}doLogout(){this.aService.logout(),this.navigateToFirstMenu()}defaultService(){return this.isSearch?this.eService:this.isPad?this.pService:this.cService}isDirty(){return this.defaultService().isDirty()&&this.autoSaveCountdown()>0}autoSaveCountdown(){return this.defaultService().autoSaveCountdown()}applyAutoSave(e){let r="AutoSaveCaseAs";this.isPad&&(r="AutoSaveNotesAs"),this.isSearch&&(r="AutoSaveSearchAs"),ne.broadcastCommand(this,r,this.filename)}onFileSave(e){let r="FileSaveCase";this.isPad&&(r="FileSaveNotes"),this.isSearch&&(r="FileSaveSearch"),ne.broadcastCommand(this,r,this.filename)}onOpenOrImport(e){if(e.name.toLowerCase().includes(".json")){this.defaultService();let d="FileOpenCase";this.isPad&&(d="FileOpenNotes"),this.isSearch&&(d="FileOpenSearch"),ne.broadcastCommand(this,d,e)}}canPing(){return!1}canLaunch(){return!0}onLaunchLegalPad(e){new SZ({serviceKey:"PadUI$",endpoint:"/legalpad/index.html"}).open()}onLaunchLegalSearch(e){new EZ({serviceKey:"SearchUI$",endpoint:"/legalsearch/index.html"}).open()}onLaunchLegalMarker(e){new wZ({serviceKey:"MarkerUI$",endpoint:"/legalmarker/index.html"}).open()}navbarClass(){return this.isLegalMarker||this.isMarker?{"navbar-dark bg-dark":!0}:this.isLegalPad||this.isPad?{"navbar-light text-dark":!0}:this.isLegalSearch||this.isSearch?{"navbar-dark bg-secondary":!0}:{"navbar-dark bg-primary":!0}}navigateToFirstMenu(){this.router.navigate([vr.members[0].routerLink])}onFileOpen(e){this.navigateToFirstMenu(),this.onOpenOrImport(e.target.files[0])}doToggleFilenameOpen(){this.isFilenameOpen=!this.isFilenameOpen}onForceFileSave(){let e="FileSaveCase";this.isPad&&(e="FileSaveNotes"),this.isSearch&&(e="FileSaveSearch"),ne.broadcastCommand(this,e,this.filename)}get filename(){return this.defaultService().filename()}LaFilename(){return this.defaultService().LaFilename()}openToast(e,r,a){const d={toastLife:3e3,showCloseButton:!0,tapToDismiss:!0,enableHTML:!0,autoDismiss:!1,dismiss:"click",newestOnTop:!0,positionClass:"toast-bottom-right"};setTimeout(p=>{this.toastr[e](r,a,d)},10)}resetMenus(){this.isPad?(this.router.resetConfig([..._S,{path:"",component:oH},{path:"**",redirectTo:"original"}]),this.router.navigate(["/original"])):this.isSearch?(this.router.resetConfig([..._S,{path:"",component:sH},{path:"**",redirectTo:"search"}]),this.router.navigate(["/search"])):(this.router.resetConfig([..._S,{path:"",component:nx},{path:"**",redirectTo:"viewer"}]),this.router.navigate(this.cService.defaultModelRefId?[`/case/${this.cService.defaultModelRefId}`]:["/viewer"]))}appInitialized(){this.isLegalMarker=lt.isLegalMarker,this.isLegalPad=lt.isLegalPad,this.isLegalSearch=lt.isLegalSearch,this.isDisconnected=this.isLegalMarker,this.isMarker=this.isLegalMarker,this.isPad=this.isLegalPad,this.isSearch=this.isLegalSearch,this.resetMenus(),this.isDisconnected&&(this.finalizeConfiguration(),this.appInitService.isLoaded()?ue.info(this.tagline,`${lt.baseURL} ${lt.baseURLAPI}`):ue.error(this.tagline,`${lt.baseURL} ${lt.baseURLAPI}`))}appConnected(){this.isDisconnected||(this.cService.isConnected()?(this.tagline="Connected",ue.info(this.tagline,`${lt.baseURL} ${lt.baseURLAPI}`)):(this.tagline="[Cannot Connect]",ue.error(this.tagline,`${lt.baseURL} ${lt.baseURLAPI}`)),this.finalizeConfiguration())}finalizeConfiguration(){this.hasConfig=!0,this.isLegalMarker?(this.tagline="(Marker)",ue.warning(`Mode: ${this.tagline}`)):this.isSearch?this.tagline="(Search)":this.isPad&&(this.tagline="(Notes)"),this.hubService.doStart(()=>{this.pService.startEvents(),this.cService.startEvents()},()=>{ue.error("SignalR server did not start")}),this.computeMainMenu(),setTimeout(e=>{},100)}}return n.\u0275fac=function(e){return new(e||n)(R(Us),R(xH),R(ui),R(El),R(_r),R(hn),R(jr),R(Da),R(pS),R(F0),R(Ii),R(Tc),R(rA))},n.\u0275cmp=Ce({type:n,selectors:[["app-root"]],decls:37,vars:18,consts:[[1,"navbar","navbar-expand-md","sticky-top",3,"ngClass"],[1,"btn","navbar-brand",3,"click"],["class","navbar-brand",4,"ngIf"],[1,"navbar-brand"],[1,"navbar-collapse","collapse","w-120","order-1","order-md-0","dual-collapse2"],[1,"navbar-nav","mr-auto"],["class","nav-item",3,"tooltip",4,"ngFor","ngForOf"],["class","nav-item ","style","margin-left:5px","tooltip","rename open document",4,"ngIf"],[1,"navbar-collapse","collapse","w-100","order-3","dual-collapse2","justify-content-end"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["type","file",2,"display","none",3,"change"],["hiddenfileinput",""],[1,"btn","btn-info","btn-sm",2,"margin-top","5px",3,"tooltip","click"],["style","margin-top:5px;","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["class","nav-item ","style","padding-right:25px;",4,"ngIf"],["class","nav-item","style","padding-right:25px;",4,"ngIf"],[4,"ngIf"],["class","filename",3,"filenameInfo",4,"ngIf"],[1,"nav-item",3,"tooltip"],[1,"nav","nav-link",3,"routerLink"],["style","padding-left:10px;",4,"ngIf"],[2,"padding-left","10px"],["tooltip","rename open document",1,"nav-item",2,"margin-left","5px"],[1,"nav","nav-link",2,"width","350px","cursor","pointer",3,"click"],["style","margin-top:5px;","class","btn btn-success btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-sm",2,"margin-top","5px",3,"click"],["style","margin-top:5px;","tooltip","Open Legal Pad to collect notes on case","class","btn btn-warning btn-sm",3,"click",4,"ngIf"],["tooltip","Open Legal Pad to collect notes on case",1,"btn","btn-warning","btn-sm",2,"margin-top","5px",3,"click"],["style","margin-top:5px;","tooltip","Open Legal Pad to collect notes on case","class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["tooltip","Open Legal Pad to collect notes on case",1,"btn","btn-primary","btn-sm",2,"margin-top","5px",3,"click"],["style","margin-top:5px;","tooltip","Open Legal Search to collect notes on case","class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["tooltip","Open Legal Search to collect notes on case",1,"btn","btn-primary","btn-sm",2,"margin-top","5px",3,"click"],[1,"btn","btn-danger","btn-sm",2,"margin-top","5px",3,"click"],[1,"nav-item",2,"padding-right","25px"],[1,"nav","nav-link","mb-0","btn",3,"routerLink"],[1,"nav","nav-link","mb-0","btn",3,"click"],[1,"filename",3,"filenameInfo"]],template:function(e,r){if(1&e){const a=le();S(0,"nav",0)(1,"h4",1),U("click",function(){return r.doShowPlugins()}),F(2),S(3,"sub")(4,"small"),F(5),E()()(),V(6,voe,2,1,"h4",2),S(7,"h4",3),F(8,"|"),E(),S(9,"div",4)(10,"ul",5),V(11,Coe,4,6,"li",6),V(12,boe,4,1,"li",7),E()(),S(13,"div",8)(14,"ul",9),V(15,Soe,3,1,"li",10),S(16,"li",11)(17,"input",12,13),U("change",function(p){return r.onFileOpen(p)}),E(),S(19,"button",14),U("click",function(){return J(a),Lr(18).click()}),F(20," Open "),E(),F(21," \xa0 "),E(),S(22,"li",11)(23,"button",14),U("click",function(p){return r.onFileSave(p)}),F(24," Save "),E(),F(25," \xa0 "),E(),V(26,Doe,3,1,"li",10),V(27,Roe,3,1,"li",10),V(28,Ooe,3,1,"li",10),S(29,"li",11),V(30,xoe,2,1,"button",15),F(31," \xa0 "),E(),gi(32),V(33,Moe,3,2,"li",16),V(34,Poe,3,0,"li",17),mi(),E()()(),V(35,Foe,1,0,"router-outlet",18),V(36,Noe,1,1,"app-filename",19)}2&e&&(I("ngClass",r.navbarClass()),D(2),ns("",r.title,"\xa0",r.version,"\xa0"),D(3),Ae(r.tagline),D(1),I("ngIf",r.currentUser),D(5),I("ngForOf",r.menuItems),D(1),I("ngIf",r.filename),D(3),I("ngIf",r.isMarker||r.isSearch||r.isPad),D(4),Fn("tooltip",r.labelForOpenButton()),D(4),Fn("tooltip",r.labelForSaveButton()),D(3),I("ngIf",r.isMarker||r.isSearch),D(1),I("ngIf",r.isSearch||r.isPad),D(1),I("ngIf",r.isMarker||r.isPad),D(2),I("ngIf",r.isDirty()),D(3),I("ngIf",!r.currentUser),D(1),I("ngIf",r.currentUser),D(1),I("ngIf",r.hasConfig),D(1),I("ngIf",r.isFilenameOpen))},directives:[va,ut,Wt,Br,zh,OO,moe],styles:[".sticky-top[_ngcontent-%COMP%]{position:fixed;top:0px;left:0;width:100%}.filename[_ngcontent-%COMP%]{position:fixed;width:100%;top:120px}"]}),n})();class IH extends dn{constructor(t){super(t)}}class koe extends dn{constructor(t){super(t),this.category="",this.text="",this.showMLPredections=!1,this.predictionList=this.capturePredictionData(this.predictions)}mergePreditions(t,e=""){Object.keys(t).forEach(a=>{const d=new IH({label:`${e}${fe.capitalize(a)}`,prediction:fe.formatPrediction(t[a])});this.predictionList.find(f=>f.label==d.label)||this.predictionList.push(d)}),this.predictionList=this.predictionList.sort((a,d)=>d.prediction-a.prediction)}applyPredictionToSentence(t,e){this.sentence.writeLabel(this.category,t.label,null==e?void 0:e.email),this.sentence.writeProbability(this.category,t.prediction)}extractFromSentence(){const t=this.sentence.forecast;if(t){const e=t[this.category];if(e&&e.predictions){const r=this.capturePredictionData(e.predictions);this.mlPredictionList=r,this.showMLPredections=!0}}return this.mlPredictionList}setSentence(t){return this.sentence=t,this.sentence.getRhetClass()&&this.extractFromSentence(),this}setCategory(t){return this.category=t,this}getPredictionList(){return this.showMLPredections?this.mlPredictionList:this.predictionList}capturePredictionData(t,e=""){const r=Object.keys(t);let a=[];return r.forEach(d=>{const p=new IH({label:`${e}${fe.capitalize(d)}`,prediction:fe.formatPrediction(t[d])});a.push(p)}),a=a.sort((d,p)=>p.prediction-d.prediction),a}}class dx extends dn{constructor(t){super(),this.enrichments=new Array,fe.applyOverKeyValue(t,(e,r)=>{const a=new koe(r);a.setCategory(e),this.enrichments.push(a)})}mergeDefaults(t){fe.applyOverKeyValue(t,(e,r)=>{const a=this.enrichments.find(d=>d.category==e);a&&a.mergePreditions(r.predictions)})}setSentence(t){return this.sentence=t,this.enrichments.forEach(e=>e.setSentence(t)),this}filteredEnrichments(){return this.sentence.isFindingSentence()?this.enrichments:[this.enrichments[0]]}}function Goe(n,t){if(1&n){const e=le();S(0,"button",4),U("click",function(){const d=J(e).$implicit,p=L().$implicit;return L().confirmPrediction(p,d)}),F(1),Ku(2,"Short"),E()}if(2&n){const e=t.$implicit;cn(e.label),D(1),ns("\xa0",Yu(2,4,e.label),"\xa0",e.prediction,"%\xa0")}}function Hoe(n,t){if(1&n){const e=le();S(0,"div")(1,"button",2),U("click",function(){const d=J(e).$implicit;return L().queryPrediction(d)}),F(2),E(),V(3,Goe,3,6,"button",3),E()}if(2&n){const e=t.$implicit;D(2),Ae(e.category),D(1),I("ngForOf",e.getPredictionList())}}let Voe=(()=>{class n{constructor(e,r){this.cService=e,this.authService=r}ngOnInit(){this.sentence.hasEnrichmentSet()?(this.enrichedSet=new dx(this.sentence.enrichmentSet),this.enrichedSet.mergeDefaults(lt.defaultPredictions)):this.enrichedSet=new dx(lt.defaultPredictions),this.enrichedSet.setSentence(this.sentence),ne.registerCommand(this,"RefreshPrediction",this.onRefreshPrediction),ne.processCommands(this)}onRefreshPrediction(){this.enrichedSet=new dx(this.sentence.enrichmentSet),this.enrichedSet.setSentence(this.sentence)}getRange(){if(window.getSelection)return window.getSelection().getRangeAt(0)}queryPrediction(e){e.extractFromSentence(),this.cService.broadcastMakeSentencePrediction(this.sentence),ne.broadcastCommand(this,"RefreshDisplay")}confirmPrediction(e,r){if(this.sentence.isImmutable())return;const a=this.authService.currentUserValue;if(fe.matches(e.classification,r.label))if(fe.matches("Sentence",r.label))e.applyPredictionToSentence(r,a);else{const d=r.label,p=r.prediction,f=e.category;e.applyPredictionToSentence(r,a),this.cService.applyPredictionForAll(f,d,p,a)}else e.applyPredictionToSentence(r,a);if(fe.matches(e.category,"ruleID")){const d=r.label,p=this.sentence,f=this.cService.findDecisionByKey(d);p.hasDecisionRuleID(d)?(p.removeDecisionRuleID(d),null==f||f.removeSentenceID(p.sentID)):(p.addDecisionRuleID(d),null==f||f.addSentenceID(p.sentID))}this.cService.markAsDirty(),this.cService.resetStats(),ne.broadcastCommand(this,"CloseAll"),ne.broadcastCommand(this,"RefreshDisplay")}getEnrichmentSet(){return this.enrichedSet.filteredEnrichments()}getSelectedText(){let e=this.sentence.text;return window.getSelection&&(e=window.getSelection().toString()),""!==e?e:this.sentence.text}}return n.\u0275fac=function(e){return new(e||n)(R(hn),R(_r))},n.\u0275cmp=Ce({type:n,selectors:[["app-labeler"]],inputs:{sentence:"sentence"},decls:3,vars:1,consts:[[2,"margin-left","10px"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary",2,"margin-right","10px","width","150px",3,"click"],["style","margin-right: 5px",3,"class","click",4,"ngFor","ngForOf"],[2,"margin-right","5px",3,"click"]],template:function(e,r){1&e&&(S(0,"div",0),V(1,Hoe,4,2,"div",1),E(),X(2,"br")),2&e&&(D(1),I("ngForOf",r.getEnrichmentSet()))},directives:[Wt],pipes:[ix],encapsulation:2}),n})(),Boe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n,bootstrap:[Loe]}),n.\u0275inj=$e({providers:[F0,xH,$O,{provide:Aw,useClass:_ie,multi:!0},{provide:Aw,useClass:vie,multi:!0}],imports:[[t1,e$,pF,z7,k5,Ire,Gz,Dq,Lq,M9,M7,Mk,PY,cG,tO,nQ,cY,AY,_q,Bh.withComponents([]),Uq.forRoot(),Kq.forRoot(),Jq.forRoot(),c8.forRoot(),eL.forRoot({preventDuplicates:!0}),foe]]}),n})();Fa(J2,[Br,Vo,Voe],[]),Fa(Z2,[Br,ut,Ji,Yi,fr,Sh,Wt,Vo],[]),Fa(Pv,[ut,va,Wt,Ji,Br,Fv,Nv,Sd],[ix]),Fa(Q2,[Wt,ut,Br,Yi,fr,Sh,Ji,db,Vo],[]),lt.production&&function FW(){if(dP)throw new Error("Cannot enable prod mode after platform setup.");uP=!1}(),Wj().bootstrapModule(Boe).catch(n=>console.error(n))},564:($r,W)=>{function At(u){return null==u||""===u?null:u}function he(u,o){return void 0===o&&(o=!1),null!=u&&(""!==u||o)}function je(u){return!he(u)}function Fi(u){return null==u||0===u.length}function Gt(u){return null!=u&&"function"==typeof u.toString?u.toString():null}function yr(u){if(void 0!==u){if(null===u||""===u)return null;if("number"==typeof u)return isNaN(u)?void 0:u;var o=parseInt(u,10);return isNaN(o)?void 0:o}}function Aa(u){if(void 0!==u)return null!==u&&""!==u&&("boolean"==typeof u?u:/true/i.test(u))}function Ni(u,o,i){if(null==u)return null;if(!Array.isArray(u))return Ni(xa(u),o,i);for(var l=u,c=null,h=0;h<l.length;h++){var g=l[h];if("string"==typeof o){if(g[o]===i){c=g;break}}else if(o(g)){c=g;break}}return c}function xa(u){if(u instanceof Set||u instanceof Map){var o=[];return u.forEach(function(i){return o.push(i)}),o}return Object.keys(u).map(function(i){return u[i]})}var yS=Object.freeze({__proto__:null,makeNull:At,exists:he,missing:je,missingOrEmpty:Fi,toStringOrNull:Gt,attrToNumber:yr,attrToBoolean:Aa,attrToString:function Vv(u){if(null!=u&&""!==u)return u},referenceCompare:function Oa(u,o){return null==u&&null==o||!(null==u&&null!=o||null!=u&&null==o)&&u===o},jsonEquals:function Td(u,o){return(u?JSON.stringify(u):null)===(o?JSON.stringify(o):null)},defaultComparator:function Rd(u,o,i){void 0===i&&(i=!1);var s=null==u,l=null==o;if(u&&u.toNumber&&(u=u.toNumber()),o&&o.toNumber&&(o=o.toNumber()),s&&l)return 0;if(s)return-1;if(l)return 1;function c(h,g){return h>g?1:h<g?-1:0}if("string"!=typeof u||!i)return c(u,o);try{return u.localeCompare(o)}catch(h){return c(u,o)}},find:Ni,values:xa}),Bv=function(){function u(){this.existingKeys={}}return u.prototype.addExistingKeys=function(o){for(var i=0;i<o.length;i++)this.existingKeys[o[i]]=!0},u.prototype.getUniqueKey=function(o,i){o=Gt(o);for(var s=0;;){var l=void 0;if(o?(l=o,0!==s&&(l+="_"+s)):i?(l=i,0!==s&&(l+="_"+s)):l=""+s,!this.existingKeys[l])return this.existingKeys[l]=!0,l;s++}},u}();function Jc(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];for(var i=0;i<u.length;i++){var s=u[i];if(he(s))return s}return null}function Zt(u){if(u&&u.length)return u[u.length-1]}function hs(u,o,i){return null==u&&null==o||null!=u&&null!=o&&u.length===o.length&&Zc(u,function(s,l){return i?i(s,o[l]):o[l]===s})}function Wv(u){return u.sort(function(o,i){return o-i})}function ii(u,o){var i=u.indexOf(o);i>=0&&u.splice(i,1)}function lf(u,o){pe(o,function(i){return ii(u,i)})}function Ol(u,o,i){u.splice(i,0,o)}function Xc(u,o,i){lf(u,o),pe(o.slice().reverse(),function(s){return Ol(u,s,i)})}function ri(u,o){return u.indexOf(o)>-1}function xd(u,o){null==o||null==u||pe(o,function(i){return u.push(i)})}function $s(u,o){for(var i=0;i<u.length;i++)if(o(u[i],i,u))return i;return-1}function Zc(u,o){if(null==u)return!0;for(var i=0;i<u.length;i++)if(!o(u[i],i))return!1;return!0}function xl(u,o){if(null==u)return!1;for(var i=0;i<u.length;i++)if(o(u[i],i))return!0;return!1}function pe(u,o){if(null!=u)for(var i=0;i<u.length;i++)o(u[i],i)}function cf(u,o){if(null==u)return null;for(var i=[],s=0;s<u.length;s++)i.push(o(u[s],s));return i}function Rn(u,o){if(null==u)return null;for(var i=[],s=0;s<u.length;s++)o(u[s],s)&&i.push(u[s]);return i}var Je=Object.freeze({__proto__:null,firstExistingValue:Jc,anyExists:function Ia(u){return u&&null!=Jc(u)},existsAndNotEmpty:function Ad(u){return null!=u&&u.length>0},last:Zt,areEqual:hs,compareArrays:function CS(u,o){return hs(u,o)},shallowCompare:function af(u,o){return hs(u,o)},sortNumerically:Wv,removeRepeatsFromArray:function Od(u,o){if(u)for(var i=u.length-2;i>=0;i--)u[i]===o&&u[i+1]===o&&u.splice(i+1,1)},removeFromArray:ii,removeAllFromArray:lf,insertIntoArray:Ol,insertArrayIntoArray:function bS(u,o,i){if(null!=u&&null!=o)for(var s=o.length-1;s>=0;s--)Ol(u,o[s],i)},moveInArray:Xc,includes:ri,flatten:function hx(u){return[].concat.apply([],u)},pushAll:xd,toStrings:function sn(u){return cf(u,Gt)},findIndex:$s,fill:function wS(u,o,i,s){void 0===o&&(o=null),void 0===i&&(i=0),void 0===s&&(s=u.length);for(var l=i;l<s;l++)u[l]=o;return u},every:Zc,some:xl,forEach:pe,forEachReverse:function jv(u,o){if(null!=u)for(var i=u.length-1;i>=0;i--)o(u[i],i)},map:cf,filter:Rn,reduce:function An(u,o,i){if(null==u||null==i)return null;for(var s=i,l=0;l<u.length;l++)s=o(s,u[l],l);return s},forEachSnapshotFirst:function SS(u,o){u&&u.slice(0).forEach(o)}});function It(u,o){null!=u&&(Array.isArray(u)?pe(u,function(i,s){return o(""+s,i)}):pe(Object.keys(u),function(i){return o(i,u[i])}))}function Uv(u){for(var o={},i=Object.keys(u),s=0;s<i.length;s++){var l=i[s];o[l]=u[l]}return o}function uf(u,o){if(u){var i=u,s={};return Object.keys(i).forEach(function(l){if(!(o&&o.indexOf(l)>=0)){var c=i[l],h=eu(c)&&c.constructor===Object;s[l]=h?uf(c):c}}),s}}function zv(u,o){return u[o]}function ES(u,o,i){u[o]=i}function Kv(u,o,i,s){var l=zv(u,i);void 0!==l&&ES(o,i,s?s(l):l)}function TS(u){var o={};return u.filter(function(i){return null!=i}).forEach(function(i){pe(Object.keys(i),function(s){return o[s]=null})}),Object.keys(o)}function po(u){if(!u)return[];var o=Object;if("function"==typeof o.values)return o.values(u);var i=[];for(var s in u)u.hasOwnProperty(s)&&u.propertyIsEnumerable(s)&&i.push(u[s]);return i}function ho(u,o,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1),he(o)&&It(o,function(l,c){var h=u[l];h!==c&&(s&&null==h&&null!=c&&"object"==typeof c&&c.constructor===Object&&(u[l]=h={}),eu(c)&&eu(h)&&!Array.isArray(h)?ho(h,c,i,s):(i||void 0!==c)&&(u[l]=c))})}function Cr(u){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return pe(o,function(s){return It(s,function(l,c){return u[l]=c})}),u}function Wo(u,o,i){if(o&&u){if(!i)return u[o];for(var s=o.split("."),l=u,c=0;c<s.length;c++){if(null==l)return;l=l[s[c]]}return l}}function Yv(u,o){Object.keys(u).forEach(function(l){"object"==typeof u[l]&&(u[l]=void 0)});var i=Object.getPrototypeOf(u),s={};Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(s[l]={value:function(){console.warn("AG Grid: "+o+" function "+l+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(u,s)}function eu(u){return"object"==typeof u&&null!==u}var OS=Object.freeze({__proto__:null,iterateObject:It,cloneObject:Uv,deepCloneObject:function $v(u){return JSON.parse(JSON.stringify(u))},deepCloneDefinition:uf,getProperty:zv,setProperty:ES,copyPropertiesIfPresent:function DS(u,o){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];pe(i,function(l){return Kv(u,o,l)})},copyPropertyIfPresent:Kv,getAllKeysInObjects:TS,getAllValuesInObject:po,mergeDeep:ho,assign:Cr,missingOrEmptyObject:function RS(u){return je(u)||0===Object.keys(u).length},get:function fx(u,o,i){if(null==u)return i;for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return i;var c=l[s[0]];return null!=c?c:i},set:function gx(u,o,i){if(null!=u){for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return;l[s[0]]=i}},deepFreeze:function AS(u){return Object.freeze(u),pe(xa(u),function(o){(eu(o)||"function"==typeof o)&&AS(o)}),u},getValueUsingField:Wo,removeAllReferences:Yv,isNonNullObject:eu}),mx=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,xS=/([^\s,]+)/g,IS={};function Cn(u,o){IS[o]||(u(),IS[o]=!0)}function df(u){if(u.name)return u.name;var o=/function\s+([^\(]+)/.exec(u.toString());return o&&2===o.length?o[1].trim():null}function tu(u){return!!(u&&u.constructor&&u.call&&u.apply)}function pf(u){qv(u,400)}var Id=[],Md=!1;function Pd(u){Id.push(u),!Md&&(Md=!0,window.setTimeout(function(){var o=Id.slice();Id.length=0,Md=!1,o.forEach(function(i){return i()})},0))}function qv(u,o){void 0===o&&(o=0),u.length>0&&window.setTimeout(function(){return u.forEach(function(i){return i()})},o)}function fs(u,o,i){var s;return void 0===i&&(i=!1),function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var h=this,g=i&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,i||u.apply(h,l)},o),g&&u.apply(h,l)}}function hf(u,o,i,s){void 0===i&&(i=100);var l=(new Date).getTime(),c=null,h=!1,g=function(){var _=(new Date).getTime()-l>i;(u()||_)&&(o(),h=!0,null!=c&&(window.clearInterval(c),c=null),_&&s&&console.warn(s))};g(),h||(c=window.setInterval(g,10))}function ff(u){u&&u()}var br=Object.freeze({__proto__:null,doOnce:Cn,getFunctionName:df,getFunctionParameters:function vx(u){var o=u.toString().replace(mx,"");return o.slice(o.indexOf("(")+1,o.indexOf(")")).match(xS)||[]},isFunction:tu,executeInAWhile:pf,executeNextVMTurn:Pd,executeAfter:qv,debounce:fs,waitUntil:hf,compose:function Qv(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return function(i){return u.reduce(function(s,l){return l(s)},i)}},callIfPresent:ff}),Jv=function(){function u(o,i){if(this.beanWrappers={},this.destroyed=!1,o&&o.beanClasses){this.contextParams=o,this.logger=i,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return u.prototype.getBeanInstances=function(){return xa(this.beanWrappers).map(function(o){return o.beanInstance})},u.prototype.createBean=function(o,i){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],i),o},u.prototype.wireBeans=function(o,i){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),he(i)&&o.forEach(i),this.callLifeCycleMethods(o,"postConstructMethods")},u.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),It(this.beanWrappers,function(s,l){var c;l.bean.__agBeanMetaData&&l.bean.__agBeanMetaData.autowireMethods&&l.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=l.bean.__agBeanMetaData.autowireMethods.agConstructor);var h=o.getBeansForParameters(c,l.bean.name),g=function MS(u,o){var i=[null].concat(o);return new(u.bind.apply(u,i))}(l.bean,h);l.beanInstance=g});var i=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+i)},u.prototype.createBeanWrapper=function(o){var i=o.__agBeanMetaData;if(!i){var s;return s=o.prototype.constructor?df(o.prototype.constructor):""+o,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[i.beanName]={bean:o,beanInstance:null,beanName:i.beanName}},u.prototype.autoWireBeans=function(o){var i=this;o.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,c){var h=l.agClassAttributes;!h||h.forEach(function(g){var _=i.lookupBeanInstance(c,g.beanName,g.optional);s[g.attributeName]=_})})})},u.prototype.methodWireBeans=function(o){var i=this;o.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,c){It(l.autowireMethods,function(h,g){if("agConstructor"!==h){var _=i.getBeansForParameters(g,c);s[h].apply(s,_)}})})})},u.prototype.forEachMetaDataInHierarchy=function(o,i){for(var s=Object.getPrototypeOf(o);null!=s;){var l=s.constructor;l.hasOwnProperty("__agBeanMetaData")&&i(l.__agBeanMetaData,this.getBeanName(l)),s=Object.getPrototypeOf(s)}},u.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var i=o.toString();return i.substring(9,i.indexOf("("))},u.prototype.getBeansForParameters=function(o,i){var s=this,l=[];return o&&It(o,function(c,h){var g=s.lookupBeanInstance(i,h);l[Number(c)]=g}),l},u.prototype.lookupBeanInstance=function(o,i,s){if(void 0===s&&(s=!1),"context"===i)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(i))return this.contextParams.providedBeanInstances[i];var l=this.beanWrappers[i];return l?l.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+i+" while initialising "+o),null)},u.prototype.callLifeCycleMethods=function(o,i){var s=this;o.forEach(function(l){return s.callLifeCycleMethodsOnBean(l,i)})},u.prototype.callLifeCycleMethodsOnBean=function(o,i,s){var l={};this.forEachMetaDataInHierarchy(o,function(h){var g=h[i];g&&g.forEach(function(_){_!=s&&(l[_]=!0)})}),Object.keys(l).forEach(function(h){return o[h]()})},u.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},u.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},u.prototype.destroyBean=function(o){!o||this.destroyBeans([o])},u.prototype.destroyBeans=function(o){var i=this;return o?(o.forEach(function(s){i.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},u}();function gf(u,o,i){var s=fo(u.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(o)}function Se(u,o,i){var s=fo(u.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(o)}function di(u,o,i){var s=fo(u.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(o)}function xe(u){return function(o){fo(o).beanName=u}}function P(u){return function(o,i,s){Xv(o,u,!1,0,i,null)}}function mt(u){return function(o,i,s){Xv(o,u,!0,0,i,null)}}function Xv(u,o,i,s,l,c){if(null!==o)if("number"!=typeof c){var h=fo(u.constructor);h.agClassAttributes||(h.agClassAttributes=[]),h.agClassAttributes.push({attributeName:l,beanName:o,optional:i})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Ft(u){return function(o,i,s){var c,l="function"==typeof o?o:o.constructor;if("number"==typeof s){var h=void 0;i?(c=fo(l),h=i):(c=fo(l),h="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[h]||(c.autowireMethods[h]={}),c.autowireMethods[h][s]=u}}}function fo(u){return u.hasOwnProperty("__agBeanMetaData")||(u.__agBeanMetaData={}),u.__agBeanMetaData}var u,zr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mf=function(u,o){return function(i,s){o(i,s,u)}},gs=function(){function u(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return u.prototype.setBeans=function(o,i,s,l){if(void 0===l&&(l=null),this.frameworkOverrides=s,l){var c=i.useAsyncEvents();this.addGlobalListener(l,c)}},u.prototype.getListeners=function(o,i,s){var l=i?this.allAsyncListeners:this.allSyncListeners,c=l.get(o);return!c&&s&&l.set(o,c=new Set),c},u.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},u.prototype.addEventListener=function(o,i,s){void 0===s&&(s=!1),this.getListeners(o,s,!0).add(i)},u.prototype.removeEventListener=function(o,i,s){void 0===s&&(s=!1);var l=this.getListeners(o,s,!1);l&&(l.delete(i),0===l.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(o)},u.prototype.addGlobalListener=function(o,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).add(o)},u.prototype.removeGlobalListener=function(o,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},u.prototype.dispatchEvent=function(o){this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},u.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},u.prototype.dispatchToListeners=function(o,i){var s=this,l=o.type,h=this.getListeners(l,i,!1);h&&h.forEach(function(y){i?s.dispatchAsync(function(){return y(o)}):y(o)}),(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(_){i?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(l,function(){return _(l,o)},!0)}):s.frameworkOverrides.dispatchEvent(l,function(){return _(l,o)},!0)})},u.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},u.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(i){return i()})},zr([mf(0,Ft("loggerFactory")),mf(1,Ft("gridOptionsWrapper")),mf(2,Ft("frameworkOverrides")),mf(3,Ft("globalEventListener"))],u.prototype,"setBeans",null),zr([xe("eventService")],u)}(),q=function(){function u(){}return u.ROW_BUFFER_SIZE=10,u.LAYOUT_INTERVAL=500,u.BATCH_WAIT_MILLIS=50,u.EXPORT_TYPE_DRAG_COPY="dragCopy",u.EXPORT_TYPE_CLIPBOARD="clipboard",u.EXPORT_TYPE_EXCEL="excel",u.EXPORT_TYPE_CSV="csv",u.ROW_MODEL_TYPE_INFINITE="infinite",u.ROW_MODEL_TYPE_VIEWPORT="viewport",u.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",u.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",u.ALWAYS="always",u.ONLY_WHEN_GROUPING="onlyWhenGrouping",u.PINNED_TOP="top",u.PINNED_BOTTOM="bottom",u.DOM_LAYOUT_NORMAL="normal",u.DOM_LAYOUT_PRINT="print",u.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",u.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",u.SOURCE_PASTE="paste",u.PINNED_RIGHT="right",u.PINNED_LEFT="left",u.SORT_ASC="asc",u.SORT_DESC="desc",u.INPUT_SELECTOR="input, select, button, textarea",u.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",u.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",u}();(u=W.GXE||(W.GXE={})).CommunityCoreModule="@ag-grid-community/core",u.CommunityAllModules="@ag-grid-community/all",u.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",u.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",u.CsvExportModule="@ag-grid-community/csv-export",u.EnterpriseCoreModule="@ag-grid-enterprise/core",u.EnterpriseAllModules="@ag-grid-enterprise/all",u.RowGroupingModule="@ag-grid-enterprise/row-grouping",u.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",u.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",u.MenuModule="@ag-grid-enterprise/menu",u.SetFilterModule="@ag-grid-enterprise/set-filter",u.MultiFilterModule="@ag-grid-enterprise/multi-filter",u.StatusBarModule="@ag-grid-enterprise/status-bar",u.SideBarModule="@ag-grid-enterprise/side-bar",u.RangeSelectionModule="@ag-grid-enterprise/range-selection",u.MasterDetailModule="@ag-grid-enterprise/master-detail",u.RichSelectModule="@ag-grid-enterprise/rich-select",u.GridChartsModule="@ag-grid-enterprise/charts",u.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",u.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",u.ExcelExportModule="@ag-grid-enterprise/excel-export",u.ClipboardModule="@ag-grid-enterprise/clipboard",u.SparklinesModule="@ag-grid-enterprise/sparklines",u.AngularModule="@ag-grid-community/angular",u.ReactModule="@ag-grid-community/react",u.VueModule="@ag-grid-community/vue",u.PolymerModule="@ag-grid-community/polymer";var tt=function(){function u(){}return u.register=function(o,i){void 0===i&&(i=!0),u.modulesMap[o.moduleName]=o,void 0===u.moduleBased?u.moduleBased=i:u.moduleBased!==i&&Cn(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},u.registerModules=function(o,i){void 0===i&&(i=!0),o&&o.forEach(function(s){return u.register(s,i)})},u.assertRegistered=function(o,i){if(this.isRegistered(o))return!0;var l="AG Grid: unable to use "+i+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/";return Cn(function(){console.warn(l)},i+o),!1},u.isRegistered=function(o){return!!u.modulesMap[o]},u.getRegisteredModules=function(){return xa(u.modulesMap)},u.isPackageBased=function(){return!u.moduleBased},u.modulesMap={},u}(),Ma=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},nu=0,Mt=function(){function u(o,i,s,l){this.instanceId=nu++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new gs,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=i,this.colId=s,this.primary=l,this.setState(o)}return u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.setState=function(o){void 0!==o.sort?(o.sort===q.SORT_ASC||o.sort===q.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===q.SORT_ASC||o.initialSort===q.SORT_DESC)&&(this.sort=o.initialSort);var i=yr(o.sortIndex),s=yr(o.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==s&&(this.sortIndex=s);var l=Aa(o.hide),c=Aa(o.initialHide);this.visible=void 0!==l?!l:!c,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);var h=yr(o.flex),g=yr(o.initialFlex);void 0!==h?this.flex=h:void 0!==g&&(this.flex=g)},u.prototype.setColDef=function(o,i){this.colDef=o,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation()},u.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},u.prototype.setParent=function(o){this.parent=o},u.prototype.getParent=function(){return this.parent},u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},u.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=he(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=he(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},u.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},u.prototype.resetActualWidth=function(o){void 0===o&&(o="api");var i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,o,!0)},u.prototype.isEmptyGroup=function(){return!1},u.prototype.isRowGroupDisplayed=function(o){return!(je(this.colDef)||je(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==o)},u.prototype.isPrimary=function(){return this.primary},u.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},u.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},u.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},u.prototype.validate=function(){var o=this.colDef;function i(h,g,_){Cn(function(){_?console.warn(h,_):Cn(function(){return console.warn(h)},g)},g)}this.gridOptionsWrapper.isRowModelDefault()&&!tt.isRegistered(W.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(h){he(o[h])&&(tt.isPackageBased()?i("AG Grid: "+h+" is only valid in ag-grid-enterprise, your column definition should not have "+h,"ColumnRowGroupingMissing"+h):i("AG Grid: "+h+" is only valid with AG Grid Enterprise Module "+W.GXE.RowGroupingModule+" - your column definition should not have "+h,"ColumnRowGroupingMissing"+h))}),tt.isRegistered(W.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(tt.isPackageBased()?i("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):i("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+W.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(h){he(o[h])&&i("AG Grid: "+h+" is not possible when doing tree data, your column definition should not have "+h,"TreeDataCannotRowGroup")}),he(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&i("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},u.prototype.addEventListener=function(o,i){this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.eventService.removeEventListener(o,i)},u.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},u.prototype.isSuppressNavigable=function(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var i=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(i)}return!1},u.prototype.isCellEditable=function(o){return!(o.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(o,this.colDef.editable)},u.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},u.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},u.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},u.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},u.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},u.prototype.isResizable=function(){return!0===this.colDef.resizable},u.prototype.isColumnFunc=function(o,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(o))},u.prototype.setMoving=function(o,i){void 0===i&&(i="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MOVING_CHANGED,i))},u.prototype.createColumnEvent=function(o,i){return{api:this.gridApi,columnApi:this.columnApi,type:o,column:this,columns:[this],source:i}},u.prototype.isMoving=function(){return this.moving},u.prototype.getSort=function(){return this.sort},u.prototype.setSort=function(o,i){void 0===i&&(i="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_SORT_CHANGED,i)))},u.prototype.setMenuVisible=function(o,i){void 0===i&&(i="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MENU_VISIBLE_CHANGED,i)))},u.prototype.isMenuVisible=function(){return this.menuVisible},u.prototype.isSortAscending=function(){return this.sort===q.SORT_ASC},u.prototype.isSortDescending=function(){return this.sort===q.SORT_DESC},u.prototype.isSortNone=function(){return je(this.sort)},u.prototype.isSorting=function(){return he(this.sort)},u.prototype.getSortIndex=function(){return this.sortIndex},u.prototype.setSortIndex=function(o){this.sortIndex=o},u.prototype.setAggFunc=function(o){this.aggFunc=o},u.prototype.getAggFunc=function(){return this.aggFunc},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.getRight=function(){return this.left+this.actualWidth},u.prototype.setLeft=function(o,i){void 0===i&&(i="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LEFT_CHANGED,i)))},u.prototype.isFilterActive=function(){return this.filterActive},u.prototype.setFilterActive=function(o,i,s){void 0===i&&(i="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FILTER_ACTIVE_CHANGED,i)));var l=this.createColumnEvent(u.EVENT_FILTER_CHANGED,i);s&&ho(l,s),this.eventService.dispatchEvent(l)},u.prototype.setPinned=function(o){this.pinned=!0===o||o===q.PINNED_LEFT?q.PINNED_LEFT:o===q.PINNED_RIGHT?q.PINNED_RIGHT:null},u.prototype.setFirstRightPinned=function(o,i){void 0===i&&(i="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FIRST_RIGHT_PINNED_CHANGED,i)))},u.prototype.setLastLeftPinned=function(o,i){void 0===i&&(i="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LAST_LEFT_PINNED_CHANGED,i)))},u.prototype.isFirstRightPinned=function(){return this.firstRightPinned},u.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},u.prototype.isPinned=function(){return this.pinned===q.PINNED_LEFT||this.pinned===q.PINNED_RIGHT},u.prototype.isPinnedLeft=function(){return this.pinned===q.PINNED_LEFT},u.prototype.isPinnedRight=function(){return this.pinned===q.PINNED_RIGHT},u.prototype.getPinned=function(){return this.pinned},u.prototype.setVisible=function(o,i){void 0===i&&(i="api");var s=!0===o;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VISIBLE_CHANGED,i)))},u.prototype.isVisible=function(){return this.visible},u.prototype.getColDef=function(){return this.colDef},u.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},u.prototype.getColId=function(){return this.colId},u.prototype.getId=function(){return this.getColId()},u.prototype.getUniqueId=function(){return this.getId()},u.prototype.getDefinition=function(){return this.colDef},u.prototype.getActualWidth=function(){return this.actualWidth},u.prototype.createBaseColDefParams=function(o){return{node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},u.prototype.getColSpan=function(o){if(je(this.colDef.colSpan))return 1;var i=this.createBaseColDefParams(o),s=this.colDef.colSpan(i);return Math.max(s,1)},u.prototype.getRowSpan=function(o){if(je(this.colDef.rowSpan))return 1;var i=this.createBaseColDefParams(o),s=this.colDef.rowSpan(i);return Math.max(s,1)},u.prototype.setActualWidth=function(o,i,s){void 0===i&&(i="api"),void 0===s&&(s=!1),null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),s||this.fireColumnWidthChangedEvent(i))},u.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_WIDTH_CHANGED,o))},u.prototype.isGreaterThanMax=function(o){return null!=this.maxWidth&&o>this.maxWidth},u.prototype.getMinWidth=function(){return this.minWidth},u.prototype.getMaxWidth=function(){return this.maxWidth},u.prototype.getFlex=function(){return this.flex||0},u.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},u.prototype.setMinimum=function(o){void 0===o&&(o="api"),he(this.minWidth)&&this.setActualWidth(this.minWidth,o)},u.prototype.setRowGroupActive=function(o,i){void 0===i&&(i="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_ROW_GROUP_CHANGED,i)))},u.prototype.isRowGroupActive=function(){return this.rowGroupActive},u.prototype.setPivotActive=function(o,i){void 0===i&&(i="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_PIVOT_CHANGED,i)))},u.prototype.isPivotActive=function(){return this.pivotActive},u.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},u.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},u.prototype.setValueActive=function(o,i){void 0===i&&(i="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VALUE_CHANGED,i)))},u.prototype.isValueActive=function(){return this.aggregationActive},u.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},u.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},u.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},u.prototype.getMenuTabs=function(o){var i=this.getColDef().menuTabs;return null==i&&(i=o),i},u.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},u.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},u.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",Ma([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Ma([P("columnUtils")],u.prototype,"columnUtils",void 0),Ma([P("columnApi")],u.prototype,"columnApi",void 0),Ma([P("gridApi")],u.prototype,"gridApi",void 0),Ma([P("context")],u.prototype,"context",void 0),Ma([Se],u.prototype,"initialise",null),u}(),pi=function(){function u(o,i,s,l){this.displayedChildren=[],this.localEventService=new gs,this.groupId=i,this.instanceId=s,this.originalColumnGroup=o,this.pinned=l}return u.createUniqueId=function(o,i){return o+"_"+i},u.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(o){this.parent=o},u.prototype.getUniqueId=function(){return u.createUniqueId(this.groupId,this.instanceId)},u.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},u.prototype.isMoving=function(){var o=this.getOriginalColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(function(i){return i.isMoving()})},u.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(l){l instanceof u&&l.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var i=Zt(this.displayedChildren).getLeft();this.setLeft(i)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_LEFT_CHANGED)))},u.prototype.getPinned=function(){return this.pinned},u.prototype.createAgEvent=function(o){return{type:o}},u.prototype.addEventListener=function(o,i){this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService.removeEventListener(o,i)},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.isChildInThisGroupDeepSearch=function(o){var i=!1;return this.children.forEach(function(s){o===s&&(i=!0),s instanceof u&&s.isChildInThisGroupDeepSearch(o)&&(i=!0)}),i},u.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(i){o+=i.getActualWidth()}),o},u.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(i){i.isResizable()&&(o=!0)}),o},u.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(i){o+=i.getMinWidth()||0}),o},u.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},u.prototype.getDisplayedChildren=function(){return this.displayedChildren},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},u.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},u.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},u.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},u.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},u.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},u.prototype.setExpanded=function(o){this.originalColumnGroup.setExpanded(o)},u.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(i){i instanceof Mt?o.push(i):i instanceof u&&i.addDisplayedLeafColumns(o)})},u.prototype.addLeafColumns=function(o){this.children.forEach(function(i){i instanceof Mt?o.push(i):i instanceof u&&i.addLeafColumns(o)})},u.prototype.getChildren=function(){return this.children},u.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},u.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},u.prototype.getPaddingLevel=function(){var o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0},u.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var i=this;null!=i&&i.isPadding();)i=i.getParent();if(!i||!i.originalColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(l){if(!(l instanceof u)||l.displayedChildren&&l.displayedChildren.length)switch(l.getColumnGroupShow()){case u.HEADER_GROUP_SHOW_OPEN:i.originalColumnGroup.isExpanded()&&o.displayedChildren.push(l);break;case u.HEADER_GROUP_SHOW_CLOSED:i.originalColumnGroup.isExpanded()||o.displayedChildren.push(l);break;default:o.displayedChildren.push(l)}}),this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED))},u.HEADER_GROUP_SHOW_OPEN="open",u.HEADER_GROUP_SHOW_CLOSED="closed",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),bn=function(){function u(o,i,s,l){this.localEventService=new gs,this.expandable=!1,this.colGroupDef=o,this.groupId=i,this.expanded=!!o&&!!o.openByDefault,this.padding=s,this.level=l}return u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.getLevel=function(){return this.level},u.prototype.isVisible=function(){return!!this.children&&this.children.some(function(o){return o.isVisible()})},u.prototype.isPadding=function(){return this.padding},u.prototype.setExpanded=function(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED})},u.prototype.isExpandable=function(){return this.expandable},u.prototype.isExpanded=function(){return this.expanded},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getId=function(){return this.getGroupId()},u.prototype.setChildren=function(o){this.children=o},u.prototype.getChildren=function(){return this.children},u.prototype.getColGroupDef=function(){return this.colGroupDef},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.addLeafColumns=function(o){!this.children||this.children.forEach(function(i){i instanceof Mt?o.push(i):i instanceof u&&i.addLeafColumns(o)})},u.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},u.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(i){return i.addEventListener(Mt.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},u.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,i=!1,s=!1,l=this.findChildrenRemovingPadding(),c=0,h=l.length;c<h;c++){var g=l[c];if(g.isVisible()){var _=g.getColumnGroupShow();_===pi.HEADER_GROUP_SHOW_OPEN?(o=!0,s=!0):_===pi.HEADER_GROUP_SHOW_CLOSED?(i=!0,s=!0):(o=!0,i=!0)}}var y=o&&i&&s;this.expandable!==y&&(this.expandable=y,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDABLE_CHANGED}))}},u.prototype.findChildrenRemovingPadding=function(){var o=[],i=function(s){s.forEach(function(l){l instanceof u&&l.isPadding()?i(l.children):o.push(l)})};return i(this.children),o},u.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},u.prototype.addEventListener=function(o,i){this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService.removeEventListener(o,i)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_EXPANDABLE_CHANGED="expandableChanged",u}(),PS={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},e_="__ag_Grid_Stop_Propagation",FS=["touchstart","touchend","touchmove","touchcancel"],Fd={};function Il(u){u[e_]=!0}function jo(u){return!0===u[e_]}var $n=function(){var u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i){if("boolean"==typeof Fd[i])return Fd[i];var s=document.createElement(u[i]||"div"),l=(i="on"+i)in s;return l||(s.setAttribute(i,"return;"),l="function"==typeof s[i]),Fd[i]=l}}();function wr(u,o,i){for(var s=Pa(o);s;){var l=u.getDomData(s,i);if(l)return l;s=s.parentElement}return null}function Pa(u){return u.target||u.srcElement}function Ml(u,o){return!(!o||!u)&&Ut(o).indexOf(u)>=0}function en(u){for(var o=[],i=Pa(u);i;)o.push(i),i=i.parentElement;return o}function Ut(u){var o=u;return o.deepPath?o.deepPath():o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:en(u)}function Nd(u,o,i,s){var l=ri(FS,i);u&&u.addEventListener&&u.addEventListener(o,i,s,l?{passive:!0}:void 0)}var NS=Object.freeze({__proto__:null,stopPropagationForAgGrid:Il,isStopPropagationForAgGrid:jo,isEventSupported:$n,getCtrlForEvent:wr,addChangeListener:function er(u,o){u.addEventListener("changed",o),u.addEventListener("paste",o),u.addEventListener("input",o),u.addEventListener("keydown",o),u.addEventListener("keyup",o)},getTarget:Pa,isElementInEventPath:Ml,createEventPath:en,addAgGridEventPath:function vf(u){u.__agGridEventPath=Ut(u)},getEventPath:Ut,addSafePassiveEventListener:Nd}),Ht=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ie=function(){function u(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return u.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},u.prototype.getContext=function(){return this.context},u.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:u.EVENT_DESTROYED})},u.prototype.addEventListener=function(o,i){this.localEventService||(this.localEventService=new gs),this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService&&this.localEventService.removeEventListener(o,i)},u.prototype.dispatchEventAsync=function(o){var i=this;window.setTimeout(function(){return i.dispatchEvent(o)},0)},u.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},u.prototype.addManagedListener=function(o,i,s){var l=this;if(!this.destroyed){o instanceof HTMLElement?Nd(this.getFrameworkOverrides(),o,i,s):o.addEventListener(i,s);var c=function(){return o.removeEventListener(i,s),l.destroyFunctions=l.destroyFunctions.filter(function(h){return h!==c}),null};return this.destroyFunctions.push(c),c}},u.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},u.prototype.createManagedBean=function(o,i){var s=this.createBean(o,i);return this.addDestroyFunc(this.destroyBean.bind(this,o,i)),s},u.prototype.createBean=function(o,i,s){return(i||this.getContext()).createBean(o,s)},u.prototype.destroyBean=function(o,i){return(i||this.getContext()).destroyBean(o)},u.prototype.destroyBeans=function(o,i){var s=this;return o&&pe(o,function(l){return s.destroyBean(l,i)}),[]},u.EVENT_DESTROYED="destroyed",Ht([P("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),Ht([P("context")],u.prototype,"context",void 0),Ht([P("eventService")],u.prototype,"eventService",void 0),Ht([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Ht([di],u.prototype,"destroy",null),u}(),t_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),n_=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ve=function(u,o){return function(i,s){o(i,s,u)}},Ld=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return t_(o,u),o.prototype.setBeans=function(i){this.logger=i.create("ColumnFactory")},o.prototype.createColumnTree=function(i,s,l){var c=new Bv,h=this.extractExistingTreeData(l),g=h.existingCols,_=h.existingGroups;c.addExistingKeys(h.existingColKeys);var w=this.recursivelyCreateColumns(i,0,s,g,c,_),x=this.findMaxDept(w,0);this.logger.log("Number of levels for grouped columns is "+x);var k=this.balanceColumnTree(w,0,x,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,k,function(j,ee){j instanceof bn&&j.setupExpandable(),j.setOriginalParent(ee)}),{columnTree:k,treeDept:x}},o.prototype.extractExistingTreeData=function(i){var s=[],l=[],c=[];return i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(h){if(h instanceof bn)l.push(h);else{var _=h;c.push(_.getId()),s.push(_)}}),{existingCols:s,existingGroups:l,existingColKeys:c}},o.prototype.createForAutoGroups=function(i,s){var l=this,c=[];return i.forEach(function(h){var g=l.createAutoGroupTreeItem(s,h);c.push(g)}),c},o.prototype.createAutoGroupTreeItem=function(i,s){for(var c=s,h=this.findDepth(i)-1;h>=0;h--){var g=new bn(null,"FAKE_PATH_"+s.getId()+"}_"+h,!0,h);this.context.createBean(g),g.setChildren([c]),c.setOriginalParent(g),c=g}return c},o.prototype.findDepth=function(i){for(var s=0,l=i;l&&l[0]&&l[0]instanceof bn;)s++,l=l[0].getChildren();return s},o.prototype.balanceColumnTree=function(i,s,l,c){for(var h=[],g=0;g<i.length;g++){var _=i[g];if(_ instanceof bn){var y=_,w=this.balanceColumnTree(y.getChildren(),s+1,l,c);y.setChildren(w),h.push(y)}else{for(var x=void 0,k=void 0,B=l-1;B>=s;B--){var j=c.getUniqueKey(null,null),ee=this.createMergedColGroupDef(null),re=new bn(ee,j,!0,s);this.context.createBean(re),k&&k.setChildren([re]),k=re,x||(x=k)}if(x&&k){if(h.push(x),i.some(function(ge){return ge instanceof bn})){k.setChildren([_]);continue}k.setChildren(i);break}h.push(_)}}return h},o.prototype.findMaxDept=function(i,s){for(var l=s,c=0;c<i.length;c++){var h=i[c];if(h instanceof bn){var _=this.findMaxDept(h.getChildren(),s+1);l<_&&(l=_)}}return l},o.prototype.recursivelyCreateColumns=function(i,s,l,c,h,g){var _=this,y=[];return i&&i.forEach(function(w){var x;x=_.isColumnGroup(w)?_.createColumnGroup(l,w,s,c,h,g):_.createColumn(l,w,c,h),y.push(x)}),y},o.prototype.createColumnGroup=function(i,s,l,c,h,g){var _=this.createMergedColGroupDef(s),y=h.getUniqueKey(_.groupId||null,null),w=new bn(_,y,!1,l);this.context.createBean(w);var x=this.findExistingGroup(s,g);x&&x.isExpanded()&&w.setExpanded(!0);var k=this.recursivelyCreateColumns(_.children,l+1,i,c,h,g);return w.setChildren(k),w},o.prototype.createMergedColGroupDef=function(i){var s={};return Cr(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Cr(s,i),this.checkForDeprecatedItems(s),s},o.prototype.createColumn=function(i,s,l,c){var h=this.mergeColDefs(s);this.checkForDeprecatedItems(h);var g=this.findExistingColumn(s,l);if(g)g.setColDef(h,s),this.applyColumnState(g,h);else{var _=c.getUniqueKey(h.colId,h.field);g=new Mt(h,s,_,i),this.context.createBean(g)}return g},o.prototype.applyColumnState=function(i,s){var l=yr(s.flex);if(void 0!==l&&i.setFlex(l),i.getFlex()<=0){var h=yr(s.width);if(null!=h)i.setActualWidth(h);else{var g=i.getActualWidth();i.setActualWidth(g)}}void 0!==s.sort&&i.setSort(s.sort==q.SORT_ASC||s.sort==q.SORT_DESC?s.sort:void 0);var _=yr(s.sortIndex);void 0!==_&&i.setSortIndex(_);var y=Aa(s.hide);void 0!==y&&i.setVisible(!y),void 0!==s.pinned&&i.setPinned(s.pinned)},o.prototype.findExistingColumn=function(i,s){var l=Ni(s,function(c){var h=c.getUserProvidedColDef();if(!h)return!1;var _=null!=i.field;return null!=i.colId?c.getId()===i.colId:_?h.field===i.field:h===i});return s&&l&&ii(s,l),l},o.prototype.findExistingGroup=function(i,s){var l=Ni(s,function(c){return!(!c.getColGroupDef()||null==i.groupId||c.getId()!==i.groupId)});return l&&ii(s,l),l},o.prototype.mergeColDefs=function(i){var s={},l=this.gridOptionsWrapper.getDefaultColDef();ho(s,l,!1,!0);var c=i.type;return c||(c=l&&l.type),c&&this.assignColumnTypes(c,s),ho(s,i,!1,!0),s},o.prototype.assignColumnTypes=function(i,s){var l=[];if(i instanceof Array)i.some(function(_){return"string"!=typeof _})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):l=i;else{if("string"!=typeof i)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");l=i.split(",")}var h=Cr({},PS);It(this.gridOptionsWrapper.getColumnTypes()||{},function(_,y){_ in h?console.warn("AG Grid: the column type '"+_+"' is a default column type and cannot be overridden."):h[_]=y}),l.forEach(function(_){var y=h[_.trim()];y?ho(s,y,!1,!0):console.warn("ag-grid: colDef.type '"+_+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(i){if(i){var s=i;void 0!==s.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("ag-grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},o.prototype.isColumnGroup=function(i){return void 0!==i.children},n_([P("columnUtils")],o.prototype,"columnUtils",void 0),n_([Ve(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),n_([xe("columnFactory")],o)}(ie),G=function(){function u(){}return u.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",u.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",u.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",u.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",u.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",u.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",u.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",u.EVENT_COLUMN_MOVED="columnMoved",u.EVENT_COLUMN_VISIBLE="columnVisible",u.EVENT_COLUMN_PINNED="columnPinned",u.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",u.EVENT_COLUMN_RESIZED="columnResized",u.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",u.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",u.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",u.EVENT_ROW_GROUP_OPENED="rowGroupOpened",u.EVENT_ROW_DATA_CHANGED="rowDataChanged",u.EVENT_ROW_DATA_UPDATED="rowDataUpdated",u.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",u.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",u.EVENT_CHART_CREATED="chartCreated",u.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",u.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",u.EVENT_CHART_DESTROYED="chartDestroyed",u.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",u.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",u.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",u.EVENT_MODEL_UPDATED="modelUpdated",u.EVENT_PASTE_START="pasteStart",u.EVENT_PASTE_END="pasteEnd",u.EVENT_FILL_START="fillStart",u.EVENT_FILL_END="fillEnd",u.EVENT_CELL_CLICKED="cellClicked",u.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",u.EVENT_CELL_MOUSE_DOWN="cellMouseDown",u.EVENT_CELL_CONTEXT_MENU="cellContextMenu",u.EVENT_CELL_VALUE_CHANGED="cellValueChanged",u.EVENT_ROW_VALUE_CHANGED="rowValueChanged",u.EVENT_CELL_FOCUSED="cellFocused",u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_SELECTION_CHANGED="selectionChanged",u.EVENT_CELL_KEY_DOWN="cellKeyDown",u.EVENT_CELL_KEY_PRESS="cellKeyPress",u.EVENT_CELL_MOUSE_OVER="cellMouseOver",u.EVENT_CELL_MOUSE_OUT="cellMouseOut",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_MODIFIED="filterModified",u.EVENT_FILTER_OPENED="filterOpened",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",u.EVENT_ROW_CLICKED="rowClicked",u.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",u.EVENT_GRID_READY="gridReady",u.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",u.EVENT_VIEWPORT_CHANGED="viewportChanged",u.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",u.EVENT_FIRST_DATA_RENDERED="firstDataRendered",u.EVENT_DRAG_STARTED="dragStarted",u.EVENT_DRAG_STOPPED="dragStopped",u.EVENT_CHECKBOX_CHANGED="checkboxChanged",u.EVENT_ROW_EDITING_STARTED="rowEditingStarted",u.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",u.EVENT_CELL_EDITING_STARTED="cellEditingStarted",u.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",u.EVENT_BODY_SCROLL="bodyScroll",u.EVENT_BODY_SCROLL_END="bodyScrollEnd",u.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",u.EVENT_PAGINATION_CHANGED="paginationChanged",u.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",u.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",u.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",u.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",u.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",u.EVENT_FLASH_CELLS="flashCells",u.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",u.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",u.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",u.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",u.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",u.EVENT_ROW_DRAG_ENTER="rowDragEnter",u.EVENT_ROW_DRAG_MOVE="rowDragMove",u.EVENT_ROW_DRAG_LEAVE="rowDragLeave",u.EVENT_ROW_DRAG_END="rowDragEnd",u.EVENT_POPUP_TO_FRONT="popupToFront",u.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",u.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",u.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",u.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",u.EVENT_KEYBOARD_FOCUS="keyboardFocus",u.EVENT_MOUSE_FOCUS="mouseFocus",u.EVENT_STORE_UPDATED="storeUpdated",u}(),Si=function(){function u(){this.existingIds={}}return u.prototype.getInstanceIdForKey=function(o){var s,i=this.existingIds[o];return this.existingIds[o]=s="number"!=typeof i?0:i+1,s},u}(),LS=/[&<>"']/g,_x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function iu(u,o){if(o=Math.floor(o),0===u.length||0===o)return"";var i=u.length*o;for(o=Math.floor(Math.log(o)/Math.log(2));o;)u+=u,o--;return u+u.substring(0,i-u.length)}function tr(u,o,i){return u.length>o?u:((o-=u.length)>i.length&&(i+=iu(i,o/i.length)),i.slice(0,o)+u)}function kS(u){return null==u?null:u.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function i_(u){return null==u?null:u.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function GS(u){return u[0].toUpperCase()+u.substr(1).toLowerCase()}function oi(u){return null==u?null:u.toString().toString().replace(LS,function(o){return _x[o]})}function r_(u){return u&&null!=u?u.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}function o_(u,o){return u===o||null!=u&&u.slice(0,o.length)===o}var Cx=Object.freeze({__proto__:null,utf8_encode:function yx(u){var o=String.fromCharCode;function l(x,k){return o(x>>k&63|128)}function c(x){if(x>=0&&x<=31&&10!==x)return"_x"+tr(x.toString(16).toUpperCase(),4,"0")+"_";if(0==(4294967168&x))return o(x);var j="";return 0==(4294965248&x)?j=o(x>>6&31|192):0==(4294901760&x)?(function s(x){if(x>=55296&&x<=57343)throw Error("Lone surrogate U+"+x.toString(16).toUpperCase()+" is not a scalar value")}(x),j=o(x>>12&15|224),j+=l(x,6)):0==(4292870144&x)&&(j=o(x>>18&7|240),j+=l(x,12),j+=l(x,6)),j+o(63&x|128)}for(var h=function i(x){var k=[];if(!x)return[];for(var ee,re,B=x.length,j=0;j<B;)(ee=x.charCodeAt(j++))>=55296&&ee<=56319&&j<B?56320==(64512&(re=x.charCodeAt(j++)))?k.push(((1023&ee)<<10)+(1023&re)+65536):(k.push(ee),j--):k.push(ee);return k}(u),g=h.length,_=-1,w="";++_<g;)w+=c(h[_]);return w},stringRepeat:iu,padStart:tr,camelCaseToHyphen:kS,hyphenToCamelCase:i_,capitalise:GS,escapeString:oi,camelCaseToHumanText:r_,startsWith:o_});function ms(u){var o=new Map;return u.forEach(function(i){return o.set(i[0],i[1])}),o}var VS=Object.freeze({__proto__:null,convertToMap:ms,mapById:function HS(u,o){var i=new Map;return u.forEach(function(s){return i.set(o(s),s)}),i},keys:function bx(u){var o=[];return u.forEach(function(i,s){return o.push(s)}),o}}),wx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yt=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mn=function(u,o){return function(i,s){o(i,s,u)}},BS=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.primaryHeaderRowCount=0,i.secondaryHeaderRowCount=0,i.secondaryColumnsPresent=!1,i.gridHeaderRowCount=0,i.displayedColumnsLeft=[],i.displayedColumnsRight=[],i.displayedColumnsCenter=[],i.displayedColumns=[],i.displayedColumnsAndGroupsMap={},i.viewportColumns=[],i.viewportColumnsCenter=[],i.autoHeightActiveAtLeastOnce=!1,i.rowGroupColumns=[],i.valueColumns=[],i.pivotColumns=[],i.ready=!1,i.autoGroupsNeedBuilding=!1,i.forceRecreateAutoGroups=!1,i.pivotMode=!1,i.bodyWidth=0,i.leftWidth=0,i.rightWidth=0,i.bodyWidthDirty=!0,i.colDefVersion=0,i.flexColsCalculatedAtLestOnce=!1,i}return wx(o,u),o.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var i=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.getColDefVersion=function(){return this.colDefVersion},o.prototype.setColumnDefs=function(i,s){var l=this;void 0===s&&(s="api");var c=!!this.columnDefs;this.colDefVersion++;var h=this.compareColumnStatesAndRaiseEvents(s);this.columnDefs=i,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var g=this.primaryColumns,y=this.columnFactory.createColumnTree(i,!0,this.primaryColumnTree);this.primaryColumnTree=y.columnTree,this.primaryHeaderRowCount=y.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(w){return l.primaryColumnsMap[w.getId()]=w}),this.extractRowGroupColumns(s,g),this.extractPivotColumns(s,g),this.extractValueColumns(s,g),this.ready=!0,this.updateGridColumns(),c&&this.gridColsArePrimary&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns(),this.dispatchEverythingChanged(s),h(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:G.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.dispatchEverythingChanged=function(i){void 0===i&&(i="api"),this.eventService.dispatchEvent({type:G.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:i})},o.prototype.orderGridColumnsLikePrimary=function(){var i=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(l,c){var h=s.indexOf(l),g=s.indexOf(c),_=h>=0,y=g>=0;return _&&y?h-g:_?1:y?-1:i.gridColumns.indexOf(l)-i.gridColumns.indexOf(c)})},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(i){for(var s=i,l=[];null!=s;)l.push(s),s=this.getDisplayedColAfter(s);return l},o.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var i=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewport(),i!==this.viewportColumns.map(function(c){return c.getId()}).join("#")&&this.eventService.dispatchEvent({type:G.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.setViewportPosition=function(i,s){(i!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=i,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(i){return!i||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},o.prototype.setPivotMode=function(i,s){void 0===s&&(s="api"),i!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=i,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:G.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getSecondaryPivotColumn=function(i,s){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var l=this.getPrimaryColumn(s),c=null;return this.secondaryColumns.forEach(function(h){var g=h.getColDef().pivotKeys,_=h.getColDef().pivotValueColumn;hs(g,i)&&_===l&&(c=h)}),c},o.prototype.setBeans=function(i){this.logger=i.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(i){var s,l;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,l=this.displayedColumnsRight?Zt(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?Zt(this.displayedColumnsLeft):null,l=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===s,i),c.setFirstRightPinned(c===l,i)})},o.prototype.autoSizeColumns=function(i,s,l){var c=this;void 0===l&&(l="api"),this.animationFrameService.flushAllFrames();var h=[],g=-1;for(null==s&&(s=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==g;)g=0,this.actionOnGridColumns(i,function(_){if(h.indexOf(_)>=0)return!1;var y=c.autoWidthCalculator.getPreferredWidthForColumn(_,s);if(y>0){var w=c.normaliseColumnWidth(_,y);_.setActualWidth(w,l),h.push(_),g++}return!0},l);this.fireColumnResizedEvent(h,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(i,s,l,c){void 0===c&&(c=null),i&&i.length&&this.eventService.dispatchEvent({type:G.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,flexColumns:c,finished:s,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.autoSizeColumn=function(i,s,l){void 0===l&&(l="api"),i&&this.autoSizeColumns([i],s,l)},o.prototype.autoSizeAllColumns=function(i,s){void 0===s&&(s="api");var l=this.getAllDisplayedColumns();this.autoSizeColumns(l,i,s)},o.prototype.getColumnsFromTree=function(i){var s=[],l=function(c){for(var h=0;h<c.length;h++){var g=c[h];g instanceof Mt?s.push(g):g instanceof bn&&l(g.getChildren())}};return l(i),s},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(i){return this.getAllDisplayedColumns().indexOf(i)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(i,s,l,c){for(var y,h=[],g=null,_=function(x){var ge,k=s[x],B=s.length-x,j=Math.min(k.getColSpan(i),B),ee=[k];if(j>1){for(var re=j-1,we=1;we<=re;we++)ee.push(s[x+we]);x+=re}l?(ge=!1,ee.forEach(function(Te){l(Te)&&(ge=!0)})):ge=!0,ge&&(0===h.length&&g&&c&&c(k)&&h.push(g),h.push(k)),g=k,y=x},w=0;w<s.length;w++)_(w),w=y;return h},o.prototype.getViewportCenterColumnsForRow=function(i){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(i,this.displayedColumnsCenter,c,function(h){var g=h.getLeft();return he(g)&&g>s.viewportLeft})},o.prototype.getAriaColumnIndex=function(i){return this.getAllGridColumns().indexOf(i)+1},o.prototype.isColumnInViewport=function(i){if(i.getColDef().autoHeight)return!0;var s=i.getLeft()||0,l=s+i.getActualWidth(),c=this.viewportLeft-200,h=this.viewportRight+200;return!(s<c&&l<c||s>h&&l>h)},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(i,s,l,c,h,g){var _=this;if(void 0===g&&(g="api"),i&&!Fi(i)){var y=!1;i.forEach(function(x){var k=_.getPrimaryColumn(x);if(k){if(l){if(s.indexOf(k)>=0)return;s.push(k)}else{if(s.indexOf(k)<0)return;ii(s,k)}c(k),y=!0}}),y&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(g),this.eventService.dispatchEvent({type:h,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:g}))}},o.prototype.setRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(i,this.rowGroupColumns,G.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},o.prototype.setRowGroupActive=function(i,s,l){i!==s.isRowGroupActive()&&(s.setRowGroupActive(i,l),!i&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,l))},o.prototype.addRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.addRowGroupColumns([i],s)},o.prototype.addRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),G.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),G.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.removeRowGroupColumns([i],s)},o.prototype.addPivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!0,function(l){return l.setPivotActive(!0,s)},G.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.setPivotColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.pivotColumns,G.EVENT_COLUMN_PIVOT_CHANGED,function(l,c){c.setPivotActive(l,s)},s)},o.prototype.addPivotColumn=function(i,s){void 0===s&&(s="api"),this.addPivotColumns([i],s)},o.prototype.removePivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!1,function(l){return l.setPivotActive(!1,s)},G.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.removePivotColumn=function(i,s){void 0===s&&(s="api"),this.removePivotColumns([i],s)},o.prototype.setPrimaryColumnList=function(i,s,l,c,h){var g=this;s.length=0,he(i)&&i.forEach(function(_){var y=g.getPrimaryColumn(_);y&&s.push(y)}),(this.primaryColumns||[]).forEach(function(_){var y=s.indexOf(_)>=0;c(y,_)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(h),this.fireColumnEvent(l,s,h)},o.prototype.setValueColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.valueColumns,G.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},o.prototype.setValueActive=function(i,s,l){if(i!==s.isValueActive()&&(s.setValueActive(i,l),i&&!s.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(c)}},o.prototype.addValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!0,this.setValueActive.bind(this,!0),G.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.addValueColumn=function(i,s){void 0===s&&(s="api"),i&&this.addValueColumns([i],s)},o.prototype.removeValueColumn=function(i,s){void 0===s&&(s="api"),this.removeValueColumns([i],s)},o.prototype.removeValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!1,this.setValueActive.bind(this,!1),G.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.normaliseColumnWidth=function(i,s){var l=i.getMinWidth();he(l)&&s<l&&(s=l);var c=i.getMaxWidth();return he(c)&&i.isGreaterThanMax(s)&&(s=c),s},o.prototype.getPrimaryOrGridColumn=function(i){return this.getPrimaryColumn(i)||this.getGridColumn(i)},o.prototype.setColumnWidths=function(i,s,l,c){var h=this;void 0===c&&(c="api");var g=[];i.forEach(function(_){var y=h.getPrimaryOrGridColumn(_.key);if(y&&(g.push({width:_.newWidth,ratios:[1],columns:[y]}),"shift"===h.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var x=h.getDisplayedColAfter(y);if(!x)return;var k=y.getActualWidth()-_.newWidth,B=x.getActualWidth()+k;g.push({width:B,ratios:[1],columns:[x]})}}),0!==g.length&&this.resizeColumnSets(g,l,c)},o.prototype.checkMinAndMaxWidthsForSet=function(i){var l=i.width,c=0,h=0,g=!0;return i.columns.forEach(function(w){var x=w.getMinWidth();c+=x||0;var k=w.getMaxWidth();he(k)&&k>0?h+=k:g=!1}),l>=c&&(!g||l<=h)},o.prototype.resizeColumnSets=function(i,s,l){var c=this;if(!i||i.every(function(B){return c.checkMinAndMaxWidthsForSet(B)})){var _=[],y=[];i.forEach(function(B){var j=B.width,ee=B.columns,re=B.ratios,we={},ge={};ee.forEach(function(Ze){return y.push(Ze)});for(var de=!0,Te=0,We=function(){if(++Te>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";de=!1;var Ze=[],Et=0,zt=j;ee.forEach(function(Sn,ln){ge[Sn.getId()]?zt-=we[Sn.getId()]:(Ze.push(Sn),Et+=re[ln])});var Ot=1/Et;Ze.forEach(function(Sn,ln){var on;ln===Ze.length-1?on=zt:(on=Math.round(re[ln]*j*Ot),zt-=on);var Am=Sn.getMinWidth(),cn=Sn.getMaxWidth();he(Am)&&on<Am?(on=Am,ge[Sn.getId()]=!0,de=!0):he(cn)&&cn>0&&on>cn&&(on=cn,ge[Sn.getId()]=!0,de=!0),we[Sn.getId()]=on})};de&&"break"!==We(););ee.forEach(function(Ze){var Et=we[Ze.getId()];Ze.getActualWidth()!==Et&&(Ze.setActualWidth(Et,l),_.push(Ze))})});var w=_.length>0,x=this.refreshFlexedColumns({resizingCols:y,skipSetLeft:!0});w&&(this.setLeftValues(l),this.updateBodyWidths(),this.checkViewportColumns());var k=y.concat(x);(w||s)&&this.fireColumnResizedEvent(k,s,l,x)}else s&&this.fireColumnResizedEvent(i&&i.length>0?i[0].columns:null,s,l)},o.prototype.setColumnAggFunc=function(i,s,l){if(void 0===l&&(l="api"),i){var c=this.getPrimaryColumn(i);!c||(c.setAggFunc(s),this.fireColumnEvent(G.EVENT_COLUMN_VALUE_CHANGED,[c],l))}},o.prototype.fireColumnEvent=function(i,s,l){this.eventService.dispatchEvent({type:i,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveRowGroupColumn=function(i,s,l){void 0===l&&(l="api");var c=this.rowGroupColumns[i];this.rowGroupColumns.splice(i,1),this.rowGroupColumns.splice(s,0,c),this.eventService.dispatchEvent({type:G.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveColumns=function(i,s,l){if(void 0===l&&(l="api"),this.columnAnimationService.start(),s>this.gridColumns.length-i.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(i);!this.doesMovePassRules(c,s)||(Xc(this.gridColumns,c,s),this.updateDisplayedColumns(l),this.eventService.dispatchEvent({type:G.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:l}),this.columnAnimationService.finish())},o.prototype.doesMovePassRules=function(i,s){var l=this.gridColumns.slice();return Xc(l,i,s),!(!this.doesMovePassMarryChildren(l)||!this.doesMovePassLockedPositions(l))},o.prototype.sortColumnsLikeGridColumns=function(i){var s=this;!i||i.length<=1||i.filter(function(c){return s.gridColumns.indexOf(c)<0}).length>0||i.sort(function(c,h){return s.gridColumns.indexOf(c)-s.gridColumns.indexOf(h)})},o.prototype.doesMovePassLockedPositions=function(i){var s=!1,l=!0;return i.forEach(function(c){c.getColDef().lockPosition?s&&(l=!1):s=!0}),l},o.prototype.doesMovePassMarryChildren=function(i){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){if(l instanceof bn){var c=l,h=c.getColGroupDef();if(h&&h.marryChildren){var _=[];c.getLeafColumns().forEach(function(B){var j=i.indexOf(B);_.push(j)}),Math.max.apply(Math,_)-Math.min.apply(Math,_)>c.getLeafColumns().length-1&&(s=!1)}}}),s},o.prototype.moveColumn=function(i,s,l){void 0===l&&(l="api"),this.moveColumns([i],s,l)},o.prototype.moveColumnByIndex=function(i,s,l){void 0===l&&(l="api"),this.moveColumn(this.gridColumns[i],s,l)},o.prototype.getColumnDefs=function(){var i=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(l,c){return i.gridColumns.indexOf(l)-i.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&s.sort(function(l,c){return i.lastPrimaryOrder.indexOf(l)-i.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(i){switch(i){case q.PINNED_LEFT:return this.leftWidth;case q.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var i=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),l=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==i,(this.bodyWidth!==i||this.leftWidth!==s||this.rightWidth!==l)&&(this.bodyWidth=i,this.leftWidth=s,this.rightWidth=l,this.eventService.dispatchEvent({type:G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(i){switch(i){case q.PINNED_LEFT:return this.getDisplayedLeftColumns();case q.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return Fi(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return Fi(this.rowGroupColumns)},o.prototype.setColumnVisible=function(i,s,l){void 0===l&&(l="api"),this.setColumnsVisible([i],s,l)},o.prototype.setColumnsVisible=function(i,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l="api"),this.columnAnimationService.start(),this.actionOnGridColumns(i,function(h){return h.isVisible()!==s&&(h.setVisible(s,l),!0)},l,function(){return{type:G.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()},o.prototype.setColumnPinned=function(i,s,l){void 0===l&&(l="api"),i&&this.setColumnsPinned([i],s,l)},o.prototype.setColumnsPinned=function(i,s,l){var h,c=this;void 0===l&&(l="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),h=!0===s||s===q.PINNED_LEFT?q.PINNED_LEFT:s===q.PINNED_RIGHT?q.PINNED_RIGHT:null,this.actionOnGridColumns(i,function(g){return g.getPinned()!==h&&(g.setPinned(h),!0)},l,function(){return{type:G.EVENT_COLUMN_PINNED,pinned:h,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},o.prototype.actionOnGridColumns=function(i,s,l,c){var h=this;if(!Fi(i)){var g=[];if(i.forEach(function(y){var w=h.getGridColumn(y);w&&!1!==s(w)&&g.push(w)}),g.length&&(this.updateDisplayedColumns(l),he(c)&&c)){var _=c();_.columns=g,_.column=1===g.length?g[0]:null,this.eventService.dispatchEvent(_)}}},o.prototype.getDisplayedColBefore=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l>0?s[l-1]:null},o.prototype.getDisplayedColAfter=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l<s.length-1?s[l+1]:null},o.prototype.getDisplayedGroupAfter=function(i){return this.getDisplayedGroupAtDirection(i,"After")},o.prototype.getDisplayedGroupBefore=function(i){return this.getDisplayedGroupAtDirection(i,"Before")},o.prototype.getDisplayedGroupAtDirection=function(i,s){for(var l=i.getOriginalColumnGroup().getLevel()+i.getPaddingLevel(),c=i.getDisplayedLeafColumns(),h="After"===s?Zt(c):c[0],g="getDisplayedCol"+s;;){var _=this[g](h);if(!_)return null;var y=this.getColumnGroupAtLevel(_,l);if(y!==i)return y}},o.prototype.getColumnGroupAtLevel=function(i,s){for(var l=i.getParent();!(l.getOriginalColumnGroup().getLevel()+l.getPaddingLevel()<=s);)l=l.getParent();return l},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var i=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&he(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(s){return i.push(s)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(s){return i.push(s)}),i},o.prototype.createStateItemFromColumn=function(i){var s=i.isRowGroupActive()?this.rowGroupColumns.indexOf(i):null,l=i.isPivotActive()?this.pivotColumns.indexOf(i):null,c=i.isValueActive()?i.getAggFunc():null,h=null!=i.getSort()?i.getSort():null,g=null!=i.getSortIndex()?i.getSortIndex():null,_=null!=i.getFlex()&&i.getFlex()>0?i.getFlex():null;return{colId:i.getColId(),width:i.getActualWidth(),hide:!i.isVisible(),pinned:i.getPinned(),sort:h,sortIndex:g,aggFunc:c,rowGroup:i.isRowGroupActive(),rowGroupIndex:s,pivot:i.isPivotActive(),pivotIndex:l,flex:_}},o.prototype.getColumnState=function(){if(je(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(s),s},o.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},o.prototype.orderColumnStateList=function(i){var s=ms(this.gridColumns.map(function(l,c){return[l.getColId(),c]}));i.sort(function(l,c){return(s.has(l.colId)?s.get(l.colId):-1)-(s.has(c.colId)?s.get(c.colId):-1)})},o.prototype.resetColumnState=function(i){void 0===i&&(i="api");var s=this.getColumnsFromTree(this.primaryColumnTree),l=[],c=1e3,h=1e3,g=[];this.groupAutoColumns&&(g=g.concat(this.groupAutoColumns)),s&&(g=g.concat(s)),g.forEach(function(_){var y=function(Ze,Et){return null!=Ze?Ze:null!=Et?Et:null},w=_.getColDef(),x=y(w.sort,w.initialSort),k=y(w.sortIndex,w.initialSortIndex),B=y(w.hide,w.initialHide),j=y(w.pinned,w.initialPinned),ee=y(w.width,w.initialWidth),re=y(w.flex,w.initialFlex),we=y(w.rowGroupIndex,w.initialRowGroupIndex),ge=y(w.rowGroup,w.initialRowGroup);null==we&&(null==ge||0==ge)&&(we=null,ge=null);var de=y(w.pivotIndex,w.initialPivotIndex),Te=y(w.pivot,w.initialPivot);null==de&&(null==Te||0==Te)&&(de=null,Te=null);var We=y(w.aggFunc,w.initialAggFunc),Dt={colId:_.getColId(),sort:x,sortIndex:k,hide:B,pinned:j,width:ee,flex:re,rowGroup:ge,rowGroupIndex:we,pivot:Te,pivotIndex:de,aggFunc:We};je(we)&&ge&&(Dt.rowGroupIndex=c++),je(de)&&Te&&(Dt.pivotIndex=h++),l.push(Dt)}),this.applyColumnState({state:l,applyOrder:!0},i)},o.prototype.applyColumnState=function(i,s){var l=this;if(void 0===s&&(s="api"),Fi(this.primaryColumns))return!1;if(i&&i.state&&!i.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var c=this.compareColumnStatesAndRaiseEvents(s);this.autoGroupsNeedBuilding=!0;var h=this.primaryColumns.slice(),g=!0,_={},y={},w=[],x=this.rowGroupColumns.slice(),k=this.pivotColumns.slice();i.state&&i.state.forEach(function(re){var ge=re.colId||"";if(o_(ge,q.GROUP_AUTO_COLUMN_ID))w.push(re);else{var Te=l.getPrimaryColumn(ge);Te?(l.syncColumnWithStateItem(Te,re,i.defaultState,_,y,!1,s),ii(h,Te)):g=!1}});var B=function(re){return l.syncColumnWithStateItem(re,null,i.defaultState,_,y,!1,s)};h.forEach(B);var j=function(re,we,ge,de){var Te=re[ge.getId()],We=re[de.getId()],Dt=null!=Te,Ze=null!=We;if(Dt&&Ze)return Te-We;if(Dt)return-1;if(Ze)return 1;var Et=we.indexOf(ge),zt=we.indexOf(de),Ot=Et>=0;return Ot&&zt>=0?Et-zt:Ot?-1:1};this.rowGroupColumns.sort(j.bind(this,_,x)),this.pivotColumns.sort(j.bind(this,y,k)),this.updateGridColumns();var ee=this.groupAutoColumns?this.groupAutoColumns.slice():[];return w.forEach(function(re){var we=l.getAutoColumn(re.colId);ii(ee,we),l.syncColumnWithStateItem(we,re,i.defaultState,null,null,!0,s)}),ee.forEach(B),this.applyOrderAfterApplyState(i),this.updateDisplayedColumns(s),this.dispatchEverythingChanged(s),c(),this.columnAnimationService.finish(),g},o.prototype.applyOrderAfterApplyState=function(i){if(this.gridColsArePrimary&&i.applyOrder&&i.state){var s=[],l={},c={};if(this.gridColumns.forEach(function(h){return c[h.getId()]=h}),i.state.forEach(function(h){if(h.colId&&!l[h.colId]){var g=c[h.colId];g&&(s.push(g),l[h.colId]=!0)}}),this.gridColumns.forEach(function(h){l[h.getColId()]||s.push(h)}),s=this.putFixedColumnsFirst(s),!this.doesMovePassMarryChildren(s))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=s}},o.prototype.compareColumnStatesAndRaiseEvents=function(i){var s=this;if(!this.columnDefs)return function(){};var c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},h=this.getColumnState(),g={};return h.forEach(function(_){g[_.colId]=_}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var _=s.getPrimaryAndAutoGroupCols(),y=function(ge,de,Te,We){hs(de.map(We),Te.map(We))||s.eventService.dispatchEvent({type:ge,columns:Te,column:1===Te.length?Te[0]:null,api:s.gridApi,columnApi:s.columnApi,source:i})},w=function(ge){var de=[];return(_||[]).forEach(function(Te){var We=g[Te.getColId()];We&&ge(We,Te)&&de.push(Te)}),de},x=function(ge){return ge.getColId()};y(G.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,s.rowGroupColumns,x),y(G.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,s.pivotColumns,x),w(function(ge,de){var Te=null!=ge.aggFunc,We=Te!=de.isValueActive(),Dt=Te&&ge.aggFunc!=de.getAggFunc();return We||Dt}).length>0&&s.fireColumnEvent(G.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,i),s.fireColumnResizedEvent(w(function(ge,de){return ge.width!=de.getActualWidth()}),!0,i),s.raiseColumnPinnedEvent(w(function(ge,de){return ge.pinned!=de.getPinned()}),i),s.raiseColumnVisibleEvent(w(function(ge,de){return ge.hide==de.isVisible()}),i),w(function(ge,de){return ge.sort!=de.getSort()||ge.sortIndex!=de.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(),s.raiseColumnMovedEvent(h,i)}}},o.prototype.raiseColumnPinnedEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,c=this.getCommonValue(i,function(g){return g.getPinned()});this.eventService.dispatchEvent({type:G.EVENT_COLUMN_PINNED,pinned:null!=c?c:null,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.getCommonValue=function(i,s){if(i&&0!=i.length){for(var l=s(i[0]),c=1;c<i.length;c++)if(l!==s(i[c]))return;return l}},o.prototype.raiseColumnVisibleEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,c=this.getCommonValue(i,function(g){return g.isVisible()});this.eventService.dispatchEvent({type:G.EVENT_COLUMN_VISIBLE,visible:c,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.raiseColumnMovedEvent=function(i,s){var l=this,c=this.getColumnState(),h={};c.forEach(function(k){return h[k.colId]=k});var g={};i.forEach(function(k){h[k.colId]&&(g[k.colId]=!0)});var _=Rn(i,function(k){return g[k.colId]}),y=Rn(c,function(k){return g[k.colId]}),w=[];y.forEach(function(k,B){var j=_&&_[B];if(j&&j.colId!==k.colId){var ee=l.getGridColumn(j.colId);ee&&w.push(ee)}}),w.length&&this.eventService.dispatchEvent({type:G.EVENT_COLUMN_MOVED,columns:w,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.syncColumnWithStateItem=function(i,s,l,c,h,g,_){if(i){var y=function(zt,Ot){var Sn=s,ln=l,Ue={value1:void 0,value2:void 0},on=!1;return Sn&&(void 0!==Sn[zt]&&(Ue.value1=Sn[zt],on=!0),he(Ot)&&void 0!==Sn[Ot]&&(Ue.value2=Sn[Ot],on=!0)),!on&&ln&&(void 0!==ln[zt]&&(Ue.value1=ln[zt]),he(Ot)&&void 0!==ln[Ot]&&(Ue.value2=ln[Ot])),Ue},w=y("hide").value1;void 0!==w&&i.setVisible(!w,_);var x=y("pinned").value1;void 0!==x&&i.setPinned(x);var k=this.columnUtils.calculateColMinWidth(i.getColDef()),B=y("flex").value1;if(void 0!==B&&i.setFlex(B),i.getFlex()<=0){var ee=y("width").value1;null!=ee&&null!=k&&ee>=k&&i.setActualWidth(ee,_)}var re=y("sort").value1;void 0!==re&&i.setSort(re===q.SORT_DESC||re===q.SORT_ASC?re:void 0);var we=y("sortIndex").value1;if(void 0!==we&&i.setSortIndex(we),!g){var ge=y("aggFunc").value1;void 0!==ge&&("string"==typeof ge?(i.setAggFunc(ge),i.isValueActive()||(i.setValueActive(!0,_),this.valueColumns.push(i))):(he(ge)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),i.isValueActive()&&(i.setValueActive(!1,_),ii(this.valueColumns,i))));var de=y("rowGroup","rowGroupIndex"),Te=de.value1,We=de.value2;(void 0!==Te||void 0!==We)&&("number"==typeof We||Te?(i.isRowGroupActive()||(i.setRowGroupActive(!0,_),this.rowGroupColumns.push(i)),c&&"number"==typeof We&&(c[i.getId()]=We)):i.isRowGroupActive()&&(i.setRowGroupActive(!1,_),ii(this.rowGroupColumns,i)));var Dt=y("pivot","pivotIndex"),Ze=Dt.value1,Et=Dt.value2;(void 0!==Ze||void 0!==Et)&&("number"==typeof Et||Ze?(i.isPivotActive()||(i.setPivotActive(!0,_),this.pivotColumns.push(i)),h&&"number"==typeof Et&&(h[i.getId()]=Et)):i.isPivotActive()&&(i.setPivotActive(!1,_),ii(this.pivotColumns,i)))}}},o.prototype.getGridColumns=function(i){return this.getColumns(i,this.getGridColumn.bind(this))},o.prototype.getColumns=function(i,s){var l=[];return i&&i.forEach(function(c){var h=s(c);h&&l.push(h)}),l},o.prototype.getColumnWithValidation=function(i){if(null==i)return null;var s=this.getGridColumn(i);return s||console.warn("AG Grid: could not find column "+i),s},o.prototype.getPrimaryColumn=function(i){return this.primaryColumns?this.getColumn(i,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(i){return this.getColumn(i,this.gridColumns,this.gridColumnsMap)},o.prototype.getColumn=function(i,s,l){if(!i)return null;if("string"==typeof i&&l[i])return l[i];for(var c=0;c<s.length;c++)if(this.columnsMatch(s[c],i))return s[c];return this.getAutoColumn(i)},o.prototype.getAutoColumn=function(i){var s=this;return this.groupAutoColumns&&he(this.groupAutoColumns)&&!je(this.groupAutoColumns)?Ni(this.groupAutoColumns,function(l){return s.columnsMatch(l,i)}):null},o.prototype.columnsMatch=function(i,s){var l=i===s,c=i.getColDef()===s,h=i.getColId()==s;return l||c||h},o.prototype.getDisplayNameForColumn=function(i,s,l){if(void 0===l&&(l=!1),!i)return null;var c=this.getHeaderName(i.getColDef(),i,null,null,s);return l?this.wrapHeaderNameWithAggFunc(i,c):c},o.prototype.getDisplayNameForOriginalColumnGroup=function(i,s,l){var c=s?s.getColGroupDef():null;return c?this.getHeaderName(c,null,i,s,l):null},o.prototype.getDisplayNameForColumnGroup=function(i,s){return this.getDisplayNameForOriginalColumnGroup(i,i.getOriginalColumnGroup(),s)},o.prototype.getHeaderName=function(i,s,l,c,h){var g=i.headerValueGetter;if(g){var _={colDef:i,column:s,columnGroup:l,originalColumnGroup:c,location:h,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof g?g(_):"string"==typeof g?this.expressionService.evaluate(g,_):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=i.headerName?i.headerName:i.field?r_(i.field):""},o.prototype.wrapHeaderNameWithAggFunc=function(i,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var g,l=i.getColDef().pivotValueColumn,h=null;if(he(l))h=l?l.getAggFunc():null,g=!0;else{var _=i.isValueActive(),y=this.pivotMode||!this.isRowGroupEmpty();_&&y?(h=i.getAggFunc(),g=!0):g=!1}if(g){var w="string"==typeof h?h:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(w,w)+"("+s+")"}return s},o.prototype.getColumnGroup=function(i,s){if(!i)return null;if(i instanceof pi)return i;var l=this.getAllDisplayedTrees(),c="number"==typeof s,h=null;return this.columnUtils.depthFirstAllColumnTreeSearch(l,function(g){if(g instanceof pi){var _=g;(c?i===_.getGroupId()&&s===_.getInstanceId():i===_.getGroupId())&&(h=_)}}),h},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(i,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(l,c){return l.setValueActive(c,i)},function(){},function(){},function(l){var c=l.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(l){return null!=l.initialAggFunc&&""!=l.initialAggFunc}),this.valueColumns.forEach(function(l){var c=l.getColDef();null!=c.aggFunc&&""!=c.aggFunc?l.setAggFunc(c.aggFunc):l.getAggFunc()||l.setAggFunc(c.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(i,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(l,c){return l.setRowGroupActive(c,i)},function(l){return l.rowGroupIndex},function(l){return l.initialRowGroupIndex},function(l){return l.rowGroup},function(l){return l.initialRowGroup})},o.prototype.extractColumns=function(i,s,l,c,h,g,_){void 0===i&&(i=[]),void 0===s&&(s=[]);var y=[],w=[];(this.primaryColumns||[]).forEach(function(B){var j=i.indexOf(B)<0,ee=B.getColDef(),re=Aa(g(ee)),we=Aa(_(ee)),ge=yr(c(ee)),de=yr(h(ee));(void 0!==re?re:void 0!==ge?null!==ge&&ge>=0:j?void 0!==we?we:void 0!==de&&null!=de&&de>=0:s.indexOf(B)>=0)&&((j?null!=ge||null!=de:null!=ge)?y.push(B):w.push(B))});var x=function(B){var j=c(B.getColDef()),ee=h(B.getColDef());return null!=j?j:ee};y.sort(function(B,j){var ee=x(B),re=x(j);return ee===re?0:ee<re?-1:1});var k=[].concat(y);return s.forEach(function(B){w.indexOf(B)>=0&&k.push(B)}),w.forEach(function(B){k.indexOf(B)<0&&k.push(B)}),s.forEach(function(B){k.indexOf(B)<0&&l(B,!1)}),k.forEach(function(B){s.indexOf(B)<0&&l(B,!0)}),k},o.prototype.extractPivotColumns=function(i,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(l,c){return l.setPivotActive(c,i)},function(l){return l.pivotIndex},function(l){return l.initialPivotIndex},function(l){return l.pivot},function(l){return l.initialPivot})},o.prototype.resetColumnGroupState=function(i){void 0===i&&(i="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(l){if(l instanceof bn){var c=l.getColGroupDef(),h={groupId:l.getGroupId(),open:c?c.openByDefault:void 0};s.push(h)}}),this.setColumnGroupState(s,i)},o.prototype.getColumnGroupState=function(){var i=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){if(s instanceof bn){var l=s;i.push({groupId:l.getGroupId(),open:l.isExpanded()})}}),i},o.prototype.setColumnGroupState=function(i,s){var l=this;void 0===s&&(s="api"),this.columnAnimationService.start();var c=[];i.forEach(function(h){var _=h.open,y=l.getOriginalColumnGroup(h.groupId);!y||y.isExpanded()!==_&&(l.logger.log("columnGroupOpened("+y.getGroupId()+","+_+")"),y.setExpanded(_),c.push(y))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),c.forEach(function(h){l.eventService.dispatchEvent({type:G.EVENT_COLUMN_GROUP_OPENED,columnGroup:h,api:l.gridApi,columnApi:l.columnApi})}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(i,s,l){var c;void 0===l&&(l="api"),c=i instanceof bn?i.getId():i||"",this.setColumnGroupState([{groupId:c,open:s}],l)},o.prototype.getOriginalColumnGroup=function(i){if(i instanceof bn)return i;"string"!=typeof i&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){if(l instanceof bn){var c=l;c.getId()===i&&(s=c)}}),s},o.prototype.calculateColumnsForDisplay=function(){var i=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(l){var c=i.groupAutoColumns&&ri(i.groupAutoColumns,l),h=i.valueColumns&&ri(i.valueColumns,l);return c||h}:function(l){return i.groupAutoColumns&&ri(i.groupAutoColumns,l)||l.isVisible()})},o.prototype.checkColSpanActiveInCols=function(i){var s=!1;return i.forEach(function(l){he(l.getColDef().colSpan)&&(s=!0)}),s},o.prototype.calculateColumnsForGroupDisplay=function(){var i=this;this.groupDisplayColumns=[];var s=function(l){var c=l.getColDef();c&&he(c.showRowGroup)&&i.groupDisplayColumns.push(l)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.updateDisplayedColumns=function(i){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i)},o.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},o.prototype.setSecondaryColumns=function(i,s){void 0===s&&(s="api");var l=i&&i.length>0;if(l||this.secondaryColumnsPresent){if(l){this.processSecondaryColumnDefinitions(i);var c=this.columnFactory.createColumnTree(i,!1);this.secondaryBalancedTree=c.columnTree,this.secondaryHeaderRowCount=c.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(s)}},o.prototype.processSecondaryColumnDefinitions=function(i){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),l=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||l){var c=function(h){h.forEach(function(g){if(he(g.children)){var y=g;l&&l(y),c(y.children)}else s&&s(g)})};i&&c(i)}},o.prototype.updateGridColumns=function(){var i=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(l){return i.gridColumnsMap[l.getId()]=l}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:G.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.getColDef().autoHeight}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var i=this.rowModel.getType();i!==q.ROW_MODEL_TYPE_CLIENT_SIDE&&i!==q.ROW_MODEL_TYPE_SERVER_SIDE&&Cn(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},o.prototype.orderGridColsLikeLastPrimary=function(){if(!je(this.lastPrimaryOrder)){var i=ms(this.lastPrimaryOrder.map(function(y,w){return[y,w]})),s=!0;if(this.gridColumns.forEach(function(y){i.has(y)&&(s=!1)}),!s){var l=ms(this.gridColumns.map(function(y){return[y,!0]})),c=this.lastPrimaryOrder.filter(function(y){return l.has(y)}),h=ms(c.map(function(y){return[y,!0]})),g=this.gridColumns.filter(function(y){return!h.has(y)}),_=c.slice();g.forEach(function(y){var w=y.getOriginalParent();if(w){for(var x=[];!x.length&&w;)w.getLeafColumns().forEach(function(ee){var re=_.indexOf(ee)>=0,we=x.indexOf(ee)<0;re&&we&&x.push(ee)}),w=w.getOriginalParent();if(x.length){var B=x.map(function(ee){return _.indexOf(ee)}),j=Math.max.apply(Math,B);Ol(_,y,j+1)}else _.push(y)}else _.push(y)}),this.gridColumns=_}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.putFixedColumnsFirst=function(i){var s=i.filter(function(c){return c.getColDef().lockPosition}),l=i.filter(function(c){return!c.getColDef().lockPosition});return s.concat(l)},o.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!je(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var i=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=i.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},o.prototype.updateGroupsAndDisplayedColumns=function(i){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(i),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:G.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.deriveDisplayedColumns=function(i){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(i),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.getColDef().autoHeight})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(i){this.setLeftValuesOfColumns(i),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(i){var s=this;if(this.primaryColumns){var l=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(h){if(c){var g=s.getWidthOfColsInList(h);h.forEach(function(y){g-=y.getActualWidth(),y.setLeft(g,i)})}else{var _=0;h.forEach(function(y){y.setLeft(_,i),_+=y.getActualWidth()})}lf(l,h)}),l.forEach(function(h){h.setLeft(null,i)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(i){i.forEach(function(s){s instanceof pi&&s.checkLeft()})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(i,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(i,function(l){l instanceof Mt&&s.push(l)})},o.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(i,s){var l;switch(i){case q.PINNED_LEFT:l=this.viewportRowLeft[s];break;case q.PINNED_RIGHT:l=this.viewportRowRight[s];break;default:l=this.viewportRowCenter[s]}return je(l)&&(l=[]),l},o.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var i={};this.viewportColumns.forEach(function(l){return i[l.getId()]=!0});var s=function(l,c,h){for(var g=!1,_=0;_<l.length;_++){var y=l[_],w=!1;if(y instanceof Mt)w=!0===i[y.getId()];else{var k=y.getDisplayedChildren();k&&(w=s(k,c,h+1))}w&&(g=!0,c[h]||(c[h]=[]),c[h].push(y))}return g};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},o.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},o.prototype.refreshFlexedColumns=function(i){var s=this;void 0===i&&(i={});var l=i.source?i.source:"flex";if(null!=i.viewportWidth&&(this.flexViewportWidth=i.viewportWidth),!this.flexViewportWidth)return[];var c=-1;i.resizingCols&&i.resizingCols.forEach(function(Te){var We=s.displayedColumnsCenter.indexOf(Te);c<We&&(c=We)});var h=function(Te){var We=s.displayedColumnsCenter.indexOf(Te)>c;return Te.getFlex()&&We},g=this.displayedColumnsCenter.filter(function(Te){return!h(Te)}),_=this.displayedColumnsCenter.filter(function(Te){return h(Te)}),y=[];if(!_.length)return[];var x,w=[];e:for(;;){var k=_.reduce(function(Te,We){return Te+We.getFlex()},0);x=this.flexViewportWidth-this.getWidthOfColsInList(g);for(var B=0;B<_.length;B++){var j=_[B],ee=x*j.getFlex()/k,re=0,we=j.getMinWidth(),ge=j.getMaxWidth();if(he(we)&&ee<we?re=we:he(ge)&&ee>ge&&(re=ge),re){j.setActualWidth(re,l),ii(_,j),y.push(j),g.push(j);continue e}w[B]=Math.round(ee)}break}var de=x;return _.forEach(function(Te,We){Te.setActualWidth(Math.min(w[We],de),l),y.push(Te),de-=w[We]}),i.skipSetLeft||this.setLeftValues(l),i.updateBodyWidths&&this.updateBodyWidths(),i.fireResizedEvent&&this.fireColumnResizedEvent(y,!0,l,_),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),_},o.prototype.sizeColumnsToFit=function(i,s,l){void 0===s&&(s="sizeColumnsToFit");var c=this.getAllDisplayedColumns();if(!(i<=0)&&c.length){var h=[],g=[];c.forEach(function(de){!0===de.getColDef().suppressSizeToFit?g.push(de):h.push(de)});var _=h.slice(0),y=!1,w=function(de){ii(h,de),g.push(de)};for(h.forEach(function(de){return de.resetActualWidth(s)});!y;){y=!0;var x=i-this.getWidthOfColsInList(g);if(x<=0)h.forEach(function(de){de.setMinimum(s)});else for(var k=x/this.getWidthOfColsInList(h),B=x,j=h.length-1;j>=0;j--){var ee=h[j],re=ee.getMinWidth(),we=ee.getMaxWidth(),ge=Math.round(ee.getActualWidth()*k);he(re)&&ge<re?(ge=re,w(ee),y=!1):he(we)&&ee.isGreaterThanMax(ge)?(ge=we,w(ee),y=!1):0===j&&(ge=B),ee.setActualWidth(ge,s,!0),B-=ge}}_.forEach(function(de){de.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!l&&this.fireColumnResizedEvent(_,!0,s)}},o.prototype.buildDisplayedTrees=function(i){var s=[],l=[],c=[];i.forEach(function(g){switch(g.getPinned()){case"left":s.push(g);break;case"right":l.push(g);break;default:c.push(g)}});var h=new Si;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,h,q.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(l,this.gridBalancedTree,h,q.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,h,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var i=this;this.displayedColumnsAndGroupsMap={};var s=function(l){i.displayedColumnsAndGroupsMap[l.getUniqueId()]=l};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},o.prototype.isDisplayed=function(i){return this.displayedColumnsAndGroupsMap[i.getUniqueId()]===i},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var i=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){s instanceof pi&&s.calculateDisplayedColumns()})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||i)this.groupAutoColumns=null;else{var h=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(h,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=h)}}},o.prototype.autoColsEqual=function(i,s){return hs(i,s,function(l,c){return l.getColId()===c.getColId()})},o.prototype.getWidthOfColsInList=function(i){return i.reduce(function(s,l){return s+l.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},o.prototype.getFirstDisplayedColumn=function(){var i=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];i&&s.reverse();for(var l=0;l<s.length;l++){var c=this[s[l]]();if(c.length)return i?Zt(c):c[0]}return null},Yt([P("expressionService")],o.prototype,"expressionService",void 0),Yt([P("columnFactory")],o.prototype,"columnFactory",void 0),Yt([P("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),Yt([P("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),Yt([P("columnUtils")],o.prototype,"columnUtils",void 0),Yt([P("columnAnimationService")],o.prototype,"columnAnimationService",void 0),Yt([P("autoGroupColService")],o.prototype,"autoGroupColService",void 0),Yt([mt("aggFuncService")],o.prototype,"aggFuncService",void 0),Yt([mt("valueCache")],o.prototype,"valueCache",void 0),Yt([mt("animationFrameService")],o.prototype,"animationFrameService",void 0),Yt([P("rowModel")],o.prototype,"rowModel",void 0),Yt([P("columnApi")],o.prototype,"columnApi",void 0),Yt([P("gridApi")],o.prototype,"gridApi",void 0),Yt([P("sortController")],o.prototype,"sortController",void 0),Yt([P("columnDefFactory")],o.prototype,"columnDefFactory",void 0),Yt([Se],o.prototype,"init",null),Yt([mn(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),Yt([xe("columnModel")],o)}(ie);function s_(u,o){return tr(u.toString(),o,"0")}function _e(u,o){for(var i=[],s=u;s<=o;s++)i.push(s);return i}function _f(u){return""!==u&&!isNaN(parseFloat(u))&&isFinite(u)}function $e(){return Number.MAX_SAFE_INTEGER||9007199254740991}function Cf(u){return"number"!=typeof u?"":u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var kd=Object.freeze({__proto__:null,padStartWidthZeros:s_,createArrayOfNumbers:_e,isNumeric:_f,getMaxSafeInteger:$e,cleanNumber:function yf(u){return"string"==typeof u&&(u=parseInt(u,10)),"number"==typeof u?Math.floor(u):null},decToHex:function a_(u,o){for(var i="",s=0;s<o;s++)i+=String.fromCharCode(255&u),u>>>=8;return i},formatNumberTwoDecimalPlacesAndCommas:function WS(u){return"number"!=typeof u?"":Cf(Math.round(100*u)/100)},formatNumberCommas:Cf,sum:function l_(u){return null==u?null:u.reduce(function(o,i){return o+i},0)}}),bf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),u_=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return bf(o,u),o.prototype.calculateColMinWidth=function(i){return null!=i.minWidth?i.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(i){return null!=i.maxWidth?i.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||$e()},o.prototype.calculateColInitialWidth=function(i){var c,s=this.calculateColMinWidth(i),l=this.calculateColMaxWidth(i),h=yr(i.width),g=yr(i.initialWidth);return c=null!=h?h:null!=g?g:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,l),s)},o.prototype.getOriginalPathForColumn=function(i,s){var l=[],c=!1,h=function(g,_){for(var y=0;y<g.length;y++){if(c)return;var w=g[y];w instanceof bn?(h(w.getChildren(),_+1),l[_]=w):w===i&&(c=!0)}};return h(s,0),c?l:null},o.prototype.depthFirstOriginalTreeSearch=function(i,s,l){var c=this;!s||s.forEach(function(h){h instanceof bn&&c.depthFirstOriginalTreeSearch(h,h.getChildren(),l),l(h,i)})},o.prototype.depthFirstAllColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(c){c instanceof pi&&l.depthFirstAllColumnTreeSearch(c.getChildren(),s),s(c)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(c){c instanceof pi&&l.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),s),s(c)})},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("columnUtils")],o),o}(ie),dt=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),d_=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return dt(o,u),o.prototype.createDisplayedGroups=function(i,s,l,c,h){var y,w,g=this,_=[],x=this.mapOldGroupsById(h);return i.forEach(function(k){for(var B=g.getOriginalPathForColumn(s,k),j=[],ee=!w,re=0;re<B.length;re++)if(ee||B[re]!==w[re]){var we=g.createColumnGroup(B[re],l,x,c);j[re]=we,0==re?_.push(we):j[re-1].addChild(we)}else j[re]=y[re];0===j.length?_.push(k):Zt(j).addChild(k),y=j,w=B}),this.setupParentsIntoColumns(_,null),_},o.prototype.createColumnGroup=function(i,s,l,c){var h=i.getGroupId(),g=s.getInstanceIdForKey(h),y=l[pi.createUniqueId(h,g)];return y&&y.getOriginalColumnGroup()!==i&&(y=null),he(y)?y.reset():(y=new pi(i,h,g,c),this.context.createBean(y)),y},o.prototype.mapOldGroupsById=function(i){var s={},l=function(c){c.forEach(function(h){if(h instanceof pi){var g=h;s[h.getUniqueId()]=g,l(g.getChildren())}})};return i&&l(i),s},o.prototype.setupParentsIntoColumns=function(i,s){var l=this;i.forEach(function(c){if(c.setParent(s),c instanceof pi){var h=c;l.setupParentsIntoColumns(h.getChildren(),h)}})},o.prototype.getOriginalPathForColumn=function(i,s){var l=[],c=!1,h=function(g,_){for(var y=0;y<g.length;y++){if(c)return;var w=g[y];w instanceof bn?(h(w.getChildren(),_+1),l[_]=w):w===s&&(c=!0)}};return h(i,0),c?l:(console.warn("could not get path"),null)},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("displayedGroupCreator")],o),o}(ie),go=function(){function u(){}return u.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],u.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],u.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],u.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],u.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi"],u.ALL_PROPERTIES=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),p_=function(){return p_=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},p_.apply(this,arguments)},vs=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s},Mn=function(){function u(){}return u.getEventCallbacks=function(){return u.EVENT_CALLBACKS||(u.EVENT_CALLBACKS=u.EVENTS.map(function(o){return u.getCallbackForEvent(o)})),u.EVENT_CALLBACKS},u.copyAttributesToGridOptions=function(o,i,s){"object"!=typeof o&&(o={});var l=o,c=function(h){return void 0!==i[h]};return vs(u.ARRAY_PROPERTIES,u.STRING_PROPERTIES,u.OBJECT_PROPERTIES,u.FUNCTION_PROPERTIES,u.getEventCallbacks()).filter(c).forEach(function(h){return l[h]=i[h]}),u.BOOLEAN_PROPERTIES.filter(c).forEach(function(h){return l[h]=u.toBoolean(i[h])}),u.NUMBER_PROPERTIES.filter(c).forEach(function(h){return l[h]=u.toNumber(i[h])}),o},u.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},u.processOnChange=function(o,i,s,l){if(o){var c=p_({},o),h=i,g=function(w){return c[w]};vs(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.getEventCallbacks()).filter(g).forEach(function(w){return h[w]=c[w].currentValue}),u.BOOLEAN_PROPERTIES.filter(g).forEach(function(w){return h[w]=u.toBoolean(c[w].currentValue)}),u.NUMBER_PROPERTIES.filter(g).forEach(function(w){return h[w]=u.toNumber(c[w].currentValue)}),c.enableCellTextSelection&&(s.setEnableCellTextSelection(u.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(s.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(s.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(s.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.paginationPageSize&&(s.paginationSetPageSize(u.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(l.setPivotMode(u.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(u.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(s.setSuppressRowDrag(u.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(u.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(s.setSuppressRowClickSelection(u.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(s.setSuppressClipboardPaste(u.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(s.setHeaderHeight(u.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var _=s;Object.keys(c).forEach(function(w){var x="set"+w.charAt(0).toUpperCase()+w.substring(1);_[x]&&_[x](o[w].currentValue)});var y={type:G.EVENT_COMPONENT_STATE_CHANGED,api:i.api,columnApi:i.columnApi};It(o,function(w,x){y[w]=x}),s.dispatchEvent(y)}},u.toBoolean=function(o){return"boolean"==typeof o?o:"string"==typeof o&&("TRUE"===o.toUpperCase()||""==o)},u.toNumber=function(o){return"number"==typeof o?o:"string"==typeof o?Number(o):void 0},u.EVENTS=[],u.PUBLIC_EVENTS=[],u.EXCLUDED_INTERNAL_EVENTS=[],u.STRING_PROPERTIES=go.STRING_PROPERTIES,u.OBJECT_PROPERTIES=go.OBJECT_PROPERTIES,u.ARRAY_PROPERTIES=go.ARRAY_PROPERTIES,u.NUMBER_PROPERTIES=go.NUMBER_PROPERTIES,u.BOOLEAN_PROPERTIES=go.BOOLEAN_PROPERTIES,u.FUNCTION_PROPERTIES=go.FUNCTION_PROPERTIES,u.ALL_PROPERTIES=go.ALL_PROPERTIES,u}();Mn.EVENTS=xa(G),Mn.EXCLUDED_INTERNAL_EVENTS=[G.EVENT_SCROLLBAR_WIDTH_CHANGED,G.EVENT_CHECKBOX_CHANGED,G.EVENT_HEIGHT_SCALE_CHANGED,G.EVENT_BODY_HEIGHT_CHANGED,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,G.EVENT_SCROLL_VISIBILITY_CHANGED,G.EVENT_COLUMN_HOVER_CHANGED,G.EVENT_FLASH_CELLS,G.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,G.EVENT_DISPLAYED_ROWS_CHANGED,G.EVENT_LEFT_PINNED_WIDTH_CHANGED,G.EVENT_RIGHT_PINNED_WIDTH_CHANGED,G.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,G.EVENT_POPUP_TO_FRONT,G.EVENT_KEYBOARD_FOCUS,G.EVENT_MOUSE_FOCUS,G.EVENT_STORE_UPDATED,G.EVENT_COLUMN_PANEL_ITEM_DRAG_START,G.EVENT_COLUMN_PANEL_ITEM_DRAG_END,G.EVENT_FILL_START,G.EVENT_FILL_END],Mn.PUBLIC_EVENTS=Mn.EVENTS.filter(function(u){return!ri(Mn.EXCLUDED_INTERNAL_EVENTS,u)});var Ex=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kr=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.componentsMappedByName={},i}return Ex(o,u),o.prototype.setupComponents=function(i){var s=this;i&&i.forEach(function(l){return s.addComponent(l)})},o.prototype.addComponent=function(i){var l=i.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[l]=i.componentClass},o.prototype.getComponentClass=function(i){return this.componentsMappedByName[i]},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("agStackComponentsRegistry")],o),o}(ie),Sf=function(){function u(){}return u.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],u.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],u.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],u.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],u.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],u.ALL_PROPERTIES=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Pl=function(){function u(o,i,s,l){void 0===l&&(l=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,i||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,l||0))}return u.fromString=function(o){if(o.indexOf("#")>=0)return u.fromHexString(o);var i=u.nameToHex[o];if(i)return u.fromHexString(i);if(o.indexOf("rgb")>=0)return u.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},u.parseHex=function(o){var i;switch((o=o.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(var s=0;s<o.length;s+=2)i.push(parseInt(""+o[s]+o[s+1],16));break;case 3:case 4:i=o.split("").map(function(l){return parseInt(l,16)}).map(function(l){return l+16*l})}if(i.length>=3&&i.every(function(l){return l>=0}))return 3===i.length&&i.push(255),i},u.fromHexString=function(o){var i=u.parseHex(o);if(i)return new u(i[0]/255,i[1]/255,i[2]/255,i[3]/255);throw new Error("Malformed hexadecimal color string: '"+o+"'")},u.stringToRgba=function(o){for(var i=[NaN,NaN],s=i[0],l=i[1],c=0;c<o.length;c++){var h=o[c];if(s||"("!==h){if(")"===h){l=c;break}}else s=c}var g=s&&l&&o.substring(s+1,l);if(g){var _=g.split(","),y=[];for(c=0;c<_.length;c++){var w=_[c],x=parseFloat(w);if(isNaN(x))return;w.indexOf("%")>=0?(x=Math.max(0,Math.min(100,x)),x/=100):3===c?x=Math.max(0,Math.min(1,x)):(x=Math.max(0,Math.min(255,x)),x/=255),y.push(x)}return y}},u.fromRgbaString=function(o){var i=u.stringToRgba(o);if(i){if(3===i.length)return new u(i[0],i[1],i[2]);if(4===i.length)return new u(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},u.fromArray=function(o){if(4===o.length)return new u(o[0],o[1],o[2],o[3]);if(3===o.length)return new u(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(o,i,s,l){void 0===l&&(l=1);var c=u.HSBtoRGB(o,i,s);return new u(c[0],c[1],c[2],l)},u.padHex=function(o){return 1===o.length?"0"+o:o},u.prototype.toHexString=function(){var o="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(o+=u.padHex(Math.round(255*this.a).toString(16))),o},u.prototype.toRgbaString=function(o){void 0===o&&(o=3);var i=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,o);return 1!==this.a?(i.push(Math.round(this.a*s)/s),"rgba("+i.join(", ")+")"):"rgb("+i.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(o,i,s){var l=Math.min(o,i,s),c=Math.max(o,i,s),g=NaN;if(l!==c){var _=c-l,y=(c-o)/_,w=(c-i)/_,x=(c-s)/_;g=o===c?x-w:i===c?2+y-x:4+w-y,(g/=6)<0&&(g+=1)}return[360*g,0!==c?(c-l)/c:0,c]},u.HSBtoRGB=function(o,i,s){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var l=0,c=0,h=0;if(0===i)l=c=h=s;else{var g=6*(o-Math.floor(o)),_=g-Math.floor(g),y=s*(1-i),w=s*(1-i*_),x=s*(1-i*(1-_));switch(g>>0){case 0:l=s,c=x,h=y;break;case 1:l=w,c=s,h=y;break;case 2:l=y,c=s,h=x;break;case 3:l=y,c=w,h=s;break;case 4:l=x,c=y,h=s;break;case 5:l=s,c=y,h=w}}return[l,c,h]},u.prototype.derive=function(o,i,s,l){var c=u.RGBtoHSB(this.r,this.g,this.b),h=c[2];0==h&&s>1&&(h=.05);var g=((c[0]+o)%360+360)%360,_=Math.max(Math.min(c[1]*i,1),0);h=Math.max(Math.min(h*s,1),0);var y=Math.max(Math.min(this.a*l,1),0),w=u.HSBtoRGB(g,_,h);return w.push(y),u.fromArray(w)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();var h_,f_,Ks,Qt,Fl,ru,ou,Gd,tn=Object.freeze({__proto__:null,stringToArray:function US(u,o){void 0===o&&(o=",");var i=[],s=function(k){return"\r"===k||"\n"===k},l=!1;if(""===u)return[[""]];for(var h,g,_,c=function(k,B,j){var ee=u[j-1],re=u[j],we=u[j+1],ge=function(){i[k]||(i[k]=[]),i[k][B]||(i[k][B]="")};if(ge(),'"'===re){if(l)return'"'===we?(i[k][B]+='"',j++):l=!1,h=k,g=B,_=j,"continue";if(void 0===ee||ee===o||s(ee))return l=!0,h=k,g=B,_=j,"continue"}if(!l){if(re===o)return B++,ge(),h=k,g=B,_=j,"continue";if(s(re))return B=0,k++,ge(),"\r"===re&&"\n"===we&&j++,h=k,g=B,_=j,"continue"}i[k][B]+=re,h=k,g=B,_=j},y=0,w=0,x=0;x<u.length;x++)c(y,w,x),y=h,w=g,x=_;return i}});function zn(){return void 0===f_&&(f_=!!document.documentMode),f_}function Ys(){return void 0===Ks&&(Ks=!zn()&&!!window.StyleMedia),Ks}function Hd(){return void 0===h_&&(h_=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),h_}function Ce(){if(void 0===Qt){var u=window;Qt=!!u.chrome&&(!!u.chrome.webstore||!!u.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Qt}function Fa(){if(void 0===Fl){var u=window;Fl=void 0!==u.InstallTrigger}return Fl}function Na(){return void 0===ru&&(ru=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),ru}function su(u){if(!u)return null;var o=u.tabIndex,i=u.getAttribute("tabIndex");return zn()&&0===o&&null===i?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[u.nodeName.toLowerCase()]?"0":null:-1!==o||null!==i&&(""!==i||Fa())?o.toString():null}function Ef(){if(!document.body)return-1;var u=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){var s=2*u;if(i.style.height=s+"px",s>o||i.clientHeight!==s)break;u=s}return document.body.removeChild(i),u}function Ke(){return null==Gd&&g_(),Gd}function g_(){var u=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",u.appendChild(o);var i=o.offsetWidth-o.clientWidth;0===i&&0===o.clientWidth&&(i=null),o.parentNode&&o.parentNode.removeChild(o),null!=i&&(Gd=i,ou=0===i)}function Df(){return null==ou&&g_(),ou}function hi(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Ei(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Uo,qs=Object.freeze({__proto__:null,isBrowserIE:zn,isBrowserEdge:Ys,isBrowserSafari:Hd,isBrowserChrome:Ce,isBrowserFirefox:Fa,isIOSUserAgent:Na,getTabIndex:su,getMaxDivHeight:Ef,getScrollbarWidth:Ke,isInvisibleScrollbar:Df,hasOverflowScrolling:function ce(){var u=["webkit","moz","o","ms"],o=document.createElement("div"),s=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",u.map(function(_){return"-"+_+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var c=window.getComputedStyle(o);if("touch"===c.overflowScrolling&&(s=!0),!s)for(var h=0,g=u;h<g.length;h++)if("touch"===c[g[h]+"OverflowScrolling"]){s=!0;break}return o.parentNode&&o.parentNode.removeChild(o),s},getBodyWidth:hi,getBodyHeight:Ei});function Ie(u,o){if(u&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(s){return Ie(u,s)});if(u.classList)u.classList.add(o);else if(u.className&&u.className.length>0){var i=u.className.split(" ");i.indexOf(o)<0&&(i.push(o),u.setAttribute("class",i.join(" ")))}else u.setAttribute("class",o);return u}}function Kn(u,o){if(u&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(s){return Kn(u,s)});if(u.classList)u.classList.remove(o);else if(u.className&&u.className.length>0){var i=u.className.split(" ").filter(function(s){return s!==o}).join(" ");u.setAttribute("class",i)}}}function ze(u,o,i){i?Ie(u,o):Kn(u,o)}function Sr(u,o){if(u.classList)return u.classList.contains(o);if(u.className){var i=u.className===o,s=u.className.indexOf(" "+o+" ")>=0,l=0===u.className.indexOf(o+" "),c=u.className.lastIndexOf(" "+o)===u.className.length-o.length-1;return i||s||l||c}return!1}function Qs(u){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,i=o.call(u,q.INPUT_SELECTOR),s=o.call(u,q.FOCUSABLE_EXCLUDE),l=vo(u);return i&&!s&&l}function Ct(u,o){ze(u,"ag-hidden",!o)}function m_(u,o){ze(u,"ag-invisible",!o)}function Di(u,o){var i="disabled",s=o?function(l){return l.setAttribute(i,"")}:function(l){return l.removeAttribute(i)};s(u),b_(u.querySelectorAll("input"),function(l){return s(l)})}function Oe(u,o,i){for(var s=0;u;){if(Sr(u,o))return!0;if(u=u.parentElement,i&&++s>i)break}return!1}function bt(u){var o=window.getComputedStyle(u),s=o.width,l=o.paddingTop,c=o.paddingRight,h=o.paddingBottom,g=o.paddingLeft,_=o.marginTop,y=o.marginRight,w=o.marginBottom,x=o.marginLeft,k=o.boxSizing;return{height:parseFloat(o.height),width:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(h),paddingLeft:parseFloat(g),marginTop:parseFloat(_),marginRight:parseFloat(y),marginBottom:parseFloat(w),marginLeft:parseFloat(x),boxSizing:k}}function nn(u){var o=bt(u);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function Li(u){var o=bt(u);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function _s(u){var o=bt(u);return Math.ceil(u.offsetHeight+(o.marginBottom+o.marginTop))}function Vn(u){var o=bt(u);return Math.ceil(u.offsetWidth+(o.marginLeft+o.marginRight))}function mo(){if("boolean"==typeof Uo)return Uo;var u=document.createElement("div");return u.style.direction="rtl",u.style.width="1px",u.style.height="1px",u.style.position="fixed",u.style.top="0px",u.style.overflow="hidden",u.dir="rtl",u.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(u),u.scrollLeft=1,Uo=0===Math.floor(u.scrollLeft),document.body.removeChild(u),Uo}function vn(u,o){var i=u.scrollLeft;return o&&(i=Math.abs(i),Ce()&&!mo()&&(i=u.scrollWidth-u.clientWidth-i)),i}function Js(u,o,i){i&&(mo()?o*=-1:(Hd()||Ce())&&(o=u.scrollWidth-u.clientWidth-o)),u.scrollLeft=o}function fi(u){for(;u&&u.firstChild;)u.removeChild(u.firstChild)}function Yr(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function vo(u){return null!==u.offsetParent}function qr(u){var o=document.createElement("div");return o.innerHTML=(u||"").trim(),o.firstChild}function La(u){return u&&u.clientHeight?u.clientHeight:0}function Xs(u){return u&&u.clientWidth?u.clientWidth:0}function Er(u,o,i){i&&i.nextSibling===o||(i?i.nextSibling?u.insertBefore(o,i.nextSibling):u.appendChild(o):u.firstChild&&u.firstChild!==o&&u.insertAdjacentElement("afterbegin",o))}function rn(u,o){for(var i=0;i<o.length;i++){var s=o[i],l=u.children[i];l!==s&&u.insertBefore(s,l)}}function v_(u,o,i){i?i.insertAdjacentElement("afterend",o):u.firstChild?u.insertAdjacentElement("afterbegin",o):u.appendChild(o)}function Qr(u,o){!o||Object.keys(o).forEach(function(i){var s=i_(i);s&&(u.style[s]=o[i])})}function Dr(u){return u.clientWidth<u.scrollWidth}function Vd(u){return u.clientHeight<u.scrollHeight}function Zs(u,o){"flex"===o?(u.style.removeProperty("width"),u.style.removeProperty("minWidth"),u.style.removeProperty("maxWidth"),u.style.flex="1 1 auto"):Tr(u,o)}function Tr(u,o){o=__(o),u.style.width=o.toString(),u.style.maxWidth=o.toString(),u.style.minWidth=o.toString()}function ka(u,o){o=__(o),u.style.height=o.toString(),u.style.maxHeight=o.toString(),u.style.minHeight=o.toString()}function __(u){return"number"==typeof u?u+"px":u}function y_(u){return"function"==typeof Node?u instanceof Node:u&&"object"==typeof u&&"number"==typeof u.nodeType&&"string"==typeof u.nodeName}function C_(u){return"function"==typeof HTMLElement?u instanceof HTMLElement:u&&eu(u)&&1===u.nodeType&&"string"==typeof u.nodeName}function Tf(u){return y_(u)||C_(u)}function zS(u){if(null==u)return[];var o=[];return b_(u,function(i){return o.push(i)}),o}function KS(u,o){if(u)for(var i=0;i<u.length;i++){var s=u[i];o(s.name,s.value)}}function Bd(u,o,i){null==i?u.removeAttribute(o):u.setAttribute(o,i.toString())}function b_(u,o){if(null!=u)for(var i=0;i<u.length;i++)o(u[i])}var Rx=Object.freeze({__proto__:null,addCssClass:Ie,removeCssClass:Kn,addOrRemoveCssClass:ze,radioCssClass:function au(u,o,i){for(var s=u.parentElement,l=s&&s.firstChild;l;)o&&ze(l,o,l===u),i&&ze(l,i,l!==u),l=l.nextSibling},containsClass:Sr,isFocusableFormField:Qs,setDisplayed:Ct,setVisible:m_,setDisabled:Di,isElementChildOfClass:Oe,getElementSize:bt,getInnerHeight:nn,getInnerWidth:Li,getAbsoluteHeight:_s,getAbsoluteWidth:Vn,isRtlNegativeScroll:mo,getScrollLeft:vn,setScrollLeft:Js,clearElement:fi,removeElement:function St(u,o){Yr(u.querySelector(o))},removeFromParent:Yr,isVisible:vo,loadTemplate:qr,appendHtml:function Nl(u,o){u.lastChild?u.insertAdjacentHTML("afterbegin",o):u.innerHTML=o},getElementAttribute:function cr(u,o){return u.attributes&&u.attributes[o]?u.attributes[o].value:null},offsetHeight:La,offsetWidth:Xs,ensureDomOrder:Er,setDomChildOrder:rn,insertWithDomOrder:v_,prependDC:function $S(u,o){he(u.firstChild)?u.insertBefore(o,u.firstChild):u.appendChild(o)},addStylesToElement:Qr,isHorizontalScrollShowing:Dr,isVerticalScrollShowing:Vd,setElementWidth:Zs,setFixedWidth:Tr,setElementHeight:function _o(u,o){"flex"===o?(u.style.removeProperty("height"),u.style.removeProperty("minHeight"),u.style.removeProperty("maxHeight"),u.style.flex="1 1 auto"):ka(u,o)},setFixedHeight:ka,formatSize:__,isNode:y_,isElement:C_,isNodeOrElement:Tf,copyNodeList:zS,iterateNamedNodeMap:KS,setCheckboxState:function Tx(u,o){"boolean"==typeof o?(u.checked=o,u.indeterminate=!1):u.indeterminate=!0},addOrRemoveAttribute:Bd,nodeListForEach:b_}),Px=Object.freeze({__proto__:null,getNameOfClass:function Ax(u){var i=u.toString(),s=/function (.{1,})\(/.exec(i);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function Ox(u){var o=u.length,i=0;if(o<=1)return u;for(var s=0;s<u.length;s++){var l=u[s],c=l.toString().split("e-");c.length>1?i=Math.max(i,parseInt(c[1],10)):Math.floor(l)!==l&&(i=Math.max(i,l.toString().split(".")[1].length))}for(var h=0,g=0,_=0,y=0,w=0,x=0;x<o;x++)h+=x,g+=w=u[x],y+=x*x,_+=x*w;var k=(o*_-h*g)/(o*y-h*h),B=g/o-k*h/o,j=[];for(x=0;x<=o;x++)j.push(parseFloat((x*k+B).toFixed(i)));return j},cssStyleObjectToMarkup:function xx(u){if(!u)return"";var o=[];return It(u,function(i,s){var l=kS(i);o.push(l+": "+s+";")}),o.join(" ")},message:function Ix(u){var o=document.createElement("div"),i=document.querySelector("#__ag__message");o.innerHTML=u,i||(i=qr('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(i)),i.insertBefore(o,i.children[0])},bindCellRendererToHtmlElement:function Mx(u,o){u.then(function(i){var s=i.getGui();null!=s&&("object"==typeof s?o.appendChild(s):o.innerHTML=s)})}});function ki(u,o,i){u.setAttribute(Wd(o),i.toString())}function Ga(u,o){u.removeAttribute(Wd(o))}function Wd(u){return"aria-"+u}function ur(u,o){o?u.setAttribute("role",o):u.removeAttribute("role")}function YS(u){return u.isSortAscending()?"ascending":u.isSortDescending()?"descending":"none"}function ea(u){return parseInt(u.getAttribute("aria-posinset"),10)}function $t(u,o){var i="label";o?ki(u,i,o):Ga(u,i)}function jd(u,o){var i="labelledby";o?ki(u,i,o):Ga(u,i)}function Ud(u,o){var i="describedby";o?ki(u,i,o):Ga(u,i)}function Ll(u,o){ki(u,"disabled",o)}function lu(u,o){ki(u,"expanded",o)}function $d(u,o){ki(u,"setsize",o)}function w_(u,o){ki(u,"posinset",o)}function Rr(u,o){ki(u,"multiselectable",o)}function zd(u,o){ki(u,"rowcount",o)}function Rf(u,o){ki(u,"rowindex",o)}function Kd(u,o){ki(u,"colcount",o)}function Af(u,o){ki(u,"colindex",o)}function S_(u,o){ki(u,"colspan",o)}function Yd(u,o){ki(u,"sort",o)}function E_(u){Ga(u,"sort")}function ta(u,o){var i="selected";o?ki(u,i,o):Ga(u,i)}function XS(u,o){ki(u,"checked",void 0===o?"mixed":o)}var Pn=Object.freeze({__proto__:null,setAriaRole:ur,getAriaSortState:YS,getAriaLevel:function Fx(u){return parseInt(u.getAttribute("aria-level"),10)},getAriaPosInSet:ea,getAriaDescribedBy:function qS(u){return u.getAttribute("aria-describedby")||""},setAriaLabel:$t,setAriaLabelledBy:jd,setAriaDescribedBy:Ud,setAriaLevel:function QS(u,o){ki(u,"level",o)},setAriaDisabled:Ll,setAriaExpanded:lu,removeAriaExpanded:function JS(u){Ga(u,"expanded")},setAriaSetSize:$d,setAriaPosInSet:w_,setAriaMultiSelectable:Rr,setAriaRowCount:zd,setAriaRowIndex:Rf,setAriaColCount:Kd,setAriaColIndex:Af,setAriaColSpan:S_,setAriaSort:Yd,removeAriaSort:E_,setAriaSelected:ta,setAriaChecked:XS});function ys(u,o,i){if(void 0===o&&(o=!0),void 0===i&&(i="-"),!u)return null;var s=[u.getFullYear(),u.getMonth()+1,u.getDate()].map(function(l){return s_(l,2)}).join(i);return o&&(s+=" "+[u.getHours(),u.getMinutes(),u.getSeconds()].map(function(l){return s_(l,2)}).join(":")),s}function na(u){if(!u)return null;var o=u.split(" "),i=o[0],s=o[1];if(!i)return null;var l=i.split("-").map(function(B){return parseInt(B,10)});if(3!==l.filter(function(B){return!isNaN(B)}).length)return null;var c=l[0],h=l[1],g=l[2],_=new Date(c,h-1,g);if(_.getFullYear()!==c||_.getMonth()!==h-1||_.getDate()!==g)return null;if(!s||"00:00:00"===s)return _;var y=s.split(":").map(function(B){return parseInt(B,10)}),w=y[0],x=y[1],k=y[2];return w>=0&&w<24&&_.setHours(w),x>=0&&x<60&&_.setMinutes(x),k>=0&&k<60&&_.setSeconds(k),_}var Yn=Object.freeze({__proto__:null,serialiseDate:ys,parseDateTimeFromString:na});function D_(u,o,i){var s={},l=u.filter(function(c){return!o.some(function(h){return h===c})});return l.length>0&&l.forEach(function(c){return s[c]=ZS(c,i)}),s}function ZS(u,o,i,s){var l=s?T_:Ar,c=o.map(function(h){return{value:h,relevance:l(u.toLowerCase(),h.toLocaleLowerCase())}});return c.sort(function(h,g){return g.relevance-h.relevance}),i&&(c=c.filter(function(h){return 0!==h.relevance})),c.map(function(h){return h.value})}function kl(u){var s,l,c,o=u.toLowerCase(),i=new Array(o.length-1);for(s=l=0,c=i.length;l<=c;s=l+=1)i[s]=o.slice(s,s+2);return i}function Ar(u,o){if(0===u.length&&0===o.length)return 0;var h,g,i=kl(u),s=kl(o),l=i.length+s.length,c=0;for(h=0,g=i.length;h<g;h++){var w,_=i[h],y=void 0;for(y=0,w=s.length;y<w;y++)_===s[y]&&c++}return c>0?2*c/l:0}function T_(u,o){for(var i=u.replace(/\s/g,""),s=o.replace(/\s/g,""),l=0,c=0,h=0;h<i.length;h++){var g=s.indexOf(i[h],c);-1!==g&&(l+=100-100*(c=g)/1e4*100)}return l}var Of=Object.freeze({__proto__:null,fuzzyCheckStrings:D_,fuzzySuggestions:ZS,get_bigrams:kl,string_distances:Ar,string_weighted_distances:T_}),Ha={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function wn(u,o,i){var s=si(u,o,i);if(s&&s.className.indexOf("ag-icon")>-1)return s;var l=document.createElement("span");return l.appendChild(s),l}function si(u,o,i,s){var l=null,c=i&&i.getColDef().icons;if(c&&(l=c[u]),o&&!l){var h=o.getIcons();h&&(l=h[u])}if(!l){var _=document.createElement("span"),y=Ha[u];return y||(s?y=u:(console.warn("AG Grid: Did not find icon "+u),y="")),_.setAttribute("class","ag-icon ag-icon-"+y),_.setAttribute("unselectable","on"),ur(_,"presentation"),_}var g=void 0;if("function"==typeof l)g=l();else{if("string"!=typeof l)throw new Error("icon from grid options needs to be a string or a function");g=l}return"string"==typeof g?qr(g):Tf(g)?g:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var xf=Object.freeze({__proto__:null,iconNameClassMap:Ha,createIcon:wn,createIconNoSpan:si});function qd(u,o){return(u.which||u.keyCode)===o}function Qd(u){if(u.altKey||u.ctrlKey||u.metaKey)return!1;var o=1===u.key.length,i=function nE(u){return(Ys()||zn())&&"Del"===u.key&&46===u.charCode}(u);return o||i}function it(u,o,i,s,l){var c=u.getSuppressKeyboardEventFunc(),h=s?s.getColDef().suppressKeyboardEvent:void 0;if(!c&&!h)return!1;var g={event:o,editing:l,column:s,api:u.getApi(),node:i,data:i.data,colDef:s.getColDef(),context:u.getContext(),columnApi:u.getColumnApi()};return!(!h||!h(g))||!!c&&c(g)}function tE(u,o,i,s){var l=s.getDefinition(),c=l&&l.suppressHeaderKeyboardEvent;return!!he(c)&&!!c({api:u.getApi(),columnApi:u.getColumnApi(),context:u.getContext(),colDef:l,column:s,headerRowIndex:i,event:o})}var iE=Object.freeze({__proto__:null,isKeyPressed:qd,isEventFromPrintableCharacter:Qd,isUserSuppressingKeyboardEvent:it,isUserSuppressingHeaderKeyboardEvent:tE});function If(u,o,i){if(0===i)return!1;var s=Math.abs(u.clientX-o.clientX),l=Math.abs(u.clientY-o.clientY);return Math.max(s,l)<=i}var oE=Object.freeze({__proto__:null,normalizeWheel:function rE(u){var l=0,c=0,h=0,g=0;return"detail"in u&&(c=u.detail),"wheelDelta"in u&&(c=-u.wheelDelta/120),"wheelDeltaY"in u&&(c=-u.wheelDeltaY/120),"wheelDeltaX"in u&&(l=-u.wheelDeltaX/120),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(l=c,c=0),h=10*l,g=10*c,"deltaY"in u&&(g=u.deltaY),"deltaX"in u&&(h=u.deltaX),(h||g)&&u.deltaMode&&(1==u.deltaMode?(h*=40,g*=40):(h*=800,g*=800)),h&&!l&&(l=h<1?-1:1),g&&!c&&(c=g<1?-1:1),{spinX:l,spinY:c,pixelX:h,pixelY:g}},isLeftClick:function R_(u){return"buttons"in u?1==u.buttons:1==(u.which||u.button)},areEventsNear:If}),J=Object.freeze({__proto__:null,sortRowNodesByOrder:function ye(u,o){if(u){for(var i=function(g,_){var y=o[g.id],w=o[_.id],x=void 0!==y,k=void 0!==w;return x&&k?y-w:x||k?x?1:-1:g.__objectId-_.__objectId},c=!1,h=0;h<u.length-1;h++)if(i(u[h],u[h+1])>0){c=!0;break}c&&u.sort(i)}},traverseNodesWithKey:function Nt(u,o){var i=[];!function s(l){!l||l.forEach(function(c){if(c.group||c.hasChildren()){i.push(c.key);var h=i.join("|");o(c,h),s(c.childrenAfterGroup),i.pop()}})}(u)}});function Bn(u){var o=new Set;return u.forEach(function(i){return o.add(i)}),o}var A_=Object.freeze({__proto__:null,convertToSet:Bn}),fn=function(){return fn=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},fn.apply(this,arguments)},Me=fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn(fn({},Px),Pn),Je),qs),tn),Yn),Rx),NS),br),Of),yS),xf),iE),VS),oE),kd),OS),J),A_),Cx),Cs=function(){function u(o,i){void 0===o&&(o=0),void 0===i&&(i=1),this.nextValue=o,this.step=i}return u.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},u.prototype.peek=function(){return this.nextValue},u.prototype.skip=function(o){this.nextValue+=o},u}();!function(u){u[u.IN_PROGRESS=0]="IN_PROGRESS",u[u.RESOLVED=1]="RESOLVED"}(W.Ws0||(W.Ws0={}));var Or=function(){function u(o){var i=this;this.status=W.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(s){return i.onDone(s)},function(s){return i.onReject(s)})}return u.all=function(o){return new u(function(i){var s=o.length,l=new Array(s);pe(o,function(c,h){c.then(function(g){l[h]=g,0==--s&&i(l)})})})},u.resolve=function(o){return void 0===o&&(o=null),new u(function(i){return i(o)})},u.prototype.then=function(o){var i=this;return new u(function(s){i.status===W.Ws0.RESOLVED?s(o(i.resolution)):i.waiters.push(function(l){return s(o(l))})})},u.prototype.resolveNow=function(o,i){return this.status===W.Ws0.RESOLVED?i(this.resolution):o},u.prototype.onDone=function(o){this.status=W.Ws0.RESOLVED,this.resolution=o,pe(this.waiters,function(i){return i(o)})},u.prototype.onReject=function(o){console.warn("TBI")},u}(),Jd=(function(){function u(){this.timestamp=(new Date).getTime()}u.prototype.print=function(o){var i=(new Date).getTime()-this.timestamp;console.info(o+" = "+i),this.timestamp=(new Date).getTime()}}(),function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),Gl=function(){return Gl=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Gl.apply(this,arguments)},ai=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qn=(()=>(function(u){u[u.NOTHING=0]="NOTHING",u[u.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",u[u.SHOWING=2]="SHOWING"}(qn||(qn={})),qn))(),Xd=function(u){function o(i){var s=u.call(this)||this;return s.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=qn.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=i,s}return Jd(o,u),o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var i=this.parentComp.getGui();this.addManagedListener(i,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(i,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),u.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(i){if(!Na()&&this.state==qn.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=i,this.state=qn.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===qn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=qn.NOTHING},o.prototype.onMouseMove=function(i){this.lastMouseEvent=i,this.tooltipMouseTrack&&this.state===qn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=(new Date).getTime()),this.state=qn.NOTHING},o.prototype.destroyTooltipComp=function(){var i=this;Ie(this.tooltipComp.getGui(),"ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,l=this.tooltipComp;window.setTimeout(function(){s(),i.getContext().destroyBean(l)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-o.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var i=Gl({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(he(i.value)){this.state=qn.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(s)}else this.setToDoNothing()},o.prototype.newTooltipComponentCallback=function(i,s){if(this.state!==qn.SHOWING||this.tooltipInstanceCount!==i)this.getContext().destroyBean(s);else{var c=s.getGui();this.tooltipComp=s,Sr(c,"ag-tooltip")||Ie(c,"ag-tooltip-custom"),this.gridOptionsWrapper.isReactUi()&&Ie(c,"ag-tooltip-reactui");var h=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({eChild:c,ariaLabel:h("ariaLabelTooltip","Tooltip")});g&&(this.tooltipPopupDestroyFunc=g.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},ai([P("popupService")],o.prototype,"popupService",void 0),ai([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ai([P("columnApi")],o.prototype,"columnApi",void 0),ai([P("gridApi")],o.prototype,"gridApi",void 0),ai([Se],o.prototype,"postConstruct",null),o}(ie),Hl=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yo=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},aE=new Cs,vt=function(u){function o(i){var s=u.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=aE.next(),s.cssClassStates={},i&&s.setTemplate(i),s}return Hl(o,u),o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(i){var s=this;this.tooltipText!=i&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=i&&(this.tooltipText=i,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new Xd(s)))))},o.prototype.createChildComponentsFromTags=function(i,s){var l=this;pe(zS(i.childNodes),function(h){if(h instanceof HTMLElement){var g=l.createComponentFromElement(h,function(y){y.getGui()&&l.copyAttributesFromNode(h,y.getGui())},s);if(g){if(g.addItems&&h.children.length){l.createChildComponentsFromTags(h,s);var _=Array.prototype.slice.call(h.children);g.addItems(_)}l.swapComponentForNode(g,i,h)}else h.childNodes&&l.createChildComponentsFromTags(h,s)}})},o.prototype.createComponentFromElement=function(i,s,l){var c=i.nodeName,h=l?l[i.getAttribute("ref")]:void 0,g=this.agStackComponentsRegistry.getComponentClass(c);if(g){o.elementGettingCreated=i;var _=new g(h);return _.setParentComponent(this),this.createBean(_,null,s),_}return null},o.prototype.copyAttributesFromNode=function(i,s){KS(i.attributes,function(l,c){return s.setAttribute(l,c)})},o.prototype.swapComponentForNode=function(i,s,l){var c=i.getGui();s.replaceChild(c,l),s.insertBefore(document.createComment(l.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,i)),this.swapInComponentForQuerySelectors(i,l)},o.prototype.swapInComponentForQuerySelectors=function(i,s){var l=this;this.iterateOverQuerySelectors(function(c){l[c.attributeName]===s&&(l[c.attributeName]=i)})},o.prototype.iterateOverQuerySelectors=function(i){for(var s=Object.getPrototypeOf(this);null!=s;){var l=s.__agComponentMetaData,c=df(s.constructor);l&&l[c]&&l[c].querySelectors&&pe(l[c].querySelectors,function(h){return i(h)}),s=Object.getPrototypeOf(s)}},o.prototype.setTemplate=function(i,s){var l=qr(i);this.setTemplateFromElement(l,s)},o.prototype.setTemplateFromElement=function(i,s){this.eGui=i,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var i=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(l){var c=function(_){return s[l.attributeName]=_};if(l.refSelector&&i.eGui.getAttribute("ref")===l.refSelector)c(i.eGui);else{var g=i.eGui.querySelector(l.querySelector);g&&c(g.__agComponent||g)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(i){this.parentComponent=i},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(i){this.eGui=i},o.prototype.queryForHtmlElement=function(i){return this.eGui.querySelector(i)},o.prototype.queryForHtmlInputElement=function(i){return this.eGui.querySelector(i)},o.prototype.appendChild=function(i,s){if(s||(s=this.eGui),null!=i)if(Tf(i))s.appendChild(i);else{var l=i;s.appendChild(l.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,l))}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(i){i!==this.visible&&(this.visible=i,m_(this.eGui,i))},o.prototype.setDisplayed=function(i){i!==this.displayed&&(this.displayed=i,Ct(this.eGui,i),this.dispatchEvent({type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),u.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(i,s){var l=this;this.eGui.addEventListener(i,s),this.addDestroyFunc(function(){return l.eGui.removeEventListener(i,s)})},o.prototype.addCssClass=function(i){!0!==this.cssClassStates[i]&&(Ie(this.eGui,i),this.cssClassStates[i]=!0)},o.prototype.removeCssClass=function(i){!1!==this.cssClassStates[i]&&(Kn(this.eGui,i),this.cssClassStates[i]=!1)},o.prototype.addOrRemoveCssClass=function(i,s){this.cssClassStates[i]!==s&&(ze(this.eGui,i,s),this.cssClassStates[i]=s)},o.prototype.getAttribute=function(i){var s=this.eGui;return s?s.getAttribute(i):null},o.prototype.getRefElement=function(i){return this.queryForHtmlElement('[ref="'+i+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",yo([P("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),yo([gf],o.prototype,"preConstructOnComponent",null),yo([gf],o.prototype,"createChildComponentsPreConstruct",null),o}(ie);function me(u){return Zd.bind(this,"[ref="+u+"]",u)}function Zd(u,o,i,s,l){null!==u?"number"!=typeof l?function Mf(u,o,i){var s=function O_(u,o){return u.__agComponentMetaData||(u.__agComponentMetaData={}),u.__agComponentMetaData[o]||(u.__agComponentMetaData[o]={}),u.__agComponentMetaData[o]}(u,df(u.constructor));s[o]||(s[o]=[]),s[o].push(i)}(i,"querySelectors",{attributeName:s,querySelector:u,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Pf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),x_=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},I_=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Pf(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){this.params=i;var s=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+l("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(i){var s=this;i?this.params.parentFilterInstance(function(l){if(l.getModelAsString){var c=l.getModelAsString(i);s.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},x_([me("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),x_([P("columnModel")],o.prototype,"columnModel",void 0),o}(vt),cu=function(){function u(o,i,s,l){var c=this;this.alive=!0,this.context=o,this.eParent=l,i.getDateCompDetails(s).newAgStackInstance().then(function(_){c.alive?(c.dateComp=_,_&&(l.appendChild(_.getGui()),_.afterGuiAttached&&_.afterGuiAttached(),c.tempValue&&_.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):o.destroyBean(_)})}return u.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},u.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},u.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},u.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},u.prototype.setDisplayed=function(o){Ct(this.eParent,o)},u.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},u.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},u.prototype.afterGuiAttached=function(o){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(o)},u.prototype.setDateCompDisabled=function(o){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(o)},u}(),ep=function(){return ep=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},ep.apply(this,arguments)},Ff=function(){function u(){this.customFilterOptions={}}return u.prototype.init=function(o,i){this.filterOptions=o.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},u.prototype.checkForDeprecatedParams=function(){Me.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),Me.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},u.prototype.getFilterOptions=function(){return this.filterOptions},u.prototype.mapCustomOptions=function(){var o=this;!this.filterOptions||this.filterOptions.forEach(function(i){if("string"!=typeof i){if(!Zc([["displayKey"],["displayName"],["predicate","test"]],function(g){return!!xl(g,function(_){return null!=i[_]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+g+"'"),!1)}))return void(o.filterOptions=Me.filter(o.filterOptions,function(g){return g===i})||[]);var c=i.test,h=ep({},i);null!=c&&null==i.predicate&&(h.predicate=function(g,_){return c(g[0],_)},delete h.test),h.hideFilterInput&&null==h.numberOfInputs&&(h.numberOfInputs=0,delete h.hideFilterInput),o.customFilterOptions[i.displayKey]=h}})},u.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var i=this.filterOptions[0];"string"==typeof i?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},u.prototype.getDefaultOption=function(){return this.defaultOption},u.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},u}(),M_={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},be=function(){function u(){}return u.BACKSPACE=8,u.TAB=9,u.ENTER=13,u.SHIFT=16,u.ESCAPE=27,u.SPACE=32,u.LEFT=37,u.UP=38,u.RIGHT=39,u.DOWN=40,u.DELETE=46,u.A=65,u.C=67,u.V=86,u.D=68,u.Z=90,u.Y=89,u.F2=113,u.PAGE_UP=33,u.PAGE_DOWN=34,u.PAGE_HOME=36,u.PAGE_END=35,u}(),tp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Nf=function(){return Nf=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Nf.apply(this,arguments)},P_=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},On=function(u){function o(i,s){void 0===s&&(s={});var l=u.call(this)||this;return l.eFocusableElement=i,l.callbacks=s,l.callbacks=Nf({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var h=l.focusService.findNextFocusableElement(l.eFocusableElement,!1,c.shiftKey);!h||(h.focus(),c.preventDefault())}}},s),l}return tp(o,u),o.prototype.postConstruct=function(){Ie(this.eFocusableElement,o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(i){var s=this;this.addManagedListener(i,"keydown",function(l){if(!l.defaultPrevented&&!jo(l)){if(s.callbacks.shouldStopEventPropagation(l))return void Il(l);l.keyCode===be.TAB?s.callbacks.onTabKeyDown(l):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(l)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",P_([P("focusService")],o.prototype,"focusService",void 0),P_([Se],o.prototype,"postConstruct",null),o}(ie),ra=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xn=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},bs=function(u){function o(i){var s=u.call(this)||this;return s.filterNameKey=i,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return ra(o,u),o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new On(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(i){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.onFilterChanged=function(){console.warn("AG Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(i){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,i)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(i){var s=this;this.setParams(i),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},o.prototype.setParams=function(i){o.checkForDeprecatedParams(i),this.providedFilterParams=i,this.newRowsActionKeep="keep"===i.newRowsAction||"clear"!==i.newRowsAction&&[q.ROW_MODEL_TYPE_SERVER_SIDE,q.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=o.isUseApplyButton(i),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var i=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var l=document.createElement("div");Ie(l,"ag-filter-apply-panel"),Bn(s).forEach(function(h){return function(h){var g,_;switch(h){case"apply":g=i.translate("applyFilter"),_=function(w){return i.onBtApply(!1,!1,w)};break;case"clear":g=i.translate("clearFilter"),_=function(){return i.onBtClear()};break;case"reset":g=i.translate("resetFilter"),_=function(){return i.onBtReset()};break;case"cancel":g=i.translate("cancelFilter"),_=function(w){i.onBtCancel(w)};break;default:return void console.warn("Unknown button type specified")}var y=qr('<button\n                    type="button"\n                    ref="'+h+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+g+"\n                </button>");l.appendChild(y),i.addManagedListener(y,"click",_)}(h)}),this.getGui().appendChild(l)}},o.checkForDeprecatedParams=function(i){var s=i.buttons||[];if(!(s.length>0)){var l=i.applyButton,c=i.resetButton;i.clearButton&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),s.push("clear")),c&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),s.push("reset")),l&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),s.push("apply")),i.apply&&(console.warn("AG Grid: as of AG Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),s.push("apply")),i.buttons=s}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var i=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=fs(this.onBtApply.bind(this),i)},o.prototype.getModel=function(){return this.appliedModel},o.prototype.setModel=function(i){var s=this;return(i?this.setModelIntoUi(i):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},o.prototype.onBtCancel=function(i){var s=this,l=this.getModel(),c=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(i)};null!=l?this.setModelIntoUi(l).then(c):this.resetUiToDefaults().then(c)},o.prototype.onBtClear=function(){var i=this;this.resetUiToDefaults().then(function(){return i.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var s=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(s,i)},o.prototype.isModelValid=function(i){return!0},o.prototype.onBtApply=function(i,s,l){void 0===i&&(i=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:i,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!i&&!s&&this.close(l)},o.prototype.onNewRowsLoaded=function(){var i=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return i.appliedModel=null})},o.prototype.close=function(i){if(this.hidePopup){var c,l=i&&i.key;("Enter"===l||"Space"===l)&&(c={keyboardEvent:i}),this.hidePopup(c),this.hidePopup=null}},o.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},o.prototype.onUiChanged=function(i,s){if(void 0===i&&(i=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var l=this.isModelValid(this.getModelFromUi());Di(this.getRefElement("applyFilterButton"),!l)}i&&!s||"immediately"===s?this.onBtApply(i):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(i){null!=i&&(this.hidePopup=i.hidePopup)},o.getDebounceMs=function(i,s){return o.isUseApplyButton(i)?(null!=i.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=i.debounceMs?i.debounceMs:s},o.isUseApplyButton=function(i){return o.checkForDeprecatedParams(i),!!i.buttons&&i.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){this.hidePopup=null,u.prototype.destroy.call(this)},o.prototype.translate=function(i){return this.gridOptionsWrapper.getLocaleTextFunc()(i,M_[i])},o.prototype.getCellValue=function(i){return this.providedFilterParams.valueGetter(i)},xn([P("rowModel")],o.prototype,"rowModel",void 0),xn([Se],o.prototype,"postConstruct",null),o}(vt),cE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lf=function(u){function o(i,s){var l=u.call(this,s)||this;return l.labelSeparator="",l.labelAlignment="left",l.label="",l.config=i||{},l}return cE(o,u),o.prototype.postConstruct=function(){Ie(this.getGui(),"ag-labeled"),Ie(this.eLabel,"ag-label");var i=this.config,s=i.labelSeparator,l=i.label,c=i.labelWidth,h=i.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=l&&this.setLabel(l),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(h||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){fi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Ie(this.eLabel,"ag-hidden"),ur(this.eLabel,"presentation")):(Kn(this.eLabel,"ag-hidden"),ur(this.eLabel,null))},o.prototype.setLabelSeparator=function(i){return this.labelSeparator===i||(this.labelSeparator=i,null!=this.label&&this.refreshLabel()),this},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(i){return this.label===i||(this.label=i,this.refreshLabel()),this},o.prototype.setLabelAlignment=function(i){var s=this.getGui();return ze(s,"ag-label-align-left","left"===i),ze(s,"ag-label-align-right","right"===i),ze(s,"ag-label-align-top","top"===i),this},o.prototype.setLabelWidth=function(i){return null==this.label||Zs(this.eLabel,i),this},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(vt),dE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zo=function(u){function o(i,s,l){var c=u.call(this,i,s)||this;return c.className=l,c.disabled=!1,c}return dE(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.className&&Ie(this.getGui(),this.className)},o.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return i(s.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(i){return Tr(this.getGui(),i),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(i,s){return this.value===i||(this.previousValue=this.value,this.value=i,s||this.dispatchEvent({type:o.EVENT_CHANGED})),this},o.prototype.setDisabled=function(i){i=!!i;var s=this.getGui();return Di(s,i),ze(s,"ag-disabled",i),this.disabled=i,this},o.prototype.isDisabled=function(){return!!this.disabled},o.EVENT_CHANGED="valueChange",o}(Lf),np=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Va=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},uu=function(u){function o(i,s,l,c){var h=u.call(this,i,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(c?'aria-haspopup="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return h.pickerIcon=l,h.isPickerDisplayed=!1,h.isDestroyingPicker=!1,h.skipClick=!1,h}return np(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),Ud(this.eWrapper,s);var l=function(){i.skipClick?i.skipClick=!1:i.isDisabled()||(i.pickerComponent=i.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(g){!i.skipClick&&i.pickerComponent&&i.pickerComponent.isAlive()&&vo(i.pickerComponent.getGui())&&c.contains(g.target)&&(i.skipClick=!0)}),this.addManagedListener(c,"keydown",function(g){switch(g.keyCode){case be.UP:case be.DOWN:case be.ENTER:case be.SPACE:l();case be.ESCAPE:i.isPickerDisplayed&&g.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",l),this.addManagedListener(this.eLabel,"click",l),this.pickerIcon){var h=si(this.pickerIcon,this.gridOptionsWrapper);h&&this.eIcon.appendChild(h)}},o.prototype.refreshLabel=function(){he(this.getLabel())?jd(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(i){return $t(this.eWrapper,i),this},o.prototype.setInputWidth=function(i){return Zs(this.eWrapper,i),this},o.prototype.getFocusableElement=function(){return this.eWrapper},Va([me("eLabel")],o.prototype,"eLabel",void 0),Va([me("eWrapper")],o.prototype,"eWrapper",void 0),Va([me("eDisplayField")],o.prototype,"eDisplayField",void 0),Va([me("eIcon")],o.prototype,"eIcon",void 0),o}(zo),kf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),N_=function(u){function o(i){void 0===i&&(i="default");var s=u.call(this,'<div class="ag-list ag-'+i+'-list" role="listbox"></div>')||this;return s.cssIdentifier=i,s.options=[],s.itemEls=[],s}return kf(o,u),o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(i){var s=i.keyCode;switch(s){case be.ENTER:if(this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(l)}else this.setValue(this.getValue());break;case be.DOWN:case be.UP:var c=s===be.DOWN,h=void 0;if(i.preventDefault(),this.highlightedEl){var _=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);_=Math.min(Math.max(_,0),this.itemEls.length-1),h=this.itemEls[_]}else h=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(h)}},o.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(i){var s=i.value,c=oi(i.text||s);return this.options.push({value:s,text:c}),this.renderOption(s,c),this},o.prototype.renderOption=function(i,s){var l=this,c=document.createElement("div");ur(c,"option"),Ie(c,"ag-list-item"),Ie(c,"ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+s+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return l.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return l.clearHighlighted()}),this.addManagedListener(c,"click",function(){return l.setValue(i)}),this.getGui().appendChild(c)},o.prototype.setValue=function(i,s){if(this.value===i)return this.fireItemSelected(),this;if(null==i)return this.reset(),this;var l=$s(this.options,function(h){return h.value===i});if(-1!==l){var c=this.options[l];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[l]),s||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(i){return this.setValue(this.options[i].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var i=this;this.clearHighlighted();var s=$s(this.options,function(l){return l.value===i.value});-1!==s&&this.highlightItem(this.itemEls[s])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(i){!i.offsetParent||(this.clearHighlighted(),this.highlightedEl=i,Ie(this.highlightedEl,o.ACTIVE_CLASS),ta(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(Kn(this.highlightedEl,o.ACTIVE_CLASS),ta(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:zo.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"init",null),o}(vt),oa=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Gf=function(u){function o(i){return u.call(this,i,"ag-select","smallDown","listbox")||this}return oa(o,u),o.prototype.init=function(){var i=this;this.listComponent=this.createBean(new N_("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,N_.EVENT_ITEM_SELECTED,function(){i.hideList&&i.hideList()}),this.listComponent.addManagedListener(this.listComponent,zo.EVENT_CHANGED,function(){i.setValue(i.listComponent.getValue(),!1,!0),i.hideList&&i.hideList()})},o.prototype.showPicker=function(){var i=this,s=this.listComponent.getGui(),l=this.addManagedListener(document.body,"wheel",function(_){!s.contains(_.target)&&i.hideList&&i.hideList()}),c=this.addManagedListener(s,"focusout",function(_){!s.contains(_.relatedTarget)&&i.hideList&&i.hideList()}),h=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){i.hideList=null,i.isPickerDisplayed=!1,c(),l(),i.isAlive()&&i.getFocusableElement().focus()},ariaLabel:h("ariaLabelSelectField","Select Field")});return g&&(this.hideList=g.hideFunc),this.isPickerDisplayed=!0,Zs(s,Vn(this.eWrapper)),s.style.maxHeight=nn(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(i){return this.listComponent.addOption(i),this},o.prototype.setValue=function(i,s,l){return this.value===i?this:(l||this.listComponent.setValue(i,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),u.prototype.setValue.call(this,i,s)))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),u.prototype.destroy.call(this)},Vl([P("popupService")],o.prototype,"popupService",void 0),Vl([Se],o.prototype,"init",null),o}(uu),pE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ba=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Co=function(u){function o(i,s,l,c){void 0===l&&(l="text"),void 0===c&&(c="input");var h=u.call(this,i,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",s)||this;return h.inputType=l,h.displayFieldTag=c,h}return pE(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.setInputType(),Ie(this.eLabel,this.className+"-label"),Ie(this.eWrapper,this.className+"-input-wrapper"),Ie(this.eInput,this.className+"-input"),Ie(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var i=this.config,s=i.width,l=i.value;null!=s&&this.setWidth(s),null!=l&&this.setValue(l),this.addInputListeners()},o.prototype.refreshLabel=function(){he(this.getLabel())?jd(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var i=this;this.addManagedListener(this.eInput,"input",function(s){return i.setValue(s.target.value)})},o.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(i){return Zs(this.eWrapper,i),this},o.prototype.setInputName=function(i){return this.getInputElement().setAttribute("name",i),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(i){return this.eInput.maxLength=i,this},o.prototype.setInputPlaceholder=function(i){return Bd(this.eInput,"placeholder",i),this},o.prototype.setInputAriaLabel=function(i){return $t(this.eInput,i),this},o.prototype.setDisabled=function(i){return Di(this.eInput,i),u.prototype.setDisabled.call(this,i)},Ba([me("eLabel")],o.prototype,"eLabel",void 0),Ba([me("eWrapper")],o.prototype,"eWrapper",void 0),Ba([me("eInput")],o.prototype,"eInput",void 0),o}(zo),hE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wa=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Gi=(()=>(function(u){u[u.One=0]="One",u[u.Two=1]="Two"}(Gi||(Gi={})),Gi))(),dr=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return hE(o,u),o.prototype.getNumberOfInputs=function(i){var s=this.optionsFactory.getCustomOption(i);if(s){var l=s.numberOfInputs;return null!=l?l:1}return i===o.EMPTY?0:i===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(i,s){this.setTypeFromFloatingFilter(i),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(i){this.eType1.setValue(i),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Gi.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Gi.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Gi.One),condition2:this.createCondition(Gi.Two)}:this.createCondition(Gi.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},o.prototype.areModelsEqual=function(i,s){if(!i&&!s)return!0;if(!i&&s||i&&!s)return!1;var g,l=!i.operator,c=!s.operator;if(!l&&c||l&&!c)return!1;if(l)g=this.areSimpleModelsEqual(i,s);else{var w=i,x=s;g=w.operator===x.operator&&this.areSimpleModelsEqual(w.condition1,x.condition1)&&this.areSimpleModelsEqual(w.condition2,x.condition2)}return g},o.prototype.setModelIntoUi=function(i){if(i.operator){var l=i,c="OR"===l.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(l.condition1.type),this.eType2.setValue(l.condition2.type),this.setConditionIntoUi(l.condition1,Gi.One),this.setConditionIntoUi(l.condition2,Gi.Two)}else{var h=i;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(h.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(h,Gi.One),this.setConditionIntoUi(null,Gi.Two)}return Or.resolve()},o.prototype.doesFilterPass=function(i){var s=this,l=this.getModel();if(null==l)return!0;var c=l.operator,h=[];return c?h.push(l.condition1,l.condition2):h.push(l),(c&&"OR"===c?xl:Zc)(h,function(y){return s.individualConditionPasses(i,y)})},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.optionsFactory=new Ff,this.optionsFactory.init(i,this.getDefaultFilterOptions()),this.allowTwoConditions=!i.suppressAndOrCondition,this.alwaysShowBothConditions=!!i.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(i.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(i){return ri(["AND","OR"],i)?i:"AND"},o.prototype.putOptionsIntoDropdown=function(){var i=this,s=this.optionsFactory.getFilterOptions(),l=[this.eType1,this.eType2];pe(s,function(c){var h="string"==typeof c?i.createBoilerplateListOption(c):i.createCustomListOption(c);pe(l,function(g){return g.addOption(h)})}),pe(l,function(c){return c.setDisabled(s.length<=1)})},o.prototype.createBoilerplateListOption=function(i){return{value:i,text:this.translate(i)}},o.prototype.createCustomListOption=function(i){var s=i.displayKey,l=this.optionsFactory.getCustomOption(i.displayKey);return{value:s,text:l?this.gridOptionsWrapper.getLocaleTextFunc()(l.displayKey,l.displayName):this.translate(s)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Gi.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Gi.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var i=this,l=[this.eCondition1Body,this.eCondition2Body];pe([[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],function(c,h){var g=i.isConditionVisible(h),_=i.isConditionDisabled(h);pe(c,function(y){y instanceof Co||y instanceof Gf?(y.setDisabled(_),y.setDisplayed(g)):(Di(y,_),Ct(y,g))})}),pe(l,function(c,h){Ct(c,i.isConditionBodyVisible(h))}),this.forEachInput(function(c,h,g,_){i.setElementDisplayed(c,h<_),i.setElementDisabled(c,i.isConditionDisabled(g))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(i){if(u.prototype.afterGuiAttached.call(this,i),this.resetPlaceholder(),!i||!i.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof Co&&s.getInputElement().focus()}},o.prototype.resetPlaceholder=function(){var i=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(l,c,h,g){if(l instanceof Co){var _=0===c&&g>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",y=0===c&&g>1?s("ariaFilterFromValue","Filter from value"):0===c?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");l.setInputPlaceholder(i.translate(_)),l.setInputAriaLabel(y)}})},o.prototype.setElementValue=function(i,s,l){i instanceof Co&&i.setValue(s?String(s):null,l)},o.prototype.setElementDisplayed=function(i,s){i instanceof vt&&Ct(i.getGui(),s)},o.prototype.setElementDisabled=function(i,s){i instanceof vt&&Di(i.getGui(),s)},o.prototype.attachElementOnChange=function(i,s){i instanceof Co&&i.onValueChange(s)},o.prototype.forEachInput=function(i){var s=this,l=this.getInputs();this.getConditionTypes().forEach(function(c,h){for(var g=s.getNumberOfInputs(c),_=0;_<l[h].length;_++){var y=l[h][_];null!=y&&i(y,_,h,g)}})},o.prototype.isConditionVisible=function(i){return 0===i||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(i):!!this.alwaysShowBothConditions||this.isConditionUiComplete(i-1))},o.prototype.isConditionDisabled=function(i){return!(!this.isReadOnly()&&this.isConditionVisible(i))||0!==i&&!this.isConditionUiComplete(i-1)},o.prototype.isConditionBodyVisible=function(i){if(!this.isConditionVisible(i))return!1;var s=this.getConditionTypes()[i];return this.getNumberOfInputs(s)>0},o.prototype.isConditionUiComplete=function(i){return!(this.getConditionTypes()[i]===o.EMPTY||Me.some(this.getValues(i),function(l){return null==l}))},o.prototype.resetUiToDefaults=function(i){var s=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),h="ag-simple-filter-and-or-"+this.getCompId(),g=this.optionsFactory.getDefaultOption();return this.eType1.setValue(g,i).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),i).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),i).setName(h).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),i).setName(h).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(_){s.setElementValue(_,null,i),s.setElementDisabled(_,s.isReadOnly())}),this.resetPlaceholder(),Or.resolve()},o.prototype.setConditionIntoUi=function(i,s){var l=this,c=this.mapValuesFromModel(i);this.forEachInput(function(h,g,_,y){_===s&&l.setElementValue(h,c[g]?c[g]:null)})},o.prototype.setValueFromFloatingFilter=function(i){var s=this;this.forEachInput(function(l,c,h,g){s.setElementValue(l,0===c&&0===h?i:null)})},o.prototype.isDefaultOperator=function(i){return i===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var i=this;if(!this.isReadOnly()){var s=function(){return i.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(l){i.attachElementOnChange(l,s)})}},o.prototype.individualConditionPasses=function(i,s){var l=this.getCellValue(i.node),c=this.mapValuesFromModel(s),h=this.optionsFactory.getCustomOption(s.type),g=this.evaluateCustomFilter(h,c,l);return null!=g?g:null==l?this.evaluateNullValue(s.type):this.evaluateNonNullValue(c,l,s)},o.prototype.evaluateCustomFilter=function(i,s,l){if(null!=i){var c=i.predicate;if(null!=c&&!Me.some(s,function(h){return null==h}))return c(s,l)}},o.EMPTY="empty",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",Wa([me("eOptions1")],o.prototype,"eType1",void 0),Wa([me("eOptions2")],o.prototype,"eType2",void 0),Wa([me("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),Wa([me("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),Wa([me("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),Wa([me("eCondition1Body")],o.prototype,"eCondition1Body",void 0),Wa([me("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(bs),ip=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hi=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ip(o,u),o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.scalarFilterParams=i,this.checkDeprecatedParams()},o.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("AG Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},o.prototype.evaluateNullValue=function(i){switch(i){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1},o.prototype.evaluateNonNullValue=function(i,s,l){var c=this.comparator(),h=c(i[0],s);switch(l.type){case o.EQUALS:return 0===h;case o.NOT_EQUAL:return 0!==h;case o.GREATER_THAN:return h>0;case o.GREATER_THAN_OR_EQUAL:return h>=0;case o.LESS_THAN:return h<0;case o.LESS_THAN_OR_EQUAL:return h<=0;case o.IN_RANGE:var g=c(i[1],s);return this.scalarFilterParams.inRangeInclusive?h>=0&&g<=0:h>0&&g<0;default:return console.warn('AG Grid: Unexpected type of filter "'+l.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(dr),Hf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bl=function(){return Bl=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Bl.apply(this,arguments)},Wl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Bf=function(u){function o(){var i=u.call(this,"dateFilter")||this;return i.minValidYear=1e3,i.maxValidYear=1/0,i}return Hf(o,u),o.prototype.afterGuiAttached=function(i){u.prototype.afterGuiAttached.call(this,i),this.dateCondition1FromComp.afterGuiAttached(i)},o.prototype.mapValuesFromModel=function(i){var s=i||{},l=s.dateFrom,c=s.dateTo,h=s.type;return[l&&na(l)||null,c&&na(c)||null].slice(0,this.getNumberOfInputs(h))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(i,s){return null==s||s<i?-1:s>i?1:0},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.dateFilterParams=i;var s=function(l,c){if(null!=i[l]){if(!isNaN(i[l]))return null==i[l]?c:Number(i[l]);console.warn("AG Grid: DateFilter "+l+" is not a number")}return c};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var i=this,s=function(l){return new cu(i.getContext(),i.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:i.dateFilterParams},l)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){i.forEachInput(function(l){return l.destroy()})})},o.prototype.setElementValue=function(i,s,l){i.setDate(s)},o.prototype.setElementDisplayed=function(i,s){i.setDisplayed(s)},o.prototype.setElementDisabled=function(i,s){i.setDisabled(s)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===Gi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},o.prototype.isConditionUiComplete=function(i){var s=this;if(!u.prototype.isConditionUiComplete.call(this,i))return!1;var c=!0;return this.forEachInput(function(h,g,_,y){_!==i||!c||g>=y||(c=c&&function(h){return null!=h&&h.getUTCFullYear()>=s.minValidYear&&h.getUTCFullYear()<=s.maxValidYear}(h.getDate()))}),c},o.prototype.areSimpleModelsEqual=function(i,s){return i.dateFrom===s.dateFrom&&i.dateTo===s.dateTo&&i.type===s.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={},c=this.getValues(i);return c.length>0&&(l.dateFrom=ys(c[0])),c.length>1&&(l.dateTo=ys(c[1])),Bl({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},l)},o.prototype.resetPlaceholder=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),l=i("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(s),c.setInputAriaLabel(l)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(i){var s=[];return this.forEachInput(function(l,c,h,g){i===h&&c<g&&s.push(l.getDate())}),s},o.DEFAULT_FILTER_OPTIONS=[Hi.EQUALS,Hi.GREATER_THAN,Hi.LESS_THAN,Hi.NOT_EQUAL,Hi.IN_RANGE],Wl([me("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),Wl([me("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),Wl([me("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),Wl([me("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),Wl([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(Hi),jl=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return jl(o,u),o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(i){if(!i)return null;if(null!=i.operator){var l=i,c=l||{},h=c.condition1,g=c.condition2,_=this.optionsFactory.getCustomOption(h.type),y=this.optionsFactory.getCustomOption(g.type);return[this.conditionToString(h,_),l.operator,this.conditionToString(g,y)].join(" ")}var w=i,x=this.optionsFactory.getCustomOption(w.type),k=x||{},B=k.displayKey,j=k.displayName;return B&&j&&0===k.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(B,j),j):this.conditionToString(w,x)},o.prototype.isEventFromFloatingFilter=function(i){return i&&i.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(i){i?this.lastType=(i.operator?i.condition1:i).type:this.lastType=this.optionsFactory.getDefaultOption()},o.prototype.canWeEditAfterModelFromParentFilter=function(i){return i?!i.operator&&this.isTypeEditable(i.type):this.isTypeEditable(this.lastType)},o.prototype.init=function(i){this.optionsFactory=new Ff,this.optionsFactory.init(i.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!i.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},o.prototype.doesFilterHaveSingleInput=function(i){var l=(this.optionsFactory.getCustomOption(i)||{}).numberOfInputs;return null==l||1==l},o.prototype.isTypeEditable=function(i){return!!i&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(i)&&i!==dr.IN_RANGE&&i!==dr.EMPTY},o}(vt),op=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),L_=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},k_=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return op(o,u),o.prototype.getDefaultFilterOptions=function(){return Bf.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(i,s){var l=i.type,h=l==dr.IN_RANGE||2===(s||{}).numberOfInputs,g=na(i.dateFrom),_=na(i.dateTo);return h?ys(g,!1)+"-"+ys(_,!1):null!=g?""+ys(g,!1):""+l},o.prototype.init=function(i){u.prototype.init.call(this,i),this.params=i,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(i){Ct(this.eDateWrapper,i),Ct(this.eReadOnlyText.getGui(),!i)},o.prototype.onParentModelChanged=function(i,s){if(!this.isEventFromFloatingFilter(s)){u.prototype.setLastTypeFromModel.call(this,i);var l=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(i);this.setEditable(l),l?(this.dateComp.setDate(i?na(i.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(i)),this.dateComp.setDate(null))}},o.prototype.onDateChanged=function(){var i=this,l=ys(this.dateComp.getDate());this.params.parentFilterInstance(function(c){c&&c.onFloatingFilterChanged(i.getLastType(),na(l))})},o.prototype.createDateComponent=function(){var i=this,s=bs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),l={onDateChanged:fs(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new cu(this.getContext(),this.userComponentFactory,l,this.eDateWrapper),this.addDestroyFunc(function(){return i.dateComp.destroy()})},L_([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),L_([me("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),L_([me("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(rp),G_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gE=function(u){function o(){return u.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return G_(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this,l=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(i)&&(zn()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker"):l.type="date"),this.addManagedListener(l,"mousedown",function(){s.eDateInput.isDisabled()||l.focus()}),this.addManagedListener(l,"input",function(_){_.target===document.activeElement&&(s.eDateInput.isDisabled()||i.onDateChanged())});var c=i.filterParams||{},h=c.minValidYear,g=c.maxValidYear;h&&(l.min=h+"-01-01"),g&&(l.max=g+"-12-31")},o.prototype.getDate=function(){return na(this.eDateInput.getValue())},o.prototype.setDate=function(i){this.eDateInput.setValue(ys(i,!1))},o.prototype.setInputPlaceholder=function(i){this.eDateInput.setInputPlaceholder(i)},o.prototype.setDisabled=function(i){this.eDateInput.setDisabled(i)},o.prototype.afterGuiAttached=function(i){(!i||!i.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(i){return i.filterParams&&null!=i.filterParams.browserDatePicker?i.filterParams.browserDatePicker:Ce()||Fa()},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([me("eDateInput")],o.prototype,"eDateInput",void 0),o}(vt),du=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ul=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},pu=function(u){function o(){return u.call(this,"numberFilter")||this}return du(o,u),o.prototype.mapValuesFromModel=function(i){var s=i||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(i,s){return i===s?0:i<s?1:-1}},o.prototype.setParams=function(i){this.numberFilterParams=i;var s=this.getAllowedCharPattern();if(s){var l={allowedCharPattern:s};this.resetTemplate({eValueFrom1:l,eValueTo1:l,eValueFrom2:l,eValueTo2:l})}u.prototype.setParams.call(this,i)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===Gi.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+c+">\n            </div>"},o.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(c,h,g,_){i===g&&h<_&&l.push(s.stringToFloat(c.getValue()))}),l},o.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(i){if("number"==typeof i)return i;var s=At(i);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},c=this.getValues(i);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Ce()||Ys()?null:"\\d\\-\\.")},o.DEFAULT_FILTER_OPTIONS=[Hi.EQUALS,Hi.NOT_EQUAL,Hi.LESS_THAN,Hi.LESS_THAN_OR_EQUAL,Hi.GREATER_THAN,Hi.GREATER_THAN_OR_EQUAL,Hi.IN_RANGE],Ul([me("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Ul([me("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Ul([me("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Ul([me("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(Hi),sp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ua=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ap=function(u){function o(){return u.call(this,"textFilter")||this}return sp(o,u),o.trimInput=function(i){var s=i&&i.trim();return""===s?i:s},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.textFilterParams=i,this.comparator=this.textFilterParams.textCustomComparator||o.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},c=this.getValues(i);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(c,h,g,_){if(i===g&&h<_){var y=At(c.getValue()),w=(s.textFilterParams.trimInput?o.trimInput(y):y)||null;l.push(w),c.setValue(w,!0)}}),l},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===Gi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},o.prototype.mapValuesFromModel=function(i){var s=i||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.evaluateNullValue=function(i){return i===dr.NOT_EQUAL||i===dr.NOT_CONTAINS},o.prototype.evaluateNonNullValue=function(i,s,l){var c=this,h=Me.map(i,function(_){return c.formatter(_)})||[],g=this.formatter(s);return Me.some(h,function(_){return c.comparator(l.type,g,_)})},o.DEFAULT_FILTER_OPTIONS=[dr.CONTAINS,dr.NOT_CONTAINS,dr.EQUALS,dr.NOT_EQUAL,dr.STARTS_WITH,dr.ENDS_WITH],o.DEFAULT_FORMATTER=function(i){return i},o.DEFAULT_LOWERCASE_FORMATTER=function(i){return null==i?null:i.toString().toLowerCase()},o.DEFAULT_COMPARATOR=function(i,s,l){switch(i){case o.CONTAINS:return s.indexOf(l)>=0;case o.NOT_CONTAINS:return s.indexOf(l)<0;case o.EQUALS:return s===l;case o.NOT_EQUAL:return s!=l;case o.STARTS_WITH:return 0===s.indexOf(l);case o.ENDS_WITH:var c=s.lastIndexOf(l);return c>=0&&c===s.length-l.length;default:return!1}},Ua([me("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Ua([me("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Ua([me("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Ua([me("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(dr),H_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),lp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Wf=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return H_(o,u),o.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(i,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(i),this.eFloatingFilterInput.setValue(this.getTextFromModel(i)),this.setEditable(this.canWeEditAfterModelFromParentFilter(i)))},o.prototype.init=function(i){if(u.prototype.init.call(this,i),this.params=i,this.applyActive=bs.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var s=bs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),l=fs(this.syncUpWithParentFilter.bind(this),s),c=this.eFloatingFilterInput.getGui();this.addManagedListener(c,"input",l),this.addManagedListener(c,"keypress",l),this.addManagedListener(c,"keydown",l)}var h=i.column.getDefinition();(this.isReadOnly()||h.filterParams&&h.filterParams.filterOptions&&1===h.filterParams.filterOptions.length&&"inRange"===h.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var g=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),_=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(g+" "+_("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(i){var s=this,l=qd(i,be.ENTER);if(!this.applyActive||l){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=ap.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(h){h&&h.onFloatingFilterChanged(s.getLastType(),c||null)})}},o.prototype.conditionToString=function(i,s){return i.type==dr.IN_RANGE||2===(s||{}).numberOfInputs?i.filter+"-"+i.filterTo:null!=i.filter?""+i.filter:""+i.type},o.prototype.setEditable=function(i){this.eFloatingFilterInput.setDisabled(!i)},lp([P("columnModel")],o.prototype,"columnModel",void 0),lp([me("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),lp([Se],o.prototype,"postConstruct",null),o}(rp),V_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mE=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return V_(o,u),o.prototype.getDefaultFilterOptions=function(){return pu.DEFAULT_FILTER_OPTIONS},o}(Wf),vE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),hu=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vE(o,u),o.prototype.getDefaultFilterOptions=function(){return ap.DEFAULT_FILTER_OPTIONS},o}(Wf),Vi=function(){function u(o,i){var s=this;void 0===i&&(i=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new gs,this.eElement=o,this.preventMouseClick=i;var l=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),h=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",l,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",h,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",l,{passive:!0}),s.eElement.removeEventListener("touchmove",c,{passive:!0}),s.eElement.removeEventListener("touchend",h,{passive:!1})})}return u.prototype.getActiveTouch=function(o){for(var i=0;i<o.length;i++)if(o[i].identifier===this.touchStart.identifier)return o[i];return null},u.prototype.addEventListener=function(o,i){this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.eventService.removeEventListener(o,i)},u.prototype.onTouchStart=function(o){var i=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){i.touching&&i.touchStart===s&&!i.moved&&(i.moved=!0,i.eventService.dispatchEvent({type:u.EVENT_LONG_TAP,touchStart:i.touchStart,touchEvent:o}))},500)}},u.prototype.onTouchMove=function(o){if(this.touching){var i=this.getActiveTouch(o.touches);i&&!If(i,this.touchStart,4)&&(this.moved=!0)}},u.prototype.onTouchEnd=function(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:u.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.preventDefault(),this.touching=!1)},u.prototype.checkForDoubleTap=function(){var o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>u.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:u.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o},u.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},u.EVENT_TAP="tap",u.EVENT_DOUBLE_TAP="doubleTap",u.EVENT_LONG_TAP="longTap",u.DOUBLE_TAP_MILLIS=500,u}(),_E=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bo=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},B_=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.lastMovingChanged=0,i}return _E(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.refresh=function(i){return this.params=i,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(i),!0)},o.prototype.workOutTemplate=function(){var i=Jc(this.params.template,o.TEMPLATE);return i&&i.trim?i.trim():i},o.prototype.init=function(i){this.params=i,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(i.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(i)},o.prototype.setDisplayName=function(i){if(this.currentDisplayName!=i.displayName){this.currentDisplayName=i.displayName;var s=oi(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},o.prototype.setupIcons=function(i){this.addInIcon("sortAscending",this.eSortAsc,i),this.addInIcon("sortDescending",this.eSortDesc,i),this.addInIcon("sortUnSort",this.eSortNone,i),this.addInIcon("menu",this.eMenu,i),this.addInIcon("filter",this.eFilter,i)},o.prototype.addInIcon=function(i,s,l){if(null!=s){var c=si(i,this.gridOptionsWrapper,l);c&&s.appendChild(c)}},o.prototype.setupTap=function(){var i=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var l=new Vi(this.getGui(),!0),c=s.isSuppressMenuHide(),h=c&&he(this.eMenu),g=h?new Vi(this.eMenu,!0):l;this.params.enableMenu&&this.addManagedListener(g,Vi[h?"EVENT_TAP":"EVENT_LONG_TAP"],function(x){s.getApi().showColumnMenuAfterMouseClick(i.params.column,x.touchStart)}),this.params.enableSorting&&this.addManagedListener(l,Vi.EVENT_TAP,function(x){c&&i.eMenu.contains(x.touchStart.target)||i.sortController.progressSort(i.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return l.destroy()}),h&&this.addDestroyFunc(function(){return g.destroy()})}},o.prototype.workOutShowMenu=function(){var i=!this.gridOptionsWrapper.isSuppressMenuHide(),s=Na()&&i;return this.params.enableMenu&&!s},o.prototype.setMenu=function(){var i=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Yr(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return i.showMenu(i.eMenu)}),ze(this.eMenu,"ag-header-menu-always-show",s)}},o.prototype.showMenu=function(i){i||(i=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,i,"columnMenu")},o.prototype.removeSortIcons=function(){Yr(this.eSortAsc),Yr(this.eSortDesc),Yr(this.eSortNone),Yr(this.eSortOrder)},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var i=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Mt.EVENT_MOVING_CHANGED,function(){i.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(l){var c=i.params.column.isMoving(),h=(new Date).getTime();c||h-i.lastMovingChanged<50||i.params.progressSort(s?l.ctrlKey||l.metaKey:l.shiftKey)}),this.addManagedListener(this.params.column,Mt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,G.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},o.prototype.onSortChanged=function(){if(ze(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),ze(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),ze(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&ze(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&ze(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var i=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();ze(this.eSortNone,"ag-hidden",i||!this.params.column.isSortNone())}},o.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var i=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),l=s.indexOf(i),c=s.length>1,h=i.isSorting()&&c;Ct(this.eSortOrder,h),l>=0?this.eSortOrder.innerHTML=(l+1).toString():fi(this.eSortOrder)}},o.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Mt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var i=this.params.column.isFilterActive();ze(this.eFilter,"ag-hidden",!i)},o.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',bo([P("sortController")],o.prototype,"sortController",void 0),bo([P("menuFactory")],o.prototype,"menuFactory",void 0),bo([me("eFilter")],o.prototype,"eFilter",void 0),bo([me("eSortAsc")],o.prototype,"eSortAsc",void 0),bo([me("eSortDesc")],o.prototype,"eSortDesc",void 0),bo([me("eSortNone")],o.prototype,"eSortNone",void 0),bo([me("eSortOrder")],o.prototype,"eSortOrder",void 0),bo([me("eMenu")],o.prototype,"eMenu",void 0),bo([me("eLabel")],o.prototype,"eLabel",void 0),bo([me("eText")],o.prototype,"eText",void 0),o}(vt),$l=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jt=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jf=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return $l(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){this.params=i,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){this.params.template&&Cn(function(){return console.warn("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},o.prototype.setupExpandIcons=function(){var i=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(h){if(!jo(h)){var g=!i.params.columnGroup.isExpanded();i.columnModel.setColumnGroupOpened(i.params.columnGroup.getOriginalColumnGroup(),g,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var l=function(h){Il(h)};this.addManagedListener(this.eCloseIcon,"dblclick",l),this.addManagedListener(this.eOpenIcon,"dblclick",l),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var c=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(c,bn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,bn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(i,s){var l=new Vi(i,!0);this.addManagedListener(l,Vi.EVENT_TAP,s),this.addDestroyFunc(function(){return l.destroy()}),this.addManagedListener(i,"click",s)},o.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();Ct(this.eOpenIcon,s),Ct(this.eCloseIcon,!s)}else Ct(this.eOpenIcon,!1),Ct(this.eCloseIcon,!1)},o.prototype.addInIcon=function(i,s){var l=si(i,this.gridOptionsWrapper,null);l&&this.getRefElement(s).appendChild(l)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Ct(this.eOpenIcon,!1),void Ct(this.eCloseIcon,!1)},o.prototype.setupLabel=function(){var i=this.params.displayName;if(he(i)){var s=oi(i);this.getRefElement("agLabel").innerHTML=s}},o.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Jt([P("columnModel")],o.prototype,"columnModel",void 0),Jt([me("agOpened")],o.prototype,"eOpenIcon",void 0),Jt([me("agClosed")],o.prototype,"eCloseIcon",void 0),o}(vt),Ko=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wo=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ko(o,u),o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(i){Ie(i.getGui(),"ag-has-popup"),u.prototype.setParentComponent.call(this,i)},o.prototype.destroy=function(){var i=this.parentComponent;i&&i.isAlive()&&Kn(i.getGui(),"ag-has-popup"),u.prototype.destroy.call(this)},o}(vt),zl=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Uf=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return zl(o,u),o.prototype.init=function(i){this.params=i,this.focusAfterAttached=i.cellStartedEdit,this.eTextArea.setMaxLength(i.maxLength||200).setCols(i.cols||60).setRows(i.rows||10),he(i.value)&&this.eTextArea.setValue(i.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(i){var s=i.which||i.keyCode;(s===be.LEFT||s===be.UP||s===be.RIGHT||s===be.DOWN||i.shiftKey&&s===be.ENTER)&&i.stopPropagation()},o.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([me("eTextArea")],o.prototype,"eTextArea",void 0),o}(wo),$f=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$a=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},za=function(u){function o(){var i=u.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return i.startedByEnter=!1,i}return $f(o,u),o.prototype.init=function(i){var s=this;if(this.focusAfterAttached=i.cellStartedEdit,je(i.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=i.keyPress===be.ENTER;var l=!1;i.values.forEach(function(c){var h={value:c},g=s.valueFormatterService.formatValue(i.column,null,null,c);h.text=null!=g?g:c,s.eSelect.addOption(h),l=l||i.value===c}),l?this.eSelect.setValue(i.value,!0):i.values.length&&this.eSelect.setValue(i.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return i.stopEditing()})}},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},$a([P("valueFormatterService")],o.prototype,"valueFormatterService",void 0),$a([me("eSelect")],o.prototype,"eSelect",void 0),o}(wo),yE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ee=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return yE(o,u),o.prototype.isPopup=function(){return!0},o}(za),zf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cp=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return zf(o,u),o.prototype.init=function(i){this.params=i;var l,s=this.eInput;i.cellStartedEdit?(this.focusAfterAttached=!0,i.keyPress===be.BACKSPACE||i.keyPress===be.DELETE?l="":i.charPress?l=i.charPress:(l=this.getStartValue(i),i.keyPress!==be.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(i)),null!=l&&s.setValue(l,!0),this.addManagedListener(s.getGui(),"keydown",function(c){var h=c.keyCode;(h===be.PAGE_UP||h===be.PAGE_DOWN)&&c.preventDefault()})},o.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached){Hd()||s.getFocusableElement().focus();var l=s.getInputElement();if(this.highlightAllOnFocus)l.select();else{var c=s.getValue(),h=he(c)&&c.length||0;h&&l.setSelectionRange(h,h)}}},o.prototype.focusIn=function(){var i=this.eInput,s=i.getFocusableElement(),l=i.getInputElement();s.focus(),l.select()},o.prototype.focusOut=function(){var i=this.eInput.getInputElement();zn()&&i.setSelectionRange(0,0)},o.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},o.prototype.getStartValue=function(i){return i.useFormatter||i.column.getColDef().refData?i.formatValue(i.value):i.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([me("eInput")],o.prototype,"eInput",void 0),o}(wo),W_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bE=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return W_(o,u),o.prototype.isPopup=function(){return!0},o}(cp),Nx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qn=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.refreshCount=0,i}return Nx(o,u),o.prototype.init=function(i){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(i)},o.prototype.showDelta=function(i,s){var l=Math.abs(s),c=i.formatValue(l),h=he(c)?c:l,g=s>=0;this.eDelta.innerHTML=g?"\u2191"+h:"\u2193"+h,ze(this.eDelta,"ag-value-change-delta-up",g),ze(this.eDelta,"ag-value-change-delta-down",!g)},o.prototype.setTimerToRemoveDelta=function(){var i=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===i.refreshCount&&i.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){Kn(this.eValue,"ag-value-change-value-highlight"),fi(this.eDelta)},o.prototype.refresh=function(i){var s=i.value;return s!==this.lastValue&&(he(i.valueFormatted)?this.eValue.innerHTML=i.valueFormatted:he(i.value)?this.eValue.innerHTML=s:fi(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(i,s-this.lastValue),this.lastValue&&Ie(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([P("filterManager")],o.prototype,"filterManager",void 0),o}(vt),gu=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wE=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.refreshCount=0,i.eCurrent=i.queryForHtmlElement(".ag-value-slide-current"),i}return gu(o,u),o.prototype.init=function(i){this.refresh(i)},o.prototype.addSlideAnimation=function(){var i=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=qr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===i.refreshCount&&Ie(i.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){s===i.refreshCount&&(i.getGui().removeChild(i.ePrevious),i.ePrevious=null)},3e3)},o.prototype.refresh=function(i){var s=i.value;return je(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,he(i.valueFormatted)?this.eCurrent.innerHTML=i.valueFormatted:he(i.value)?this.eCurrent.innerHTML=s:fi(this.eCurrent),!0)},o.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([P("filterManager")],o.prototype,"filterManager",void 0),o}(vt);!function(u){u[u.Above=0]="Above",u[u.Below=1]="Below"}(W.oh5||(W.oh5={}));var wt=function(){function u(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=o}return u.prototype.setData=function(o){this.setDataCommon(o,!1)},u.prototype.updateData=function(o){this.setDataCommon(o,!0)},u.prototype.setDataCommon=function(o,i){var s=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var l=this.createDataChangedEvent(o,s,i);this.dispatchLocalEvent(l)},u.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},u.prototype.createDataChangedEvent=function(o,i,s){return{type:u.EVENT_DATA_CHANGED,node:this,oldData:i,newData:o,update:s}},u.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},u.prototype.getRowIndexString=function(){return this.rowPinned===q.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===q.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},u.prototype.createDaemonNode=function(){var o=new u(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},u.prototype.setDataAndId=function(o,i){var s=he(this.id)?this.createDaemonNode():null,l=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var c=this.createDataChangedEvent(o,l,!1);this.dispatchLocalEvent(c)},u.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!o||o(this))},u.prototype.setRowSelectable=function(o){this.selectable!==o&&(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_SELECTABLE_CHANGED)))},u.prototype.setId=function(o){var i=this.beans.gridOptionsWrapper.getRowNodeIdFunc();i?this.data?(this.id=i(this.data),this.id&&"string"==typeof this.id&&o_(this.id,u.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row ID's cannot start with "+u.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id&&"string"!=typeof this.id&&(this.id=""+this.id)):this.id=void 0:this.id=o},u.prototype.isPixelInRange=function(o){return!(!he(this.rowTop)||!he(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight},u.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_FIRST_CHILD_CHANGED)))},u.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_LAST_CHILD_CHANGED)))},u.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_CHILD_INDEX_CHANGED)))},u.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))},u.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},u.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DISPLAYED_CHANGED)))},u.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DRAGGING_CHANGED)))},u.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HIGHLIGHT_CHANGED)))},u.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},u.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_MASTER_CHANGED)))},u.prototype.setRowHeight=function(o,i){void 0===i&&(i=!1),this.rowHeight=o,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HEIGHT_CHANGED))},u.prototype.setRowAutoHeight=function(o,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=fs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},u.prototype.checkAutoHeights=function(){var o=!1,i=!0,s=0,l=this.__autoHeights;if(null!=l&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(g){var _=l[g.getId()];null!=_?(i=!1,_>s&&(s=_)):o=!0}),!o&&((i||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight))){this.setRowHeight(s);var h=this.beans.rowModel;h.onRowHeightChanged&&h.onRowHeightChanged()}},u.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ROW_INDEX_CHANGED)))},u.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_UI_LEVEL_CHANGED)))},u.prototype.setExpanded=function(o){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_EXPANDED_CHANGED));var i=Cr({},this.createGlobalRowEvent(G.EVENT_ROW_GROUP_OPENED),{expanded:o});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},u.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},u.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},u.prototype.setDataValue=function(o,i,s){var l=this.beans.columnModel.getPrimaryColumn(o),c=this.beans.valueService.getValue(l,this);this.beans.valueService.setValue(this,l,i,s),this.dispatchCellChangedEvent(l,i,c)},u.prototype.setGroupValue=function(o,i){var s=this.beans.columnModel.getGridColumn(o);je(this.groupData)&&(this.groupData={});var l=s.getColId(),c=this.groupData[l];c!==i&&(this.groupData[l]=i,this.dispatchCellChangedEvent(s,i,c))},u.prototype.setAggData=function(o){var i=this,s=TS([this.aggData,o]),l=this.aggData;this.aggData=o,this.eventService&&s.forEach(function(c){var h=i.beans.columnModel.getGridColumn(c);i.dispatchCellChangedEvent(h,i.aggData?i.aggData[c]:void 0,l?l[c]:void 0)})},u.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HAS_CHILDREN_CHANGED)))},u.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},u.prototype.isEmptyRowGroupNode=function(){return this.group&&Fi(this.childrenAfterGroup)},u.prototype.dispatchCellChangedEvent=function(o,i,s){this.dispatchLocalEvent({type:u.EVENT_CELL_CHANGED,node:this,column:o,newValue:i,oldValue:s})},u.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},u.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},u.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},u.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(i){return i.depthFirstSearch(o)}),o(this)},u.prototype.calculateSelectedFromChildren=function(){var o=!1,i=!1,s=!1;if(this.childrenAfterGroup)for(var c=0;c<this.childrenAfterGroup.length;c++){var h=this.childrenAfterGroup[c];if(h.selectable)switch(h.isSelected()){case!0:o=!0;break;case!1:i=!0;break;default:s=!0}}this.selectThisNode(s?void 0:!(!o||i)||!(!o&&i)&&void 0)},u.prototype.setSelectedInitialValue=function(o){this.selected=o},u.prototype.setSelected=function(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:o,clearSelection:i,suppressFinishActions:s,rangeSelect:!1})},u.prototype.isRowPinned=function(){return this.rowPinned===q.PINNED_TOP||this.rowPinned===q.PINNED_BOTTOM},u.prototype.setSelectedParams=function(o){var i=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),s=!0===o.newValue,l=!0===o.clearSelection,c=!0===o.suppressFinishActions,h=!0===o.rangeSelect,g=i&&!0===o.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if(h&&this.beans.selectionService.getLastSelectedNode()){var _=this.beans.selectionService.getLastSelectedNode()!==this,y=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(_&&y){var w=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),w}}var x=0;return g&&this.group||this.selectThisNode(s)&&x++,i&&this.group&&(x+=this.selectChildNodes(s,g)),c||(s&&(l||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(x+=this.beans.selectionService.clearOtherNodes(this)),x>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:G.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),s&&this.beans.selectionService.setLastSelectedNode(this)),x},u.prototype.doRowRangeSelection=function(o){var i=this;void 0===o&&(o=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,l),h=0;return c.forEach(function(_){_.group&&s||!1===o&&i===_||_.selectThisNode(o)&&h++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:G.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),h},u.prototype.isParentOfNode=function(o){for(var i=this.parent;i;){if(i===o)return!0;i=i.parent}return!1},u.prototype.selectThisNode=function(o){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_ROW_SELECTED));var l=this.createGlobalRowEvent(G.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(l),!0},u.prototype.selectChildNodes=function(o,i){var s=i?this.childrenAfterFilter:this.childrenAfterGroup;if(je(s))return 0;for(var l=0,c=0;c<s.length;c++)l+=s[c].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i});return l},u.prototype.addEventListener=function(o,i){this.eventService||(this.eventService=new gs),this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){!this.eventService||(this.eventService.removeEventListener(o,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},u.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_ENTER))},u.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_LEAVE))},u.prototype.getFirstChildOfFirstChild=function(o){for(var i=this,s=!0,l=!1,c=null;s&&!l;){var h=i.parent;he(h)&&i.firstChild?h.rowGroupColumn===o&&(l=!0,c=h):s=!1,i=h}return l?c:null},u.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!o&&o(this)},u.prototype.getRoute=function(){if(null!=this.key){for(var o=[],i=this;null!=i.key;)o.push(i.key),i=i.parent;return o.reverse()}},u.ID_PREFIX_ROW_GROUP="row-group-",u.ID_PREFIX_TOP_PINNED="t-",u.ID_PREFIX_BOTTOM_PINNED="b-",u.OBJECT_ID_SEQUENCE=0,u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_DATA_CHANGED="dataChanged",u.EVENT_CELL_CHANGED="cellChanged",u.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",u.EVENT_MASTER_CHANGED="masterChanged",u.EVENT_MOUSE_ENTER="mouseEnter",u.EVENT_MOUSE_LEAVE="mouseLeave",u.EVENT_HEIGHT_CHANGED="heightChanged",u.EVENT_TOP_CHANGED="topChanged",u.EVENT_DISPLAYED_CHANGED="displayedChanged",u.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",u.EVENT_LAST_CHILD_CHANGED="lastChildChanged",u.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",u.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",u.EVENT_SELECTABLE_CHANGED="selectableChanged",u.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",u.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",u.EVENT_DRAGGING_CHANGED="draggingChanged",u}(),Jr=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),So=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},up=function(u){function o(){return u.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Jr(o,u),o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),l=void 0===s?i("ariaIndeterminate","indeterminate"):!0===s?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),c=i("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(c+" ("+l+")")},o.prototype.onCheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},o.prototype.onUncheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},o.prototype.init=function(i){var s=this;if(this.rowNode=i.rowNode,this.column=i.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(g){return Il(g)}),this.addGuiEventListener("dblclick",function(g){return Il(g)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(g){var _=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()?0===s.onUncheckedClicked(g||{})&&s.onCheckedClicked(g):_?s.onCheckedClicked(g):s.onUncheckedClicked(g||{})}),this.addManagedListener(this.rowNode,wt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var h=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,h),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,h),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,h),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var i=this.rowNode.selectable;i&&this.checkboxCallbackExists()&&(i=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(i)},o.prototype.checkboxCallbackExists=function(){var i=this.column?this.column.getColDef():null;return!!i&&"function"==typeof i.checkboxSelection},So([me("eCheckbox")],o.prototype,"eCheckbox",void 0),So([Se],o.prototype,"postConstruct",null),o}(vt),dp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Eo=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};(function(u){u[u.ToolPanel=0]="ToolPanel",u[u.HeaderCell=1]="HeaderCell",u[u.RowDrag=2]="RowDrag",u[u.ChartPanel=3]="ChartPanel"})(W.rvo||(W.rvo={})),function(u){u[u.Up=0]="Up",u[u.Down=1]="Down"}(W.HO_||(W.HO_={})),function(u){u[u.Left=0]="Left",u[u.Right=1]="Right"}(W.poj||(W.poj={}));var Bi=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var i;return dp(o,u),i=o,o.prototype.init=function(){this.ePinnedIcon=wn("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=wn("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=wn("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=wn("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=wn("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=wn("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=wn("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=wn("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=wn("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(s,l){void 0===l&&(l=!1);var c={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:s}),this.dragService.addDragSource(c,l)},o.prototype.removeDragSource=function(s){var l=Ni(this.dragSourceAndParamsList,function(c){return c.dragSource===s});l&&(this.dragService.removeDragSource(l.params),ii(this.dragSourceAndParamsList,l))},o.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(l){return s.dragService.removeDragSource(l.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(s,l){this.dragging=!0,this.dragSource=s,this.eventLastTime=l,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var l=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(l)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(s,l){var c=this,h=this.getHorizontalDirection(s),g=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var _=this.dropTargets.filter(function(k){return c.isMouseOnDropTarget(s,k)}),y=_.length,w=null;if(y>0&&(w=1===y?_[0]:_.reduce(function(k,B){if(!k)return B;var j=k.getContainer(),ee=B.getContainer();return j.contains(ee)?B:k})),w!==this.lastDropTarget)this.leaveLastTargetIfExists(s,h,g,l),this.enterDragTargetIfExists(w,s,h,g,l),this.lastDropTarget=w;else if(w&&w.onDragging){var x=this.createDropTargetEvent(w,s,h,g,l);w.onDragging(x)}},o.prototype.enterDragTargetIfExists=function(s,l,c,h,g){if(s){if(s.onDragEnter){var _=this.createDropTargetEvent(s,l,c,h,g);s.onDragEnter(_)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(s,l,c,h){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var g=this.createDropTargetEvent(this.lastDropTarget,s,l,c,h);this.lastDropTarget.onDragLeave(g)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(s){var l=s.getSecondaryContainers?s.getSecondaryContainers():null,c=[[s.getContainer()]];return l?c.concat(l):c},o.prototype.allContainersIntersect=function(s,l){for(var c=0,h=l;c<h.length;c++){var _=h[c].getBoundingClientRect();if(0===_.width||0===_.height)return!1;if(!(s.clientX>=_.left&&s.clientX<_.right&&s.clientY>=_.top&&s.clientY<_.bottom))return!1}return!0},o.prototype.isMouseOnDropTarget=function(s,l){for(var h=!1,g=0,_=this.getAllContainersFromDropTarget(l);g<_.length;g++)if(this.allContainersIntersect(s,_[g])){h=!0;break}return h&&l.isInterestedIn(this.dragSource.type)},o.prototype.addDropTarget=function(s){this.dropTargets.push(s)},o.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(l){return l.getContainer()!==s.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},o.prototype.findExternalZone=function(s){return Ni(this.dropTargets.filter(function(c){return c.external}),function(c){return c.getContainer()===s.getContainer()})},o.prototype.getHorizontalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientX,c=s.clientX;return l===c?null:l>c?W.poj.Left:W.poj.Right},o.prototype.getVerticalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientY,c=s.clientY;return l===c?null:l>c?W.HO_.Up:W.HO_.Down},o.prototype.createDropTargetEvent=function(s,l,c,h,g){var _=s.getContainer(),y=_.getBoundingClientRect(),w=this;return{event:l,x:l.clientX-y.left,y:l.clientY-y.top,vDirection:h,hDirection:c,dragSource:w.dragSource,fromNudge:g,dragItem:w.dragItem,api:w.gridApi,columnApi:w.columnApi,dropZoneTarget:_}},o.prototype.positionGhost=function(s){var l=this.eGhost;if(l){var h=l.getBoundingClientRect().height,g=hi()-2,_=Ei()-2,y=s.pageY-h/2,w=s.pageX-10,x=this.gridOptionsWrapper.getDocument(),k=window.pageYOffset||x.documentElement.scrollTop,B=window.pageXOffset||x.documentElement.scrollLeft;g>0&&w+l.clientWidth>g+B&&(w=g+B-l.clientWidth),w<0&&(w=0),_>0&&y+l.clientHeight>_+k&&(y=_+k-l.clientHeight),y<0&&(y=0),l.style.left=w+"px",l.style.top=y+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=qr(i.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&Ie(this.eGhost,s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var l=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;tu(c)&&(c=c()),l.innerHTML=oi(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var h=this.gridOptionsWrapper.getDocument(),g=h.fullscreenElement||h.querySelector("body");this.eGhostParent=g,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(s,l){void 0===l&&(l=!1),fi(this.eGhostIcon);var c=null;switch(s||(s=this.dragSource.defaultIconName||i.ICON_NOT_ALLOWED),s){case i.ICON_PINNED:c=this.ePinnedIcon;break;case i.ICON_MOVE:c=this.eMoveIcon;break;case i.ICON_LEFT:c=this.eLeftIcon;break;case i.ICON_RIGHT:c=this.eRightIcon;break;case i.ICON_GROUP:c=this.eGroupIcon;break;case i.ICON_AGGREGATE:c=this.eAggregateIcon;break;case i.ICON_PIVOT:c=this.ePivotIcon;break;case i.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case i.ICON_HIDE:c=this.eHideIcon}ze(this.eGhostIcon,"ag-shake-left-to-right",l),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Eo([P("dragService")],o.prototype,"dragService",void 0),Eo([P("environment")],o.prototype,"environment",void 0),Eo([P("columnApi")],o.prototype,"columnApi",void 0),Eo([P("gridApi")],o.prototype,"gridApi",void 0),Eo([Se],o.prototype,"init",null),Eo([di],o.prototype,"clearDragSourceParamsList",null),i=Eo([xe("dragAndDropService")],o)}(ie),pp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Kf=function(u){function o(i,s,l,c,h,g){var _=u.call(this)||this;return _.cellValueFn=i,_.rowNode=s,_.column=l,_.customGui=c,_.dragStartPixels=h,_.suppressVisibilityChange=g,_.dragSource=null,_}return pp(o,u),o.prototype.isCustomGui=function(){return null!=this.customGui},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(si("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var i=this.beans.gridOptionsWrapper.isRowDragManaged()?new xr(this,this.beans,this.rowNode,this.column):new j_(this,this.beans,this.rowNode,this.column);this.createManagedBean(i,this.beans.context)}},o.prototype.setDragElement=function(i,s){this.setTemplateFromElement(i),this.addDragSource(s)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},o.prototype.checkCompatibility=function(){var i=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&i&&Cn(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(i){var s=this;void 0===i&&(i=4),this.dragSource&&this.removeDragSource();var l={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},c=this.column&&this.column.getColDef().rowDragText;this.dragSource={type:W.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var h=s.getSelectedCount();return c?c(l,h):1===h?s.cellValueFn():h+" rows"},getDragItem:function(){return l},dragStartPixels:i,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.addMouseDownListenerIfNeeded(),this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.addMouseDownListenerIfNeeded=function(){var i=this;this.customGui||!this.column||!this.gridOptionsWrapper.isEnableCellTextSelect()||this.addManagedListener(this.getGui(),"mousedown",function(s){s.preventDefault(),i.beans.focusService.setFocusedCell(i.rowNode.rowIndex,i.column,i.rowNode.rowPinned,!0)})},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},vu([P("beans")],o.prototype,"beans",void 0),vu([Se],o.prototype,"postConstruct",null),vu([di],o.prototype,"removeDragSource",null),o}(vt),SE=function(u){function o(i,s,l){var c=u.call(this)||this;return c.parent=i,c.rowNode=s,c.column=l,c}return pp(o,u),o.prototype.setDisplayedOrVisible=function(i){if(i)this.parent.setDisplayed(!1);else{var s=!0,l=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),l=tu(this.column.getColDef().rowDrag)),l?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},o}(ie),j_=function(u){function o(i,s,l,c){var h=u.call(this,i,l,c)||this;return h.beans=s,h}return pp(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var i=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(i)},vu([Se],o.prototype,"postConstruct",null),o}(SE),xr=function(u){function o(i,s,l,c){var h=u.call(this,i,l,c)||this;return h.beans=s,h}return pp(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,G.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,G.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),l=s&&s.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),h=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(l&&!h||c)},vu([Se],o.prototype,"postConstruct",null),o}(SE),Yf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ws=function(){return ws=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},ws.apply(this,arguments)},hp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qf=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Yf(o,u),o.prototype.init=function(i,s,l,c,h,g,_){this.params=_,this.eGui=s,this.eCheckbox=l,this.eExpanded=c,this.eContracted=h,this.comp=i,this.compClass=g;var y=this.isTopLevelFooter(),w=this.isEmbeddedRowMismatch(),x=null==_.value,k=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var B=_.node;B.footer&&(k=(_.colDef&&_.colDef.showRowGroup)!==(B.rowGroupColumn&&B.rowGroupColumn.getColId()))}this.cellIsBlank=!y&&(w||x||k),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var i=this.params.colDef;if(null==i||!0===i.showRowGroup)return!0;var l=this.columnModel.getRowGroupColumns();return!l||0===l.length||l[0].getId()===i.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var i=this.params.pinned===q.PINNED_LEFT,s=this.params.pinned===q.PINNED_RIGHT,l=!i&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!l:this.columnModel.isPinningLeft()?!i:!l},o.prototype.findDisplayedGroupNode=function(){var i=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var l=s.parent;null!=l;){if(l.rowGroupColumn&&i.isRowGroupDisplayed(l.rowGroupColumn.getId())){this.displayedGroupNode=l;break}l=l.parent}je(this.displayedGroupNode)&&(this.displayedGroupNode=s)},o.prototype.setupShowingValueForOpenedParent=function(){var i=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(i.groupData){if(null!=i.rowGroupColumn){var c=i.rowGroupColumn.getId();if(s.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var g=null!=i.groupData[s.getId()];this.showingValueForOpenedParent=g}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var i=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(i),l=i.valueFormatted;this.comp.setInnerRenderer(s,null!=l?l:i.value)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var i=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!i)return this.params;if(null!=s&&!s.isRowGroupDisplayed(i.getId()))return this.params;var h=this.params,g=this.params,x=this.valueFormatterService.formatValue(i,g.node,g.scope,g.value);return ws(ws({},h),{valueFormatted:x})},o.prototype.addFooterValue=function(){var i=this.params.footerValueGetter,s="";if(i){var l=Uv(this.params);l.value=this.params.value,"function"==typeof i?s=i(l):"string"==typeof i?s=this.expressionService.evaluate(i,l):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,s)},o.prototype.getInnerCompDetails=function(i){var s=this;if(i.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,i);var l=this.userComponentFactory.getInnerRendererDetails(i,i),c=function(w){return w&&w.componentClass==s.compClass};if(l&&!c(l))return l;var h=this.displayedGroupNode.rowGroupColumn,g=h?h.getColDef():void 0;if(g){var _=this.userComponentFactory.getCellRendererDetails(g,i);if(_&&!c(_))return _;if(c(_)&&g.cellRendererParams&&g.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(g.cellRendererParams,i)}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var i=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=i&&i>=0?"("+i+")":"")},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var i=this.displayedGroupNode.rowGroupColumn;if(!i)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(i.getId())},o.prototype.addExpandAndContract=function(){var i=this.params,s=si("groupExpanded",this.gridOptionsWrapper,null),l=si("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),l&&this.eContracted.appendChild(l);var c=i.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,wt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var h=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,h),this.addManagedListener(this.displayedGroupNode,wt.EVENT_MASTER_CHANGED,h),this.addManagedListener(this.displayedGroupNode,wt.EVENT_HAS_CHILDREN_CHANGED,h)},o.prototype.onExpandClicked=function(i){jo(i)||(Il(i),this.onExpandOrContract())},o.prototype.onExpandOrContract=function(){var i=this.displayedGroupNode;i.setExpanded(!i.expanded)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var i=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&i.leafGroup;if(!i.isExpandable()||i.footer||s)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},o.prototype.showExpandAndContractIcons=function(){var i=this,l=i.displayedGroupNode,c=i.columnModel,h=i.params.node,g=this.isExpandable();if(g){var _=!!this.showingValueForOpenedParent||h.expanded;this.comp.setExpandedDisplayed(_),this.comp.setContractedDisplayed(!_)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var y=c.isPivotMode(),w=y&&l.leafGroup,x=g&&!w,k=h.footer&&-1===h.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",x),this.comp.addOrRemoveCssClass("ag-row-group",x),y?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",w):k||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!x)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},o.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,wt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var i=this.params,s=i.node,l=!!i.colDef,c=this.gridOptionsWrapper.isTreeData(),g=!l||c||!0===i.colDef.showRowGroup?s.uiLevel:0;i.padding>=0&&Cn(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+g,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var i=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new Kf(function(){return i.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},o.prototype.isUserWantsSelected=function(){var i=this.params.checkbox;return"function"==typeof i?i(this.params):!0===i},o.prototype.addCheckboxIfNeeded=function(){var i=this,s=this.displayedGroupNode,l=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(l){var c=new up;this.getContext().createBean(c),c.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return i.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(l)},o.prototype.onKeyDown=function(i){qd(i,be.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},o.prototype.onCellDblClicked=function(i){jo(i)||Ml(this.eExpanded,i)||Ml(this.eContracted,i)||this.onExpandOrContract()},hp([P("expressionService")],o.prototype,"expressionService",void 0),hp([P("valueFormatterService")],o.prototype,"valueFormatterService",void 0),hp([P("columnModel")],o.prototype,"columnModel",void 0),hp([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),hp([P("gridOptions")],o.prototype,"gridOptions",void 0),o}(ie),EE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Qf=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return EE(o,u),o.prototype.init=function(i){var s=this,l={setInnerRenderer:function(_,y){return s.setRenderDetails(_,y)},setChildCount:function(_){return s.eChildCount.innerHTML=_},addOrRemoveCssClass:function(_,y){return s.addOrRemoveCssClass(_,y)},setContractedDisplayed:function(_){return Ct(s.eContracted,_)},setExpandedDisplayed:function(_){return Ct(s.eExpanded,_)},setCheckboxVisible:function(_){return ze(s.eCheckbox,"ag-invisible",!_)}},c=this.createManagedBean(new qf),h=!i.colDef,g=this.getGui();c.init(l,g,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,i),h&&ur(g,"gridcell")},o.prototype.setRenderDetails=function(i,s){var l=this;if(i){var c=i.newAgStackInstance();if(!c)return;c.then(function(h){if(h){var g=function(){return l.context.destroyBean(h)};l.isAlive()?(l.eValue.appendChild(h.getGui()),l.addDestroyFunc(g)):g()}})}else this.eValue.innerText=s},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),u.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Yl([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Yl([me("eExpanded")],o.prototype,"eExpanded",void 0),Yl([me("eContracted")],o.prototype,"eContracted",void 0),Yl([me("eCheckbox")],o.prototype,"eCheckbox",void 0),Yl([me("eValue")],o.prototype,"eValue",void 0),Yl([me("eChildCount")],o.prototype,"eChildCount",void 0),o}(vt),DE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),U_=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},$_=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return DE(o,u),o.prototype.init=function(i){i.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},o.prototype.setupLoading=function(){var i=si("groupLoading",this.gridOptionsWrapper,null);i&&this.eLoadingIcon.appendChild(i);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},o.prototype.refresh=function(i){return!1},o.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',U_([me("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),U_([me("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(vt),Jf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),fp=function(u){function o(){return u.call(this)||this}return Jf(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[LOADING...]",l("loadingOoo","Loading..."));this.setTemplate(c)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(vt),Gx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_u=function(u){function o(){return u.call(this)||this}return Gx(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[NO_ROWS_TO_SHOW]",l("noRowsToShow","No Rows To Show"));this.setTemplate(c)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(vt),Xf=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gp=function(u){function o(){return u.call(this,'<div class="ag-tooltip"></div>')||this}return Xf(o,u),o.prototype.init=function(i){var s=i.value;this.getGui().innerHTML=oi(s)},o}(wo),TE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zf=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},z_=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.agGridDefaults={agDateInput:gE,agColumnHeader:B_,agColumnGroupHeader:jf,agTextColumnFloatingFilter:hu,agNumberColumnFloatingFilter:mE,agDateColumnFloatingFilter:k_,agReadOnlyFloatingFilter:I_,agAnimateShowChangeCellRenderer:Qn,agAnimateSlideCellRenderer:wE,agGroupCellRenderer:Qf,agGroupRowRenderer:Qf,agLoadingCellRenderer:$_,agCellEditor:cp,agTextCellEditor:cp,agSelectCellEditor:za,agPopupTextCellEditor:bE,agPopupSelectCellEditor:Ee,agLargeTextCellEditor:Uf,agTextColumnFilter:ap,agNumberColumnFilter:pu,agDateColumnFilter:Bf,agLoadingOverlay:fp,agNoRowsOverlay:_u,agTooltipComponent:gp},i.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},i.jsComponents={},i.frameworkComponents={},i}return TE(o,u),o.prototype.init=function(){var i=this;null!=this.gridOptions.components&&It(this.gridOptions.components,function(s,l){return i.registerComponent(s,l)}),null!=this.gridOptions.frameworkComponents&&It(this.gridOptions.frameworkComponents,function(s,l){return i.registerFwComponent(s,l)})},o.prototype.registerDefaultComponent=function(i,s){var l=this.translateIfDeprecated(i);this.agGridDefaults[l]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[l]=s},o.prototype.registerComponent=function(i,s){var l=this.translateIfDeprecated(i);this.frameworkComponents[l]?console.error("Trying to register a component that you have already registered for frameworks: "+l):this.jsComponents[l]=s},o.prototype.registerFwComponent=function(i,s){var l=this.translateIfDeprecated(i);this.jsComponents[l]?console.error("Trying to register a component that you have already registered for plain javascript: "+l):this.frameworkComponents[l]=s},o.prototype.retrieve=function(i){var s=this.translateIfDeprecated(i),l=this.frameworkComponents[s]||this.getFrameworkOverrides().frameworkComponent(s);if(l)return{componentFromFramework:!0,component:l};var c=this.jsComponents[s];if(c)return{componentFromFramework:!1,component:c};var h=this.agGridDefaults[s];return h?{componentFromFramework:!1,component:h}:(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(i){var s=this.agDeprecatedNames[i];return null!=s?(Cn(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+i+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+i),s.newComponentName):i},Zf([P("gridOptions")],o.prototype,"gridOptions",void 0),Zf([Se],o.prototype,"init",null),Zf([xe("userComponentRegistry")],o)}(ie),K_={propertyName:"dateComponent",isCellRenderer:function(){return!1}},RE={propertyName:"headerComponent",isCellRenderer:function(){return!1}},yu={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},eg={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},AE={propertyName:"cellEditor",isCellRenderer:function(){return!1}},K={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Y_={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},mp={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},tg={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},Cu={propertyName:"filter",isCellRenderer:function(){return!1}},OE={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},xE={propertyName:"toolPanel",isCellRenderer:function(){return!1}},IE={propertyName:"statusPanel",isCellRenderer:function(){return!1}},vp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ti=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ng=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vp(o,u),o.prototype.getHeaderCompDetails=function(i,s){return this.getCompDetails(i,RE,"agColumnHeader",s)},o.prototype.getHeaderGroupCompDetails=function(i){var s=i.columnGroup.getColGroupDef();return this.getCompDetails(s,yu,"agColumnGroupHeader",i)},o.prototype.getFullWidthCellRendererDetails=function(i,s,l){return this.getCompDetails(this.gridOptions,{propertyName:s,isCellRenderer:function(){return!0}},l,i)},o.prototype.getInnerRendererDetails=function(i,s){return this.getCompDetails(i,K,null,s)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(i,s){return this.getCompDetails(i,K,null,s)},o.prototype.getCellRendererDetails=function(i,s){return this.getCompDetails(i,eg,null,s)},o.prototype.getCellEditorDetails=function(i,s){return this.getCompDetails(i,AE,"agCellEditor",s,!0)},o.prototype.getFilterDetails=function(i,s,l){return this.getCompDetails(i,Cu,l,s,!0)},o.prototype.getDateCompDetails=function(i){return this.getCompDetails(this.gridOptions,K_,"agDateInput",i,!0)},o.prototype.getLoadingOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,Y_,"agLoadingOverlay",i,!0)},o.prototype.getNoRowsOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,mp,"agNoRowsOverlay",i,!0)},o.prototype.getTooltipCompDetails=function(i){return this.getCompDetails(i.colDef,tg,"agTooltipComponent",i,!0)},o.prototype.getSetFilterCellRendererDetails=function(i,s){return this.getCompDetails(i,eg,null,s)},o.prototype.getFloatingFilterCompDetails=function(i,s,l){return this.getCompDetails(i,OE,l,s)},o.prototype.getToolPanelCompDetails=function(i,s){return this.getCompDetails(i,xE,null,s,!0)},o.prototype.getStatusPanelCompDetails=function(i,s){return this.getCompDetails(i,IE,null,s,!0)},o.prototype.getCompDetails=function(i,s,l,c,h){var g=this;void 0===h&&(h=!1);var y,w,x,_=s.propertyName;if(i){var k=i,B=k[_+"Selector"],j=B?B(c):null;j?(y=j.component,w=j.frameworkComponent,x=j.params):(y=k[_],w=k[_+"Framework"]),!0===y&&(y=void 0)}var ee=function(We){var Dt=g.userComponentRegistry.retrieve(We);Dt?(y=Dt.componentFromFramework?void 0:Dt.component,w=Dt.componentFromFramework?Dt.component:void 0):(y=void 0,w=void 0)};if("string"==typeof y&&ee(y),null==y&&null==w&&null!=l&&ee(l),y&&!this.agComponentUtils.doesImplementIComponent(y)&&(y=this.agComponentUtils.adaptFunction(_,y)),y||w){var ge=this.mergeParamsWithApplicationProvidedParams(i,_,c,x),de=null==y,Te=y||w;return{componentFromFramework:de,componentClass:Te,params:ge,type:s,newAgStackInstance:function(We){return g.newAgStackInstance(Te,de,ge,s,We)}}}h&&console.error("Could not find component "+((i?i[_]:l)||l)+", did you forget to configure this component?")},o.prototype.newAgStackInstance=function(i,s,l,c,h){var _;if(s){var w=this.componentMetadataProvider.retrieve(c.propertyName);_=this.frameworkComponentWrapper.wrap(i,w.mandatoryMethodList,w.optionalMethodList,c,h)}else _=new i;var x=this.initComponent(_,l);return null==x?Or.resolve(_):x.then(function(){return _})},o.prototype.mergeParamsWithApplicationProvidedParams=function(i,s,l,c){void 0===c&&(c=null);var h={};ho(h,l);var g=i?i[s+"Params"]:null;return null!=g&&("function"==typeof g?ho(h,g(l)):"object"==typeof g&&ho(h,g)),ho(h,c),h},o.prototype.initComponent=function(i,s){if(this.context.createBean(i),null!=i.init)return i.init(s)},Ti([P("gridOptions")],o.prototype,"gridOptions",void 0),Ti([P("agComponentUtils")],o.prototype,"agComponentUtils",void 0),Ti([P("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),Ti([P("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),Ti([mt("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),Ti([xe("userComponentFactory")],o)}(ie),sa=function(){function u(){}return u.parse=function(o){if(!o)return null;if(!0===o)return{toolPanels:[u.DEFAULT_COLUMN_COMP,u.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof o)return u.parse([o]);if(Array.isArray(o)){var i=[];return o.forEach(function(l){var c=u.DEFAULT_BY_KEY[l];c?i.push(c):console.warn("ag-grid: the key "+l+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","))}),0===i.length?null:{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:u.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position}},u.parseComponents=function(o){var i=[];return o&&o.forEach(function(s){var l=null;if("string"==typeof s){var c=u.DEFAULT_BY_KEY[s];if(!c)return void console.warn("ag-grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","));l=c}else l=s;i.push(l)}),i},u.DEFAULT_BY_KEY={columns:u.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:u.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},u}(),Ka=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ig=function(u,o){return function(i,s){o(i,s,u)}},bu=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s};function ae(u){return!0===u||"true"===u}function Q_(u){return"number"==typeof u?u:"string"==typeof u?parseInt(u,10):void 0}function rg(u,o){var i=parseInt(u,10);return _f(i)&&i>0?i:o}var Pe=function(){function u(){this.propertyEventService=new gs,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var o;return o=u,u.prototype.agWire=function(i,s){this.gridOptions.api=i,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},u.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},u.prototype.init=function(){var i=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=sa.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var l=function(h){return"AG Grid: '"+h+"' is not supported on the Server-Side Row Model"};he(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupDefaultExpanded")),he(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeFooter")),he(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&tt.assertRegistered(W.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var c=function(h){i.gridOptions.icons&&i.gridOptions.icons[h]&&console.warn("gridOptions.icons."+h+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},u.prototype.checkColumnDefProperties=function(){var i=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var l=Object.getOwnPropertyNames(s),c=bu(Sf.ALL_PROPERTIES,Sf.FRAMEWORK_PROPERTIES);i.checkProperties(l,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},u.prototype.checkGridOptionsProperties=function(){var i=Object.getOwnPropertyNames(this.gridOptions),s=bu(go.ALL_PROPERTIES,go.FRAMEWORK_PROPERTIES,xa(G).map(function(c){return Mn.getCallbackForEvent(c)})),l=bu(s,["api","columnApi"]);this.checkProperties(i,l,s,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},u.prototype.checkProperties=function(i,s,l,c,h){var g=D_(i,s,l);It(g,function(_,y){console.warn("ag-grid: invalid "+c+" property '"+_+"' did you mean any of these: "+y.slice(0,8).join(", "))}),Object.keys(g).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+h)},u.prototype.getDomDataKey=function(){return this.domDataKey},u.prototype.getDomData=function(i,s){var l=i[this.getDomDataKey()];return l?l[s]:void 0},u.prototype.setDomData=function(i,s,l){var c=this.getDomDataKey(),h=i[c];je(h)&&(i[c]=h={}),h[s]=l},u.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},u.prototype.isSuppressRowDeselection=function(){return ae(this.gridOptions.suppressRowDeselection)},u.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},u.prototype.isRowMultiSelectWithClick=function(){return ae(this.gridOptions.rowMultiSelectWithClick)},u.prototype.getContext=function(){return this.gridOptions.context},u.prototype.isPivotMode=function(){return ae(this.gridOptions.pivotMode)},u.prototype.isSuppressExpandablePivotGroups=function(){return ae(this.gridOptions.suppressExpandablePivotGroups)},u.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},u.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},u.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_INFINITE},u.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_VIEWPORT},u.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_SERVER_SIDE},u.prototype.isRowModelDefault=function(){return je(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_CLIENT_SIDE},u.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},u.prototype.isSuppressFocusAfterRefresh=function(){return ae(this.gridOptions.suppressFocusAfterRefresh)},u.prototype.isSuppressBrowserResizeObserver=function(){return ae(this.gridOptions.suppressBrowserResizeObserver)},u.prototype.isSuppressMaintainUnsortedOrder=function(){return ae(this.gridOptions.suppressMaintainUnsortedOrder)},u.prototype.isSuppressClearOnFillReduction=function(){return ae(this.gridOptions.suppressClearOnFillReduction)},u.prototype.isShowToolPanel=function(){return ae(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},u.prototype.getSideBar=function(){return this.gridOptions.sideBar},u.prototype.isSuppressTouch=function(){return ae(this.gridOptions.suppressTouch)},u.prototype.isMaintainColumnOrder=function(){return ae(this.gridOptions.maintainColumnOrder)},u.prototype.isSuppressRowTransform=function(){return ae(this.gridOptions.suppressRowTransform)},u.prototype.isSuppressColumnStateEvents=function(){return ae(this.gridOptions.suppressColumnStateEvents)},u.prototype.isAllowDragFromColumnsToolPanel=function(){return ae(this.gridOptions.allowDragFromColumnsToolPanel)},u.prototype.useAsyncEvents=function(){return!ae(this.gridOptions.suppressAsyncEvents)},u.prototype.isEnableCellChangeFlash=function(){return ae(this.gridOptions.enableCellChangeFlash)},u.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},u.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},u.prototype.isGroupSelectsChildren=function(){var i=ae(this.gridOptions.groupSelectsChildren);return i&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):i},u.prototype.isSuppressRowHoverHighlight=function(){return ae(this.gridOptions.suppressRowHoverHighlight)},u.prototype.isColumnHoverHighlight=function(){return ae(this.gridOptions.columnHoverHighlight)},u.prototype.isGroupSelectsFiltered=function(){return ae(this.gridOptions.groupSelectsFiltered)},u.prototype.isGroupHideOpenParents=function(){return ae(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupMaintainOrder=function(){return ae(this.gridOptions.groupMaintainOrder)},u.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},u.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ae(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupUseEntireRow=function(i){return!i&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},u.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},u.prototype.isGroupRemoveSingleChildren=function(){return ae(this.gridOptions.groupRemoveSingleChildren)},u.prototype.isGroupRemoveLowestSingleChildren=function(){return ae(this.gridOptions.groupRemoveLowestSingleChildren)},u.prototype.isGroupIncludeFooter=function(){return ae(this.gridOptions.groupIncludeFooter)},u.prototype.isGroupIncludeTotalFooter=function(){return ae(this.gridOptions.groupIncludeTotalFooter)},u.prototype.isGroupSuppressBlankHeader=function(){return ae(this.gridOptions.groupSuppressBlankHeader)},u.prototype.isSuppressRowClickSelection=function(){return ae(this.gridOptions.suppressRowClickSelection)},u.prototype.isSuppressCellSelection=function(){return ae(this.gridOptions.suppressCellSelection)},u.prototype.isSuppressMultiSort=function(){return ae(this.gridOptions.suppressMultiSort)},u.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},u.prototype.isPivotSuppressAutoColumn=function(){return ae(this.gridOptions.pivotSuppressAutoColumn)},u.prototype.isSuppressDragLeaveHidesColumns=function(){return ae(this.gridOptions.suppressDragLeaveHidesColumns)},u.prototype.isSuppressScrollOnNewData=function(){return ae(this.gridOptions.suppressScrollOnNewData)},u.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ae(this.gridOptions.suppressScrollWhenPopupsAreOpen)},u.prototype.isRowDragEntireRow=function(){return ae(this.gridOptions.rowDragEntireRow)},u.prototype.isSuppressRowDrag=function(){return ae(this.gridOptions.suppressRowDrag)},u.prototype.isRowDragManaged=function(){return ae(this.gridOptions.rowDragManaged)},u.prototype.isSuppressMoveWhenRowDragging=function(){return ae(this.gridOptions.suppressMoveWhenRowDragging)},u.prototype.isRowDragMultiRow=function(){return ae(this.gridOptions.rowDragMultiRow)},u.prototype.getDomLayout=function(){var i=this.gridOptions.domLayout||q.DOM_LAYOUT_NORMAL;return-1===[q.DOM_LAYOUT_PRINT,q.DOM_LAYOUT_AUTO_HEIGHT,q.DOM_LAYOUT_NORMAL].indexOf(i)?(Cn(function(){return console.warn("AG Grid: "+i+" is not valid for DOM Layout, valid values are "+q.DOM_LAYOUT_NORMAL+", "+q.DOM_LAYOUT_AUTO_HEIGHT+" and "+q.DOM_LAYOUT_PRINT)},"warn about dom layout values"),q.DOM_LAYOUT_NORMAL):i},u.prototype.isSuppressHorizontalScroll=function(){return ae(this.gridOptions.suppressHorizontalScroll)},u.prototype.isSuppressMaxRenderedRowRestriction=function(){return ae(this.gridOptions.suppressMaxRenderedRowRestriction)},u.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ae(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},u.prototype.isAlwaysShowHorizontalScroll=function(){return ae(this.gridOptions.alwaysShowHorizontalScroll)},u.prototype.isAlwaysShowVerticalScroll=function(){return ae(this.gridOptions.alwaysShowVerticalScroll)},u.prototype.isDebounceVerticalScrollbar=function(){return ae(this.gridOptions.debounceVerticalScrollbar)},u.prototype.isSuppressLoadingOverlay=function(){return ae(this.gridOptions.suppressLoadingOverlay)},u.prototype.isSuppressNoRowsOverlay=function(){return ae(this.gridOptions.suppressNoRowsOverlay)},u.prototype.isSuppressFieldDotNotation=function(){return ae(this.gridOptions.suppressFieldDotNotation)},u.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},u.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},u.prototype.isFunctionsPassive=function(){return ae(this.gridOptions.functionsPassive)},u.prototype.isSuppressChangeDetection=function(){return ae(this.gridOptions.suppressChangeDetection)},u.prototype.isSuppressAnimationFrame=function(){return ae(this.gridOptions.suppressAnimationFrame)},u.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},u.prototype.isCacheQuickFilter=function(){return ae(this.gridOptions.cacheQuickFilter)},u.prototype.isUnSortIcon=function(){return ae(this.gridOptions.unSortIcon)},u.prototype.isSuppressMenuHide=function(){return ae(this.gridOptions.suppressMenuHide)},u.prototype.isEnterMovesDownAfterEdit=function(){return ae(this.gridOptions.enterMovesDownAfterEdit)},u.prototype.isEnterMovesDown=function(){return ae(this.gridOptions.enterMovesDown)},u.prototype.isUndoRedoCellEditing=function(){return ae(this.gridOptions.undoRedoCellEditing)},u.prototype.getUndoRedoCellEditingLimit=function(){return Q_(this.gridOptions.undoRedoCellEditingLimit)},u.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},u.prototype.getRowClass=function(){return this.gridOptions.rowClass},u.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},u.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},u.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},u.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},u.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},u.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},u.prototype.getPopupParent=function(){return this.gridOptions.popupParent},u.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},u.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},u.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},u.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},u.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},u.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},u.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},u.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},u.prototype.isEmbedFullWidthRows=function(){return ae(this.gridOptions.embedFullWidthRows)||ae(this.gridOptions.deprecatedEmbedFullWidthRows)},u.prototype.isDetailRowAutoHeight=function(){return ae(this.gridOptions.detailRowAutoHeight)},u.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},u.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},u.prototype.getApi=function(){return this.gridOptions.api},u.prototype.getColumnApi=function(){return this.gridOptions.columnApi},u.prototype.isImmutableData=function(){return ae(this.gridOptions.immutableData)},u.prototype.isEnsureDomOrder=function(){return ae(this.gridOptions.ensureDomOrder)},u.prototype.isEnableCharts=function(){return!!ae(this.gridOptions.enableCharts)&&tt.assertRegistered(W.GXE.GridChartsModule,"enableCharts")},u.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},u.prototype.isSingleClickEdit=function(){return ae(this.gridOptions.singleClickEdit)},u.prototype.isSuppressClickEdit=function(){return ae(this.gridOptions.suppressClickEdit)},u.prototype.isStopEditingWhenCellsLoseFocus=function(){return ae(this.gridOptions.stopEditingWhenCellsLoseFocus)},u.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},u.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},u.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},u.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},u.prototype.getPaginationPageSize=function(){return Q_(this.gridOptions.paginationPageSize)},u.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ae(this.gridOptions.paginateChildRows)},u.prototype.getCacheBlockSize=function(){return rg(this.gridOptions.cacheBlockSize)},u.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},u.prototype.isPurgeClosedRowNodes=function(){return ae(this.gridOptions.purgeClosedRowNodes)},u.prototype.isSuppressPaginationPanel=function(){return ae(this.gridOptions.suppressPaginationPanel)},u.prototype.getRowData=function(){return this.gridOptions.rowData},u.prototype.isEnableRtl=function(){return ae(this.gridOptions.enableRtl)},u.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},u.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},u.prototype.isAngularCompileRows=function(){return ae(this.gridOptions.angularCompileRows)},u.prototype.isAngularCompileFilters=function(){return ae(this.gridOptions.angularCompileFilters)},u.prototype.isDebug=function(){return ae(this.gridOptions.debug)},u.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},u.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},u.prototype.getDatasource=function(){return this.gridOptions.datasource},u.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},u.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},u.prototype.isAccentedSort=function(){return ae(this.gridOptions.accentedSort)},u.prototype.isEnableBrowserTooltips=function(){return ae(this.gridOptions.enableBrowserTooltips)},u.prototype.isEnableCellExpressions=function(){return ae(this.gridOptions.enableCellExpressions)},u.prototype.isEnableGroupEdit=function(){return ae(this.gridOptions.enableGroupEdit)},u.prototype.isSuppressMiddleClickScrolls=function(){return ae(this.gridOptions.suppressMiddleClickScrolls)},u.prototype.isPreventDefaultOnContextMenu=function(){return ae(this.gridOptions.preventDefaultOnContextMenu)},u.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ae(this.gridOptions.suppressPreventDefaultOnMouseWheel)},u.prototype.isSuppressColumnVirtualisation=function(){return ae(this.gridOptions.suppressColumnVirtualisation)},u.prototype.isSuppressContextMenu=function(){return ae(this.gridOptions.suppressContextMenu)},u.prototype.isAllowContextMenuWithControlKey=function(){return ae(this.gridOptions.allowContextMenuWithControlKey)},u.prototype.isSuppressCopyRowsToClipboard=function(){return ae(this.gridOptions.suppressCopyRowsToClipboard)},u.prototype.isCopyHeadersToClipboard=function(){return ae(this.gridOptions.copyHeadersToClipboard)},u.prototype.isSuppressClipboardPaste=function(){return ae(this.gridOptions.suppressClipboardPaste)},u.prototype.isSuppressLastEmptyLineOnPaste=function(){return ae(this.gridOptions.suppressLastEmptyLineOnPaste)},u.prototype.isPagination=function(){return ae(this.gridOptions.pagination)},u.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ae(this.gridOptions.suppressEnterpriseResetOnNewColumns)},u.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},u.prototype.getAsyncTransactionWaitMillis=function(){return he(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:q.BATCH_WAIT_MILLIS},u.prototype.isSuppressMovableColumns=function(){return ae(this.gridOptions.suppressMovableColumns)},u.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ae(this.gridOptions.animateRows)},u.prototype.isSuppressColumnMoveAnimation=function(){return ae(this.gridOptions.suppressColumnMoveAnimation)},u.prototype.isSuppressAggFuncInHeader=function(){return ae(this.gridOptions.suppressAggFuncInHeader)},u.prototype.isSuppressAggAtRootLevel=function(){return ae(this.gridOptions.suppressAggAtRootLevel)},u.prototype.isSuppressAggFilteredOnly=function(){return ae(this.gridOptions.suppressAggFilteredOnly)},u.prototype.isShowOpenedGroup=function(){return ae(this.gridOptions.showOpenedGroup)},u.prototype.isReactUi=function(){return ae(this.gridOptions.reactUi)},u.prototype.isEnableRangeSelection=function(){return tt.isRegistered(W.GXE.RangeSelectionModule)&&ae(this.gridOptions.enableRangeSelection)},u.prototype.isEnableRangeHandle=function(){return ae(this.gridOptions.enableRangeHandle)},u.prototype.isEnableFillHandle=function(){return ae(this.gridOptions.enableFillHandle)},u.prototype.getFillHandleDirection=function(){var i=this.gridOptions.fillHandleDirection;return i?"x"!==i&&"y"!==i&&"xy"!==i?(Cn(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):i:"xy"},u.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},u.prototype.isSuppressMultiRangeSelection=function(){return ae(this.gridOptions.suppressMultiRangeSelection)},u.prototype.isPaginationAutoPageSize=function(){return ae(this.gridOptions.paginationAutoPageSize)},u.prototype.isRememberGroupStateWhenNewData=function(){return ae(this.gridOptions.rememberGroupStateWhenNewData)},u.prototype.getIcons=function(){return this.gridOptions.icons},u.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},u.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},u.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},u.prototype.isMasterDetail=function(){return!!ae(this.gridOptions.masterDetail)&&tt.assertRegistered(W.GXE.MasterDetailModule,"masterDetail")},u.prototype.isKeepDetailRows=function(){return ae(this.gridOptions.keepDetailRows)},u.prototype.getKeepDetailRowsCount=function(){var i=this.gridOptions.keepDetailRowsCount;return he(i)&&i>0?this.gridOptions.keepDetailRowsCount:10},u.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},u.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},u.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},u.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},u.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},u.prototype.isSuppressAutoSize=function(){return ae(this.gridOptions.suppressAutoSize)},u.prototype.isEnableCellTextSelection=function(){return ae(this.gridOptions.enableCellTextSelection)},u.prototype.isSuppressParentsInRowNodes=function(){return ae(this.gridOptions.suppressParentsInRowNodes)},u.prototype.isSuppressClipboardApi=function(){return ae(this.gridOptions.suppressClipboardApi)},u.prototype.isFunctionsReadOnly=function(){return ae(this.gridOptions.functionsReadOnly)},u.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},u.prototype.isEnableCellTextSelect=function(){return ae(this.gridOptions.enableCellTextSelection)},u.prototype.isEnableOldSetFilterModel=function(){return ae(this.gridOptions.enableOldSetFilterModel)},u.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},u.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},u.prototype.getDefaultExportParams=function(i){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+GS(i)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===i&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===i&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},u.prototype.isSuppressCsvExport=function(){return ae(this.gridOptions.suppressCsvExport)},u.prototype.isAllowShowChangeAfterFilter=function(){return ae(this.gridOptions.allowShowChangeAfterFilter)},u.prototype.isSuppressExcelExport=function(){return ae(this.gridOptions.suppressExcelExport)},u.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ae(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},u.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},u.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},u.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},u.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},u.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},u.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},u.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},u.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},u.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},u.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},u.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},u.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},u.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},u.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},u.prototype.isTreeData=function(){return!!ae(this.gridOptions.treeData)&&tt.assertRegistered(W.GXE.RowGroupingModule,"Tree Data")},u.prototype.isValueCache=function(){return ae(this.gridOptions.valueCache)},u.prototype.isValueCacheNeverExpires=function(){return ae(this.gridOptions.valueCacheNeverExpires)},u.prototype.isDeltaSort=function(){return ae(this.gridOptions.deltaSort)},u.prototype.isAggregateOnlyChangedColumns=function(){return ae(this.gridOptions.aggregateOnlyChangedColumns)},u.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},u.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},u.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},u.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},u.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},u.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},u.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},u.prototype.getViewportRowModelPageSize=function(){return rg(this.gridOptions.viewportRowModelPageSize,5)},u.prototype.getViewportRowModelBufferSize=function(){return function Hx(u,o){return u>=0?u:o}(this.gridOptions.viewportRowModelBufferSize,5)},u.prototype.isServerSideSortingAlwaysResets=function(){return ae(this.gridOptions.serverSideSortingAlwaysResets)},u.prototype.isServerSideFilteringAlwaysResets=function(){return ae(this.gridOptions.serverSideFilteringAlwaysResets)},u.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},u.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},u.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},u.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},u.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},u.prototype.getClipboardDeliminator=function(){return he(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},u.prototype.setProperty=function(i,s,l){void 0===l&&(l=!1);var c=this.gridOptions,h=c[i];(l||h!==s)&&(c[i]=s,this.propertyEventService.dispatchEvent({type:i,currentValue:s,previousValue:h}))},u.prototype.addEventListener=function(i,s){this.propertyEventService.addEventListener(i,s)},u.prototype.removeEventListener=function(i,s){this.propertyEventService.removeEventListener(i,s)},u.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},u.prototype.getAutoSizePadding=function(){var i=this.gridOptions.autoSizePadding;return null!=i&&i>=0?i:20},u.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},u.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},u.prototype.doesExternalFilterPass=function(i){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(i)},u.prototype.getTooltipShowDelay=function(){var i=this.gridOptions.tooltipShowDelay;return he(i)?(i<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,i)):null},u.prototype.isTooltipMouseTrack=function(){return ae(this.gridOptions.tooltipMouseTrack)},u.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ae(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},u.prototype.getDocument=function(){var i=null;return this.gridOptions.getDocument&&he(this.gridOptions.getDocument)&&(i=this.gridOptions.getDocument()),i&&he(i)?i:document},u.prototype.getMinColWidth=function(){var i=this.gridOptions.minColWidth;if(he(i)&&i>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return he(s)?Math.max(s,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},u.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},u.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},u.prototype.getRowBuffer=function(){var i=this.gridOptions.rowBuffer;return"number"==typeof i?i<0&&(Cn(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=i=0):i=q.ROW_BUFFER_SIZE,i},u.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},u.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ke();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:G.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},u.prototype.checkForDeprecated=function(){var i=this.gridOptions;i.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),i.enableOldSetFilterModel&&console.warn("AG Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),i.floatingFilter&&(console.warn("AG Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),i.defaultColDef||(i.defaultColDef={}),null==i.defaultColDef.floatingFilter&&(i.defaultColDef.floatingFilter=!0)),i.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),i.enableMultiRowDragging&&(i.rowDragMultiRow=!0,delete i.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(h,g,_){null!=i[h]&&(console.warn("ag-grid: since version "+_+", '"+h+"' is deprecated / renamed, please use the new property name '"+g+"' instead."),null==i[g]&&(i[g]=i[h]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(i.immutableColumns||i.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),i.groupRowInnerRenderer||i.groupRowInnerRendererParams||i.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),i.groupRowRendererParams||(i.groupRowRendererParams={});var l=i.groupRowRendererParams;i.groupRowInnerRenderer&&(l.innerRenderer=i.groupRowInnerRenderer),i.groupRowInnerRendererParams&&(l.innerRendererParams=i.groupRowInnerRendererParams),i.groupRowInnerRendererFramework&&(l.innerRendererFramework=i.groupRowInnerRendererFramework)}i.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),i.detailCellRendererParams&&i.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),i.detailRowAutoHeight=!0),i.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),i.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),i.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),i.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),i.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),i.stopEditingWhenCellsLoseFocus=!0),i.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),i.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),i.groupDisplayType="multipleColumns"),i.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),i.groupDisplayType="groupRows"),i.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(i.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),i.groupDisplayType="custom"),i.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),i.defaultGroupOrderComparator=i.defaultGroupSortComparator),i.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),i.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),i.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`.")},u.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},u.prototype.treeDataViolations=function(){this.isRowModelDefault()&&je(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(je(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),je(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},u.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var i=this.gridOptions.localeText;return function(s,l){return i&&i[s]?i[s]:l}},u.prototype.globalEventHandler=function(i,s){if(!this.destroyed){var l=Mn.getCallbackForEvent(i);"function"==typeof this.gridOptions[l]&&this.gridOptions[l](s)}},u.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||je(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},u.prototype.getRowHeightForNode=function(i,s,l){if(void 0===s&&(s=!1),null==l&&(l=this.getDefaultRowHeight()),"function"==typeof this.gridOptions.getRowHeight){if(s)return{height:l,estimated:!0};var h=this.gridOptions.getRowHeight({node:i,data:i.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(h))return 0===h&&Cn(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,h),estimated:!1}}return i.detail&&this.isMasterDetail()?this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:l,estimated:!1}},u.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},u.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},u.prototype.isNumeric=function(i){return!isNaN(i)&&"number"==typeof i&&isFinite(i)},u.prototype.getFromTheme=function(i,s){var l=this.environment.getTheme().theme;return l&&0===l.indexOf("ag-theme")?this.environment.getSassVariable(l,s):i},u.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},u.prototype.matchesGroupDisplayType=function(i,s){var l=["groupRows","multipleColumns","custom","singleColumn"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},u.prototype.matchesTreeDataDisplayType=function(i,s){var l=["auto","custom"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},u.MIN_COL_WIDTH=10,u.PROP_HEADER_HEIGHT="headerHeight",u.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",u.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",u.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",u.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",u.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",u.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",u.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",u.PROP_TAB_TO_NEXT_CELL="tabToNextCell",u.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",u.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",u.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",u.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",u.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",u.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",u.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",u.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",u.PROP_GET_ROW_CLASS="getRowClass",u.PROP_GET_ROW_STYLE="getRowStyle",u.PROP_GET_ROW_HEIGHT="getRowHeight",u.PROP_POPUP_PARENT="popupParent",u.PROP_DOM_LAYOUT="domLayout",u.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",u.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",u.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",u.PROP_GET_CHILD_COUNT="getChildCount",u.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",u.PROP_GET_ROW_NODE_ID="getRowNodeId",u.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",u.PROP_IS_ROW_SELECTABLE="isRowSelectable",u.PROP_IS_ROW_MASTER="isRowMaster",u.PROP_POST_SORT="postSort",u.PROP_GET_DOCUMENT="getDocument",u.PROP_POST_PROCESS_POPUP="postProcessPopup",u.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",u.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",u.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",u.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",u.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",u.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",u.PROP_SEND_TO_CLIPBOARD="sendToClipboard",u.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",u.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",u.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",u.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",u.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",u.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",u.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",u.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Ka([P("gridOptions")],u.prototype,"gridOptions",void 0),Ka([P("eventService")],u.prototype,"eventService",void 0),Ka([P("environment")],u.prototype,"environment",void 0),Ka([ig(0,Ft("gridApi")),ig(1,Ft("columnApi"))],u.prototype,"agWire",null),Ka([di],u.prototype,"destroy",null),Ka([Se],u.prototype,"init",null),o=Ka([xe("gridOptionsWrapper")],u)}(),og=function(){function u(o,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}return u.prototype.setInactive=function(){this.active=!1},u.prototype.isActive=function(){return this.active},u.prototype.depthFirstSearchChangedPath=function(o,i){if(o.children)for(var s=0;s<o.children.length;s++)this.depthFirstSearchChangedPath(o.children[s],i);i(o.rowNode)},u.prototype.depthFirstSearchEverything=function(o,i,s){if(o.childrenAfterGroup)for(var l=0;l<o.childrenAfterGroup.length;l++){var c=o.childrenAfterGroup[l];c.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[l],i,s):s&&i(c)}i(o)},u.prototype.forEachChangedNodeDepthFirst=function(o,i){void 0===i&&(i=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,i)},u.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},u.prototype.createPathItems=function(o){for(var i=o,s=0;!this.mapToItems[i.id];)this.mapToItems[i.id]={rowNode:i,children:null},s++,i=i.parent;return s},u.prototype.populateColumnsMap=function(o,i){var s=this;if(this.keepingColumns&&i)for(var l=o;l;)this.nodeIdsToColumns[l.id]||(this.nodeIdsToColumns[l.id]={}),i.forEach(function(c){return s.nodeIdsToColumns[l.id][c.getId()]=!0}),l=l.parent},u.prototype.linkPathItems=function(o,i){for(var s=o,l=0;l<i;l++){var c=this.mapToItems[s.id],h=this.mapToItems[s.parent.id];h.children||(h.children=[]),h.children.push(c),s=s.parent}},u.prototype.addParentNode=function(o,i){if(o&&!o.isRowPinned()){var s=this.createPathItems(o);this.linkPathItems(o,s),this.populateColumnsMap(o,i)}},u.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},u.prototype.getValueColumnsForNode=function(o,i){if(!this.keepingColumns)return i;var s=this.nodeIdsToColumns[o.id];return i.filter(function(c){return s[c.getId()]})},u.prototype.getNotValueColumnsForNode=function(o,i){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[o.id];return i.filter(function(c){return!s[c.getId()]})},u}(),FE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ql=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},NE=function(u,o){return function(i,s){o(i,s,u)}},wu=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return FE(o,u),o.prototype.setBeans=function(i){this.logger=i.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,G.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,G.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(i){this.lastSelectedNode=i},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var i=[];return It(this.selectedNodes,function(s,l){l&&i.push(l)}),i},o.prototype.getSelectedRows=function(){var i=[];return It(this.selectedNodes,function(s,l){l&&l.data&&i.push(l.data)}),i},o.prototype.removeGroupsFromSelection=function(){var i=this;It(this.selectedNodes,function(s,l){l&&l.group&&(i.selectedNodes[l.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(i){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE){var l=this.rowModel.getRootNode();i||(i=new og(!0,l)).setInactive(),i.forEachChangedNodeDepthFirst(function(c){c!==l&&c.calculateSelectedFromChildren()})}},o.prototype.getNodeForIdIfSelected=function(i){return this.selectedNodes[i]},o.prototype.clearOtherNodes=function(i){var s=this,l={},c=0;return It(this.selectedNodes,function(h,g){g&&g.id!==i.id&&(c+=s.selectedNodes[g.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&g.parent&&(l[g.parent.id]=g.parent))}),It(l,function(h,g){g.calculateSelectedFromChildren()}),c},o.prototype.onRowSelected=function(i){var s=i.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},o.prototype.syncInRowNode=function(i,s){this.syncInOldRowNode(i,s),this.syncInNewRowNode(i)},o.prototype.syncInOldRowNode=function(i,s){he(s)&&i.id!==s.id&&s&&this.selectedNodes[s.id]==i&&(this.selectedNodes[s.id]=s)},o.prototype.syncInNewRowNode=function(i){he(this.selectedNodes[i.id])?(i.setSelectedInitialValue(!0),this.selectedNodes[i.id]=i):i.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var l=[];return function c(h){for(var g=0,_=h.length;g<_;g++){var y=h[g];y.isSelected()?l.push(y):y.group&&y.children&&c(y.children)}}(s),l}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},o.prototype.setRowModel=function(i){this.rowModel=i},o.prototype.isEmpty=function(){var i=0;return It(this.selectedNodes,function(s,l){l&&i++}),0===i},o.prototype.deselectAllRowNodes=function(i){void 0===i&&(i=!1);var s=function(g){return g.selectThisNode(!1)},l=this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE;if(i){if(!l)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else It(this.selectedNodes,function(g,_){_&&s(_)}),this.reset();l&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:G.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectAllRowNodes=function(i){if(void 0===i&&(i=!1),this.rowModel.getType()!==q.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,l=function(h){return h.selectThisNode(!0)};i?s.forEachNodeAfterFilter(l):s.forEachNode(l),this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:G.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectNode=function(i,s){i&&i.setSelectedParams({newValue:!0,clearSelection:!s})},o.prototype.deselectIndex=function(i){var s=this.rowModel.getRow(i);this.deselectNode(s)},o.prototype.deselectNode=function(i){i&&i.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(i,s){var l=this.rowModel.getRow(i);this.selectNode(l,s)},Ql([P("rowModel")],o.prototype,"rowModel",void 0),Ql([P("columnApi")],o.prototype,"columnApi",void 0),Ql([P("gridApi")],o.prototype,"gridApi",void 0),Ql([NE(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),Ql([Se],o.prototype,"init",null),Ql([xe("selectionService")],o)}(ie),Su=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ya=function(){function u(){}return u.prototype.sizeColumnsToFit=function(o){void 0===o&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},u.prototype.setColumnGroupOpened=function(o,i){this.columnModel.setColumnGroupOpened(o,i,"api")},u.prototype.getColumnGroup=function(o,i){return this.columnModel.getColumnGroup(o,i)},u.prototype.getOriginalColumnGroup=function(o){return this.columnModel.getOriginalColumnGroup(o)},u.prototype.getDisplayNameForColumn=function(o,i){return this.columnModel.getDisplayNameForColumn(o,i)||""},u.prototype.getDisplayNameForColumnGroup=function(o,i){return this.columnModel.getDisplayNameForColumnGroup(o,i)||""},u.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},u.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},u.prototype.getColumnState=function(){return this.columnModel.getColumnState()},u.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},u.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},u.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},u.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},u.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},u.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},u.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},u.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},u.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},u.prototype.setColumnVisible=function(o,i){this.columnModel.setColumnVisible(o,i,"api")},u.prototype.setColumnsVisible=function(o,i){this.columnModel.setColumnsVisible(o,i,"api")},u.prototype.setColumnPinned=function(o,i){this.columnModel.setColumnPinned(o,i,"api")},u.prototype.setColumnsPinned=function(o,i){this.columnModel.setColumnsPinned(o,i,"api")},u.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},u.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},u.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},u.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},u.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},u.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},u.prototype.moveColumn=function(o,i){"number"==typeof o?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,i,"api")):this.columnModel.moveColumn(o,i,"api")},u.prototype.moveColumnByIndex=function(o,i){this.columnModel.moveColumnByIndex(o,i,"api")},u.prototype.moveColumns=function(o,i){this.columnModel.moveColumns(o,i,"api")},u.prototype.moveRowGroupColumn=function(o,i){this.columnModel.moveRowGroupColumn(o,i)},u.prototype.setColumnAggFunc=function(o,i){this.columnModel.setColumnAggFunc(o,i)},u.prototype.setColumnWidth=function(o,i,s,l){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:o,newWidth:i}],!1,s,l)},u.prototype.setColumnWidths=function(o,i,s){void 0===i&&(i=!0),this.columnModel.setColumnWidths(o,!1,i,s)},u.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},u.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},u.prototype.getSecondaryPivotColumn=function(o,i){return this.columnModel.getSecondaryPivotColumn(o,i)},u.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},u.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},u.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},u.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},u.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},u.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},u.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},u.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},u.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},u.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},u.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},u.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},u.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},u.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},u.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},u.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},u.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},u.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},u.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},u.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},u.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},u.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},u.prototype.autoSizeColumn=function(o,i){return this.columnModel.autoSizeColumn(o,i,"api")},u.prototype.autoSizeColumns=function(o,i){return this.columnModel.autoSizeColumns(o,i,"api")},u.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},u.prototype.setSecondaryColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},u.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},u.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Me.removeAllReferences.bind(window,this,"Column API"),100)},u.prototype.columnGroupOpened=function(o,i){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,i)},u.prototype.hideColumns=function(o,i){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!i,"api")},u.prototype.hideColumn=function(o,i){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!i,"api")},u.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},u.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},u.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},u.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},u.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},u.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},u.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},u.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},u.prototype.setColumnAggFunction=function(o,i){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,i,"api")},u.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},u.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},Su([P("columnModel")],u.prototype,"columnModel",void 0),Su([di],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Su([xe("columnApi")],u)}();(function(u){u[u.FILL=0]="FILL",u[u.RANGE=1]="RANGE"})(W.Lm6||(W.Lm6={})),function(u){u[u.VALUE=0]="VALUE",u[u.DIMENSION=1]="DIMENSION"}(W.StC||(W.StC={}));var Eu="ag-cell-range-selected",kE=function(){function u(o,i){this.beans=o,this.cellCtrl=i}return u.prototype.setComp=function(o){this.cellComp=o,this.onRangeSelectionChanged()},u.prototype.onRangeSelectionChanged=function(){this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Eu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Eu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Eu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Eu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Eu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),this.cellComp.setAriaSelected(this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()},u.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),i=this.isSingleCell(),l=!i&&o.right,c=!i&&o.bottom,h=!i&&o.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!i&&o.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",l),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",h)},u.prototype.isSingleCell=function(){var o=this.beans.rangeService;return 1===this.rangeCount&&o&&!o.isMoreThanOneCell()},u.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var i=o.getCellRanges();return i.length>0&&i.every(function(s){return ri([W.StC.DIMENSION,W.StC.VALUE],s.type)})},u.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},u.prototype.getRangeBorders=function(){var x,k,o=this,i=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,l=!1,c=!1,h=!1,g=this.cellCtrl.getCellPosition().column,_=this.beans,y=_.rangeService,w=_.columnModel;i?(x=w.getDisplayedColAfter(g),k=w.getDisplayedColBefore(g)):(x=w.getDisplayedColBefore(g),k=w.getDisplayedColAfter(g));var B=y.getCellRanges().filter(function(ge){return y.isCellInSpecificRange(o.cellCtrl.getCellPosition(),ge)});x||(h=!0),k||(l=!0);for(var j=0;j<B.length&&!(s&&l&&c&&h);j++){var ee=B[j],re=y.getRangeStartRow(ee),we=y.getRangeEndRow(ee);!s&&this.beans.rowPositionUtils.sameRow(re,this.cellCtrl.getCellPosition())&&(s=!0),!c&&this.beans.rowPositionUtils.sameRow(we,this.cellCtrl.getCellPosition())&&(c=!0),!h&&x&&ee.columns.indexOf(x)<0&&(h=!0),!l&&k&&ee.columns.indexOf(k)<0&&(l=!0)}return{top:s,right:l,bottom:c,left:h}},u.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},u.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,i=o.gridOptionsWrapper,s=o.rangeService,l=s.getCellRanges(),c=l.length;if(this.rangeCount<1||c<1)return!1;var h=Zt(l),g=this.cellCtrl.getCellPosition(),_=i.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),y=i.isEnableRangeHandle(),w=1===c&&!this.cellCtrl.isEditing()&&(_||y);if(this.hasChartRange){var k=l[0].type===W.StC.DIMENSION&&s.isCellInSpecificRange(g,l[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",k),w=h.type===W.StC.VALUE}return w&&null!=h.endRow&&s.isContiguousRange(h)&&s.isBottomRightCell(h,g)},u.prototype.addSelectionHandle=function(){var o=this.beans,i=o.gridOptionsWrapper,l=Zt(o.rangeService.getCellRanges()).type,h=i.isEnableFillHandle()&&je(l)?W.Lm6.FILL:W.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==h&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(h)),this.selectionHandle.refresh(this.cellCtrl)},u.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},u}(),GE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),HE=function(u){function o(i,s){var l=u.call(this)||this;return l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l.setupColSpan(),l.setupRowSpan(),l}return GE(o,u),o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(i){this.cellComp=i,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var i=this.getColSpanningList();hs(this.colsSpanning,i)||(this.colsSpanning=i,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.cellComp){var i=this.getCellWidth();this.cellComp.setWidth(i+"px")}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(i,s){return i+s.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var i=this.column.getColSpan(this.rowNode),s=[];if(1===i)s.push(this.column);else for(var l=this.column,c=this.column.getPinned(),h=0;l&&h<i&&(s.push(l),(l=this.beans.columnModel.getDisplayedColAfter(l))&&!je(l)&&c===l.getPinned());h++);return s},o.prototype.onLeftChanged=function(){if(this.cellComp){var i=this.modifyLeftForPrintLayout(this.getCellLeft());this.cellComp.setLeft(i+"px")}},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Zt(this.colsSpanning):this.column).getLeft()},o.prototype.modifyLeftForPrintLayout=function(i){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===q.PINNED_LEFT)return i;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===q.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(i||0):s+(i||0)},o.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var i=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.cellComp.setHeight(i*this.rowSpan+"px"),this.cellComp.setZIndex("1")}},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ie),VE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),BE=function(u){function o(i,s){var l=u.call(this)||this;return l.staticClasses=[],l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l}return VE(o,u),o.prototype.setComp=function(i,s){this.cellComp=i,this.scope=s,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,l,function(c){return i.cellComp.addOrRemoveCssClass(c,!0)},function(c){return i.cellComp.addOrRemoveCssClass(c,!1)})},o.prototype.applyUserStyles=function(){var i=this.column.getColDef();if(i.cellStyle){var s;if("function"==typeof i.cellStyle){var l={column:this.column,value:this.cellCtrl.getValue(),colDef:i,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,i.cellStyle)(l)}else s=i.cellStyle;this.cellComp.setUserStyles(s)}},o.prototype.applyClassesFromColDef=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return i.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,l),this.staticClasses.length&&this.staticClasses.forEach(function(c){return i.cellComp.addOrRemoveCssClass(c,!0)})},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ie),Ir=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xr=function(u){function o(i,s){var l=u.call(this)||this;return l.ctrl=i,l.beans=s,l}return Ir(o,u),o.prototype.setComp=function(i){this.comp=i,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue(),this.tooltipSanatised=oi(this.tooltip)},o.prototype.createTooltipFeatureIfNeeded=function(){var i=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Xd({getTooltipParams:function(){return i.getTooltipParams()},getGui:function(){return i.ctrl.getGui()}}),this.beans.context))},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0)},o.prototype.getTooltipParams=function(){var i=this.ctrl,s=i.getColumn?i.getColumn():void 0,l=i.getColDef?i.getColDef():void 0,c=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:l,column:s,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ie),pt=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ag=function(){function u(){}return u.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},pt([P("resizeObserverService")],u.prototype,"resizeObserverService",void 0),pt([P("paginationProxy")],u.prototype,"paginationProxy",void 0),pt([P("context")],u.prototype,"context",void 0),pt([P("columnApi")],u.prototype,"columnApi",void 0),pt([P("gridApi")],u.prototype,"gridApi",void 0),pt([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),pt([P("expressionService")],u.prototype,"expressionService",void 0),pt([P("rowRenderer")],u.prototype,"rowRenderer",void 0),pt([P("$compile")],u.prototype,"$compile",void 0),pt([P("templateService")],u.prototype,"templateService",void 0),pt([P("valueService")],u.prototype,"valueService",void 0),pt([P("eventService")],u.prototype,"eventService",void 0),pt([P("columnModel")],u.prototype,"columnModel",void 0),pt([P("headerNavigationService")],u.prototype,"headerNavigationService",void 0),pt([P("navigationService")],u.prototype,"navigationService",void 0),pt([P("columnAnimationService")],u.prototype,"columnAnimationService",void 0),pt([mt("rangeService")],u.prototype,"rangeService",void 0),pt([P("focusService")],u.prototype,"focusService",void 0),pt([mt("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),pt([P("popupService")],u.prototype,"popupService",void 0),pt([P("valueFormatterService")],u.prototype,"valueFormatterService",void 0),pt([P("stylingService")],u.prototype,"stylingService",void 0),pt([P("columnHoverService")],u.prototype,"columnHoverService",void 0),pt([P("userComponentFactory")],u.prototype,"userComponentFactory",void 0),pt([P("userComponentRegistry")],u.prototype,"userComponentRegistry",void 0),pt([P("animationFrameService")],u.prototype,"animationFrameService",void 0),pt([P("dragAndDropService")],u.prototype,"dragAndDropService",void 0),pt([P("sortController")],u.prototype,"sortController",void 0),pt([P("filterManager")],u.prototype,"filterManager",void 0),pt([P("rowContainerHeightService")],u.prototype,"rowContainerHeightService",void 0),pt([P("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),pt([P("cellPositionUtils")],u.prototype,"cellPositionUtils",void 0),pt([P("rowPositionUtils")],u.prototype,"rowPositionUtils",void 0),pt([P("selectionService")],u.prototype,"selectionService",void 0),pt([mt("selectionHandleFactory")],u.prototype,"selectionHandleFactory",void 0),pt([P("rowCssClassCalculator")],u.prototype,"rowCssClassCalculator",void 0),pt([P("rowModel")],u.prototype,"rowModel",void 0),pt([P("ctrlsService")],u.prototype,"ctrlsService",void 0),pt([P("ctrlsFactory")],u.prototype,"ctrlsFactory",void 0),pt([P("agStackComponentsRegistry")],u.prototype,"agStackComponentsRegistry",void 0),pt([P("valueCache")],u.prototype,"valueCache",void 0),pt([P("rowNodeEventThrottle")],u.prototype,"rowNodeEventThrottle",void 0),pt([Se],u.prototype,"postConstruct",null),pt([xe("beans")],u)}(),WE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jE=function(u){function o(i,s,l){var c=u.call(this)||this;return c.cellCtrl=i,c.beans=s,c.column=l,c}return WE(o,u),o.prototype.onMouseEvent=function(i,s){if(!jo(s))switch(i){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},o.prototype.onCellClicked=function(i){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(i),void i.preventDefault();var s=this.beans,l=s.eventService,c=s.gridOptionsWrapper,h=this.cellCtrl.createEvent(i,G.EVENT_CELL_CLICKED);l.dispatchEvent(h);var g=this.column.getColDef();g.onCellClicked&&window.setTimeout(function(){return g.onCellClicked(h)},0),(c.isSingleClickEdit()||g.singleClickEdit)&&!c.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!Na()||$n("dblclick"))return!1;var i=(new Date).getTime(),s=i-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=i,s},o.prototype.onCellDoubleClicked=function(i){var s=this.column.getColDef(),l=this.cellCtrl.createEvent(i,G.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(l),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(l)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.onMouseDown=function(i){var s=i.ctrlKey,l=i.metaKey,c=i.shiftKey,h=i.target,g=this.beans,_=g.eventService,y=g.rangeService;if(!this.isRightClickInExistingRange(i)){var w=y&&0!=y.getCellRanges().length;if(!c||!w){var x=(zn()||Ys())&&!this.cellCtrl.isEditing()&&!Qs(h);this.cellCtrl.focusCell(x)}if(c&&w&&i.preventDefault(),!this.containsWidget(h)){if(y){var k=this.cellCtrl.getCellPosition();c?y.extendLatestRangeToCell(k):y.setRangeToCell(k,s||l)}_.dispatchEvent(this.cellCtrl.createEvent(i,G.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(i){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==i.button)},o.prototype.containsWidget=function(i){return Oe(i,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,G.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,G.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(i){if(!i.target||!i.relatedTarget)return!1;var s=this.cellCtrl.getGui(),l=s.contains(i.target),c=s.contains(i.relatedTarget);return l&&c},o.prototype.destroy=function(){},o}(ag),UE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$E=function(u){function o(i,s,l,c,h,g){var _=u.call(this)||this;return _.cellCtrl=i,_.beans=s,_.column=l,_.rowNode=c,_.rowCtrl=g,_}return UE(o,u),o.prototype.setComp=function(i){this.eGui=i},o.prototype.onKeyDown=function(i){var s=i.which||i.keyCode;switch(s){case be.ENTER:this.onEnterKeyDown(i);break;case be.F2:this.onF2KeyDown();break;case be.ESCAPE:this.onEscapeKeyDown();break;case be.TAB:this.onTabKeyDown(i);break;case be.BACKSPACE:case be.DELETE:this.onBackspaceOrDeleteKeyPressed(s);break;case be.DOWN:case be.UP:case be.RIGHT:case be.LEFT:this.onNavigationKeyPressed(i,s)}},o.prototype.onNavigationKeyPressed=function(i,s){this.cellCtrl.isEditing()||(i.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(s):this.beans.navigationService.navigateToNextCell(i,s,this.cellCtrl.getCellPosition(),!0),i.preventDefault())},o.prototype.onShiftRangeSelect=function(i){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(i);s&&this.beans.navigationService.ensureCellVisible(s)}},o.prototype.onTabKeyDown=function(i){this.beans.navigationService.onTabKeyDown(this.cellCtrl,i)},o.prototype.onBackspaceOrDeleteKeyPressed=function(i){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(i)},o.prototype.onEnterKeyDown=function(i){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,be.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(be.ENTER),this.cellCtrl.isEditing()&&i.preventDefault())},o.prototype.onF2KeyDown=function(){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(be.F2)},o.prototype.onEscapeKeyDown=function(){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(i){if(Pa(i)===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(i.charCode);" "===c?this.onSpaceKeyPressed(i):Qd(i)&&(this.cellCtrl.startRowOrCellEdit(null,c),i.preventDefault())}},o.prototype.onSpaceKeyPressed=function(i){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var l=this.rowNode.isSelected(),c=!l;if(c||!s.isSuppressRowDeselection()){var h=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),g=this.rowNode.setSelectedParams({newValue:c,rangeSelect:i.shiftKey,groupSelectsFiltered:h});void 0===l&&0===g&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:h})}}i.preventDefault()},o.prototype.destroy=function(){},o}(ie),ey=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),KE=function(u){function o(i,s,l,c){var h=u.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return h.rowNode=i,h.column=s,h.beans=l,h.eCell=c,h}return ey(o,u),o.prototype.postConstruct=function(){this.getGui().appendChild(si("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(i){var s=this,l=this.column.getColDef().dndSourceOnRowDrag,c=zn();c||i.dataTransfer.setDragImage(this.eCell,0,0),l?l({rowNode:this.rowNode,dragEvent:i}):function(){try{var g=JSON.stringify(s.rowNode.data);c?i.dataTransfer.setData("text",g):(i.dataTransfer.setData("application/json",g),i.dataTransfer.setData("text/plain",g))}catch(_){}}()},o.prototype.checkVisibility=function(){var i=this.column.isDndSource(this.rowNode);this.setDisplayed(i)},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(vt),YE=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cp=function(){return Cp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Cp.apply(this,arguments)},lg="ag-cell-not-inline-editing",Ux=0,qo=function(u){function o(i,s,l,c){var h=u.call(this)||this;return h.suppressRefreshCell=!1,h.column=i,h.rowNode=s,h.beans=l,h.rowCtrl=c,h.instanceId=i.getId()+"-"+Ux++,h.createCellPosition(),h.addFeatures(),h}return YE(o,u),o.prototype.addFeatures=function(){var i=this;this.cellPositionFeature=new HE(this,this.beans),this.addDestroyFunc(function(){return i.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new BE(this,this.beans),this.addDestroyFunc(function(){return i.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new jE(this,this.beans,this.column),this.addDestroyFunc(function(){return i.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new $E(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return i.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new kE(this.beans,this),this.addDestroyFunc(function(){return i.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var i=this;this.tooltipFeature=new Xr({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getRowIndex:function(){return i.cellPosition.rowIndex},getRowNode:function(){return i.rowNode},getGui:function(){return i.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=i.column.getColDef(),h=i.rowNode.data;if(c.tooltipField&&he(h))return Wo(h,c.tooltipField,i.column.isTooltipFieldContainsDots());var g=c.tooltipValueGetter;return g?g({location:"cell",api:i.beans.gridOptionsWrapper.getApi(),columnApi:i.beans.gridOptionsWrapper.getColumnApi(),context:i.beans.gridOptionsWrapper.getContext(),colDef:i.column.getColDef(),column:i.column,rowIndex:i.cellPosition.rowIndex,node:i.rowNode,data:i.rowNode.data,value:i.value,valueFormatted:i.valueFormatted}):null},getValueFormatted:function(){return i.valueFormatted}},this.beans),this.addDestroyFunc(function(){return i.tooltipFeature.destroy()})},o.prototype.setComp=function(i,s,l,c,h){this.cellComp=i,this.gow=this.beans.gridOptionsWrapper,this.scope=s,this.eGui=l,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight();var g=oi(this.column.getId()),_=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setTabIndex(-1),this.cellComp.setRole("gridcell"),this.cellComp.setAriaColIndex(_),this.cellComp.setColId(g),this.cellComp.setUnselectable(this.beans.gridOptionsWrapper.isEnableCellTextSelection()?null:"on"),this.cellPositionFeature.setComp(i),this.cellCustomStyleFeature.setComp(i,s),this.tooltipFeature.setComp(i),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i),h&&this.isCellEditable()?this.startEditing():this.showValue()},o.prototype.setupAutoHeight=function(){var i=this;if(this.column.getColDef().autoHeight){var s=function(h){var g=i.beans.gridOptionsWrapper.getDocument();g&&g.contains(i.eGui)||!(h<5)?i.rowNode.setRowAutoHeight(i.eGui.offsetHeight,i.column):i.beans.frameworkOverrides.setTimeout(function(){return s(h++)},0)},l=function(){return s(0)};l();var c=this.beans.resizeObserverService.observeResize(this.eGui,l);this.addDestroyFunc(function(){c(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(i){void 0===i&&(i=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,l=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),l);this.cellComp.setRenderDetails(c,s,i),this.refreshHandle()},o.prototype.setupControlComps=function(){var i=this.column.getColDef();this.includeSelection=this.isIncludeControl(i.checkboxSelection),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource);var s=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||1==this.column.getColDef().autoHeight;this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag),this.cellComp.setForceWrapper(s)},o.prototype.isIncludeControl=function(i){return!(null!=this.rowNode.rowPinned||"function"!=typeof i&&!0!==i)},o.prototype.setupAriaExpanded=function(){var i=this,s=this.column.getColDef();if(this.rowNode.isExpandable()){var l=s.showRowGroup,c=this.rowNode.rowGroupColumn,h=!0===l,g=c&&c.getColId()===l;if(h||g){var y=function(){i.cellComp.setAriaExpanded(!!i.rowNode.expanded)};this.addManagedListener(this.rowNode,wt.EVENT_EXPANDED_CHANGED,y),y()}}},o.prototype.refreshShouldDestroy=function(){var i=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(i.checkboxSelection),l=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),c=this.includeDndSource!=this.isIncludeControl(i.dndSource);return s||l||c},o.prototype.startEditing=function(i,s,l){if(void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=!1),this.isCellEditable()&&!this.editing){var c=this.createCellEditorParams(i,s,l),h=this.column.getColDef(),g=this.beans.userComponentFactory.getCellEditorDetails(h,c),_=!!h.cellEditorPopup,y=h.cellEditorPopupPosition;this.setEditing(!0,_),this.cellComp.setEditDetails(g,_,y);var w=this.createEvent(null,G.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(w)}},o.prototype.setEditing=function(i,s){void 0===s&&(s=!1),this.editing!==i&&(this.editing=i,this.editingInPopup=s,this.setInlineEditingClass())},o.prototype.stopRowOrCellEdit=function(i){void 0===i&&(i=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(i):this.stopEditing(i)},o.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(i){var s={newValueExists:!1};if(i)return s;var l=this.cellComp.getCellEditor();return l?l.isCancelAfterEnd&&l.isCancelAfterEnd()?s:{newValue:l.getValue(),newValueExists:!0}:s},o.prototype.saveNewValue=function(i,s){s!==i&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,s),this.suppressRefreshCell=!1)},o.prototype.stopEditing=function(i){if(void 0===i&&(i=!1),this.editing){var s=this.takeValueFromCellEditor(i),l=s.newValue,c=s.newValueExists,h=this.getValueFromValueService();c&&this.saveNewValue(h,l),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(h,l)}},o.prototype.dispatchEditingStoppedEvent=function(i,s){var l=Cp(Cp({},this.createEvent(null,G.EVENT_CELL_EDITING_STOPPED)),{oldValue:i,newValue:s});this.beans.eventService.dispatchEvent(l)},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var i=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",i),this.cellComp.addOrRemoveCssClass(lg,!i),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(i,s,l){var c={value:this.getValueFromValueService(),keyPress:i,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:l,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(c.$scope=this.scope),c},o.prototype.createCellRendererParams=function(){var i=this,l={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return i.beans.valueService.setValue(i.rowNode,i.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,h,g,_){return i.registerRowDragger(c,h,_)},addRowCompListener:function(c,h){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),i.rowCtrl.addEventListener(c,h)}};return this.scope&&(l.$scope=this.scope),l},o.prototype.parseValue=function(i){var s=this.column.getColDef(),l={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:i,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=s.valueParser;return he(c)?this.beans.expressionService.evaluate(c,l):i},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusOut&&i.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusIn?i.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(i){i.column===this.column&&this.refreshCell({})},o.prototype.refreshCell=function(i){if(!this.suppressRefreshCell&&!this.editing){var s=this.column.getColDef(),l=null!=i&&!!i.newData,c=null!=i&&!!i.suppressFlash||!!s.suppressCellFlash,g=i&&i.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||l,_=this.updateAndFormatValue();if(g||_){this.showValue(l);var w=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!w&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(i){void 0===i&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),i||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,be.DOWN,this.getCellPosition(),!1)},o.prototype.flashCell=function(i){this.animateCell("data-changed",i&&i.flashDelay,i&&i.fadeDelay)},o.prototype.animateCell=function(i,s,l){var c=this,h="ag-cell-"+i,g="ag-cell-"+i+"-animation",_=this.beans.gridOptionsWrapper;s||(s=_.getCellFlashDelay()),he(l)||(l=_.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(h,!0),this.cellComp.addOrRemoveCssClass(g,!1),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(h,!1),c.cellComp.addOrRemoveCssClass(g,!0),c.cellComp.setTransition("background-color "+l+"ms"),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(g,!1),c.cellComp.setTransition("transition")},l)},s)},o.prototype.onFlashCells=function(i){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[s]&&this.animateCell("highlight")},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(i){var s=this.callValueFormatter(i);return null!=s?s:i},o.prototype.callValueFormatter=function(i){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,i)},o.prototype.updateAndFormatValue=function(i){void 0===i&&(i=!1);var s=this.value,l=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!i||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=l},o.prototype.valuesAreEqual=function(i,s){var l=this.column.getColDef();return l.equals?l.equals(i,s):i===s},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var i=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!i,l=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&l&&!c)},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var i=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return i.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(i,s){var l={type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex};return this.scope&&(l.$scope=this.scope),l},o.prototype.onKeyPress=function(i){this.cellKeyboardListenerFeature.onKeyPress(i)},o.prototype.onKeyDown=function(i){this.cellKeyboardListenerFeature.onKeyDown(i)},o.prototype.onMouseEvent=function(i,s){this.cellMouseListenerFeature.onMouseEvent(i,s)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){this.cellPositionFeature.onLeftChanged(),this.refreshAriaIndex()},o.prototype.refreshAriaIndex=function(){var i=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setAriaColIndex(i)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(i){this.eGui.appendChild(i)},o.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(i,s){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(i,s,this):this.startEditing(i,s,!0)},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},o.prototype.focusCell=function(i){void 0===i&&(i=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,i)},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",i)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",i)}},o.prototype.onCellFocused=function(i){if(this.cellComp){var s=this.beans.focusService.isCellFocused(this.cellPosition);if(this.gow.isSuppressCellSelection()||this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&i&&i.forceBrowserFocus){var l=this.cellComp.getFocusableElement();l.focus(),(!document.activeElement||document.activeElement===document.body)&&l.focus()}var c=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!c&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(lg,!0);var i=1==this.column.getColDef().autoHeight;this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",i),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!i)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",i)}},o.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var i=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",i)},o.prototype.dispatchCellContextMenuEvent=function(i){var s=this.column.getColDef(),l=this.createEvent(i,G.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(l),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(l)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var i=new up;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i},o.prototype.createDndSource=function(){var i=new KE(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(i),i},o.prototype.registerRowDragger=function(i,s,l){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(i,s);else{var h=this.createRowDragComp(i,s,l);h&&(this.customRowDragComp=h,this.addDestroyFunc(function(){return c.beans.context.destroyBean(h)}))}},o.prototype.createRowDragComp=function(i,s,l){var c=this,h=this.beans.gridOptionsWrapper.isPagination(),g=this.beans.gridOptionsWrapper.isRowDragManaged(),_=this.beans.gridOptionsWrapper.isRowModelDefault();if(g){if(!_)return void Cn(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(h)return void Cn(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var y=new Kf(function(){return c.value},this.rowNode,this.column,i,s,l);return this.beans.context.createBean(y),y},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(ie),Ru=function(){return Ru=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Ru.apply(this,arguments)},cg=function(){function u(){}return u.createChildScopeOrNull=function(o,i,s){if(!s.isAngularCompileRows())return null;var c=i.$new();return c.data=Ru({},o.data),c.rowNode=o,c.context=s.getContext(),{scope:c,scopeDestroyFunc:function(){c.$destroy(),c.data=null,c.rowNode=null,c.context=null}}},u}(),$x=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),li=(()=>(function(u){u.Normal="Normal",u.FullWidth="FullWidth",u.FullWidthLoading="FullWidthLoading",u.FullWidthGroup="FullWidthGroup",u.FullWidthDetail="FullWidthDetail"}(li||(li={})),li))(),QE=ms([[li.FullWidthLoading,"agLoadingCellRenderer"],[li.FullWidthGroup,"agGroupRowRenderer"],[li.FullWidthDetail,"agDetailCellRenderer"]]),JE=ms([[li.FullWidth,"fullWidthCellRenderer"],[li.FullWidthLoading,"loadingCellRenderer"],[li.FullWidthGroup,"groupRowRenderer"],[li.FullWidthDetail,"detailCellRenderer"]]),XE=0,aa=function(u){function o(i,s,l,c,h,g){var _=u.call(this)||this;return _.allRowGuis=[],_.active=!0,_.centerCellCtrls={list:[],map:{}},_.leftCellCtrls={list:[],map:{}},_.rightCellCtrls={list:[],map:{}},_.lastMouseDownOnDragger=!1,_.updateColumnListsPending=!1,_.parentScope=i,_.beans=l,_.rowNode=s,_.paginationPage=_.beans.paginationProxy.getCurrentPage(),_.useAnimationFrameForCreate=h,_.printLayout=g,_.instanceId=s.id+"-"+XE++,_.setAnimateFlags(c),_.rowFocused=_.beans.focusService.isRowFocused(_.rowNode.rowIndex,_.rowNode.rowPinned),_.setupAngular1Scope(),_.rowLevel=_.beans.rowCssClassCalculator.calculateRowLevel(_.rowNode),_.setRowType(),_.addListeners(),_.setInitialRowTop(),_}return $x(o,u),o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(i,s,l){var c={rowComp:i,element:s,pinned:l};this.allRowGuis.push(c),l===q.PINNED_LEFT?this.leftGui=c:l===q.PINNED_RIGHT?this.rightGui=c:this.isFullWidth()&&!this.beans.gridOptionsWrapper.isEmbedFullWidthRows()?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},o.prototype.isCacheable=function(){return this.rowType===li.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(i){var s=i?"none":void 0;this.allRowGuis.forEach(function(l){return l.rowComp.setDisplay(s)})},o.prototype.initialiseRowComps=function(){var i=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Pd(this.onTopChanged.bind(this)),this.fadeRowIn&&Pd(function(){i.allRowGuis.forEach(function(g){return g.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var l=this.getRowBusinessKey(),c=oi(this.rowNode.id),h=oi(l);this.allRowGuis.forEach(function(g){var _=g.rowComp;_.setRole("row"),i.getInitialRowClasses(g.pinned).forEach(function(w){return _.addOrRemoveCssClass(w,!0)}),i.rowNode.group&&_.setAriaExpanded(1==i.rowNode.expanded),null!=c&&_.setRowId(c),null!=h&&_.setRowBusinessKey(h),i.isFullWidth()&&_.setTabIndex(-1),s.setDomData(g.element,o.DOM_DATA_KEY_ROW_CTRL,i),i.addDestroyFunc(function(){return s.setDomData(g.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),i.useAnimationFrameForCreate?i.beans.animationFrameService.createTask(i.addHoverFunctionality.bind(i,g.element),i.rowNode.rowIndex,"createTasksP2"):i.addHoverFunctionality(g.element),i.isFullWidth()&&i.setupFullWidth(g),s.isRowDragEntireRow()&&i.addRowDraggerToRow(g),i.beans.animationFrameService.addDestroyTask(function(){i.isAlive()&&g.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(i){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Cn(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var l=new Kf(function(){return"1 row"},this.rowNode,void 0,i.element,void 0,!0);this.createManagedBean(l,this.beans.context)}},o.prototype.getFullWidthCellRendererType=function(){return JE.get(this.rowType)},o.prototype.getFullWidthCellRendererName=function(){return QE.get(this.rowType)},o.prototype.setupFullWidth=function(i){var s=this.createFullWidthParams(i.element,i.pinned),l=this.getFullWidthCellRendererType(),c=this.getFullWidthCellRendererName(),h=this.beans.userComponentFactory.getFullWidthCellRendererDetails(s,l,c);if(h)i.rowComp.showFullWidth(h);else{var g=tt.isRegistered(W.GXE.MasterDetailModule);"agDetailCellRenderer"!==c||g?console.error("AG Grid: fullWidthCellRenderer "+c+" not found"):console.warn("AG Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?")}},o.prototype.getScope=function(){return this.scope},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.setupAngular1Scope=function(){var i=cg.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);i&&(this.scope=i.scope,this.addDestroyFunc(i.scopeDestroyFunc))},o.prototype.getCellElement=function(i){var s=this.getCellCtrl(i);return s?s.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var i=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();i&&i({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},o.prototype.setRowType=function(){var i=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),l=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),g=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=i?li.FullWidthLoading:l?li.FullWidthDetail:s?li.FullWidth:g?li.FullWidthGroup:li.Normal},o.prototype.updateColumnLists=function(i){var s=this;if(void 0===i&&(i=!1),!this.isFullWidth()){if(i||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(i,s,l){var c=this;void 0===l&&(l=null);var h={list:[],map:{}},g=function(_,y){h.list.push(y),h.map[_]=y};return s.forEach(function(_){var y=_.getInstanceId(),w=i.map[y];w||(w=new qo(_,c.rowNode,c.beans,c)),g(y,w)}),i.list.forEach(function(_){if(null==h.map[_.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(_,l))return void g(_.getColumn().getInstanceId(),_);_.destroy()}}),h},o.prototype.updateColumnListsImpl=function(){var i=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var l=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,l);var c=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,q.PINNED_LEFT);var h=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,h,q.PINNED_RIGHT)}this.allRowGuis.forEach(function(g){g.rowComp.setCellCtrls((g.pinned===q.PINNED_LEFT?i.leftCellCtrls:g.pinned===q.PINNED_RIGHT?i.rightCellCtrls:i.centerCellCtrls).list)})},o.prototype.isCellEligibleToBeRemoved=function(i,s){var l=!0;if(i.getColumn().getPinned()!=s)return l;var g=i.isEditing(),_=this.beans.focusService.isCellFocused(i.getCellPosition());if(g||_){var w=i.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(w)>=0)&&l}return l},o.prototype.setAnimateFlags=function(i){if(i){var s=he(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(i){this.stopEditing(i)},o.prototype.isFullWidth=function(){return this.rowType!==li.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var i=this,s=function(y,w){if(!y)return!0;var x=y.rowComp.getFullWidthCellRenderer();if(!x||!x.refresh)return!1;var k=i.createFullWidthParams(y.element,w);return x.refresh(k)},l=s(this.fullWidthGui,null),c=s(this.centerGui,null),h=s(this.leftGui,q.PINNED_LEFT),g=s(this.rightGui,q.PINNED_RIGHT);return l&&c&&h&&g},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,wt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,G.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,G.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,G.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,G.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,G.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,G.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(i,G.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var i=this;this.addManagedListener(this.rowNode,wt.EVENT_ROW_INDEX_CHANGED,function(){i.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,function(s){i.getAllCellCtrls().forEach(function(l){return l.onCellChanged(s)})})},o.prototype.onRowNodeDataChanged=function(i){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!i.update,newData:!i.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var i=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var c=i===W.oh5.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i===W.oh5.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var i=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",i)})},o.prototype.updateExpandedCss=function(){var i=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-group",i),l.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&s),l.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!s),l.rowComp.setAriaExpanded(i&&s)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(i){var s=Ni(this.allRowGuis,function(y){return y.element.contains(i.target)});if((s?s.element:null)===i.target){var h=this.rowNode,g=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(i,i.keyCode,{rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:g&&g.column},!0),i.preventDefault()}},o.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented&&!jo(i)){var s=Ni(this.allRowGuis,function(g){return g.element.contains(i.target)}),l=s?s.element:null,c=l===i.target,h=null;c||(h=this.beans.focusService.findNextFocusableElement(l,!1,i.shiftKey)),(this.isFullWidth()&&c||!h)&&this.beans.navigationService.onTabKeyDown(this,i)}},o.prototype.onFullWidthRowFocused=function(i){var s=this.rowNode,l=this.isFullWidth()&&i.rowIndex===s.rowIndex&&i.rowPinned==s.rowPinned,c=this.fullWidthGui?this.fullWidthGui.element:this.centerGui.element;ze(c,"ag-full-width-focus",l),l&&c.focus({preventScroll:!0})},o.prototype.refreshCell=function(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),this.updateColumnLists()},o.prototype.removeCellCtrl=function(i,s){var l={list:[],map:{}};return i.list.forEach(function(c){c!==s&&(l.list.push(c),l.map[c.getInstanceId()]=c)}),l},o.prototype.onMouseEvent=function(i,s){switch(i){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},o.prototype.createRowEvent=function(i,s){return{type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},o.prototype.createRowEventWithSource=function(i,s){var l=this.createRowEvent(i,s);return l.source=this,l},o.prototype.onRowDblClick=function(i){if(!jo(i)){var s=this.createRowEventWithSource(G.EVENT_ROW_DOUBLE_CLICKED,i);this.beans.eventService.dispatchEvent(s)}},o.prototype.onRowMouseDown=function(i){if(this.lastMouseDownOnDragger=Oe(i.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},o.prototype.onRowClick=function(i){if(!jo(i)&&!this.lastMouseDownOnDragger){var l=this.createRowEventWithSource(G.EVENT_ROW_CLICKED,i);this.beans.eventService.dispatchEvent(l);var c=i.ctrlKey||i.metaKey,h=i.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var _=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),y=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?_?this.rowNode.setSelectedParams({newValue:!1}):c?y&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!h,clearSelection:!h,rangeSelect:h}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!_&&!c,rangeSelect:h})}}},o.prototype.setupDetailRowAutoHeight=function(i){var s=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var l=function(){var h=i.clientHeight;null!=h&&h>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(h),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(i,l);this.addDestroyFunc(c),l()}},o.prototype.createFullWidthParams=function(i,s){var l=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:i,eParentOfValue:i,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(h,g,_,y){return l.addFullWidthRowDragging(h,g,_,y)}}},o.prototype.addFullWidthRowDragging=function(i,s,l,c){if(void 0===l&&(l=""),this.isFullWidth()){var h=new Kf(function(){return l},this.rowNode,void 0,i,s,c);this.createManagedBean(h,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){var s="ag-row-level-"+i,l="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(s,!0),c.rowComp.addOrRemoveCssClass(l,!1)})}this.rowLevel=i},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){var i=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-first",i)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},o.prototype.stopEditing=function(i){if(void 0===i&&(i=!1),this.getAllCellCtrls().forEach(function(l){return l.stopEditing(i)}),this.editingRow){if(!i){var s=this.createRowEvent(G.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}this.setEditingRow(!1)}},o.prototype.setInlineEditingCss=function(i){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})},o.prototype.setEditingRow=function(i){this.editingRow=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-editing",i)});var s=this.createRowEvent(i?G.EVENT_ROW_EDITING_STARTED:G.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},o.prototype.startRowEditing=function(i,s,l){void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(c){var h=c===l;h?c.startEditing(i,s,h):c.startEditing(null,null,h)}),this.setEditingRow(!0))},o.prototype.getAllCellCtrls=function(){var i=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return i},o.prototype.postProcessClassesFromGridOptions=function(){var i=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!s||!s.length||s.forEach(function(l){i.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(l,!0)})})},o.prototype.postProcessRowClassRules=function(){var i=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!0)})},function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!1)})})},o.prototype.setStylesFromGridOptions=function(){var i=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(i)})},o.prototype.getRowBusinessKey=function(){var i=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof i)return i(this.rowNode)},o.prototype.getInitialRowClasses=function(i){var s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)},o.prototype.processStylesFromGridOptions=function(){var i=this.beans.gridOptionsWrapper.getRowStyle();if(!i||"function"!=typeof i){var l,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(l=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Cr({},i,l)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.onRowSelected=function(){var i=this,s=this.rowNode.isSelected();this.allRowGuis.forEach(function(l){l.rowComp.setAriaSelected(!!s||void 0),l.rowComp.addOrRemoveCssClass("ag-row-selected",s),l.rowComp.setAriaLabel(i.createAriaLabel())})},o.prototype.createAriaLabel=function(){var i=this.rowNode.isSelected();if(!i||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(i?"deselect":"select")+" this row.")},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(i){var s=this;!this.active||(this.addManagedListener(i,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(i,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,wt.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Ie(i,"ag-row-hover")}),this.addManagedListener(this.rowNode,wt.EVENT_MOUSE_LEAVE,function(){Kn(i,"ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(i){var l=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(l.top,!0)-100,h=this.applyPaginationOffset(l.bottom,!0)+100;return Math.min(Math.max(c,i),h)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(he(this.rowNode.rowHeight)){var i=this.rowNode.rowHeight+"px";this.allRowGuis.forEach(function(s){return s.rowComp.setHeight(i)})}},o.prototype.addEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=G.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+G.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.addEventListener.call(this,i,s)},o.prototype.removeEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=G.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+G.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.removeEventListener.call(this,i,s)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var i=this.createRowEvent(G.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),u.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var i=function(s){return s.list.forEach(function(l){return l.destroy()}),{list:[],map:{}}};this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var i=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},o.prototype.onCellFocusChanged=function(){var i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var i=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged())},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(i,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?i:i+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},o.prototype.setRowTop=function(i){if(!this.printLayout&&he(i)){var s=this.applyPaginationOffset(i),l=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(l+"px")}},o.prototype.getInitialRowTop=function(){return this.initialTop},o.prototype.getInitialTransform=function(){return this.initialTransform},o.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var i=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(i),c=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=c:this.initialTransform="translateY("+c+")"},o.prototype.setRowTopStyle=function(i){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(l){return s?l.rowComp.setTop(i):l.rowComp.setTransform("translateY("+i+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(i){var s=null;return this.getAllCellCtrls().forEach(function(l){l.getColumn()==i&&(s=l)}),null!=s||this.getAllCellCtrls().forEach(function(l){l.getColSpanningList().indexOf(i)>=0&&(s=l)}),s},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},o.prototype.updateRowIndexes=function(){var i=this,s=this.rowNode.getRowIndexString(),l=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0;this.allRowGuis.forEach(function(h){h.rowComp.setRowIndex(s),h.rowComp.setAriaRowIndex(l+i.rowNode.rowIndex+1),h.rowComp.addOrRemoveCssClass("ag-row-even",c),h.rowComp.addOrRemoveCssClass("ag-row-odd",!c)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(ie),ry=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wi=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ug=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s},bp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.destroyFuncsForColumnListeners=[],i.rowCtrlsByRowIndex={},i.zombieRowCtrls={},i.allRowCtrls=[],i.topRowCtrls=[],i.bottomRowCtrls=[],i.refreshInProgress=!1,i}return ry(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl(),i.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,G.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,G.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,G.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var i=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new ZE(null!=i?i:3)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.updateAllRowCtrls=function(){var i=po(this.rowCtrlsByRowIndex);this.beans.gridOptionsWrapper.isEnsureDomOrder()&&i.sort(function(c,h){return c.getRowNode().rowIndex-h.getRowNode.rowIndex});var s=po(this.zombieRowCtrls),l=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=ug(i,s,l)},o.prototype.registerCellEventListeners=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_CELL_FOCUSED,function(l){i.getAllCellCtrls().forEach(function(c){return c.onCellFocused(l)}),i.getAllRowCtrls().forEach(function(c){c.isFullWidth()&&c.onFullWidthRowFocused(l)})}),this.addManagedListener(this.eventService,G.EVENT_FLASH_CELLS,function(l){i.getAllCellCtrls().forEach(function(c){return c.onFlashCells(l)})}),this.addManagedListener(this.eventService,G.EVENT_COLUMN_HOVER_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onColumnHover()})}),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){i.printLayout&&i.getAllCellCtrls().forEach(function(l){return l.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,G.EVENT_RANGE_SELECTION_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,G.EVENT_COLUMN_MOVED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PINNED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,G.EVENT_COLUMN_VISIBLE,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,G.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(i){return i()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var i=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(l){var c=function(w){i.getAllCellCtrls().forEach(function(x){x.getColumn()===l&&w(x)})},h=function(){c(function(w){return w.onLeftChanged()})},g=function(){c(function(w){return w.onWidthChanged()})},_=function(){c(function(w){return w.onFirstRightPinnedChanged()})},y=function(){c(function(w){return w.onLastLeftPinnedChanged()})};l.addEventListener(Mt.EVENT_LEFT_CHANGED,h),l.addEventListener(Mt.EVENT_WIDTH_CHANGED,g),l.addEventListener(Mt.EVENT_FIRST_RIGHT_PINNED_CHANGED,_),l.addEventListener(Mt.EVENT_LAST_LEFT_PINNED_CHANGED,y),i.destroyFuncsForColumnListeners.push(function(){l.removeEventListener(Mt.EVENT_LEFT_CHANGED,h),l.removeEventListener(Mt.EVENT_WIDTH_CHANGED,g),l.removeEventListener(Mt.EVENT_FIRST_RIGHT_PINNED_CHANGED,_),l.removeEventListener(Mt.EVENT_LAST_LEFT_PINNED_CHANGED,y)})})},o.prototype.onDomLayoutChanged=function(){var i=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,s=i||this.gridOptionsWrapper.isEmbedFullWidthRows(),l=s!==this.embedFullWidthRows||this.printLayout!==i;this.printLayout=i,this.embedFullWidthRows=s,l&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},o.prototype.onPageLoaded=function(i){this.redrawAfterModelUpdate({recycleRows:i.keepRenderedRows,animate:i.animate,newData:i.newData,newPage:i.newPage,onlyBody:!0})},o.prototype.getAllCellsForColumn=function(i){var s=[];return this.getAllRowCtrls().forEach(function(l){var c=l.getCellElement(i);c&&s.push(c)}),s},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(i,s){var l=this;i.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),i.length=0,s&&s.forEach(function(c){var h=new aa(l.$scope,c,l.beans,!1,!1,l.printLayout);i.push(h)})},o.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},o.prototype.getRenderedIndexesForRowNodes=function(i){var s=[];return je(i)||It(this.rowCtrlsByRowIndex,function(l,c){var h=c.getRowNode();i.indexOf(h)>=0&&s.push(l)}),s},o.prototype.redrawRows=function(i){var s=null!=i&&i.length>0;if(s){var l=this.getRenderedIndexesForRowNodes(i);this.removeRowCtrls(l)}this.redrawAfterModelUpdate({recycleRows:s})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(i){var s=i.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var l=document.activeElement,c=this.gridOptionsWrapper.getDomData(l,qo.DOM_DATA_KEY_CELL_CTRL),h=this.gridOptionsWrapper.getDomData(l,aa.DOM_DATA_KEY_ROW_CTRL);return c||h?s:null},o.prototype.redrawAfterModelUpdate=function(i){void 0===i&&(i={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(i);this.updateContainerHeights(),this.scrollToTopIfNewData(i);var l=!this.printLayout&&!!i.recycleRows,c=i.animate&&this.gridOptionsWrapper.isAnimateRows(),h=l?this.recycleRows():null;l||this.removeAllRowComps();var _=function(){if(null==s||null==h)return!1;var y=!1;return It(h,function(w,x){var k=x.getRowNode();k.rowIndex==s.rowIndex&&k.rowPinned==s.rowPinned&&(y=!0)}),y}();this.redraw(h,c),i.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),_||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(i){var s=i.newData||i.newPage,l=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!l&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var i=this.paginationProxy.getCurrentPageHeight();0===i&&(i=1),this.rowContainerHeightService.setModelHeight(i)}},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.restoreFocusedCell=function(i){i&&this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0)},o.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(i)})},o.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(i){return i.onNewColumnsLoaded()})},o.prototype.getAllCellCtrls=function(){var i=[];return this.getAllRowCtrls().forEach(function(s){return i=i.concat(s.getAllCellCtrls())}),i},o.prototype.getAllRowCtrls=function(){var i=this,s=ug(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(l){return s.push(i.rowCtrlsByRowIndex[l])}),s},o.prototype.addRenderedRowListener=function(i,s,l){var c=this.rowCtrlsByRowIndex[s];c&&c.addEventListener(i,l)},o.prototype.flashCells=function(i){void 0===i&&(i={});var s=i.flashDelay,l=i.fadeDelay;this.getCellCtrls(i.rowNodes,i.columns).forEach(function(c){return c.flashCell({flashDelay:s,fadeDelay:l})})},o.prototype.refreshCells=function(i){void 0===i&&(i={});var s={forceRefresh:i.force,newData:!1,suppressFlash:i.suppressFlash};this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){if(l.refreshShouldDestroy()){var c=l.getRowCtrl();c&&c.refreshCell(l)}else l.refreshCell(s)})},o.prototype.getCellRendererInstances=function(i){return this.getCellCtrls(i.rowNodes,i.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l})},o.prototype.getCellEditorInstances=function(i){var s=[];return this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){var c=l.getCellEditor();c&&s.push(c)}),s},o.prototype.getEditingCells=function(){var i=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var l=s.getCellPosition();i.push(l)}}),i},o.prototype.getCellCtrls=function(i,s){var c,g,l=this,h=[];he(i)&&(c={top:{},bottom:{},normal:{}},i.forEach(function(y){var w=y.id;y.rowPinned===q.PINNED_TOP?c.top[w]=!0:y.rowPinned===q.PINNED_BOTTOM?c.bottom[w]=!0:c.normal[w]=!0})),he(s)&&(g={},s.forEach(function(y){var w=l.columnModel.getGridColumn(y);he(w)&&(g[w.getId()]=!0)}));var _=function(y){var w=y.getRowNode(),x=w.id,k=w.rowPinned;if(he(c))if(k===q.PINNED_BOTTOM){if(!c.bottom[x])return}else if(k===q.PINNED_TOP){if(!c.top[x])return}else if(!c.normal[x])return;y.getAllCellCtrls().forEach(function(B){var j=B.getColumn().getId();g&&!g[j]||h.push(B)})};return It(this.rowCtrlsByRowIndex,function(y,w){_(w)}),this.topRowCtrls&&this.topRowCtrls.forEach(_),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(_),h},o.prototype.destroy=function(){this.removeAllRowComps(),u.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},o.prototype.recycleRows=function(){var i=[];It(this.rowCtrlsByRowIndex,function(l,c){null==c.getRowNode().id&&i.push(l)}),this.removeRowCtrls(i);var s={};return It(this.rowCtrlsByRowIndex,function(l,c){var h=c.getRowNode();s[h.id]=c}),this.rowCtrlsByRowIndex={},s},o.prototype.removeRowCtrls=function(i){var s=this;i.forEach(function(l){var c=s.rowCtrlsByRowIndex[l];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete s.rowCtrlsByRowIndex[l]})},o.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},o.prototype.removeRowCompsNotToDraw=function(i){var s={};i.forEach(function(h){return s[h]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(h){return!s[h]});this.removeRowCtrls(c)},o.prototype.calculateIndexesToDraw=function(i){var s=this,l=_e(this.firstRenderedRow,this.lastRenderedRow),c=function(h,g){var _=g.getRowNode().rowIndex;null!=_&&(_<s.firstRenderedRow||_>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(g)&&l.push(_)};return It(this.rowCtrlsByRowIndex,c),It(i,c),l.sort(function(h,g){return h-g}),l},o.prototype.redraw=function(i,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var h=this.calculateIndexesToDraw(i);this.removeRowCompsNotToDraw(h),this.printLayout&&(s=!1),h.forEach(function(_){he(c.createOrUpdateRowCtrl(_,i,s,l))}),i&&(!l||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(i,s):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(i,s),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},o.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:G.EVENT_DISPLAYED_ROWS_CHANGED})},o.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==i||s!==this.pinningRight)&&(this.pinningLeft=i,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var i=[];It(this.rowCtrlsByRowIndex,function(s,l){if(l.isFullWidth()){var c=l.getRowNode().rowIndex;i.push(c.toString())}}),this.refreshFloatingRowComps(),this.removeRowCtrls(i),this.redrawAfterScroll()},o.prototype.refreshFullWidthRows=function(i){var s=[],l=!!i,c=l?{}:void 0;l&&c&&i.forEach(function(h){return c[h.id]=!0}),It(this.rowCtrlsByRowIndex,function(h,g){if(g.isFullWidth()){var _=g.getRowNode();if(l&&c&&!c[_.id]&&!c[_.level>0&&_.parent?_.parent.id:void 0])return;if(!g.refreshFullWidth()){var k=g.getRowNode().rowIndex;s.push(k.toString())}}}),this.removeRowCtrls(s),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(i,s,l,c){var h,g=this.rowCtrlsByRowIndex[i];if(g||he(h=this.paginationProxy.getRow(i))&&he(s)&&s[h.id]&&h.alreadyRendered&&(g=s[h.id],s[h.id]=null),!g){if(h||(h=this.paginationProxy.getRow(i)),!he(h))return;g=this.createRowCon(h,l,c)}return h&&(h.alreadyRendered=!0),this.rowCtrlsByRowIndex[i]=g,g},o.prototype.destroyRowCtrls=function(i,s){var l=this,c=[];It(i,function(h,g){if(g){if(l.cachedRowCtrls&&g.isCacheable())return void l.cachedRowCtrls.addRow(g);g.destroyFirstPass(),s?(l.zombieRowCtrls[g.getInstanceId()]=g,c.push(function(){g.destroySecondPass(),delete l.zombieRowCtrls[g.getInstanceId()]})):g.destroySecondPass()}}),s&&(c.push(function(){l.updateAllRowCtrls(),l.dispatchDisplayedRowsChanged()}),pf(c))},o.prototype.checkAngularCompile=function(){var i=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){i.$scope.$apply()},0)},o.prototype.workOutFirstAndLastRowsToRender=function(){var s,l,i=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow();else{var c=this.gridOptionsWrapper.getRowBufferInPixels(),h=this.ctrlsService.getGridBodyCtrl(),g=!1,_=void 0,y=void 0;do{var w=this.paginationProxy.getPixelOffset(),x=this.paginationProxy.getCurrentPagePixelRange(),k=x.pageFirstPixel,B=x.pageLastPixel,j=this.rowContainerHeightService.getDivStretchOffset(),ee=h.getScrollFeature().getVScrollPosition(),we=ee.bottom;_=Math.max(ee.top+w-c,k)+j,y=Math.min(we+w+c,B)+j,g=this.ensureAllRowsInRangeHaveHeightsCalculated(_,y)}while(g);var ge=this.paginationProxy.getRowIndexAtPixel(_),de=this.paginationProxy.getRowIndexAtPixel(y),Te=this.paginationProxy.getPageFirstRow(),We=this.paginationProxy.getPageLastRow();ge<Te&&(ge=Te),de>We&&(de=We),s=ge,l=de}else s=0,l=-1;var Dt=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL,Ze=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Et=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(Dt&&!Ze&&l-s>Et&&(l=s+Et),(s!==this.firstRenderedRow||l!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=l,this.eventService.dispatchEvent({type:G.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var ln={type:G.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return i.eventService.dispatchEventOnce(ln)},50)}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(i,s){var l=this.paginationProxy.ensureRowHeightsValid(i,s,-1,-1);return l&&this.updateContainerHeights(),l},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(i){var c=i.getRowNode(),h=this.focusService.isRowNodeFocused(c),g=i.isEditing();return!!(h||g||c.detail)&&!!this.paginationProxy.isRowPresent(c)},o.prototype.createRowCon=function(i,s,l){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(i):null;if(c)return c;var h=this.gridOptionsWrapper.isSuppressAnimationFrame();return new aa(this.$scope,i,this.beans,s,l&&!h&&!this.printLayout,this.printLayout)},o.prototype.getRenderedNodes=function(){var i=this.rowCtrlsByRowIndex;return Object.keys(i).map(function(s){return i[s].getRowNode()})},o.prototype.getRowByPosition=function(i){var s;switch(i.rowPinned){case q.PINNED_TOP:s=this.topRowCtrls[i.rowIndex];break;case q.PINNED_BOTTOM:s=this.bottomRowCtrls[i.rowIndex];break;default:s=this.rowCtrlsByRowIndex[i.rowIndex]}return s},o.prototype.getRowNode=function(i){switch(i.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(i,s){return!(null==i||null==s||s<this.firstRenderedRow||i>this.lastRenderedRow)},Wi([P("paginationProxy")],o.prototype,"paginationProxy",void 0),Wi([P("columnModel")],o.prototype,"columnModel",void 0),Wi([P("$scope")],o.prototype,"$scope",void 0),Wi([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Wi([P("rowModel")],o.prototype,"rowModel",void 0),Wi([P("focusService")],o.prototype,"focusService",void 0),Wi([P("columnApi")],o.prototype,"columnApi",void 0),Wi([P("gridApi")],o.prototype,"gridApi",void 0),Wi([P("beans")],o.prototype,"beans",void 0),Wi([P("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),Wi([mt("ctrlsService")],o.prototype,"ctrlsService",void 0),Wi([Se],o.prototype,"postConstruct",null),Wi([xe("rowRenderer")],o)}(ie),ZE=function(){function u(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return u.prototype.toString=function(){return this.entriesList.map(function(o){return o.getRowNode().data.name}).join(", ")},u.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}},u.prototype.getRow=function(o){if(null==o||null==o.id)return null;var i=this.entriesMap[o.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=o?null:i):null},u.prototype.removeFromCache=function(o){var i=o.getRowNode().id;delete this.entriesMap[i],ii(this.entriesList,o)},u.prototype.getEntries=function(){return this.entriesList},u}(),Vt=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ss=function(u){function o(i,s){var l=u.call(this,i)||this;return l.ctrl=s,l}return Vt(o,u),o.prototype.getCtrl=function(){return this.ctrl},o}(vt),eD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qa=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},oy=function(u){function o(i){var s=u.call(this,o.TEMPLATE,i)||this;return s.headerCompVersion=0,s.column=i.getColumnGroupChild(),s.pinned=i.getPinned(),s}return eD(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(g,_,y){var w=y||s;null!=_&&""!=_?w.setAttribute(g,_):w.removeAttribute(g)};this.ctrl.setComp({setWidth:function(g){return s.style.width=g},addOrRemoveCssClass:function(g,_){return i.addOrRemoveCssClass(g,_)},setAriaSort:function(g){return g?Yd(s,g):E_(s)},setColId:function(g){return l("col-id",g)},setTitle:function(g){return l("title",g)},setAriaDescribedBy:function(g){return Ud(s,g)},setUserCompDetails:function(g){return i.setUserCompDetails(g)},getUserCompInstance:function(){return i.headerComp}},this.getGui(),this.eResize);var h=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",h)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(i){var s=this;this.headerCompVersion++;var l=this.headerCompVersion;i.newAgStackInstance().then(function(c){return s.afterCompCreated(l,c)})},o.prototype.afterCompCreated=function(i,s){i==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},o.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Qa([me("eResize")],o.prototype,"eResize",void 0),Qa([Se],o.prototype,"postConstruct",null),Qa([di],o.prototype,"destroyHeaderComp",null),o}(Ss),tD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),dg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},nD=function(u){function o(i){return u.call(this,o.TEMPLATE,i)||this}return tD(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(h,g){return null!=g?s.setAttribute(h,g):s.removeAttribute(h)};this.ctrl.setComp({addOrRemoveCssClass:function(h,g){return i.addOrRemoveCssClass(h,g)},addOrRemoveResizableCssClass:function(h,g){return ze(i.eResize,h,g)},setWidth:function(h){return s.style.width=h},setColId:function(h){return s.setAttribute("col-id",h)},setAriaExpanded:function(h){return l("aria-expanded",h)},setTitle:function(h){return l("title",h)},setUserCompDetails:function(h){return i.setUserCompDetails(h)}},s,this.eResize)},o.prototype.setUserCompDetails=function(i){var s=this;i.newAgStackInstance().then(function(l){return s.afterHeaderCompCreated(l)})},o.prototype.afterHeaderCompCreated=function(i){var s=this,l=function(){return s.destroyBean(i)};this.isAlive()?(this.getGui().appendChild(i.getGui()),this.addDestroyFunc(l),this.ctrl.setDragSource(i.getGui())):l()},o.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',dg([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),dg([me("eResize")],o.prototype,"eResize",void 0),dg([Se],o.prototype,"postConstruct",null),o}(Ss),iD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},rD=function(u){function o(i){return u.call(this,o.TEMPLATE,i)||this}return iD(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,h){return i.addOrRemoveCssClass(c,h)},addOrRemoveBodyCssClass:function(c,h){return ze(i.eFloatingFilterBody,c,h)},addOrRemoveButtonWrapperCssClass:function(c,h){return ze(i.eButtonWrapper,c,h)},setCompDetails:function(c){return i.setCompDetails(c)},getFloatingFilterComp:function(){return i.compPromise},setWidth:function(c){return s.style.width=c},setMenuIcon:function(c){return i.eButtonShowMainFilter.appendChild(c)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(i){var s=this;this.compPromise=i.newAgStackInstance(),this.compPromise.then(function(l){return s.afterCompCreated(l)})},o.prototype.afterCompCreated=function(i){var s=this;!i||(this.addDestroyFunc(function(){return s.context.destroyBean(i)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(i.getGui()),i.afterGuiAttached&&i.afterGuiAttached()))},o.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',wp([me("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),wp([me("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),wp([me("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),wp([Se],o.prototype,"postConstruct",null),o}(Ss),Kx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.COLUMN_GROUP="group",u.COLUMN="column",u.FLOATING_FILTER="filter"}(W.A6C||(W.A6C={}));var ji=function(u){function o(i){var s=u.call(this)||this;s.headerComps={};var l=i.getType()==W.A6C.COLUMN_GROUP?"ag-header-row-column-group":i.getType()==W.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+l+'" role="row"></div>'),s.ctrl=i,s}return Kx(o,u),o.prototype.init=function(){var i=this;this.ctrl.setComp({setTransform:function(l){return i.getGui().style.transform=l},setHeight:function(l){return i.getGui().style.height=l},setTop:function(l){return i.getGui().style.top=l},setHeaderCtrls:function(l){return i.setHeaderCtrls(l)},setWidth:function(l){return i.getGui().style.width=l},setAriaRowIndex:function(l){return Rf(i.getGui(),l)}})},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(i){var s=this;if(this.isAlive()){var l=this.headerComps;if(this.headerComps={},i.forEach(function(_){var y=_.getInstanceId(),w=l[y];delete l[y],null==w&&(w=s.createHeaderComp(_),s.getGui().appendChild(w.getGui())),s.headerComps[y]=w}),It(l,function(_,y){s.getGui().removeChild(y.getGui()),s.destroyBean(y)}),this.gridOptionsWrapper.isEnsureDomOrder()){var h=po(this.headerComps);h.sort(function(_,y){return _.getCtrl().getColumnGroupChild().getLeft()-y.getCtrl().getColumnGroupChild().getLeft()});var g=h.map(function(_){return _.getGui()});rn(this.getGui(),g)}}},o.prototype.createHeaderComp=function(i){var s;switch(this.ctrl.getType()){case W.A6C.COLUMN_GROUP:s=new nD(i);break;case W.A6C.FLOATING_FILTER:s=new rD(i);break;default:s=new oy(i)}return this.createBean(s),s.setParentComponent(this),s},Jl([Se],o.prototype,"init",null),Jl([di],o.prototype,"destroyHeaderCtrls",null),o}(vt),pg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ja=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"}(W.Y8R||(W.Y8R={}));var hg=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return pg(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var i=this.ctrlsService.getHeaderRowContainerCtrl();return i?i.getRowCount():0},o.prototype.getHeaderRowType=function(i){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(i)},o.prototype.navigateVertically=function(i,s,l){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var c=s.headerRowIndex,h=s.column,g=this.getHeaderRowCount(),_=i===W.Y8R.UP,y=_?c-1:c+1,w=null,x=!1;y<0&&(y=0,w=h,x=!0),y>=g&&(y=-1);var k=this.getHeaderRowType(c);if(!x){if(k===W.A6C.COLUMN_GROUP){var B=h;w=_?h.getParent():B.getDisplayedChildren()[0]}else k===W.A6C.FLOATING_FILTER?w=h:(B=h,w=_?B.getParent():B);if(!w)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:y,column:w},allowUserOverride:!0,event:l})},o.prototype.navigateHorizontally=function(i,s,l){void 0===s&&(s=!1);var _,y,c=this.focusService.getFocusedHeader();return(_=i===W.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,y="Before"):this.headerPositionUtils.findHeader(c,y="After"))?this.focusService.focusHeaderPosition({headerPosition:_,direction:y,fromTab:s,allowUserOverride:!0,event:l}):!s||this.focusNextHeaderRow(c,y,l)},o.prototype.focusNextHeaderRow=function(i,s,l){var c=i.headerRowIndex,h=null;return"Before"===s?c>0&&(h=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):h=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:h,direction:s,fromTab:!0,allowUserOverride:!0,event:l})},o.prototype.scrollToColumn=function(i,s){if(void 0===s&&(s="After"),!i.getPinned()){var l;if(i instanceof pi){var c=i.getDisplayedLeafColumns();l="Before"===s?Zt(c):c[0]}else l=i;this.gridBodyCon.getScrollFeature().ensureColumnVisible(l),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Ja([P("focusService")],o.prototype,"focusService",void 0),Ja([P("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),Ja([P("animationFrameService")],o.prototype,"animationFrameService",void 0),Ja([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Ja([Se],o.prototype,"postConstruct",null),Ja([xe("headerNavigationService")],o)}(ie),Ui=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),la=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Sp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ui(o,u),o.prototype.setComp=function(i,s,l){this.comp=i,this.eGui=s,this.createManagedBean(new On(l,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var i=this.setHeaderHeight.bind(this);i(),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_PIVOT_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_FLOATING_FILTERS_HEIGHT,i),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,i)},o.prototype.setHeaderHeight=function(){var g,_,y,s=this.columnModel,l=this.gridOptionsWrapper,c=0,h=s.getHeaderRowCount();s.isPivotMode()?(_=l.getPivotGroupHeaderHeight(),y=l.getPivotHeaderHeight()):(s.hasFloatingFilters()&&(h++,c=1),_=l.getGroupHeaderHeight(),y=l.getHeaderHeight());var k=h-(1+c);g=c*l.getFloatingFiltersHeight(),g+=k*_,this.comp.setHeightAndMinHeight((g+=y)+1+"px")},o.prototype.onPivotModeChanged=function(){var i=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",i),this.comp.addOrRemoveCssClass("ag-pivot-off",!i)},o.prototype.onTabKeyDown=function(i){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(i.shiftKey!==s?W.Y8R.LEFT:W.Y8R.RIGHT,!0,i)||this.focusService.focusNextGridCoreContainer(i.shiftKey))&&i.preventDefault()},o.prototype.handleKeyDown=function(i){var s=null;switch(i.keyCode){case be.LEFT:s=W.Y8R.LEFT;case be.RIGHT:he(s)||(s=W.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,i);break;case be.UP:s=W.Y8R.UP;case be.DOWN:he(s)||(s=W.Y8R.DOWN),this.headerNavigationService.navigateVertically(s,null,i)&&i.preventDefault();break;default:return}},o.prototype.onFocusOut=function(i){var s=i.relatedTarget;!s&&this.eGui.contains(document.activeElement)||this.eGui.contains(s)||this.focusService.clearFocusedHeader()},la([P("headerNavigationService")],o.prototype,"headerNavigationService",void 0),la([P("focusService")],o.prototype,"focusService",void 0),la([P("columnModel")],o.prototype,"columnModel",void 0),la([P("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(ie),oD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),sy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ep=function(u){function o(i){var s=u.call(this)||this;return s.callback=i,s}return oD(o,u),o.prototype.postConstruct=function(){var i=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,i),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.setWidth()},o.prototype.setWidth=function(){var i=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,l=i.getBodyContainerWidth(),c=i.getDisplayedColumnsLeftWidth(),h=i.getDisplayedColumnsRightWidth();this.callback(s?l+c+h:l)},sy([P("columnModel")],o.prototype,"columnModel",void 0),sy([Se],o.prototype,"postConstruct",null),o}(ie),Au=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},fg=function(){function u(o,i){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=i,this.centerContainer=!he(o)}return u.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},u.prototype.getIconName=function(){return this.pinned?Bi.ICON_PINNED:Bi.ICON_MOVE},u.prototype.onDragEnter=function(o){var i=o.dragItem.columns;if(o.dragSource.type===W.rvo.ToolPanel)this.setColumnsVisible(i,!0,"uiColumnDragged");else{var l=o.dragItem.visibleState,c=(i||[]).filter(function(h){return l[h.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(o,!0)},u.prototype.onDragLeave=function(o){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!o.fromNudge){var s=o.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},u.prototype.setColumnsVisible=function(o,i,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(l,i,s)}},u.prototype.setColumnsPinned=function(o,i,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(l,i,s)}},u.prototype.onDragStop=function(){this.ensureIntervalCleared()},u.prototype.normaliseX=function(o){return this.gridOptionsWrapper.isEnableRtl()&&(o=this.eContainer.clientWidth-o),this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},u.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var i=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=i+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<i+50,this.needToMoveLeft=o>s-50):(this.needToMoveLeft=o<i+50,this.needToMoveRight=o>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},u.prototype.onDragging=function(o,i){var s=this;if(void 0===i&&(i=!1),this.lastDraggingEvent=o,!je(o.hDirection)){var l=this.normaliseX(o.x);i||this.checkCenterForScrolling(l);var c=this.normaliseDirection(o.hDirection),h=o.dragSource.type,g=o.dragSource.getDragItem().columns;g=g.filter(function(_){return!_.getColDef().lockPinned||_.getPinned()==s.pinned}),this.attemptMoveColumns(h,g,c,l,i)}},u.prototype.normaliseDirection=function(o){if(!this.gridOptionsWrapper.isEnableRtl())return o;switch(o){case W.poj.Left:return W.poj.Right;case W.poj.Right:return W.poj.Left;default:console.error("AG Grid: Unknown direction "+o)}},u.prototype.calculateOldIndex=function(o){var i=this.columnModel.getAllGridColumns(),s=Wv(o.map(function(_){return i.indexOf(_)})),l=s[0];return Zt(s)-l!=s.length-1?null:l},u.prototype.attemptMoveColumns=function(o,i,s,l,c){var h=s===W.poj.Left,g=s===W.poj.Right,_=i.slice();this.columnModel.sortColumnsLikeGridColumns(_);var y=this.calculateValidMoves(_,g,l),w=this.calculateOldIndex(_);if(0!==y.length){var x=y[0],k=null!==w&&!c;if(o==W.rvo.HeaderCell&&(k=null!==w),!k||!(h&&x>=w||g&&x<=w))for(var B=0;B<y.length;B++){var j=y[B];if(this.columnModel.doesMovePassRules(_,j))return void this.columnModel.moveColumns(_,j,"uiColumnDragged")}}},u.prototype.calculateValidMoves=function(o,i,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(Ze){return Ze.getColDef().suppressMovable}))return[];var ee,c=this.columnModel.getDisplayedColumns(this.pinned),h=this.columnModel.getAllGridColumns(),g=c.filter(function(Ze){return ri(o,Ze)}),_=c.filter(function(Ze){return!ri(o,Ze)}),y=h.filter(function(Ze){return!ri(o,Ze)}),w=0,x=s;if(i){var k=0;g.forEach(function(Ze){return k+=Ze.getActualWidth()}),x-=k}if(x>0){for(var B=0;B<_.length&&!((x-=_[B].getActualWidth())<0);B++)w++;i&&w++}w>0?ee=y.indexOf(_[w-1])+1:-1===(ee=y.indexOf(_[0]))&&(ee=0);var we=[ee],ge=function(Ze,Et){return Ze-Et};if(i){for(var de=ee+1,Te=h.length-1;de<=Te;)we.push(de),de++;we.sort(ge)}else{Te=h.length-1;for(var We=h[de=ee];de<=Te&&this.isColumnHidden(c,We);)de++,we.push(de),We=h[de];for(de=ee-1;de>=0;)we.push(de),de--;we.sort(ge).reverse()}return we},u.prototype.isColumnHidden=function(o,i){return o.indexOf(i)<0},u.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Bi.ICON_LEFT:Bi.ICON_RIGHT,!0))},u.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Bi.ICON_MOVE))},u.prototype.moveInterval=function(){var o;this.intervalCount++,(o=10+5*this.intervalCount)>100&&(o=100);var i=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=s.scrollHorizontally(-o):this.needToMoveRight&&(i=s.scrollHorizontally(o)),0!==i)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(g){return!g.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(Bi.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?q.PINNED_LEFT:q.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Au([P("columnModel")],u.prototype,"columnModel",void 0),Au([P("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Au([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Au([P("ctrlsService")],u.prototype,"ctrlsService",void 0),Au([Se],u.prototype,"init",null),u}(),ay=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},gg=function(){function u(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return u.prototype.onDragEnter=function(o){var i=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=o.dragItem.columns;!s||s.forEach(function(l){!l.isPrimary()||l.isAnyFunctionActive()||(l.isAllowValue()?i.columnsToAggregate.push(l):l.isAllowRowGroup()?i.columnsToGroup.push(l):l.isAllowPivot()&&i.columnsToPivot.push(l))})}},u.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Bi.ICON_PINNED:Bi.ICON_MOVE:null},u.prototype.onDragLeave=function(o){this.clearColumnsList()},u.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},u.prototype.onDragging=function(o){},u.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},ay([P("columnModel")],u.prototype,"columnModel",void 0),ay([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),sD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ou=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Dp=function(u){function o(i,s){var l=u.call(this)||this;return l.pinned=i,l.eContainer=s,l}return sD(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){switch(i.pinned){case q.PINNED_LEFT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case q.PINNED_RIGHT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},o.prototype.isInterestedIn=function(i){return i===W.rvo.HeaderCell||i===W.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new fg(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new gg(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(i){return this.columnModel.isPivotMode()&&i.dragSource.type===W.rvo.ToolPanel},o.prototype.onDragEnter=function(i){this.currentDropListener=this.isDropColumnInPivotMode(i)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(i)},o.prototype.onDragLeave=function(i){this.currentDropListener.onDragLeave(i)},o.prototype.onDragging=function(i){this.currentDropListener.onDragging(i)},o.prototype.onDragStop=function(i){this.currentDropListener.onDragStop(i)},Ou([P("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Ou([P("columnModel")],o.prototype,"columnModel",void 0),Ou([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Ou([Se],o.prototype,"postConstruct",null),Ou([Se],o.prototype,"init",null),o}(ie),aD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mg=0,xu=function(u){function o(i,s){var l=u.call(this)||this;return l.lastFocusEvent=null,l.columnGroupChild=i,l.parentRowCtrl=s,l.instanceId=i.getUniqueId()+"-"+mg++,l}return aD(o,u),o.prototype.shouldStopEventPropagation=function(i){var s=this.focusService.getFocusedHeader();return tE(this.gridOptionsWrapper,i,s.headerRowIndex,s.column)},o.prototype.setGui=function(i){this.eGui=i,this.addDomData()},o.prototype.addDomData=function(){var i=this,s=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return i.gridOptionsWrapper.setDomData(i.eGui,s,null)})},o.prototype.focus=function(i){return!!this.eGui&&(this.lastFocusEvent=i||null,this.eGui.focus(),!0)},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([P("focusService")],o.prototype,"focusService",void 0),o}(ie),ly=function(){function u(){}return u.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},u.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},u}(),Es=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Tp=function(u){function o(i,s,l,c){var h=u.call(this)||this;return h.columnOrGroup=i,h.eCell=s,h.ariaEl=h.eCell.querySelector("[role=columnheader]")||h.eCell,h.colsSpanning=c,h.beans=l,h}return Es(o,u),o.prototype.setColsSpanning=function(i){this.colsSpanning=i,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Zt(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Mt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var i=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=he(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!i?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var i=this,s=this.getColumnOrGroup(),l=s.getLeft(),c=s.getOldLeft(),h=this.modifyLeftForPrintLayout(s,c),g=this.modifyLeftForPrintLayout(s,l);this.setLeft(h),this.actualLeft=g,this.beans.columnAnimationService.executeNextVMTurn(function(){i.actualLeft===g&&i.setLeft(g)})},o.prototype.onLeftChanged=function(){var i=this.getColumnOrGroup(),s=i.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(i,s),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(i,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==q.DOM_LAYOUT_PRINT||i.getPinned()===q.PINNED_LEFT)return s;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return i.getPinned()===q.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+s:c+s},o.prototype.setLeft=function(i){var s;if(he(i)&&(this.eCell.style.left=i+"px"),this.columnOrGroup instanceof Mt)s=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&S_(this.ariaEl,c.length),s=c[0]}var h=this.beans.columnModel.getAriaColumnIndex(s);Af(this.ariaEl,h)},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(ie),uD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},vg=function(u){function o(i,s){var l=u.call(this)||this;return l.columns=i,l.element=s,l}return uD(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},cy([P("columnHoverService")],o.prototype,"columnHoverService",void 0),cy([Se],o.prototype,"postConstruct",null),o}(ie),uy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xa=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},dy=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.column=i,l}return uy(o,u),o.prototype.setComp=function(i,s,l,c){u.prototype.setGui.call(this,s),this.comp=i,this.eButtonShowMainFilter=l,this.eFloatingFilterBody=c;var h=this.column.getColDef();this.active=!(!h.filter&&!h.filterFramework||!h.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var i=si("filter",this.gridOptionsWrapper,this.column);i&&this.eButtonShowMainFilter.appendChild(i)}},o.prototype.setupFocus=function(){this.createManagedBean(new On(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(i){if(document.activeElement!==this.eGui){var c=this.focusService.findNextFocusableElement(this.eGui,null,i.shiftKey);c&&(i.preventDefault(),c.focus())}},o.prototype.handleKeyDown=function(i){var l=document.activeElement===this.eGui;switch(i.keyCode){case be.UP:case be.DOWN:l||i.preventDefault();case be.LEFT:case be.RIGHT:if(l)return;i.stopPropagation();case be.ENTER:l&&this.focusService.focusInto(this.eGui)&&i.preventDefault();break;case be.ESCAPE:l||this.eGui.focus()}},o.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var l=this.focusService.isKeyboardMode(),c=!!i.relatedTarget&&!Sr(i.relatedTarget,"ag-floating-filter"),h=!!i.relatedTarget&&Oe(i.relatedTarget,"ag-floating-filter");if(l&&c&&h&&i.target===this.eGui){var g=this.lastFocusEvent;if(g&&g&&g.keyCode===be.TAB){var y=this.beans.focusService.getFocusedHeader(),w=this.beans.columnModel.getDisplayedColAfter(this.column);this.focusService.focusInto(this.eGui,!!(l&&g.shiftKey&&y&&w===y.column))}}var B=this.getRowIndex();this.beans.focusService.setFocusedHeader(B,this.column)}},o.prototype.setupHover=function(){var i=this;this.createManagedBean(new vg([this.column],this.eGui));var s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,G.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupLeft=function(){var i=new Tp(this.column,this.eGui,this.beans);this.createManagedBean(i)},o.prototype.setupUserComp=function(){if(this.active){var i=this.column.getColDef(),s=this.filterManager.createFilterParams(this.column,i),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,"filter",s),c=o.getDefaultFloatingFilterType(i);null==c&&(c="agReadOnlyFloatingFilter");var h={api:this.gridApi,column:this.column,filterParams:l,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!i.floatingFilterComponentParams&&!!i.floatingFilterComponentParams.suppressFilterButton;var g=this.userComponentFactory.getFloatingFilterCompDetails(i,h,c);g&&this.comp.setCompDetails(g)}},o.getDefaultFloatingFilterType=function(i){if(null==i)return null;var s=null;return"string"==typeof i.filter?s=ly.getFloatingFilterType(i.filter):i.filterFramework||!0===i.filter&&(s=tt.isRegistered(W.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},o.prototype.currentParentModel=function(){var i=this.getFilterComponent(!1);return i?i.resolveNow(null,function(s){return s&&s.getModel()}):null},o.prototype.getFilterComponent=function(i){return void 0===i&&(i=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",i)},o.prototype.onFloatingFilterChanged=function(){console.warn("AG Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},o.prototype.parentFilterInstance=function(i){var s=this,l=this.getFilterComponent();l&&l.then(function(c){var h=s.frameworkComponentWrapper?s.frameworkComponentWrapper.unwrap(c):c;i(h)})},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var i=this;if(this.active){var s=function(l){var c=i.comp.getFloatingFilterComp();if(c){var h=i.currentParentModel();c.then(function(g){return g&&g.onParentModelChanged(h,l)})}};this.addManagedListener(this.column,Mt.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},o.prototype.setupWidth=function(){var i=this,s=function(){var l=i.column.getActualWidth()+"px";i.comp.setWidth(l)};this.addManagedListener(this.column,Mt.EVENT_WIDTH_CHANGED,s),s()},Xa([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Xa([P("filterManager")],o.prototype,"filterManager",void 0),Xa([P("columnHoverService")],o.prototype,"columnHoverService",void 0),Xa([P("gridApi")],o.prototype,"gridApi",void 0),Xa([P("menuFactory")],o.prototype,"menuFactory",void 0),Xa([P("beans")],o.prototype,"beans",void 0),Xa([mt("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),o}(xu),_g=function(){function u(){}return u.getHeaderClassesFromColDef=function(o,i,s,l){return je(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,i,s,l)},u.getToolPanelClassesFromColDef=function(o,i,s,l){return je(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,i,s,l)},u.getColumnClassesFromCollDef=function(o,i,s,l,c){return je(o)?[]:"string"==typeof(h="function"==typeof o?o({colDef:i,column:l,columnGroup:c,context:s.getContext(),api:s.getApi()}):o)?[h]:Array.isArray(h)?h:[];var h},u}(),dD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Cg=function(u){function o(i,s,l,c,h){var g=u.call(this)||this;return g.pinned=i,g.column=s,g.eResize=l,g.comp=c,g.ctrl=h,g}return dD(o,u),o.prototype.postConstruct=function(){var c,h,i=this,s=this.column.getColDef(),l=[],_=function(){l.forEach(function(w){return w()}),l.length=0},y=function(){var w=i.column.isResizable(),x=!i.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(w!==c||x!==h)&&(c=w,h=x,_(),function(){if(Ct(i.eResize,c),c){var w=i.horizontalResizeService.addResizeBar({eResizeBar:i.eResize,onResizeStart:i.onResizeStart.bind(i),onResizing:i.onResizing.bind(i,!1),onResizeEnd:i.onResizing.bind(i,!0)});if(l.push(w),h){var x=i.gridOptionsWrapper.isSkipHeaderOnAutoSize(),k=function(){i.columnModel.autoSizeColumn(i.column,x,"uiColumnResized")};i.eResize.addEventListener("dblclick",k);var B=new Vi(i.eResize);B.addEventListener(Vi.EVENT_DOUBLE_TAP,k),i.addDestroyFunc(function(){i.eResize.removeEventListener("dblclick",k),B.removeEventListener(Vi.EVENT_DOUBLE_TAP,k),B.destroy()})}}}())};y(),this.addDestroyFunc(_),this.ctrl.addRefreshFunction(y)},o.prototype.onResizing=function(i,s){var l=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+l}],this.resizeWithShiftKey,i,"uiColumnDragged"),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(i){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=i,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(i){var s=i,l=this.pinned!==q.PINNED_LEFT,c=this.pinned===q.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?l&&(s*=-1):c&&(s*=-1),s},yg([P("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),yg([P("columnModel")],o.prototype,"columnModel",void 0),yg([Se],o.prototype,"postConstruct",null),o}(ie),pD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xl=function(u){function o(i,s,l){void 0===s&&(s="ag-checkbox"),void 0===l&&(l="checkbox");var c=u.call(this,i,s,l)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return pD(o,u),o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},o.prototype.setPassive=function(i){this.passive=i},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(i){ze(this.eWrapper,"ag-disabled",i),this.eInput.disabled=i,this.readOnly=i},o.prototype.setDisabled=function(i){return ze(this.eWrapper,"ag-disabled",i),u.prototype.setDisabled.call(this,i)},o.prototype.toggle=function(){if(!this.eInput.disabled){var i=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,i):this.setValue(s)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(i,s){return this.refreshSelectedClass(i),this.setSelected(i,s),this},o.prototype.setName=function(i){return this.getInputElement().name=i,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(i,s){this.isSelected()!==i&&(this.previousValue=this.isSelected(),i=this.selected="boolean"==typeof i?i:void 0,this.eInput.checked=i,this.eInput.indeterminate=void 0===i,s||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(i,s,l){this.dispatchEvent({type:o.EVENT_CHANGED,selected:i,previousValue:s,event:l});var c=this.getInputElement();this.eventService.dispatchEvent({type:G.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:i,previousValue:s})},o.prototype.onCheckboxClick=function(i){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),l=this.selected=i.target.checked;this.refreshSelectedClass(l),this.dispatchChange(l,s,i)}},o.prototype.refreshSelectedClass=function(i){ze(this.eWrapper,"ag-checked",!0===i),ze(this.eWrapper,"ag-indeterminate",null==i)},o}(Co),Zl=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Yx=function(u){function o(i){var s=u.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=i;var l=i.getColDef();return s.filteredOnly=!!l&&!!l.headerCheckboxSelectionFilteredOnly,s}return Zl(o,u),o.prototype.onSpaceKeyPressed=function(i){var s=this.cbSelectAll;s.isDisplayed()&&!s.getGui().contains(document.activeElement)&&(i.preventDefault(),s.setValue(!s.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(i){this.comp=i,this.cbSelectAll=this.createManagedBean(new Xl),this.cbSelectAll.addCssClass("ag-header-select-all"),ur(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,G.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Xl.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},o.prototype.refreshHeaderAriaDescribedBy=function(i){var s=i?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(s)},o.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(i){return(0!==i.selected||0!==i.notSelected)&&(i.selected>0&&i.notSelected>0?null:i.selected>0)},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var i=this.getSelectionCount(),s=this.getNextCheckboxState(i);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.cbSelectAll.getValue()?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),c=i("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(c+" ("+l+")")},o.prototype.getSelectionCount=function(){var i=this,s=0,l=0,c=function(h){i.gridOptionsWrapper.isGroupSelectsChildren()&&h.group||(h.isSelected()?s++:h.selectable&&l++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:l,selected:s}},o.prototype.checkRightRowModelType=function(){var i=this.rowModel.getType();i===q.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+i)},o.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},o.prototype.isCheckboxSelection=function(){var i=this.column.getColDef().headerCheckboxSelection;return"function"==typeof i&&(i=i({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!i||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Mr([P("gridApi")],o.prototype,"gridApi",void 0),Mr([P("columnApi")],o.prototype,"columnApi",void 0),Mr([P("rowModel")],o.prototype,"rowModel",void 0),Mr([P("selectionService")],o.prototype,"selectionService",void 0),o}(ie),qx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Do=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},hD=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.refreshFunctions=[],l.userHeaderClasses=new Set,l.column=i,l}return qx(o,u),o.prototype.setComp=function(i,s,l){var c=this;u.prototype.setGui.call(this,s),this.comp=i,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new Cg(this.getPinned(),this.column,l,i,this)),this.createManagedBean(new vg([this.column],s)),this.createManagedBean(new Tp(this.column,s,this.beans)),this.createManagedBean(new On(s,{shouldStopEventPropagation:function(h){return c.shouldStopEventPropagation(h)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var i=this.lookupUserCompDetails();this.setCompDetails(i)},o.prototype.setCompDetails=function(i){this.userCompDetails=i,this.comp.setUserCompDetails(i)},o.prototype.lookupUserCompDetails=function(){var i=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,i)},o.prototype.createParams=function(){var i=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){i.gridApi.showColumnMenuAfterButtonClick(i.column,c)},progressSort:function(c){i.sortController.progressSort(i.column,!!c,"uiColumnSorted")},setSort:function(c,h){i.sortController.setSortForColumn(i.column,c,!!h,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Yx(this.column)),this.selectAllFeature.setComp(this.comp)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(i){i.keyCode===be.SPACE&&this.selectAllFeature.onSpaceKeyPressed(i),i.keyCode===be.ENTER&&this.onEnterKeyPressed(i)},o.prototype.onEnterKeyPressed=function(i){var s=this.comp.getUserCompInstance();s&&(i.ctrlKey||i.metaKey?this.menuEnabled&&s.showMenu&&(i.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,i.shiftKey,"uiColumnSorted"))},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(i){if(!this.getGui().contains(i.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(i){this.getGui().contains(i.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var i=this,l=this.createManagedBean(new Xr({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getGui:function(){return i.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return i.column.getColDef().headerTooltip}},this.beans));l.setComp(this.comp),this.refreshFunctions.push(function(){return l.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var i=this,s=function(){var l=i.column.getColDef(),h=_g.getHeaderClassesFromColDef(l,i.gridOptionsWrapper,i.column,null),g=i.userHeaderClasses;i.userHeaderClasses=new Set(h),h.forEach(function(_){g.has(_)?g.delete(_):i.comp.addOrRemoveCssClass(_,!0)}),g.forEach(function(_){return i.comp.addOrRemoveCssClass(_,!1)})};this.refreshFunctions.push(s),s()},o.prototype.getGui=function(){return this.eGui},o.prototype.setDragSource=function(i){var s=this;this.dragSourceElement=i,this.removeDragSource(),i&&(!this.draggable||(this.moveDragSource={type:W.rvo.HeaderCell,eElement:i,defaultIconName:Bi.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},o.prototype.createDragItem=function(){var i={};return i[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:i}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onNewColumnsLoaded=function(){var i=this.columnModel.getColDefVersion();i!=this.colDefVersion&&(this.colDefVersion=i,this.refresh())},o.prototype.updateState=function(){var i=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!i.suppressMenu,this.sortable=i.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(i){this.refreshFunctions.push(i)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(i){return i()})},o.prototype.refreshHeaderComp=function(){var i=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==i.componentClass&&this.attemptHeaderCompRefresh(i.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(i)},o.prototype.attemptHeaderCompRefresh=function(i){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(i)},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var i=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||i.suppressMovable||i.lockPosition)||!!i.enableRowGroup||!!i.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var i=this,s=function(){i.comp.setWidth(i.column.getActualWidth()+"px")};this.addManagedListener(this.column,Mt.EVENT_WIDTH_CHANGED,s),s()},o.prototype.setupMovingCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.column.isMoving())};this.addManagedListener(this.column,Mt.EVENT_MOVING_CHANGED,s),s()},o.prototype.setupMenuClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-column-menu-visible",i.column.isMenuVisible())};this.addManagedListener(this.column,Mt.EVENT_MENU_VISIBLE_CHANGED,s),s()},o.prototype.setupSortableClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!i.sortable)},l=function(){i.comp.setAriaSort(i.sortable?YS(i.column):void 0)};s(),l(),this.addRefreshFunction(s),this.addRefreshFunction(l),this.addManagedListener(this.column,Mt.EVENT_SORT_CHANGED,l)},o.prototype.addColumnHoverListener=function(){var i=this,s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,G.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupFilterCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-filtered",i.column.isFilterActive())};this.addManagedListener(this.column,Mt.EVENT_FILTER_ACTIVE_CHANGED,s),s()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var i=this,s=function(l){return i.setActiveHeader("mouseenter"===l.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},o.prototype.setActiveHeader=function(i){this.comp.addOrRemoveCssClass("ag-header-active",i)},Do([P("columnModel")],o.prototype,"columnModel",void 0),Do([P("columnHoverService")],o.prototype,"columnHoverService",void 0),Do([P("beans")],o.prototype,"beans",void 0),Do([P("sortController")],o.prototype,"sortController",void 0),Do([P("menuFactory")],o.prototype,"menuFactory",void 0),Do([P("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Do([P("gridApi")],o.prototype,"gridApi",void 0),Do([P("columnApi")],o.prototype,"columnApi",void 0),Do([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Do([di],o.prototype,"removeDragSource",null),o}(xu),Pr=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Iu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},bg=function(u){function o(i,s,l,c){var h=u.call(this)||this;return h.eResize=s,h.comp=i,h.pinned=l,h.columnGroup=c,h}return Pr(o,u),o.prototype.postConstruct=function(){var i=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var l=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(c){var h=[];i.columnGroup.getDisplayedLeafColumns().forEach(function(g){g.getColDef().suppressAutoSize||h.push(g.getColId())}),h.length>0&&i.columnModel.autoSizeColumns(h,l,"uiColumnResized")})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},o.prototype.onResizeStart=function(i){var s=this,l=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=l.filter(function(g){return g.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(g){return s.resizeStartWidth+=g.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(g){return s.resizeRatios.push(g.getActualWidth()/s.resizeStartWidth)});var c=null;if(i&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var h=c.getDisplayedLeafColumns();this.resizeTakeFromCols=h.filter(function(g){return g.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(g){return s.resizeTakeFromStartWidth+=g.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(g){return s.resizeTakeFromRatios.push(g.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(i,s){var l=[],c=this.normaliseDragChange(s);l.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+c}),this.resizeTakeFromCols&&l.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-c}),this.columnModel.resizeColumnSets(l,i,"uiColumnDragged"),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.normaliseDragChange=function(i){var s=i;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==q.PINNED_LEFT&&(s*=-1):this.pinned===q.PINNED_RIGHT&&(s*=-1),s},Iu([P("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Iu([P("columnModel")],o.prototype,"columnModel",void 0),Iu([Se],o.prototype,"postConstruct",null),o}(ie),fD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mu=function(u){function o(i,s){var l=u.call(this)||this;return l.removeChildListenersFuncs=[],l.columnGroup=s,l.comp=i,l}return fD(o,u),o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,pi.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var i=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(l){l.addEventListener(Mt.EVENT_WIDTH_CHANGED,s),l.addEventListener(Mt.EVENT_VISIBLE_CHANGED,s),i.removeChildListenersFuncs.push(function(){l.removeEventListener(Mt.EVENT_WIDTH_CHANGED,s),l.removeEventListener(Mt.EVENT_VISIBLE_CHANGED,s)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(i){return i()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(ie),hy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Za=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Rp=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.columnGroup=i,l}return hy(o,u),o.prototype.setComp=function(i,s,l){u.prototype.setGui.call(this,s),this.comp=i,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),h=this.columnGroup.getOriginalColumnGroup().getLeafColumns();this.createManagedBean(new vg(h,s)),this.createManagedBean(new Tp(this.columnGroup,s,this.beans)),this.createManagedBean(new bg(i,l,c,this.columnGroup)),this.createManagedBean(new Mu(i,this.columnGroup)),this.createManagedBean(new On(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.setupUserComp=function(){var i=this,s=this.displayName,l={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(y){i.columnModel.setColumnGroupOpened(i.columnGroup.getOriginalColumnGroup(),y,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var c=this.columnGroup,h=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===h.length;)c=c.getParent();var g=c.getColGroupDef();g&&(s=g.headerName),s||(s=h?this.columnModel.getDisplayNameForColumn(h[0],"header",!0):"")}var _=this.userComponentFactory.getHeaderGroupCompDetails(l);this.comp.setUserCompDetails(_)},o.prototype.setupTooltip=function(){var i=this,s=this.columnGroup.getColGroupDef(),l={getColumn:function(){return i.columnGroup},getGui:function(){return i.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(l.getColDef=function(){return s}),this.createManagedBean(new Xr(l,this.beans)).setComp(this.comp)},o.prototype.setupExpandable=function(){var i=this.columnGroup.getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(i,bn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(i,bn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var i=this.columnGroup;this.expandable=i.isExpandable();var s=i.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var i=this,s=this.columnGroup.getColGroupDef(),l=_g.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);l.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),l.forEach(function(c){return i.comp.addOrRemoveCssClass(c,!0)})},o.prototype.setupMovingCss=function(){var i=this,l=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c=function(){return i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.columnGroup.isMoving())};l.forEach(function(h){i.addManagedListener(h,Mt.EVENT_MOVING_CHANGED,c)}),c()},o.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},o.prototype.handleKeyDown=function(i){var s=document.activeElement;if(this.expandable&&s===this.eGui&&i.keyCode===be.ENTER){var c=this.columnGroup,h=!c.isExpanded();this.columnModel.setColumnGroupOpened(c.getOriginalColumnGroup(),h,"uiColumnExpanded")}},o.prototype.setDragSource=function(i){var s=this;if(!this.isSuppressMoving()){var l=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c={type:W.rvo.HeaderCell,eElement:i,defaultIconName:Bi.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return l.forEach(function(h){return h.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return l.forEach(function(h){return h.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(c,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(c)})}},o.prototype.getDragItemForGroup=function(){var i=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),s={};i.forEach(function(c){return s[c.getId()]=c.isVisible()});var l=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){i.indexOf(c)>=0&&(l.push(c),ii(i,c))}),i.forEach(function(c){return l.push(c)}),{columns:l,visibleState:s}},o.prototype.isSuppressMoving=function(){var i=!1;return this.columnGroup.getLeafColumns().forEach(function(l){(l.getColDef().suppressMovable||l.getColDef().lockPosition)&&(i=!0)}),i||this.gridOptionsWrapper.isSuppressMovableColumns()},Za([P("beans")],o.prototype,"beans",void 0),Za([P("columnModel")],o.prototype,"columnModel",void 0),Za([P("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Za([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Za([P("gridApi")],o.prototype,"gridApi",void 0),Za([P("columnApi")],o.prototype,"columnApi",void 0),o}(xu),wg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Qx=0,Ds=function(u){function o(i,s,l){var c=u.call(this)||this;return c.instanceId=Qx++,c.headerCellCtrls={},c.rowIndex=i,c.pinned=s,c.type=l,c}return wg(o,u),o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(i){this.comp=i,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Hd()&&this.comp.setTransform("translateZ(0)"),i.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,G.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHtmlElementForColumnHeader=function(i){if(this.type==W.A6C.COLUMN){var s=Ni(this.headerCellCtrls,function(c){return c.getColumnGroupChild()==i});if(s)return s.getGui()}},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var i=this.getWidthForRow();this.comp.setWidth(i+"px")},o.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(q.PINNED_RIGHT)+this.columnModel.getContainerWidth(q.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var c,h,i=this.columnModel.getHeaderRowCount(),s=[],l=0;this.columnModel.isPivotMode()?(c=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),h=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(i++,l=1),c=this.gridOptionsWrapper.getGroupHeaderHeight(),h=this.gridOptionsWrapper.getHeaderHeight());for(var _=i-(1+l),y=0;y<_;y++)s.push(c);for(s.push(h),y=0;y<l;y++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var w=0;for(y=0;y<this.rowIndex;y++)w+=s[y];this.comp.setTop(w+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var i=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(g){if(!g.isEmptyGroup()){var _=g.getUniqueId(),y=s[_];if(delete s[_],y&&y.getColumnGroupChild()!=g&&(i.destroyBean(y),y=void 0),null==y)switch(i.type){case W.A6C.FLOATING_FILTER:y=i.createBean(new dy(g,i));break;case W.A6C.COLUMN_GROUP:y=i.createBean(new Rp(g,i));break;default:y=i.createBean(new hD(g,i))}i.headerCellCtrls[_]=y}}),It(s,function(g,_){var y=function(g){return!!i.focusService.isHeaderWrapperFocused(g)&&i.columnModel.isDisplayed(g.getColumnGroupChild())}(_);y?i.headerCellCtrls[g]=_:i.destroyBean(_)});var h=po(this.headerCellCtrls);this.comp.setHeaderCtrls(h)},o.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var i=this;if(null!=this.pinned)return[];var s=[],l=this.getActualDepth();return[q.PINNED_LEFT,null,q.PINNED_RIGHT].forEach(function(c){var h=i.columnModel.getVirtualHeaderGroupRow(c,l);s=s.concat(h)}),s},o.prototype.getActualDepth=function(){return this.type==W.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(i,s){var c=Ni(po(this.headerCellCtrls),function(h){return h.getColumnGroupChild()==i});return!!c&&(c.focus(s),!0)},Sg([P("columnModel")],o.prototype,"columnModel",void 0),Sg([P("focusService")],o.prototype,"focusService",void 0),o}(ie),Eg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ec=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ap=function(u){function o(i){var s=u.call(this)||this;return s.groupsRowCtrls=[],s.pinned=i,s}return Eg(o,u),o.prototype.setComp=function(i,s){this.comp=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,G.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(i){var s=new Dp(this.pinned,i);this.createManagedBean(s)},o.prototype.refresh=function(i){var s=this;void 0===i&&(i=!1);var w,l=new Cs,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var w=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var x=0;x<w;x++){var k=s.createBean(new Ds(l.next(),s.pinned,W.A6C.COLUMN_GROUP));s.groupsRowCtrls.push(k)}})(),w=l.next(),(null==s.columnsRowCtrl||!i||s.columnsRowCtrl.getRowIndex()!==w)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new Ds(w,s.pinned,W.A6C.COLUMN))),function(){var x=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(!s.columnModel.isPivotMode()&&s.columnModel.hasFloatingFilters()){var k=l.next();if(s.filtersRowCtrl){var B=s.filtersRowCtrl.getRowIndex()!==k;(!i||B)&&x()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new Ds(k,s.pinned,W.A6C.FLOATING_FILTER)))}else x()}();var y=this.getAllCtrls();this.comp.setCtrls(y),this.restoreFocusOnHeader(c)},o.prototype.restoreFocusOnHeader=function(i){null==i||i.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:i})},o.prototype.getAllCtrls=function(){var i=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&i.push(this.filtersRowCtrl),i},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var i=this;null==this.pinned&&this.createManagedBean(new Ep(function(s){return i.comp.setCenterWidth(s+"px")}))},o.prototype.setHorizontalScroll=function(i){this.comp.setContainerTransform("translateX("+i+"px)")},o.prototype.setupPinnedWidth=function(){var i=this;if(null!=this.pinned){var s=this.pinned===q.PINNED_LEFT,l=this.pinned===q.PINNED_RIGHT,c=function(){var h=s?i.pinnedWidthService.getPinnedLeftWidth():i.pinnedWidthService.getPinnedRightWidth();if(null!=h){var g=0==h,_=i.gridOptionsWrapper.isEnableRtl(),y=i.gridOptionsWrapper.getScrollbarWidth(),w=i.scrollVisibleService.isVerticalScrollShowing()&&(_&&s||!_&&l);i.comp.setPinnedContainerWidth((w?h+y:h)+"px"),i.comp.addOrRemoveCssClass("ag-hidden",g)}};this.addManagedListener(this.eventService,G.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,G.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,G.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,G.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},o.prototype.getHtmlElementForColumnHeader=function(i){if(this.columnsRowCtrl)return this.columnsRowCtrl.getHtmlElementForColumnHeader(i)},o.prototype.getRowType=function(i){var l=this.getAllCtrls()[i];return l?l.getType():void 0},o.prototype.focusHeader=function(i,s,l){var h=this.getAllCtrls()[i];return!!h&&h.focusHeader(s,l)},o.prototype.getRowCount=function(){return this.getAllCtrls().length},ec([P("ctrlsService")],o.prototype,"ctrlsService",void 0),ec([P("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),ec([P("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),ec([P("columnModel")],o.prototype,"columnModel",void 0),ec([P("focusService")],o.prototype,"focusService",void 0),o}(ie),mD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Op=function(u){function o(i){var s=u.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=i,s}return mD(o,u),o.prototype.init=function(){var i=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(c,h){return i.addOrRemoveCssClass(c,h)},setCtrls:function(c){return i.setCtrls(c)},setCenterWidth:function(c){return i.eCenterContainer.style.width=c},setContainerTransform:function(c){return i.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var h=i.getGui();h.style.width=c,h.style.maxWidth=c,h.style.minWidth=c}};this.createManagedBean(new Ap(this.pinned)).setComp(s,this.getGui())},o.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==q.PINNED_LEFT?o.PINNED_LEFT_TEMPLATE:this.pinned==q.PINNED_RIGHT?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(i){this.destroyBean(i),this.eRowContainer.removeChild(i.getGui())},o.prototype.setCtrls=function(i){var c,s=this,l=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],i.forEach(function(g){var _=g.getInstanceId(),y=l[_];delete l[_];var w=y||s.createBean(new ji(g));s.headerRowComps[_]=w,s.rowCompsList.push(w),function(g){var _=g.getGui();_.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(_),c&&Er(s.eRowContainer,_,c),c=_}(w)}),po(l).forEach(function(g){return s.destroyRowComp(g)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Dg([me("eCenterContainer")],o.prototype,"eCenterContainer",void 0),Dg([Se],o.prototype,"init",null),Dg([di],o.prototype,"destroyRowComps",null),o}(vt),vD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),fy=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return vD(o,u),o.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(h,g){return i.addOrRemoveCssClass(h,g)},setHeightAndMinHeight:function(h){i.getGui().style.height=h,i.getGui().style.minHeight=h}};this.createManagedBean(new Sp).setComp(s,this.getGui(),this.getFocusableElement());var c=function(h){i.createManagedBean(h),i.appendChild(h)};c(new Op(q.PINNED_LEFT)),c(new Op(null)),c(new Op(q.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation" unselectable="on"/>',function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(vt),gy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),tc=function(){return tc=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},tc.apply(this,arguments)},Zr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},xp=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.allAdvancedFilters=new Map,s.activeAdvancedFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var i;return gy(o,u),i=o,o.prototype.init=function(){this.addManagedListener(this.eventService,G.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(s){var l=this,c=[],h=this.getFilterModel();if(s){var g=Bn(Object.keys(s));this.allAdvancedFilters.forEach(function(_,y){c.push(l.setModelOnFilterWrapper(_.filterPromise,s[y])),g.delete(y)}),g.forEach(function(_){var y=l.columnModel.getPrimaryColumn(_);if(y)if(y.isFilterAllowed()){var w=l.getOrCreateFilterWrapper(y,"NO_UI");c.push(l.setModelOnFilterWrapper(w.filterPromise,s[_]))}else console.warn("AG-Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+_);else console.warn("AG-Grid: setFilterModel() - no column found for colId: "+_)})}else this.allAdvancedFilters.forEach(function(_){c.push(l.setModelOnFilterWrapper(_.filterPromise,null))});Or.all(c).then(function(){var _=l.getFilterModel(),y=[];l.allAdvancedFilters.forEach(function(w,x){Me.jsonEquals(h?h[x]:null,_?_[x]:null)||y.push(w.column)}),y.length>0&&l.onFilterChanged({columns:y})})},o.prototype.setModelOnFilterWrapper=function(s,l){return new Or(function(c){s.then(function(h){"function"!=typeof h.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),c()),(h.setModel(l)||Or.resolve()).then(function(){return c()})})})},o.prototype.getFilterModel=function(){var s={};return this.allAdvancedFilters.forEach(function(l,c){var g=l.filterPromise.resolveNow(null,function(y){return y});if(null==g)return null;if("function"==typeof g.getModel){var _=g.getModel();he(_)&&(s[c]=_)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),s},o.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},o.prototype.updateActiveFilters=function(){var s=this;this.activeAdvancedFilters.length=0;var l=function(c){return!!c&&(c.isFilterActive?c.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(c){if(c.filterPromise.resolveNow(!1,l)){var h=c.filterPromise.resolveNow(null,function(g){return g});s.activeAdvancedFilters.push(h)}})},o.prototype.updateFilterFlagInColumns=function(s,l){this.allAdvancedFilters.forEach(function(c){var h=c.filterPromise.resolveNow(!1,function(g){return g.isFilterActive()});c.column.setFilterActive(h,s,l)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.doAdvancedFiltersPass=function(s,l){for(var c=s.data,h=0;h<this.activeAdvancedFilters.length;h++){var g=this.activeAdvancedFilters[h];if(null!=g&&g!==l){if("function"!=typeof g.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!g.doesFilterPass({node:s,data:c}))return!1}}return!0},o.prototype.parseQuickFilter=function(s){return he(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(s){var l=this.parseQuickFilter(s);this.quickFilter!==l&&(this.quickFilter=l,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.onFilterChanged=function(s){void 0===s&&(s={});var l=s.filterInstance,c=s.additionalEventAttributes,h=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.allAdvancedFilters.forEach(function(_){!_.filterPromise||_.filterPromise.then(function(y){y&&y!==l&&y.onAnyFilterChanged&&y.onAnyFilterChanged()})});var g={type:G.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:h||[]};c&&ho(g,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(g),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(s,l){return this.doesRowPassFilter({rowNode:l,filterInstanceToSkip:s})},o.prototype.doesRowPassQuickFilterNoCache=function(s,l){var c=this;return xl(this.columnModel.getAllColumnsForQuickFilter(),function(g){var _=c.getQuickFilterTextForColumn(g,s);return he(_)&&_.indexOf(l)>=0})},o.prototype.doesRowPassQuickFilterCache=function(s,l){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(l)>=0},o.prototype.doesRowPassQuickFilter=function(s){var l=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return Zc(this.quickFilterParts,function(h){return c?l.doesRowPassQuickFilterCache(s,h):l.doesRowPassQuickFilterNoCache(s,h)})},o.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(s,l){var c=this.valueService.getValue(s,l,!0),h=s.getColDef();if(h.getQuickFilterText){var g={value:c,node:l,data:l.data,column:s,colDef:h,context:this.gridOptionsWrapper.getContext()};c=h.getQuickFilterText(g)}return he(c)?c.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(s){var l=this,c=[];pe(this.columnModel.getAllColumnsForQuickFilter(),function(g){var _=l.getQuickFilterTextForColumn(g,s);he(_)&&c.push(_)}),s.quickFilterAggregateText=c.join(i.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(s){this.allAdvancedFilters.forEach(function(l){l.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},o.prototype.createValueGetter=function(s){var l=this;return function(c){return l.valueService.getValue(s,c,!0)}},o.prototype.getFilterComponent=function(s,l,c){if(void 0===c&&(c=!0),c)return this.getOrCreateFilterWrapper(s,l).filterPromise;var h=this.cachedFilter(s);return h?h.filterPromise:null},o.prototype.isFilterActive=function(s){var l=this.cachedFilter(s);return!!l&&l.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(s,l){var c=this.cachedFilter(s);return c?"NO_UI"!==l&&this.putIntoGui(c,l):(c=this.createFilterWrapper(s,l),this.allAdvancedFilters.set(s.getColId(),c)),c},o.prototype.cachedFilter=function(s){return this.allAdvancedFilters.get(s.getColId())},o.prototype.createFilterInstance=function(s,l){var _,c=this,h=tt.isRegistered(W.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",g=s.getColDef(),y=tc(tc({},this.createFilterParams(s,g,l)),{filterModifiedCallback:function(){c.eventService.dispatchEvent({type:G.EVENT_FILTER_MODIFIED,api:c.gridApi,columnApi:c.columnApi,column:s,filterInstance:_})},filterChangedCallback:function(k){return c.onFilterChanged({filterInstance:_,additionalEventAttributes:k,columns:[s]})},doesRowPassOtherFilter:function(k){return c.doesRowPassOtherFilters(_,k)}}),w=this.userComponentFactory.getFilterDetails(g,y,h);if(!w)return null;var x=w.newAgStackInstance();return x&&x.then(function(k){return _=k}),x},o.prototype.createFilterParams=function(s,l,c){void 0===c&&(c=null);var h={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:Uv(l),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return c&&(h.$scope=c),h},o.prototype.createFilterWrapper=function(s,l){var c={column:s,filterPromise:null,scope:null,compiledElement:null,guiPromise:Or.resolve(null)};return c.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,c.filterPromise=this.createFilterInstance(s,c.scope),c.filterPromise&&this.putIntoGui(c,l),c},o.prototype.putIntoGui=function(s,l){var c=this,h=document.createElement("div");h.className="ag-filter",s.guiPromise=new Or(function(g){s.filterPromise.then(function(_){var y=_.getGui();if(he(y)||console.warn("getGui method from filter returned "+y+", it should be a DOM element or an HTML template string."),"string"==typeof y&&(y=qr(y)),h.appendChild(y),s.scope){var w=c.$compile(h)(s.scope);s.compiledElement=w,window.setTimeout(function(){return s.scope.$apply()},0)}g(h),c.eventService.dispatchEvent({type:G.EVENT_FILTER_OPENED,column:s.column,source:l,eGui:h,api:c.gridApi,columnApi:c.columnApi})})})},o.prototype.onNewColumnsLoaded=function(){var s=this,l=!1,c=[];this.allAdvancedFilters.forEach(function(h){!s.columnModel.getPrimaryColumn(h.column)&&(l=!0,c.push(h.column),s.disposeFilterWrapper(h,"filterDestroyed"))}),l&&this.onFilterChanged({columns:c})},o.prototype.destroyFilter=function(s,l){void 0===l&&(l="api");var c=this.allAdvancedFilters.get(s.getColId());c&&(this.disposeFilterWrapper(c,l),this.onFilterChanged({columns:[s]}))},o.prototype.disposeFilterWrapper=function(s,l){var c=this;s.filterPromise.then(function(h){(h.setModel(null)||Or.resolve()).then(function(){c.getContext().destroyBean(h),s.column.setFilterActive(!1,l),s.scope&&(s.compiledElement&&s.compiledElement.remove(),s.scope.$destroy()),c.allAdvancedFilters.delete(s.column.getColId())})})},o.prototype.destroy=function(){var s=this;u.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(l){return s.disposeFilterWrapper(l,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",Zr([P("$compile")],o.prototype,"$compile",void 0),Zr([P("$scope")],o.prototype,"$scope",void 0),Zr([P("valueService")],o.prototype,"valueService",void 0),Zr([P("columnModel")],o.prototype,"columnModel",void 0),Zr([P("rowModel")],o.prototype,"rowModel",void 0),Zr([P("columnApi")],o.prototype,"columnApi",void 0),Zr([P("gridApi")],o.prototype,"gridApi",void 0),Zr([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Zr([Se],o.prototype,"init",null),Zr([di],o.prototype,"destroy",null),i=Zr([xe("filterManager")],o)}(ie),yD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Tg=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.initialised=!1,i}return yD(o,u),o.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},o.prototype.getValue=function(i,s,l,c){if(void 0===l&&(l=!1),void 0===c&&(c=!1),this.initialised||this.init(),s){var w,h=i.getColDef(),g=h.field,_=i.getId(),y=s.data,x=s.groupData&&void 0!==s.groupData[_],k=!c&&s.aggData&&void 0!==s.aggData[_];if(l&&h.filterValueGetter?w=this.executeFilterValueGetter(h.filterValueGetter,y,i,s):this.gridOptionsWrapper.isTreeData()&&k?w=s.aggData[_]:this.gridOptionsWrapper.isTreeData()&&h.valueGetter?w=this.executeValueGetter(h.valueGetter,y,i,s):this.gridOptionsWrapper.isTreeData()&&g&&y?w=Wo(y,g,i.isFieldContainsDots()):x?w=s.groupData[_]:k?w=s.aggData[_]:h.valueGetter?w=this.executeValueGetter(h.valueGetter,y,i,s):g&&y&&(w=Wo(y,g,i.isFieldContainsDots())),this.cellExpressions&&"string"==typeof w&&0===w.indexOf("=")){var B=w.substring(1);w=this.executeValueGetter(B,y,i,s)}if(null==w){var j=this.getOpenedGroup(s,i);if(null!=j)return j}return w}},o.prototype.getOpenedGroup=function(i,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var c=s.getColDef().showRowGroup,h=i.parent;null!=h;){if(h.rowGroupColumn&&(!0===c||c===h.rowGroupColumn.getId()))return h.key;h=h.parent}},o.prototype.setValue=function(i,s,l,c){var h=this.columnModel.getPrimaryColumn(s);if(i&&h){je(i.data)&&(i.data={});var g=h.getColDef(),_=g.field,y=g.newValueHandler,w=g.valueSetter;if(je(_)&&je(y)&&je(w))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var k,x={node:i,data:i.data,oldValue:this.getValue(h,i),newValue:l,colDef:h.getColDef(),column:h,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(x.newValue=l,void 0===(k=y&&he(y)?y(x):he(w)?this.expressionService.evaluate(w,x):this.setValueUsingField(i.data,_,l,h.isFieldContainsDots()))&&(k=!0),k){i.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),x.newValue=this.getValue(h,i);var B=h.getColDef().onCellValueChanged;"function"==typeof B&&setTimeout(function(){return B(x)},0),this.eventService.dispatchEvent({type:G.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:x.column,api:x.api,columnApi:x.columnApi,colDef:x.colDef,context:x.context,data:i.data,node:i,oldValue:x.oldValue,newValue:x.newValue,value:x.newValue,source:c})}}},o.prototype.setValueUsingField=function(i,s,l,c){if(!s)return!1;if(c)for(var g=s.split("."),_=i;g.length>0&&_;){var y=g.shift();0===g.length?_[y]=l:_=_[y]}else i[s]=l;return!0},o.prototype.executeFilterValueGetter=function(i,s,l,c){var h={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(i,h)},o.prototype.executeValueGetter=function(i,s,l,c){var h=l.getId(),g=this.valueCache.getValue(c,h);if(void 0!==g)return g;var _={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},y=this.expressionService.evaluate(i,_);return this.valueCache.setValue(c,h,y),y},o.prototype.getValueCallback=function(i,s){var l=this.columnModel.getPrimaryColumn(s);return l?this.getValue(l,i):null},o.prototype.getKeyForNode=function(i,s){var l=this.getValue(i,s),c=i.getColDef().keyCreator,h=l;return c&&(h=c({value:l,colDef:i.getColDef(),column:i,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof h||null==h||"[object Object]"===(h=String(h))&&Cn(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),h},Pu([P("expressionService")],o.prototype,"expressionService",void 0),Pu([P("columnModel")],o.prototype,"columnModel",void 0),Pu([P("valueCache")],o.prototype,"valueCache",void 0),Pu([Se],o.prototype,"init",null),Pu([xe("valueService")],o)}(ie),my=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ca=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.AUTO_HEIGHT="ag-layout-auto-height",u.NORMAL="ag-layout-normal",u.PRINT="ag-layout-print"}(W.LBn||(W.LBn={}));var Ip=function(u){function o(i){var s=u.call(this)||this;return s.view=i,s}return my(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var i=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:i===q.DOM_LAYOUT_AUTO_HEIGHT,normal:i===q.DOM_LAYOUT_NORMAL,print:i===q.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?W.LBn.AUTO_HEIGHT:s.print?W.LBn.PRINT:W.LBn.NORMAL,s)},ca([P("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),ca([Se],o.prototype,"postConstruct",null),o}(ie),vy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qo=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Mp=function(u){function o(i){var s=u.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=i,s.resetLastHorizontalScrollElementDebounced=fs(s.resetLastHorizontalScrollElement.bind(s),500),s}return vy(o,u),o.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){i.centerRowContainerCon=s.centerRowContainerCtrl,i.onDisplayedColumnsWidthChanged(),i.addScrollListener()})},o.prototype.addScrollListener=function(){var i=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(i.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?fs(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(i){void 0===i&&(i=this.centerRowContainerCon.getCenterViewportScrollLeft());var s=this.enableRtl?i:-i,l=this.ctrlsService.getTopCenterRowContainerCtrl(),c=this.ctrlsService.getBottomCenterRowContainerCtrl(),h=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(s),c.setContainerTranslateX(s),l.setContainerTranslateX(s),Js(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?h.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(i),this.enableRtl)},o.prototype.isControllingScroll=function(i){return this.lastHorizontalScrollElement?i===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=i,!0)},o.prototype.onFakeHorizontalScroll=function(){var i=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},o.prototype.onCenterViewportScroll=function(){var i=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},o.prototype.onBodyHorizontalScroll=function(i){var s=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(vn(i,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var i=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",i,!0)||(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(i){var l=vn(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===i&&i===l||(this.scrollLeft=i,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(i),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(i){var s=this,l={type:G.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:i,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(l),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Cr({},l,{type:G.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(c)},100)},o.prototype.shouldBlockScrollUpdate=function(i,s,l){if(void 0===l&&(l=!1),l&&!Na())return!1;if("vertical"===i){var c=nn(this.eBodyViewport);if(s<0||s+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===i){var g=this.centerRowContainerCon.getCenterWidth(),_=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&mo()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+g>_)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var i=this.scrollTop!=this.nextScrollTop;return i&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),i},o.prototype.setHorizontalScrollPosition=function(i){var l=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",i)&&(i=this.enableRtl&&mo()?i>0?0:l:Math.min(Math.max(i,0),l)),Js(this.centerRowContainerCon.getViewportElement(),Math.abs(i),this.enableRtl),this.doHorizontalScroll(i)},o.prototype.setVerticalScrollPosition=function(i){this.eBodyViewport.scrollTop=i},o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(i){var s=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+i),this.centerRowContainerCon.getViewportElement().scrollLeft-s},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(i,s){void 0===s&&(s=null);for(var l=this.rowModel.getRowCount(),c="function"==typeof i,h=-1,g=0;g<l;g++){var _=this.rowModel.getRow(g);if(c){if(i(_)){h=g;break}}else if(i===_||i===_.data){h=g;break}}h>=0&&this.ensureIndexVisible(h,s)},o.prototype.ensureIndexVisible=function(i,s){if(this.gridOptionsWrapper.getDomLayout()!==q.DOM_LAYOUT_PRINT){var l=this.paginationProxy.getRowCount();if("number"!=typeof i||i<0||i>=l)return void console.warn("invalid row index for ensureIndexVisible: "+i);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(i);var _,g=this.paginationProxy.getRow(i);do{var y=g.rowTop,w=g.rowHeight,x=this.paginationProxy.getPixelOffset(),k=g.rowTop-x,B=k+g.rowHeight,j=this.getVScrollPosition(),ee=this.heightScaler.getDivStretchOffset(),re=j.top+ee,we=j.bottom+ee,ge=we-re,de=this.heightScaler.getScrollPositionForPixel(k),Te=this.heightScaler.getScrollPositionForPixel(B-ge),We=Math.min((de+Te)/2,k),Et=null;"top"===s?Et=de:"bottom"===s?Et=Te:"middle"===s?Et=We:re>k?Et=de:we<B&&(Et=Te),null!==Et&&(this.eBodyViewport.scrollTop=Et,this.rowRenderer.redrawAfterScroll()),_=y!==g.rowTop||w!==g.rowHeight}while(_);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(i){var s=this.columnModel.getGridColumn(i);if(s&&!s.isPinned()&&this.columnModel.isColumnDisplayed(s)){var y,w,l=s.getLeft(),c=l+s.getActualWidth(),h=this.centerRowContainerCon.getCenterWidth(),g=this.centerRowContainerCon.getCenterViewportScrollLeft(),_=this.columnModel.getBodyContainerWidth();this.enableRtl?(y=_-g-h,w=_-g):(y=g,w=h+g);var x=y>l,k=w<c,B=h<s.getActualWidth(),j=x||B;(j||k)&&this.centerRowContainerCon.setCenterViewportScrollLeft(this.enableRtl?j?_-h-l:_-c:j?l:c-h),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},Qo([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Qo([P("animationFrameService")],o.prototype,"animationFrameService",void 0),Qo([P("columnApi")],o.prototype,"columnApi",void 0),Qo([P("gridApi")],o.prototype,"gridApi",void 0),Qo([P("paginationProxy")],o.prototype,"paginationProxy",void 0),Qo([P("rowModel")],o.prototype,"rowModel",void 0),Qo([P("rowContainerHeightService")],o.prototype,"heightScaler",void 0),Qo([P("rowRenderer")],o.prototype,"rowRenderer",void 0),Qo([P("columnModel")],o.prototype,"columnModel",void 0),Qo([Se],o.prototype,"postConstruct",null),o}(ie),_y=function(){function u(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=-1!==o.scrollAxis.indexOf("x"),this.scrollVertically=-1!==o.scrollAxis.indexOf("y"),this.scrollByTick=null!=o.scrollByTick?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return u.prototype.check=function(o,i){void 0===i&&(i=!1);var s=i||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var l=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=o.clientX<l.left+c,this.tickRight=o.clientX>l.right-c,this.tickUp=o.clientY<l.top+c&&!s,this.tickDown=o.clientY>l.bottom-c&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},u.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},u.prototype.doTick=function(){var o;if(this.tickCount++,o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-o),this.tickDown&&this.setVerticalPosition(i+o)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-o),this.tickRight&&this.setHorizontalPosition(s+o)}this.onScrollCallback&&this.onScrollCallback()},u.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},u}(),yy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pp=function(){return Pp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Pp.apply(this,arguments)},Fr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Fp=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s},Cy=function(u){function o(i){var s=u.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=i,s}return yy(o,u),o.prototype.postConstruct=function(){var i=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){i.onSortChanged(),i.onFilterChanged(),i.onRowGroupChanged()};this.addManagedListener(this.eventService,G.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var l=i.ctrlsService.getGridBodyCtrl();i.autoScrollService=new _y({scrollContainer:l.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return l.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return l.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){i.onDragging(i.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var i=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Fi(i)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(i){return i===W.rvo.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Bi.ICON_NOT_ALLOWED:Bi.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(i){if(!this.isFromThisGrid(i))return i.dragItem.rowNodes||[];var s=this.gridOptionsWrapper.isRowDragMultiRow(),l=this.selectionService.getSelectedNodes(),c=i.dragItem.rowNode;return s&&-1!==l.indexOf(c)?(this.isMultiRowDrag=!0,Fp(l)):(this.isMultiRowDrag=!1,[c])},o.prototype.onDragEnter=function(i){this.dispatchGridEvent(G.EVENT_ROW_DRAG_ENTER,i),this.getRowNodes(i).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(i)},o.prototype.onDragging=function(i){this.onEnterOrDragging(i)},o.prototype.isFromThisGrid=function(i){return i.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(i){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(i.dropZoneTarget)},o.prototype.onEnterOrDragging=function(i){this.dispatchGridEvent(G.EVENT_ROW_DRAG_MOVE,i),this.lastDraggingEvent=i;var s=this.mouseEventService.getNormalisedPosition(i).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(i,s),this.autoScrollService.check(i.event)},o.prototype.doManagedDrag=function(i,s){var c,l=this,h=this.isFromThisGrid(i);h?(c=[i.dragItem.rowNode],this.isMultiRowDrag&&(c=Fp(this.selectionService.getSelectedNodes()).sort(function(_,y){return l.getRowIndexNumber(_)-l.getRowIndexNumber(y)})),i.dragItem.rowNodes=c):c=i.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!h?this.isDropZoneWithinThisGrid(i)||this.clientSideRowModel.highlightRowAtPixel(c[0],s):this.moveRows(c,s))},o.prototype.getRowIndexNumber=function(i){return parseInt(Zt(i.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(i){var s=this,l=this.clientSideRowModel.getLastHighlightedRowNode(),c=l&&l.highlighted===W.oh5.Below,h=this.mouseEventService.getNormalisedPosition(i).y,g=i.dragItem.rowNodes,_=c?1:0;if(this.isFromThisGrid(i))g.forEach(function(x){x.rowTop<h&&(_-=1)}),this.moveRows(g,h,_);else{var y=this.gridOptionsWrapper.getRowNodeIdFunc(),w=this.clientSideRowModel.getRowIndexAtPixel(h)+1;this.clientSideRowModel.getHighlightPosition(h)===W.oh5.Above&&w--,this.clientSideRowModel.updateRowData({add:g.map(function(x){return x.data}).filter(function(x){return!s.clientSideRowModel.getRowNode(y?y(x):x.id)}),addIndex:w})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(i,s,l){void 0===l&&(l=0),this.clientSideRowModel.ensureRowsAtPixel(i,s,l)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(i){var s=this;if(i.getContainer())if(this.dragAndDropService.findExternalZone(i))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var l={getContainer:i.getContainer};i.fromGrid?(i.fromGrid=void 0,l=i):(i.onDragEnter&&(l.onDragEnter=function(c){i.onDragEnter(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_ENTER,c))}),i.onDragLeave&&(l.onDragLeave=function(c){i.onDragLeave(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_LEAVE,c))}),i.onDragging&&(l.onDragging=function(c){i.onDragging(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_MOVE,c))}),i.onDragStop&&(l.onDragStop=function(c){i.onDragStop(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(Pp({isInterestedIn:function(c){return c===W.rvo.RowDrag},getIconName:function(){return Bi.ICON_MOVE},external:!0},l))}else Cn(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(i){var s=this,l=this.getContainer.bind(this),c=this.onDragEnter.bind(this),h=this.onDragLeave.bind(this),g=this.onDragging.bind(this),_=this.onDragStop.bind(this);return i?{getContainer:l,onDragEnter:i.onDragEnter?function(y){c(y),i.onDragEnter(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_ENTER,y))}:c,onDragLeave:i.onDragLeave?function(y){h(y),i.onDragLeave(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_LEAVE,y))}:h,onDragging:i.onDragging?function(y){g(y),i.onDragging(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_MOVE,y))}:g,onDragStop:i.onDragStop?function(y){_(y),i.onDragStop(s.draggingToRowDragEvent(G.EVENT_ROW_DRAG_END,y))}:_,fromGrid:!0}:{getContainer:l,onDragEnter:c,onDragLeave:h,onDragging:g,onDragStop:_,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(i,s){var g,_,l=this.mouseEventService.getNormalisedPosition(s).y,h=-1;switch(l>this.paginationProxy.getCurrentPageHeight()||(h=this.rowModel.getRowIndexAtPixel(l),g=this.rowModel.getRow(h)),s.vDirection){case W.HO_.Down:_="down";break;case W.HO_.Up:_="up";break;default:_=null}return{type:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:h,overNode:g,y:l,vDirection:_}},o.prototype.dispatchGridEvent=function(i,s){var l=this.draggingToRowDragEvent(i,s);this.eventService.dispatchEvent(l)},o.prototype.onDragLeave=function(i){this.dispatchGridEvent(G.EVENT_ROW_DRAG_LEAVE,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(i)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(i){this.dispatchGridEvent(G.EVENT_ROW_DRAG_END,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(i))&&!this.isDropZoneWithinThisGrid(i)&&this.moveRowAndClearHighlight(i)},o.prototype.stopDragging=function(i){this.autoScrollService.ensureCleared(),this.getRowNodes(i).forEach(function(s){s.setDragging(!1)})},Fr([P("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Fr([P("rowModel")],o.prototype,"rowModel",void 0),Fr([P("paginationProxy")],o.prototype,"paginationProxy",void 0),Fr([P("columnModel")],o.prototype,"columnModel",void 0),Fr([P("focusService")],o.prototype,"focusService",void 0),Fr([P("sortController")],o.prototype,"sortController",void 0),Fr([P("filterManager")],o.prototype,"filterManager",void 0),Fr([P("selectionService")],o.prototype,"selectionService",void 0),Fr([P("mouseEventService")],o.prototype,"mouseEventService",void 0),Fr([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Fr([mt("rangeService")],o.prototype,"rangeService",void 0),Fr([Se],o.prototype,"postConstruct",null),o}(ie),Np=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$i=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.ANIMATION_ON="ag-row-animation",u.ANIMATION_OFF="ag-row-no-animation"}(W.SJN||(W.SJN={}));var Rg="ag-selectable",Lp="ag-force-vertical-scroll",Ag="ag-column-moving",kp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.angularApplyTriggered=!1,i}return Np(o,u),o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(i,s,l,c,h){this.comp=i,this.eGridBody=s,this.eBodyViewport=l,this.eTop=c,this.eBottom=h,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Ip(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Mp(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([c,l,h]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,G.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},o.prototype.addFocusListeners=function(i){var s=this;i.forEach(function(l){s.addManagedListener(l,"focusin",function(){Ie(l,"ag-has-focus")}),s.addManagedListener(l,"focusout",function(c){l.contains(c.relatedTarget)||Kn(l,"ag-has-focus")})})},o.prototype.setColumnMovingCss=function(i){this.comp.setColumnMovingCss(i?Ag:null,i)},o.prototype.setCellTextSelection=function(i){void 0===i&&(i=!1),this.comp.setCellSelectableCss(i?Rg:null,i)},o.prototype.onScrollVisibilityChanged=function(){var i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i)},o.prototype.onGridColumnsChanged=function(){var i=this.columnModel.getAllGridColumns();this.comp.setColumnCount(i?i.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(i){if(i.target instanceof HTMLImageElement)return i.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var i=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(c){var h=c.relatedTarget;if(null!==su(h)){var g=l.some(function(y){return y.contains(h)})&&i.mouseEventService.isElementInThisGrid(h);if(!g){var _=i.popupService;g=_.getActivePopups().some(function(y){return y.contains(h)})||_.isElementWithinCustomPopup(h)}g||i.rowRenderer.stopEditing()}else i.rowRenderer.stopEditing()},l=[this.eBodyViewport,this.eBottom,this.eTop];l.forEach(function(c){return i.addManagedListener(c,"focusout",s)})}},o.prototype.updateRowCount=function(){var i=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),l=-1;s===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(l=0,this.paginationProxy.forEachNode(function(h){h.group||l++})),this.comp.setRowCount(-1===l?-1:i+l)},o.prototype.registerBodyViewportResizeListener=function(i){this.comp.registerBodyViewportResizeListener(i)},o.prototype.setVerticalScrollPaddingVisible=function(i){this.comp.setPinnedTopBottomOverflowY(i?"scroll":"hidden")},o.prototype.isVerticalScrollShowing=function(){var i=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(i?Lp:null,i),i||Vd(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var i=this,s=function(){var l=i.gridOptionsWrapper.isAnimateRows()&&!i.rowContainerHeightService.isStretching();i.comp.setRowAnimationCssOnBodyViewport(l?W.SJN.ANIMATION_ON:W.SJN.ANIMATION_OFF,l)};s(),this.addManagedListener(this.eventService,G.EVENT_HEIGHT_SCALE_CHANGED,s)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var i=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(l){i.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&l.preventDefault();var c=Pa(l);(c===i.eBodyViewport||c===i.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&i.contextMenuFactory&&i.contextMenuFactory.onContextMenu(l,null,null,null,null,i.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},o.prototype.onWheel=function(i){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&i.preventDefault()},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(i){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+i),this.eBodyViewport.scrollTop-s},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Cy(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.setFloatingHeights=function(){var i=this.pinnedRowModel,s=i.getPinnedTopTotalHeight();s&&(s+=1);var l=i.getPinnedBottomTotalHeight();l&&(l+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(l),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(l?"inherit":"none")},o.prototype.sizeColumnsToFit=function(i){var s=this,c=this.isVerticalScrollShowing()&&!zn()?this.gridOptionsWrapper.getScrollbarWidth():0,g=Li(this.eBodyViewport)-c;g>0?this.columnModel.sizeColumnsToFit(g,"sizeColumnsToFit"):void 0===i?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===i?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===i?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(i){this.eBodyViewport.addEventListener("scroll",i)},o.prototype.removeScrollEventListener=function(i){this.eBodyViewport.removeEventListener("scroll",i)},o.prototype.requestAngularApply=function(){var i=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){i.angularApplyTriggered=!1,i.$scope.$apply()},0))},o.prototype.addAngularApplyCheck=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return i.requestAngularApply()}),this.addManagedListener(this.eventService,G.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return i.requestAngularApply()})},$i([P("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),$i([P("ctrlsService")],o.prototype,"ctrlsService",void 0),$i([P("columnModel")],o.prototype,"columnModel",void 0),$i([P("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),$i([mt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),$i([P("headerNavigationService")],o.prototype,"headerNavigationService",void 0),$i([P("paginationProxy")],o.prototype,"paginationProxy",void 0),$i([P("dragAndDropService")],o.prototype,"dragAndDropService",void 0),$i([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),$i([P("rowRenderer")],o.prototype,"rowRenderer",void 0),$i([P("popupService")],o.prototype,"popupService",void 0),$i([P("mouseEventService")],o.prototype,"mouseEventService",void 0),$i([P("$scope")],o.prototype,"$scope",void 0),o}(ie),Fu=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Nr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},by=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return Fu(o,u),o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var i=this;["keydown","keypress"].forEach(function(l){var c=i.processKeyboardEvent.bind(i,l);i.addManagedListener(i.element,l,c)})},o.prototype.addMouseListeners=function(){var i=this;["dblclick","contextmenu","mouseover","mouseout","click",$n("touchstart")?"touchstart":"mousedown"].forEach(function(c){var h=i.processMouseEvent.bind(i,c);i.addManagedListener(i.element,c,h)})},o.prototype.processMouseEvent=function(i,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!jo(s)){var l=this.getRowForEvent(s),c=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===i?this.handleContextMenuMouseEvent(s,null,l,c):(c&&c.onMouseEvent(i,s),l&&l.onMouseEvent(i,s))}},o.prototype.mockContextMenuForIPad=function(){var i=this;if(Na()){var s=new Vi(this.element);this.addManagedListener(s,Vi.EVENT_LONG_TAP,function(c){var h=i.getRowForEvent(c.touchEvent),g=i.mouseEventService.getRenderedCellForEvent(c.touchEvent);i.handleContextMenuMouseEvent(null,c.touchEvent,h,g)}),this.addDestroyFunc(function(){return s.destroy()})}},o.prototype.getRowForEvent=function(i){for(var s=Pa(i);s;){var l=this.gridOptionsWrapper.getDomData(s,aa.DOM_DATA_KEY_ROW_CTRL);if(l)return l;s=s.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(i,s,l,c){var h=l?l.getRowNode():null,g=c?c.getColumn():null,_=null;g&&(c.dispatchCellContextMenuEvent(i||s),_=this.valueService.getValue(g,h));var w=this.ctrlsService.getGridBodyCtrl(),x=c?c.getGui():w.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(i,s,h,g,_,x)},o.prototype.processKeyboardEvent=function(i,s){var l=wr(this.gridOptionsWrapper,s,qo.DOM_DATA_KEY_CELL_CTRL),c=wr(this.gridOptionsWrapper,s,aa.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(l?this.processCellKeyboardEvent(l,i,s):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,i,s))},o.prototype.processCellKeyboardEvent=function(i,s,l){var c=i.getRowNode(),h=i.getColumn(),g=i.isEditing();if(!it(this.gridOptionsWrapper,l,c,h,g))switch(s){case"keydown":!g&&this.navigationService.handlePageScrollingKey(l)||i.onKeyDown(l),this.doGridOperations(l,i.isEditing());break;case"keypress":i.onKeyPress(l)}if("keydown"===s){var w=i.createEvent(l,G.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(w)}if("keypress"===s){var x=i.createEvent(l,G.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(x)}},o.prototype.processFullWidthRowKeyboardEvent=function(i,s,l){var c=i.getRowNode(),h=this.focusService.getFocusedCell();if(!it(this.gridOptionsWrapper,l,c,h&&h.column,!1)&&"keydown"===s)switch(l.keyCode){case be.UP:case be.DOWN:i.onKeyboardNavigate(l);break;case be.TAB:i.onTabKeyDown(l)}if("keydown"===s){var w=i.createRowEvent(G.EVENT_CELL_KEY_DOWN,l);this.eventService.dispatchEvent(w)}if("keypress"===s){var x=i.createRowEvent(G.EVENT_CELL_KEY_PRESS,l);this.eventService.dispatchEvent(x)}},o.prototype.doGridOperations=function(i,s){if((i.ctrlKey||i.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(i))switch(i.which){case be.A:return this.onCtrlAndA(i);case be.C:return this.onCtrlAndC(i);case be.V:return this.onCtrlAndV();case be.D:return this.onCtrlAndD(i);case be.Z:return i.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case be.Y:return this.undoRedoService.redo()}},o.prototype.onCtrlAndA=function(i){var s=this,l=s.pinnedRowModel,h=s.rangeService,g=q.PINNED_BOTTOM,_=q.PINNED_TOP;if(h&&s.paginationProxy.isRowsToRender()){var y=[l.isEmpty(_),l.isEmpty(g)],k=y[0]?null:_,B=void 0,j=void 0;y[1]?(B=null,j=this.paginationProxy.getRowCount()-1):(B=g,j=l.getPinnedBottomRowData().length-1);var ee=this.columnModel.getAllDisplayedColumns();if(Fi(ee))return;h.setCellRange({rowStartIndex:0,rowStartPinned:k,rowEndIndex:j,rowEndPinned:B,columnStart:ee[0],columnEnd:Zt(ee)})}i.preventDefault()},o.prototype.onCtrlAndC=function(i){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),i.preventDefault())},o.prototype.onCtrlAndV=function(){tt.isRegistered(W.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(i){tt.isRegistered(W.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),i.preventDefault()},Nr([P("mouseEventService")],o.prototype,"mouseEventService",void 0),Nr([P("valueService")],o.prototype,"valueService",void 0),Nr([mt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Nr([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Nr([P("navigationService")],o.prototype,"navigationService",void 0),Nr([P("focusService")],o.prototype,"focusService",void 0),Nr([P("undoRedoService")],o.prototype,"undoRedoService",void 0),Nr([P("columnModel")],o.prototype,"columnModel",void 0),Nr([P("paginationProxy")],o.prototype,"paginationProxy",void 0),Nr([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Nr([mt("rangeService")],o.prototype,"rangeService",void 0),Nr([mt("clipboardService")],o.prototype,"clipboardService",void 0),Nr([Se],o.prototype,"postConstruct",null),o}(ie),CD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wy=function(u){function o(i){var s=u.call(this)||this;return s.centerContainerCon=i,s}return CD(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl(),i.listenForResize()}),this.addManagedListener(this.eventService,G.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var i=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(i),this.gridBodyCon.registerBodyViewportResizeListener(i)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var i=this.centerContainerCon.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var s=nn(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:G.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var i={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(i),this.gridBodyCon.setVerticalScrollPaddingVisible(i.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var i=this.centerContainerCon.getCenterWidth(),s=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},nc([P("ctrlsService")],o.prototype,"ctrlsService",void 0),nc([P("columnModel")],o.prototype,"columnModel",void 0),nc([P("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),nc([P("columnApi")],o.prototype,"columnApi",void 0),nc([P("gridApi")],o.prototype,"gridApi",void 0),nc([Se],o.prototype,"postConstruct",null),o}(ie),Og=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Jx=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return Og(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,G.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var i=this.pinnedWidthService.getPinnedLeftWidth(),s=i>0;Ct(this.element,s),s&&Tr(this.element,i)},xg([P("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),xg([Se],o.prototype,"postConstruct",null),o}(ie),Sy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ey=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Dy=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return Sy(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,G.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var i=this.pinnedWidthService.getPinnedRightWidth(),s=i>0;Ct(this.element,s),s&&Tr(this.element,i)},Ey([P("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Ey([Se],o.prototype,"postConstruct",null),o}(ie),bD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ty=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},To=function(u){function o(i,s){var l=u.call(this)||this;return l.eContainer=i,l.eWrapper=s,l}return bD(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,G.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var i=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=i?i+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},Ty([P("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),Ty([Se],o.prototype,"postConstruct",null),o}(ie),wD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},SD=function(u){function o(i){var s=u.call(this)||this;return s.eContainer=i,s}return wD(o,u),o.prototype.postConstruct=function(){var i=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!je(this.rangeService)){var s={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return i.dragService.removeDragSource(s)})}},Gp([mt("rangeService")],o.prototype,"rangeService",void 0),Gp([P("dragService")],o.prototype,"dragService",void 0),Gp([Se],o.prototype,"postConstruct",null),o}(ie),ED=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),el=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth",u.TOP_LEFT="topLeft",u.TOP_RIGHT="topRight",u.TOP_CENTER="topCenter",u.TOP_FULL_WITH="topFullWidth",u.BOTTOM_LEFT="bottomLeft",u.BOTTOM_RIGHT="bottomRight",u.BOTTOM_CENTER="bottomCenter",u.BOTTOM_FULL_WITH="bottomFullWidth"}(W.hA6||(W.hA6={}));var Ry=ms([[W.hA6.CENTER,"ag-center-cols-container"],[W.hA6.LEFT,"ag-pinned-left-cols-container"],[W.hA6.RIGHT,"ag-pinned-right-cols-container"],[W.hA6.FULL_WIDTH,"ag-full-width-container"],[W.hA6.TOP_CENTER,"ag-floating-top-container"],[W.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[W.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[W.hA6.TOP_FULL_WITH,"ag-floating-top-full-width-container"],[W.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[W.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[W.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[W.hA6.BOTTOM_FULL_WITH,"ag-floating-bottom-full-width-container"]]),TD=ms([[W.hA6.CENTER,"ag-center-cols-viewport"],[W.hA6.TOP_CENTER,"ag-floating-top-viewport"],[W.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),RD=ms([[W.hA6.CENTER,"ag-center-cols-clipper"]]),Hp=function(u){function o(i){var s=u.call(this)||this;return s.name=i,s}return ED(o,u),o.getRowContainerCssClasses=function(i){return{container:Ry.get(i),viewport:TD.get(i),wrapper:RD.get(i)}},o.getPinned=function(i){switch(i){case W.hA6.BOTTOM_LEFT:case W.hA6.TOP_LEFT:case W.hA6.LEFT:return q.PINNED_LEFT;case W.hA6.BOTTOM_RIGHT:case W.hA6.TOP_RIGHT:case W.hA6.RIGHT:return q.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,G.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([W.hA6.CENTER],function(){return i.viewportSizeFeature=i.createManagedBean(new wy(i))}),this.registerWithCtrlsService()},o.prototype.registerWithCtrlsService=function(){switch(this.name){case W.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case W.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case W.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case W.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case W.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case W.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case W.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case W.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case W.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},o.prototype.forContainers=function(i,s){i.indexOf(this.name)>=0&&s()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(i,s,l,c){var h=this;this.comp=i,this.eContainer=s,this.eViewport=l,this.eWrapper=c,this.createManagedBean(new by(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var w=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}([W.hA6.TOP_CENTER,W.hA6.TOP_LEFT,W.hA6.TOP_RIGHT],[W.hA6.BOTTOM_CENTER,W.hA6.BOTTOM_LEFT,W.hA6.BOTTOM_RIGHT],[W.hA6.CENTER,W.hA6.LEFT,W.hA6.RIGHT]),x=[W.hA6.CENTER,W.hA6.LEFT,W.hA6.RIGHT,W.hA6.FULL_WIDTH],k=[W.hA6.CENTER,W.hA6.TOP_CENTER,W.hA6.BOTTOM_CENTER],j=[W.hA6.RIGHT,W.hA6.BOTTOM_RIGHT,W.hA6.TOP_RIGHT];this.forContainers([W.hA6.LEFT,W.hA6.BOTTOM_LEFT,W.hA6.TOP_LEFT],function(){return h.createManagedBean(new Jx(h.eContainer))}),this.forContainers(j,function(){return h.createManagedBean(new Dy(h.eContainer))}),this.forContainers(x,function(){return h.createManagedBean(new To(h.eContainer,h.eWrapper))}),this.forContainers(w,function(){return h.createManagedBean(new SD(h.eContainer))}),this.forContainers(k,function(){return h.createManagedBean(new Ep(function(ee){return h.comp.setContainerWidth(ee+"px")}))})},o.prototype.listenOnDomOrder=function(){var i=this,s=function(){return i.comp.setDomOrder(i.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,s),s()},o.prototype.stopHScrollOnPinnedRows=function(){var i=this;this.forContainers([W.hA6.TOP_CENTER,W.hA6.BOTTOM_CENTER],function(){i.addManagedListener(i.eViewport,"scroll",function(){return i.eViewport.scrollLeft=0})})},o.prototype.onDisplayedColumnsChanged=function(){var i=this;this.forContainers([W.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var i=this;this.forContainers([W.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===W.hA6.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},o.prototype.addPreventScrollWhileDragging=function(){var i=this,s=function(l){i.dragService.isDragging()&&l.cancelable&&l.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return i.eContainer.removeEventListener("touchmove",s)})},o.prototype.onHorizontalViewportChanged=function(){var i=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},o.prototype.getCenterWidth=function(){return Li(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return vn(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(i){var s=this.resizeObserverService.observeResize(this.eViewport,i);this.addDestroyFunc(function(){return s()})},o.prototype.isViewportVisible=function(){return vo(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return Dr(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return vn(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||Dr(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(i){this.eContainer.style.transform="translateX("+i+"px)"},o.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},o.prototype.setCenterViewportScrollLeft=function(i){Js(this.eViewport,i,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var i=this,s=this.name===W.hA6.TOP_FULL_WITH||this.name===W.hA6.BOTTOM_FULL_WITH||this.name===W.hA6.FULL_WIDTH,h=this.getRowCtrls().filter(function(g){var _=g.isFullWidth(),y=i.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,w=i.embedFullWidthRows||y;return s?!w&&_:w||!_});this.comp.setRowCtrls(h)},o.prototype.getRowCtrls=function(){switch(this.name){case W.hA6.TOP_CENTER:case W.hA6.TOP_LEFT:case W.hA6.TOP_RIGHT:case W.hA6.TOP_FULL_WITH:return this.rowRenderer.getTopRowCtrls();case W.hA6.BOTTOM_CENTER:case W.hA6.BOTTOM_LEFT:case W.hA6.BOTTOM_RIGHT:case W.hA6.BOTTOM_FULL_WITH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},el([P("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),el([P("dragService")],o.prototype,"dragService",void 0),el([P("ctrlsService")],o.prototype,"ctrlsService",void 0),el([P("columnModel")],o.prototype,"columnModel",void 0),el([P("resizeObserverService")],o.prototype,"resizeObserverService",void 0),el([P("rowRenderer")],o.prototype,"rowRenderer",void 0),el([Se],o.prototype,"postConstruct",null),o}(ie),ht=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),D=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ay='<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="gridHeader" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <ag-row-container ref="topLeftContainer" name="'+W.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+W.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+W.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+W.hA6.TOP_FULL_WITH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+W.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+W.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+W.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+W.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <ag-row-container ref="bottomLeftContainer" name="'+W.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+W.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+W.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+W.hA6.BOTTOM_FULL_WITH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Ig=function(u){function o(){return u.call(this,Ay)||this}return ht(o,u),o.prototype.init=function(){var i=this,s=function(c,h){var g=c+"px";h.style.minHeight=g,h.style.height=g},l={setRowAnimationCssOnBodyViewport:function(c,h){return i.setRowAnimationCssOnBodyViewport(c,h)},setColumnCount:function(c){return Kd(i.getGui(),c)},setRowCount:function(c){return zd(i.getGui(),c)},setTopHeight:function(c){return s(c,i.eTop)},setBottomHeight:function(c){return s(c,i.eBottom)},setTopDisplay:function(c){return i.eTop.style.display=c},setBottomDisplay:function(c){return i.eBottom.style.display=c},setColumnMovingCss:function(c,h){return i.addOrRemoveCssClass(Ag,h)},updateLayoutClasses:function(c,h){ze(i.eBodyViewport,W.LBn.AUTO_HEIGHT,h.autoHeight),ze(i.eBodyViewport,W.LBn.NORMAL,h.normal),ze(i.eBodyViewport,W.LBn.PRINT,h.print),i.addOrRemoveCssClass(W.LBn.AUTO_HEIGHT,h.autoHeight),i.addOrRemoveCssClass(W.LBn.NORMAL,h.normal),i.addOrRemoveCssClass(W.LBn.PRINT,h.print)},setAlwaysVerticalScrollClass:function(c,h){return ze(i.eBodyViewport,Lp,h)},registerBodyViewportResizeListener:function(c){var h=i.resizeObserverService.observeResize(i.eBodyViewport,c);i.addDestroyFunc(function(){return h()})},setPinnedTopBottomOverflowY:function(c){return i.eTop.style.overflowY=i.eBottom.style.overflowY=c},setCellSelectableCss:function(c,h){[i.eTop,i.eBodyViewport,i.eBottom].forEach(function(g){return ze(g,Rg,h)})}};this.ctrl=this.createManagedBean(new kp),this.ctrl.setComp(l,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Rr(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(i,s){ze(this.eBodyViewport,W.SJN.ANIMATION_ON,s),ze(this.eBodyViewport,W.SJN.ANIMATION_OFF,!s)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},D([P("resizeObserverService")],o.prototype,"resizeObserverService",void 0),D([mt("rangeService")],o.prototype,"rangeService",void 0),D([me("eBodyViewport")],o.prototype,"eBodyViewport",void 0),D([me("eTop")],o.prototype,"eTop",void 0),D([me("eBottom")],o.prototype,"eBottom",void 0),D([me("gridHeader")],o.prototype,"headerRootComp",void 0),D([Se],o.prototype,"init",null),o}(vt);!function(u){u[u.SINGLE_SHEET=0]="SINGLE_SHEET",u[u.MULTI_SHEET=1]="MULTI_SHEET"}(W.nPL||(W.nPL={})),function(u){u.EVERYTHING="group",u.FILTER="filter",u.SORT="sort",u.MAP="map",u.AGGREGATE="aggregate",u.PIVOT="pivot",u.NOTHING="nothing"}(W.j_r||(W.j_r={}));var Tt=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},eo=function(){function u(){this.detailGridInfoMap={},this.destroyCalled=!1}return u.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},u.prototype.registerSideBarComp=function(o){this.sideBarComp=o},u.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case q.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case q.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case q.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},u.prototype.__getAlignedGridService=function(){return this.alignedGridsService},u.prototype.addDetailGridInfo=function(o,i){this.detailGridInfoMap[o]=i},u.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},u.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},u.prototype.forEachDetailGridInfo=function(o){var i=0;It(this.detailGridInfoMap,function(s,l){he(l)&&(o(l,i),i++)})},u.prototype.getDataAsCsv=function(o){if(tt.assertRegistered(W.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},u.prototype.exportDataAsCsv=function(o){tt.assertRegistered(W.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},u.prototype.getDataAsExcel=function(o){if(tt.assertRegistered(W.GXE.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===W.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(o)},u.prototype.exportDataAsExcel=function(o){if(tt.assertRegistered(W.GXE.ExcelExportModule,"api.exportDataAsExcel")){if(this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===W.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(o)}},u.prototype.getSheetDataForExcel=function(o){if(tt.assertRegistered(W.GXE.ExcelExportModule,"api.getSheetDataForExcel"))return this.excelCreator.setFactoryMode(W.nPL.MULTI_SHEET,o&&o.exportMode||"xlsx"),this.excelCreator.getSheetDataForExcel(o)},u.prototype.getMultipleSheetsAsExcel=function(o){if(tt.assertRegistered(W.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},u.prototype.exportMultipleSheetsAsExcel=function(o){if(tt.assertRegistered(W.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},u.prototype.setEnterpriseDatasource=function(o){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},u.prototype.setGridAriaProperty=function(o,i){if(o){var s=this.ctrlsService.getGridBodyCtrl().getGui(),l="aria-"+o;null===i?s.removeAttribute(l):s.setAttribute(l,i)}},u.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_SERVER_SIDE+"'")},u.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_INFINITE+"'")},u.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_VIEWPORT+"'")},u.prototype.setRowData=function(o){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var i=this.immutableService.createTransactionForRowData(o);if(!i)return;var c=this.clientSideRowModel.updateRowData(i[0],i[1]);c&&this.rowRenderer.refreshFullWidthRows(c.update)}else this.selectionService.reset(),this.clientSideRowModel.setRowData(o);else console.warn("cannot call setRowData unless using normal row model")},u.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},u.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},u.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},u.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},u.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},u.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},u.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},u.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},u.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},u.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},u.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},u.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},u.prototype.setColumnDefs=function(o,i){void 0===i&&(i="api"),this.columnModel.setColumnDefs(o,i)},u.prototype.setAutoGroupColumnDef=function(o,i){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",o,!0)},u.prototype.expireValueCache=function(){this.valueCache.expire()},u.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},u.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},u.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},u.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},u.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},u.prototype.refreshCells=function(o){void 0===o&&(o={}),Array.isArray(o)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(o)},u.prototype.flashCells=function(o){void 0===o&&(o={}),this.rowRenderer.flashCells(o)},u.prototype.redrawRows=function(o){void 0===o&&(o={}),this.rowRenderer.redrawRows(o?o.rowNodes:void 0)},u.prototype.refreshView=function(){console.warn("AG Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},u.prototype.refreshRows=function(o){console.warn("since AG Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:o})},u.prototype.rowDataChanged=function(o){console.warn("AG Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},u.prototype.softRefreshView=function(){console.error("AG Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},u.prototype.refreshGroupRows=function(){console.warn("AG Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},u.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},u.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},u.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},u.prototype.isAdvancedFilterPresent=function(){return console.warn("AG Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},u.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},u.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},u.prototype.getModel=function(){return this.rowModel},u.prototype.setRowNodeExpanded=function(o,i){o&&o.setExpanded(i)},u.prototype.onGroupExpandedOrCollapsed=function(o){je(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),he(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:W.j_r.MAP})},u.prototype.refreshInMemoryRowModel=function(o){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},u.prototype.refreshClientSideRowModel=function(o){je(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var i=W.j_r.EVERYTHING,s={group:W.j_r.EVERYTHING,filter:W.j_r.FILTER,map:W.j_r.MAP,aggregate:W.j_r.AGGREGATE,sort:W.j_r.SORT,pivot:W.j_r.PIVOT};he(o)&&(i=s[o]),je(i)?console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(s).join(", ")):this.clientSideRowModel.refreshModel({step:i,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},u.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},u.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},u.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},u.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},u.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.getToolPanelInstance=function(o){if(this.sideBarComp){var i=this.sideBarComp.getToolPanelInstance(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(i):i}console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.addVirtualRowListener=function(o,i,s){"string"!=typeof o&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,i,s)},u.prototype.addRenderedRowListener=function(o,i,s){"virtualRowSelected"===o&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(o,i,s)},u.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},u.prototype.selectIndex=function(o,i,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,i)},u.prototype.deselectIndex=function(o,i){void 0===i&&(i=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},u.prototype.selectNode=function(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!i})},u.prototype.deselectNode=function(o,i){void 0===i&&(i=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},u.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},u.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},u.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},u.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},u.prototype.recomputeAggregates=function(){je(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:W.j_r.AGGREGATE})},u.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},u.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},u.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},u.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},u.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},u.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},u.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},u.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},u.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},u.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},u.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},u.prototype.ensureColumnVisible=function(o){this.gridBodyCon.getScrollFeature().ensureColumnVisible(o)},u.prototype.ensureIndexVisible=function(o,i){this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,i)},u.prototype.ensureNodeVisible=function(o,i){void 0===i&&(i=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(o,i)},u.prototype.forEachLeafNode=function(o){je(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},u.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},u.prototype.forEachNodeAfterFilter=function(o){je(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},u.prototype.forEachNodeAfterFilterAndSort=function(o){je(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},u.prototype.getFilterApiForColDef=function(o){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},u.prototype.getFilterInstance=function(o,i){var s=this,l=this.columnModel.getPrimaryColumn(o);if(l){var c=this.filterManager.getFilterComponent(l,"NO_UI"),h=c&&c.resolveNow(null,function(_){return _}),g=this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(h):h;return i&&(g?setTimeout(i,0,g):c&&c.then(function(_){var y=s.frameworkComponentWrapper?s.frameworkComponentWrapper.unwrap(_):_;i(y)})),g}},u.prototype.getFilterApi=function(o){return console.warn("AG Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},u.prototype.destroyFilter=function(o){var i=this.columnModel.getPrimaryColumn(o);if(i)return this.filterManager.destroyFilter(i,"filterDestroyed")},u.prototype.getStatusPanel=function(o){if(this.statusBarService){var i=this.statusBarService.getStatusPanel(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(i):i}},u.prototype.getColumnDef=function(o){var i=this.columnModel.getPrimaryColumn(o);return i?i.getColDef():null},u.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},u.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},u.prototype.onSortChanged=function(){this.sortController.onSortChanged()},u.prototype.setSortModel=function(o,i){console.warn("AG Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var s=[];o&&o.forEach(function(l,c){s.push({colId:l.colId,sort:l.sort,sortIndex:c})}),this.columnModel.applyColumnState({state:s,defaultState:{sort:null}})},u.prototype.getSortModel=function(){console.warn("AG Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var i=this.columnModel.getColumnState().filter(function(c){return null!=c.sort}),s={};i.forEach(function(c){s[c.colId]=c.sortIndex});var l=i.map(function(c){return{colId:c.colId,sort:c.sort}});return l.sort(function(c,h){return s[c.colId]-s[h.colId]}),l},u.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},u.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},u.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},u.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},u.prototype.setFocusedCell=function(o,i,s){this.focusService.setFocusedCell(o,i,s,!0)},u.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_SUPPRESS_ROW_DRAG,o)},u.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},u.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},u.prototype.addRowDropZone=function(o){this.gridBodyCon.getRowDragFeature().addRowDropZone(o)},u.prototype.removeRowDropZone=function(o){var i=this.dragAndDropService.findExternalZone(o);i&&this.dragAndDropService.removeDropTarget(i)},u.prototype.getRowDropZoneParams=function(o){return this.gridBodyCon.getRowDragFeature().getRowDropZone(o)},u.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_HEADER_HEIGHT,o)},u.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_DOM_LAYOUT,o)},u.prototype.setEnableCellTextSelection=function(o){this.gridBodyCon.setCellTextSelection(o)},u.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_FILL_HANDLE_DIRECTION,o)},u.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GROUP_HEADER_HEIGHT,o)},u.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_FLOATING_FILTERS_HEIGHT,o)},u.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},u.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},u.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_DOES_EXTERNAL_FILTER_PASS,o)},u.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_NAVIGATE_TO_NEXT_CELL,o)},u.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_TAB_TO_NEXT_CELL,o)},u.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_TAB_TO_NEXT_HEADER,o)},u.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_NAVIGATE_TO_NEXT_HEADER,o)},u.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GROUP_ROW_AGG_NODES,o)},u.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},u.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_CHILD_COUNT,o)},u.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PROCESS_ROW_POST_CREATE,o)},u.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_ROW_NODE_ID,o)},u.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_ROW_CLASS,o)},u.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_FULL_WIDTH_CELL,o)},u.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_ROW_SELECTABLE,o)},u.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_ROW_MASTER,o)},u.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_POST_SORT,o)},u.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_DOCUMENT,o)},u.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_CONTEXT_MENU_ITEMS,o)},u.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_MAIN_MENU_ITEMS,o)},u.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},u.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_SEND_TO_CLIPBOARD,o)},u.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},u.prototype.setProcessSecondaryColDef=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PROCESS_TO_SECONDARY_COLDEF,o)},u.prototype.setProcessSecondaryColGroupDef=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,o)},u.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_POST_PROCESS_POPUP,o)},u.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},u.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_CHART_TOOLBAR_ITEMS,o)},u.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PAGINATION_NUMBER_FORMATTER,o)},u.prototype.setGetServerSideStoreParams=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_SERVER_SIDE_STORE_PARAMS,o)},u.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},u.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},u.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_IS_SERVER_SIDE_GROUP,o)},u.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},u.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_ROW_STYLE,o)},u.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GET_ROW_HEIGHT,o)},u.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_PIVOT_HEADER_HEIGHT,o)},u.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},u.prototype.setSideBarVisible=function(o){this.sideBarComp?this.sideBarComp.setDisplayed(o):o&&console.warn("AG Grid: sideBar is not loaded")},u.prototype.setSideBarPosition=function(o){this.sideBarComp?this.sideBarComp.setSideBarPosition(o):console.warn("AG Grid: sideBar is not loaded")},u.prototype.openToolPanel=function(o){this.sideBarComp?this.sideBarComp.openToolPanel(o):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},u.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},u.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",sa.parse(o))},u.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},u.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},u.prototype.doLayout=function(){Cn(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},u.prototype.resetRowHeights=function(){he(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},u.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},u.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},u.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},u.prototype.getValue=function(o,i){var s=this.columnModel.getPrimaryColumn(o);return je(s)&&(s=this.columnModel.getGridColumn(o)),je(s)?null:this.valueService.getValue(s,i)},u.prototype.addEventListener=function(o,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,i,s)},u.prototype.addGlobalListener=function(o){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,i)},u.prototype.removeEventListener=function(o,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,i,s)},u.prototype.removeGlobalListener=function(o){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,i)},u.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},u.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Yv.bind(window,this,"Grid API"),100)},u.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},u.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},u.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},u.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},u.prototype.camelCaseToHumanReadable=function(o){return r_(o)},u.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},u.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},u.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},u.prototype.undoCellEditing=function(){this.undoRedoService.undo()},u.prototype.redoCellEditing=function(){this.undoRedoService.redo()},u.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},u.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},u.prototype.getChartModels=function(){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.getChartModels")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},u.prototype.getChartRef=function(o){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.getChartRef")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},u.prototype.getChartImageDataURL=function(o){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},u.prototype.createRangeChart=function(o){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.createRangeChart")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},u.prototype.createCrossFilterChart=function(o){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},u.prototype.restoreChart=function(o,i){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.restoreChart")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,i)},u.prototype.createPivotChart=function(o){if(tt.assertRegistered(W.GXE.RangeSelectionModule,"api.createPivotChart")&&tt.assertRegistered(W.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},u.prototype.copySelectedRowsToClipboard=function(o,i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o,i)},u.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},u.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},u.prototype.showColumnMenuAfterButtonClick=function(o,i){var s=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(s,i,"columnMenu")},u.prototype.showColumnMenuAfterMouseClick=function(o,i){var s=this.columnModel.getGridColumn(o);s||(s=this.columnModel.getPrimaryColumn(o)),s?this.menuFactory.showMenuAfterMouseEvent(s,i):console.error("AG Grid: column '"+o+"' not found")},u.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},u.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(Pe.PROP_POPUP_PARENT,o)},u.prototype.tabToNextCell=function(){return this.navigationService.tabToNextCell(!1)},u.prototype.tabToPreviousCell=function(){return this.navigationService.tabToNextCell(!0)},u.prototype.getCellRendererInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellRendererInstances(o)},u.prototype.getCellEditorInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellEditorInstances(o)},u.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},u.prototype.stopEditing=function(o){void 0===o&&(o=!1),this.rowRenderer.stopEditing(o)},u.prototype.startEditingCell=function(o){var i=this.columnModel.getGridColumn(o.colKey);if(i){var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:i};null==o.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o.rowIndex);var c=this.navigationService.getCellByPosition(s);!c||c.startRowOrCellEdit(o.keyPress,o.charPress)}else console.warn("AG Grid: no column found for "+o.colKey)},u.prototype.addAggFunc=function(o,i){this.aggFuncService&&this.aggFuncService.addAggFunc(o,i)},u.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},u.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},u.prototype.applyServerSideTransaction=function(o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(o);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyServerSideTransactionAsync=function(o,i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(o,i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},u.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyTransaction=function(o){if(this.clientSideRowModel){var i=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(i.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),i}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},u.prototype.updateRowData=function(o){return Cn(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(o)},u.prototype.applyTransactionAsync=function(o,i){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(o,i):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.batchUpdateRowData=function(o,i){Cn(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,i)},u.prototype.insertItemsAtIndex=function(o,i,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:o,update:null,remove:null})},u.prototype.removeItems=function(o,i){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=o.map(function(l){return l.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},u.prototype.addItems=function(o,i){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},u.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},u.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},u.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeEnterpriseCache=function(o){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(o)},u.prototype.purgeServerSideCache=function(o){void 0===o&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},u.prototype.refreshServerSideStore=function(o){this.serverSideRowModel?this.serverSideRowModel.refreshStore(o):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},u.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},u.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},u.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},u.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},u.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},u.prototype.setVirtualRowCount=function(o,i){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,i)},u.prototype.setInfiniteRowCount=function(o,i){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,i)},u.prototype.setRowCount=function(o,i){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,i):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},u.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},u.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},u.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},u.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},u.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},u.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},u.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},u.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},u.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},u.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},u.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},u.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},u.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},u.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},u.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},u.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},u.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},u.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},u.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},Tt([mt("immutableService")],u.prototype,"immutableService",void 0),Tt([mt("csvCreator")],u.prototype,"csvCreator",void 0),Tt([mt("excelCreator")],u.prototype,"excelCreator",void 0),Tt([P("rowRenderer")],u.prototype,"rowRenderer",void 0),Tt([P("navigationService")],u.prototype,"navigationService",void 0),Tt([P("filterManager")],u.prototype,"filterManager",void 0),Tt([P("columnModel")],u.prototype,"columnModel",void 0),Tt([P("selectionService")],u.prototype,"selectionService",void 0),Tt([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Tt([P("valueService")],u.prototype,"valueService",void 0),Tt([P("alignedGridsService")],u.prototype,"alignedGridsService",void 0),Tt([P("eventService")],u.prototype,"eventService",void 0),Tt([P("pinnedRowModel")],u.prototype,"pinnedRowModel",void 0),Tt([P("context")],u.prototype,"context",void 0),Tt([P("rowModel")],u.prototype,"rowModel",void 0),Tt([P("sortController")],u.prototype,"sortController",void 0),Tt([P("paginationProxy")],u.prototype,"paginationProxy",void 0),Tt([P("focusService")],u.prototype,"focusService",void 0),Tt([P("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Tt([mt("rangeService")],u.prototype,"rangeService",void 0),Tt([mt("clipboardService")],u.prototype,"clipboardService",void 0),Tt([mt("aggFuncService")],u.prototype,"aggFuncService",void 0),Tt([P("menuFactory")],u.prototype,"menuFactory",void 0),Tt([mt("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),Tt([P("valueCache")],u.prototype,"valueCache",void 0),Tt([P("animationFrameService")],u.prototype,"animationFrameService",void 0),Tt([mt("statusBarService")],u.prototype,"statusBarService",void 0),Tt([mt("chartService")],u.prototype,"chartService",void 0),Tt([mt("undoRedoService")],u.prototype,"undoRedoService",void 0),Tt([mt("rowNodeBlockLoader")],u.prototype,"rowNodeBlockLoader",void 0),Tt([mt("ssrmTransactionManager")],u.prototype,"serverSideTransactionManager",void 0),Tt([P("ctrlsService")],u.prototype,"ctrlsService",void 0),Tt([mt("frameworkComponentWrapper")],u.prototype,"frameworkComponentWrapper",void 0),Tt([Se],u.prototype,"init",null),Tt([di],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Tt([xe("gridApi")],u)}(),Oy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Mg=function(u,o){return function(i,s){o(i,s,u)}},Jo=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.expressionToFunctionCache={},i}return Oy(o,u),o.prototype.setBeans=function(i){this.logger=i.create("ExpressionService")},o.prototype.evaluate=function(i,s){return"function"==typeof i?i(s):"string"==typeof i?this.evaluateExpression(i,s):void console.error("AG Grid: value should be either a string or a function",i)},o.prototype.evaluateExpression=function(i,s){try{return this.createExpressionFunction(i)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(h){return console.log("Processing of the expression failed"),console.log("Expression = "+i),console.log("Params =",s),console.log("Exception = "+h),null}},o.prototype.createExpressionFunction=function(i){if(this.expressionToFunctionCache[i])return this.expressionToFunctionCache[i];var s=this.createFunctionBody(i),l=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[i]=l,l},o.prototype.createFunctionBody=function(i){return i.indexOf("return")>=0?i:"return "+i+";"},xy([Mg(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),xy([xe("expressionService")],o)}(ie),Pg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Vp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.templateCache={},i.waitingCallbacks={},i}return Pg(o,u),o.prototype.getTemplate=function(i,s){var l=this.templateCache[i];if(l)return l;var c=this.waitingCallbacks[i],h=this;if(!c){this.waitingCallbacks[i]=c=[];var g=new XMLHttpRequest;g.onload=function(){h.handleHttpResult(this,i)},g.open("GET",i),g.send()}return s&&c.push(s),null},o.prototype.handleHttpResult=function(i,s){if(200===i.status&&null!==i.response){this.templateCache[s]=i.response||i.responseText;for(var l=this.waitingCallbacks[s],c=0;c<l.length;c++)(0,l[c])();if(this.$scope){var g=this;window.setTimeout(function(){g.$scope.$apply()},0)}}else console.warn("Unable to get template error "+i.status+" - "+s)},Fg([P("$scope")],o.prototype,"$scope",void 0),Fg([xe("templateService")],o)}(ie),Xx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),to=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ts=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return Xx(o,u),i=o,o.addKeyboardModeEvents=function(s,l){var c=i.instancesMonitored.get(s);c&&c.length>0?-1===c.indexOf(l)&&c.push(l):(i.instancesMonitored.set(s,[l]),s.addEventListener("keydown",i.toggleKeyboardMode),s.addEventListener("mousedown",i.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(s,l){var c=i.instancesMonitored.get(s),h=[];c&&c.length&&(h=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s}(c).filter(function(g){return g!==l}),i.instancesMonitored.set(s,h)),0===h.length&&(s.removeEventListener("keydown",i.toggleKeyboardMode),s.removeEventListener("mousedown",i.toggleKeyboardMode))},o.toggleKeyboardMode=function(s){var l=i.keyboardModeActive,c="keydown"===s.type;if(!(c&&(s.ctrlKey||s.metaKey||s.altKey)||l&&c||!l&&!c)){i.keyboardModeActive=c;var h=s.target.ownerDocument;if(h){var g=i.instancesMonitored.get(h);g&&g.forEach(function(_){_.dispatchEvent({type:c?G.EVENT_KEYBOARD_FOCUS:G.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var s=this,l=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_MODE_CHANGED,l),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_GROUP_OPENED,l),this.addManagedListener(this.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,l),this.ctrlsService.whenReady(function(c){s.gridCtrl=c.gridCtrl;var h=s.gridOptionsWrapper.getDocument();i.addKeyboardModeEvents(h,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},o.prototype.unregisterGridCompController=function(s){var l=this.gridOptionsWrapper.getDocument();i.removeKeyboardModeEvents(l,s)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,l=this.columnModel.getGridColumn(s.getId());s!==l&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return i.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(document.activeElement,aa.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(document.activeElement,xu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(s,l){for(var c=s;c;){if(this.gridOptionsWrapper.getDomData(c,l))return!1;c=c.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(s,l,c,h){void 0===h&&(h=!1);var g=this.columnModel.getGridColumn(l);g?(this.focusedCellPosition=g?{rowIndex:s,rowPinned:At(c),column:g}:null,this.onCellFocused(h)):this.focusedCellPosition=null},o.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var l=s.getColumnGroupChild(),c=s.getRowIndex(),h=s.getPinned(),g=this.focusedHeaderPosition,_=g.column;return l===_&&c===g.headerRowIndex&&h==_.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(s,l){this.focusedHeaderPosition={headerRowIndex:s,column:l}},o.prototype.focusHeaderPosition=function(s){var l=s.direction,c=s.fromTab,g=s.event,_=s.headerPosition;if(s.allowUserOverride){var k,y=this.gridOptionsWrapper,w=this.getFocusedHeader(),x=this.headerNavigationService.getHeaderRowCount();c?(k=y.getTabToNextHeaderFunc())&&(_=k({backwards:"Before"===l,previousHeaderPosition:w,nextHeaderPosition:_,headerRowCount:x,api:y.getApi(),columnApi:y.getColumnApi()})):(k=y.getNavigateToNextHeaderFunc())&&g&&(_=k({key:g.key,previousHeaderPosition:w,nextHeaderPosition:_,headerRowCount:x,event:g,api:y.getApi(),columnApi:y.getColumnApi()}))}return!!_&&(-1===_.headerRowIndex?this.focusGridView(_.column):(this.headerNavigationService.scrollToColumn(_.column,l),this.ctrlsService.getHeaderRowContainerCtrl(_.column.getPinned()).focusHeader(_.headerRowIndex,_.column,g)))},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(s,l){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===At(l)},o.prototype.findFocusableElements=function(s,l,c){void 0===c&&(c=!1);var g=q.FOCUSABLE_EXCLUDE;l&&(g+=", "+l),c&&(g+=', [tabindex="-1"]');var k,_=Array.prototype.slice.apply(s.querySelectorAll(q.FOCUSABLE_SELECTOR)),y=Array.prototype.slice.apply(s.querySelectorAll(g));return y.length?(k=y,_.filter(function(B){return-1===k.indexOf(B)})):_},o.prototype.focusInto=function(s,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var h=this.findFocusableElements(s,null,c),g=l?Zt(h):h[0];return!!g&&(g.focus(),!0)},o.prototype.findNextFocusableElement=function(s,l,c){var h=this.findFocusableElements(s,l?':not([tabindex="-1"])':null),_=(l?$s(h,function(y){return y.contains(document.activeElement)}):h.indexOf(document.activeElement))+(c?-1:1);return _<0||_>=h.length?null:h[_]},o.prototype.isFocusUnderManagedComponent=function(s){var l=s.querySelectorAll("."+On.FOCUS_MANAGED_CLASS);if(!l.length)return!1;for(var c=0;c<l.length;c++)if(l[c].contains(document.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(s,l){void 0===l&&(l=5);for(var c=0;s&&null===su(s)&&++c<=l;)s=s.parentElement;return null===su(s)?null:s},o.prototype.onCellFocused=function(s){var l={type:G.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var c=l.rowIndex=this.focusedCellPosition.rowIndex,h=l.rowPinned=this.focusedCellPosition.rowPinned;l.column=this.focusedCellPosition.column;var g=this.rowRenderer.getRowByPosition({rowIndex:c,rowPinned:h});g&&(l.isFullWidthCell=g.isFullWidth())}this.eventService.dispatchEvent(l)},o.prototype.focusGridView=function(s,l){var c=l?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var h=c.rowIndex,g=c.rowPinned,_=this.getFocusedHeader();return!s&&_&&(s=_.column),!(null==h||!s)&&(this.navigationService.ensureCellVisible({rowIndex:h,column:s,rowPinned:g}),this.setFocusedCell(h,s,At(g),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:h,rowPinned:g,column:s}),!0)},o.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(s||this.gridCtrl.forceFocusOutOfContainer(),!1)},o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,to([P("columnModel")],o.prototype,"columnModel",void 0),to([P("headerNavigationService")],o.prototype,"headerNavigationService",void 0),to([P("columnApi")],o.prototype,"columnApi",void 0),to([P("gridApi")],o.prototype,"gridApi",void 0),to([P("rowRenderer")],o.prototype,"rowRenderer",void 0),to([P("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),to([mt("rangeService")],o.prototype,"rangeService",void 0),to([P("navigationService")],o.prototype,"navigationService",void 0),to([P("ctrlsService")],o.prototype,"ctrlsService",void 0),to([Se],o.prototype,"init",null),i=to([xe("focusService")],o)}(ie),Bp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),tl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ro=(()=>(function(u){u[u.vertical=0]="vertical",u[u.horizontal=1]="horizontal"}(Ro||(Ro={})),Ro))(),Ng=0,AD=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.popupList=[],i}return Bp(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridCtrl=s.gridCtrl,i.addManagedListener(i.gridCtrl,G.EVENT_KEYBOARD_FOCUS,function(){pe(i.popupList,function(l){return Ie(l.element,Ts.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,G.EVENT_MOUSE_FOCUS,function(){pe(i.popupList,function(l){return Kn(l.element,Ts.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect(),c=this.keepXYWithinBounds(i.ePopup,s.top-l.top,Ro.vertical),h=i.ePopup.clientWidth>0?i.ePopup.clientWidth:200;i.ePopup.style.minWidth=h+"px";var y,_=l.right-l.left-h;function w(){return s.right-l.left-2}function x(){return s.left-l.left-h}this.gridOptionsWrapper.isEnableRtl()?((y=x())<0&&(y=w()),y>_&&(y=0)):((y=w())>_&&(y=x()),y<0&&(y=0)),i.ePopup.style.left=y+"px",i.ePopup.style.top=c+"px"},o.prototype.positionPopupUnderMouseEvent=function(i){var s=i.ePopup,l=i.nudgeX,c=i.nudgeY,h=this.calculatePointerAlign(i.mouseEvent);this.positionPopup({ePopup:s,x:h.x,y:h.y,nudgeX:l,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)},o.prototype.calculatePointerAlign=function(i){var s=this.getParentRect();return{x:i.clientX-s.left,y:i.clientY-s.top}},o.prototype.positionPopupUnderComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=i.alignSide||"left",c=this.getParentRect(),h=s.left-c.left;"right"===l&&(h-=i.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:h,y:s.top-c.top+s.height,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},o.prototype.positionPopupOverComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect();this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:s.left-l.left,y:s.top-l.top,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},o.prototype.callPostProcessPopup=function(i,s,l,c,h,g){var _=this.gridOptionsWrapper.getPostProcessPopupFunc();_&&_({column:h,rowNode:g,ePopup:s,type:i,eventSource:l,mouseEvent:c})},o.prototype.positionPopup=function(i){var s=i.ePopup,c=i.nudgeX,h=i.nudgeY,g=i.x,_=i.y;c&&(g+=c),h&&(_+=h),i.keepWithinBounds&&(g=this.keepXYWithinBounds(s,g,Ro.horizontal),_=this.keepXYWithinBounds(s,_,Ro.vertical)),s.style.left=g+"px",s.style.top=_+"px"},o.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var i=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===i.body&&(s=i.documentElement);var l=getComputedStyle(s),c=s.getBoundingClientRect();return{top:c.top+parseFloat(l.borderTopWidth)||0,left:c.left+parseFloat(l.borderLeftWidth)||0,right:c.right+parseFloat(l.borderRightWidth)||0,bottom:c.bottom+parseFloat(l.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(i,s,l){var c=l===Ro.vertical,h=c?"clientHeight":"clientWidth",g=c?"top":"left",_=c?"offsetHeight":"offsetWidth",y=c?"scrollTop":"scrollLeft",w=this.gridOptionsWrapper.getDocument(),x=w.documentElement,k=this.getPopupParent(),B=k.getBoundingClientRect(),j=w.documentElement.getBoundingClientRect(),ee=k===w.body,re=i[_],ge=ee?(c?_s:Vn)(x)+x[y]:k[h];ee&&(ge-=Math.abs(j[g]-B[g]));var de=ge-re;return Math.min(Math.max(s,0),Math.abs(de))},o.prototype.keepPopupPositionedRelativeTo=function(i){var s=this,l=this.getPopupParent(),c=l.getBoundingClientRect(),h=i.element.getBoundingClientRect(),g=c.top-h.top,_=c.left-h.left,y=g,w=_,x=i.ePopup.style.top,k=parseInt(x.substring(0,x.length-1),10),B=i.ePopup.style.left,j=parseInt(B.substring(0,B.length-1),10);return new Or(function(ee){s.getFrameworkOverrides().setInterval(function(){var re=l.getBoundingClientRect(),we=i.element.getBoundingClientRect();if(0==we.top&&0==we.left&&0==we.height&&0==we.width)i.hidePopup();else{var de=re.top-we.top;if(de!=y){var Te=s.keepXYWithinBounds(i.ePopup,k+g-de,Ro.vertical);i.ePopup.style.top=Te+"px"}y=de;var We=re.left-we.left;if(We!=w){var Dt=s.keepXYWithinBounds(i.ePopup,j+_-We,Ro.horizontal);i.ePopup.style.left=Dt+"px"}w=We}},200).then(function(re){ee(function(){null!=re&&window.clearInterval(re)})})})},o.prototype.addPopup=function(i){var s=this,l=i.modal,c=i.eChild,h=i.closeOnEsc,g=i.closedCallback,_=i.click,y=i.alwaysOnTop,w=i.afterGuiAttached,x=i.positionCallback,k=i.anchorToElement,B=i.ariaLabel,j=this.gridOptionsWrapper.getDocument(),ee=new Or(function(Ot){return Ot(function(){})});if(!j)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:ee};var re=$s(this.popupList,function(Ot){return Ot.element===c});if(-1!==re){var we=this.popupList[re];return{hideFunc:we.hideFunc,stopAnchoringPromise:we.stopAnchoringPromise}}var ge=this.getPopupParent();null==c.style.top&&(c.style.top="0px"),null==c.style.left&&(c.style.left="0px");var de=document.createElement("div"),Te=this.environment.getTheme().theme;Te&&Ie(de,Te),Ie(de,"ag-popup"),Ie(c,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Ie(c,"ag-popup-child"),ur(c,"dialog"),$t(c,B),this.focusService.isKeyboardMode()&&Ie(c,Ts.AG_KEYBOARD_FOCUS),de.appendChild(c),ge.appendChild(de),y?this.setAlwaysOnTop(de,!0):this.bringPopupToFront(de);var We=!1,Dt=function(Ot){de.contains(document.activeElement)&&(Ot.which||Ot.keyCode)===be.ESCAPE&&zt({keyboardEvent:Ot})},Ze=function(Ot){return zt({mouseEvent:Ot})},Et=function(Ot){return zt({touchEvent:Ot})},zt=function(Ot){void 0===Ot&&(Ot={});var Sn=Ot.mouseEvent,ln=Ot.touchEvent,Ue=Ot.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:Sn,touchEvent:ln},c)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:_,mouseEvent:Sn,touchEvent:ln})||We||(We=!0,ge.removeChild(de),j.removeEventListener("keydown",Dt),j.removeEventListener("mousedown",Ze),j.removeEventListener("touchstart",Et),j.removeEventListener("contextmenu",Ze),s.eventService.removeEventListener(G.EVENT_DRAG_STARTED,Ze),g&&g(Sn||ln||Ue),s.popupList=s.popupList.filter(function(on){return on.element!==c}),ee&&ee.then(function(on){return on&&on()}))};return w&&w({hidePopup:zt}),window.setTimeout(function(){h&&j.addEventListener("keydown",Dt),l&&(j.addEventListener("mousedown",Ze),s.eventService.addEventListener(G.EVENT_DRAG_STARTED,Ze),j.addEventListener("touchstart",Et),j.addEventListener("contextmenu",Ze))},0),x&&x(),k&&(ee=this.keepPopupPositionedRelativeTo({element:k,ePopup:c,hidePopup:zt})),this.popupList.push({element:c,wrapper:de,hideFunc:zt,stopAnchoringPromise:ee,instanceId:Ng++,isAnchored:!!k}),{hideFunc:zt,stopAnchoringPromise:ee}},o.prototype.hasAnchoredPopup=function(){return xl(this.popupList,function(i){return i.isAnchored})},o.prototype.isEventFromCurrentPopup=function(i,s){var h=i.mouseEvent||i.touchEvent;if(!h)return!1;var g=$s(this.popupList,function(w){return w.element===s});if(-1===g)return!1;for(var _=g;_<this.popupList.length;_++)if(Ml(this.popupList[_].element,h))return!0;return this.isElementWithinCustomPopup(h.target)},o.prototype.isElementWithinCustomPopup=function(i){for(;i&&i!==document.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(i){var s=i.originalMouseEvent,l=i.mouseEvent,c=i.touchEvent,h=null;if(l?h=l:c&&(h=c.touches[0]),h&&s){var _=l?l.screenY:0,y=Math.abs(s.screenX-(l?l.screenX:0))<5,w=Math.abs(s.screenY-_)<5;if(y&&w)return!0}return!1},o.prototype.getWrapper=function(i){for(;!Sr(i,"ag-popup")&&i.parentElement;)i=i.parentElement;return Sr(i,"ag-popup")?i:null},o.prototype.setAlwaysOnTop=function(i,s){var l=this.getWrapper(i);!l||(ze(l,"ag-always-on-top",!!s),s&&this.bringPopupToFront(l))},o.prototype.bringPopupToFront=function(i){var s=this.getPopupParent(),l=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),c=l.length,h=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),g=h.length,_=this.getWrapper(i);if(_&&!(c<=1)&&s.contains(i)){var y=l.indexOf(_);g?Sr(_,"ag-always-on-top")?y!==c-1&&Zt(h).insertAdjacentElement("afterend",_):y!==c-g-1&&h[0].insertAdjacentElement("beforebegin",_):y!==c-1&&Zt(l).insertAdjacentElement("afterend",_);var x={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:_};this.eventService.dispatchEvent(x)}},tl([P("environment")],o.prototype,"environment",void 0),tl([P("focusService")],o.prototype,"focusService",void 0),tl([P("ctrlsService")],o.prototype,"ctrlsService",void 0),tl([Se],o.prototype,"postConstruct",null),tl([xe("popupService")],o)}(ie),OD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Iy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},xD=function(u,o){return function(i,s){o(i,s,u)}},My=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return OD(o,u),o.prototype.setBeans=function(i){this.logging=i.isDebug()},o.prototype.create=function(i){return new Nu(i,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},Iy([xD(0,Ft("gridOptionsWrapper"))],o.prototype,"setBeans",null),Iy([xe("loggerFactory")],o)}(ie),Nu=function(){function u(o,i){this.name=o,this.isLoggingFunc=i}return u.prototype.isLogging=function(){return this.isLoggingFunc()},u.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},u}(),eI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ID=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return eI(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCon=s.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(i,s){var l=this.getHeaderCellForColumn(i);if(!l)return-1;var c=document.createElement("span");c.style.position="fixed";var h=this.centerRowContainerCon.getContainerElement();h.appendChild(c),this.putRowCellsIntoDummyContainer(i,c),s||this.cloneItemIntoDummy(l,c);var g=c.offsetWidth;return h.removeChild(c),g+this.gridOptionsWrapper.getAutoSizePadding()},o.prototype.getHeaderCellForColumn=function(i){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(l){var c=l.getHtmlElementForColumnHeader(i);null!=c&&(s=c)}),s},o.prototype.putRowCellsIntoDummyContainer=function(i,s){var l=this;this.rowRenderer.getAllCellsForColumn(i).forEach(function(h){return l.cloneItemIntoDummy(h,s)})},o.prototype.cloneItemIntoDummy=function(i,s){var l=i.cloneNode(!0);l.style.width="",l.style.position="static",l.style.left="";var c=document.createElement("div");Sr(l,"ag-header-cell")?(Ie(c,"ag-header"),Ie(c,"ag-header-row"),c.style.position="static"):Ie(c,"ag-row");for(var h=i.parentElement;h;){if(h.classList.contains("ag-header-row")||h.classList.contains("ag-row")){for(var g=0;g<h.classList.length;g++){var _=h.classList[g];"ag-row-position-absolute"!=_&&Ie(c,_)}break}h=h.parentElement}c.style.display="table-row",c.appendChild(l),s.appendChild(c)},Lu([P("rowRenderer")],o.prototype,"rowRenderer",void 0),Lu([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Lu([P("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),Lu([Se],o.prototype,"postConstruct",null),Lu([xe("autoWidthCalculator")],o)}(ie),Py=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Fy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Py(o,u),o.prototype.addResizeBar=function(i){var s=this,l={dragStartPixels:i.dragStartPixels||0,eElement:i.eResizeBar,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this,i),onDragging:this.onDragging.bind(this,i)};return this.dragService.addDragSource(l,!0),function(){return s.dragService.removeDragSource(l)}},o.prototype.onDragStart=function(i,s){this.dragStartX=s.clientX,this.setResizeIcons();var l=s instanceof MouseEvent&&!0===s.shiftKey;i.onResizeStart(l)},o.prototype.setResizeIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!0),i.disableUserSelect(!0)},o.prototype.onDragStop=function(i,s){i.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!1),i.disableUserSelect(!1)},o.prototype.onDragging=function(i,s){this.resizeAmount=s.clientX-this.dragStartX,i.onResizing(this.resizeAmount)},Wp([P("dragService")],o.prototype,"dragService",void 0),Wp([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Wp([xe("horizontalResizeService")],o)}(ie),Lg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},MD=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Lg(o,u),o.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},o.prototype.setComp=function(i,s,l){var c=this;this.view=i,this.eGridHostDiv=s,this.eGui=l,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new Ip(this.view)),this.addRtlSupport(),this.addManagedListener(this,G.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,G.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var h=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return h()})},o.prototype.showDropZones=function(){return tt.isRegistered(W.GXE.RowGroupingModule)},o.prototype.showSideBar=function(){return tt.isRegistered(W.GXE.SideBarModule)},o.prototype.showStatusBar=function(){return tt.isRegistered(W.GXE.StatusBarModule)},o.prototype.showWatermark=function(){return tt.isRegistered(W.GXE.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:G.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},o.prototype.addRtlSupport=function(){var i=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(i)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(i){this.view.setCursor(i?"ew-resize":null)},o.prototype.disableUserSelect=function(i){this.view.setUserSelect(i?"none":null)},o.prototype.focusNextInnerContainer=function(i){var s=this.view.getFocusableContainers(),c=$s(s,function(h){return h.contains(document.activeElement)})+(i?-1:1);return!(c<0||c>=s.length)&&(0===c?this.focusGridHeader():this.focusService.focusInto(s[c]))},o.prototype.focusInnerElement=function(i){var s=this.view.getFocusableContainers();if(i){if(s.length>1)return this.focusService.focusInto(Zt(s),!0);var l=Zt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(l,!0))return!0}return this.focusGridHeader()},o.prototype.focusGridHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];return!!i&&(i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0)),this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:i}}),!0)},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.view.forceFocusOutOfContainer(i)},nl([P("columnApi")],o.prototype,"columnApi",void 0),nl([P("gridApi")],o.prototype,"gridApi",void 0),nl([P("focusService")],o.prototype,"focusService",void 0),nl([P("resizeObserverService")],o.prototype,"resizeObserverService",void 0),nl([P("columnModel")],o.prototype,"columnModel",void 0),nl([P("ctrlsService")],o.prototype,"ctrlsService",void 0),nl([P("mouseEventService")],o.prototype,"mouseEventService",void 0),nl([Se],o.prototype,"postConstruct",null),o}(ie),tI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),PD=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},FD=function(u){function o(i){var s=u.call(this)||this;s.skipTabGuardFocus=!1;var c=i.eTopGuard,h=i.eBottomGuard,g=i.focusInnerElement,_=i.onFocusIn,y=i.onFocusOut,w=i.shouldStopEventPropagation,x=i.onTabKeyDown,k=i.handleKeyDown,B=i.eFocusableElement;return s.comp=i.comp,s.eTopGuard=c,s.eBottomGuard=h,s.providedFocusInnerElement=g,s.eFocusableElement=B,s.providedFocusIn=_,s.providedFocusOut=y,s.providedShouldStopEventPropagation=w,s.providedOnTabKeyDown=x,s.providedHandleKeyDown=k,s}return tI(o,u),o.prototype.postConstruct=function(){var i=this;this.createManagedBean(new On(this.eFocusableElement,{shouldStopEventPropagation:function(){return i.shouldStopEventPropagation()},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)},onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return i.addManagedListener(s,"focus",i.onFocus.bind(i))})},o.prototype.handleKeyDown=function(i){this.providedHandleKeyDown&&this.providedHandleKeyDown(i)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(i){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=i.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},o.prototype.onFocusIn=function(i){this.providedFocusIn&&this.providedFocusIn(i)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(i){this.providedFocusOut&&this.providedFocusOut(i)||this.eFocusableElement.contains(i.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(i){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(i);else if(!i.defaultPrevented){var l=this.tabGuardsAreActive();l&&this.deactivateTabGuards();var c=this.getNextFocusableElement(i.shiftKey);l&&setTimeout(function(){return s.activateTabGuards()},0),c&&(c.focus(),i.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(i){void 0===i&&(i=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[i?s.length-1:0].focus()},o.prototype.getNextFocusableElement=function(i){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i)},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1);var s=i?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},PD([P("focusService")],o.prototype,"focusService",void 0),PD([Se],o.prototype,"postConstruct",null),o}(ie),nI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ny=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nI(o,u),o.prototype.initialiseTabGuard=function(i){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],l={setTabIndex:function(c){s.forEach(function(h){return null!=c?h.setAttribute("tabIndex",c):h.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new FD({comp:l,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:i.onFocusIn,onFocusOut:i.onFocusOut,focusInnerElement:i.focusInnerElement,handleKeyDown:i.handleKeyDown,onTabKeyDown:i.onTabKeyDown,shouldStopEventPropagation:i.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(i){var s=document.createElement("div");return s.classList.add("ag-tab-guard"),s.classList.add("ag-tab-guard-"+i),ur(s,"presentation"),s},o.prototype.addTabGuards=function(i,s){this.eFocusableElement.insertAdjacentElement("afterbegin",i),this.eFocusableElement.insertAdjacentElement("beforeend",s)},o.prototype.removeAllChildrenExceptTabGuards=function(){var i=[this.eTopGuard,this.eBottomGuard];fi(this.getFocusableElement()),this.addTabGuards.apply(this,i)},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.tabGuardCtrl.forceFocusOutOfContainer(i)},o.prototype.appendChild=function(i,s){Tf(i)||(i=i.getGui());var l=this.eBottomGuard;l?l.insertAdjacentElement("beforebegin",i):u.prototype.appendChild.call(this,i,s)},o}(vt),iI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ND=function(u){function o(i){var s=u.call(this,void 0)||this;return s.eGridDiv=i,s}return iI(o,u),o.prototype.postConstruct=function(){var i=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return i.destroyBean(i)},setRtlClass:function(c){return Ie(i.getGui(),c)},addOrRemoveKeyboardFocusClass:function(c){return i.addOrRemoveCssClass(Ts.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){i.getGui().style.userSelect=null!=c?c:"",i.getGui().style.webkitUserSelect=null!=c?c:""},setCursor:function(c){i.getGui().style.cursor=null!=c?c:""}};this.ctrl=this.createManagedBean(new MD);var l=this.createTemplate();this.setTemplate(l),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return i.ctrl.focusInnerElement(c)}})},o.prototype.insertGridIntoDom=function(){var i=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){i.eGridDiv.removeChild(s),i.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(i,s){ze(this.eRootWrapperBody,W.LBn.AUTO_HEIGHT,s.autoHeight),ze(this.eRootWrapperBody,W.LBn.NORMAL,s.normal),ze(this.eRootWrapperBody,W.LBn.PRINT,s.print),this.addOrRemoveCssClass(W.LBn.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(W.LBn.NORMAL,s.normal),this.addOrRemoveCssClass(W.LBn.PRINT,s.print)},o.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var i=[this.gridBodyComp.getGui()];return this.sideBarComp&&i.push(this.sideBarComp.getGui()),i.filter(function(s){return vo(s)})},jp([P("loggerFactory")],o.prototype,"loggerFactory",void 0),jp([me("gridBody")],o.prototype,"gridBodyComp",void 0),jp([me("sideBar")],o.prototype,"sideBarComp",void 0),jp([me("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),jp([Se],o.prototype,"postConstruct",null),o}(Ny),ua=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),da=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ly=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.dragEndFunctions=[],i.dragSources=[],i}return ua(o,u),o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(i){var s=i.dragSource.eElement;s.removeEventListener("mousedown",i.mouseDownListener),i.touchEnabled&&s.removeEventListener("touchstart",i.touchStartListener,{passive:!0})},o.prototype.removeDragSource=function(i){var s=Ni(this.dragSources,function(l){return l.dragSource===i});!s||(this.removeListener(s),ii(this.dragSources,s))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(i,s){var l=this;void 0===s&&(s=!1);var c=this.onMouseDown.bind(this,i);i.eElement.addEventListener("mousedown",c);var h=null,g=this.gridOptionsWrapper.isSuppressTouch();s&&!g&&i.eElement.addEventListener("touchstart",h=function(_){_.preventDefault(),l.onTouchStart(i,_)},{passive:!0}),this.dragSources.push({dragSource:i,mouseDownListener:c,touchStartListener:h,touchEnabled:s})},o.prototype.onTouchStart=function(i,s){var l=this;this.currentDragParams=i,this.dragging=!1;var c=s.touches[0];this.touchLastTime=c,this.touchStart=c;var g=function(x){return l.onTouchUp(x,i.eElement)},y=i.eElement,w=[{target:document,type:"touchmove",listener:function(x){x.cancelable&&x.preventDefault()},options:{passive:!1}},{target:y,type:"touchmove",listener:function(x){return l.onTouchMove(x,i.eElement)},options:{passive:!0}},{target:y,type:"touchend",listener:g,options:{passive:!0}},{target:y,type:"touchcancel",listener:g,options:{passive:!0}}];this.addTemporaryEvents(w),0===i.dragStartPixels&&this.onCommonMove(c,this.touchStart,i.eElement)},o.prototype.onMouseDown=function(i,s){var l=this,c=s;if(!(i.skipMouseEvent&&i.skipMouseEvent(s)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=i,this.dragging=!1,this.mouseStartEvent=s;var h=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:h,type:"mousemove",listener:function(k){return l.onMouseMove(k,i.eElement)}},{target:h,type:"mouseup",listener:function(k){return l.onMouseUp(k,i.eElement)}},{target:h,type:"contextmenu",listener:function(k){return k.preventDefault()}}]),0===i.dragStartPixels&&this.onMouseMove(s,i.eElement)}},o.prototype.addTemporaryEvents=function(i){i.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){i.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},o.prototype.isEventNearStartEvent=function(i,s){var l=this.currentDragParams.dragStartPixels;return If(i,s,he(l)?l:4)},o.prototype.getFirstActiveTouch=function(i){for(var s=0;s<i.length;s++)if(i[s].identifier===this.touchStart.identifier)return i[s];return null},o.prototype.onCommonMove=function(i,s,l){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(i,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:G.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:l}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(i)},o.prototype.onTouchMove=function(i,s){var l=this.getFirstActiveTouch(i.touches);!l||this.onCommonMove(l,this.touchStart,s)},o.prototype.onMouseMove=function(i,s){this.onCommonMove(i,this.mouseStartEvent,s)},o.prototype.onTouchUp=function(i,s){var l=this.getFirstActiveTouch(i.changedTouches);l||(l=this.touchLastTime),this.onUpCommon(l,s)},o.prototype.onMouseUp=function(i,s){this.onUpCommon(i,s)},o.prototype.onUpCommon=function(i,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(i),this.eventService.dispatchEvent({type:G.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},da([P("loggerFactory")],o.prototype,"loggerFactory",void 0),da([P("columnApi")],o.prototype,"columnApi",void 0),da([P("gridApi")],o.prototype,"gridApi",void 0),da([Se],o.prototype,"init",null),da([di],o.prototype,"removeAllListeners",null),da([xe("dragService")],o)}(ie),ky=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ic=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},kg=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return ky(o,u),i=o,o.prototype.progressSort=function(s,l,c){void 0===c&&(c="api");var h=this.getNextSortDirection(s);this.setSortForColumn(s,h,l,c)},o.prototype.setSortForColumn=function(s,l,c,h){void 0===h&&(h="api"),l!==q.SORT_ASC&&l!==q.SORT_DESC&&(l=null),s.setSort(l,h),c&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,h),this.updateSortIndex(s),this.dispatchSortChangedEvents()},o.prototype.updateSortIndex=function(s){var l=this.getColumnsWithSortingOrdered(),c=0;l.forEach(function(g){g!==s&&(g.setSortIndex(c),c++)}),s.getSort()&&s.setSortIndex(c),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(g){return null==g.getSort()}).forEach(function(g){return g.setSortIndex()})},o.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},o.prototype.isSortActive=function(){var l=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return l&&l.length>0},o.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:G.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearSortBarThisColumn=function(s,l){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){c!==s&&c.setSort(void 0,l)})},o.prototype.getNextSortDirection=function(s){var l;if(l=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():i.DEFAULT_SORTING_ORDER,!Array.isArray(l)||l.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+l),null;var _,c=l.indexOf(s.getSort());return i.DEFAULT_SORTING_ORDER.indexOf(_=c<0||c==l.length-1?l[0]:l[c+1])<0?(console.warn("ag-grid: invalid sort type "+_),null):_},o.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),l=s.filter(function(h){return!!h.getSort()}),c={};return s.forEach(function(h,g){return c[h.getId()]=g}),l.sort(function(h,g){var _=h.getSortIndex(),y=g.getSortIndex();return null!=_&&null!=y?_-y:null==_&&null==y?c[h.getId()]>c[g.getId()]?1:-1:null==y?-1:1}),l},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},o.DEFAULT_SORTING_ORDER=[q.SORT_ASC,q.SORT_DESC,null],ic([P("columnModel")],o.prototype,"columnModel",void 0),ic([P("columnApi")],o.prototype,"columnApi",void 0),ic([P("gridApi")],o.prototype,"gridApi",void 0),i=ic([xe("sortController")],o)}(ie),Gg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Rs=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.gridInstanceId=i.gridInstanceSequence.next(),s}var i;return Gg(o,u),i=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[i.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(s){return wr(this.gridOptionsWrapper,s,qo.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},o.prototype.isElementInThisGrid=function(s){for(var l=s;l;){var c=l[i.GRID_DOM_KEY];if(he(c))return c===this.gridInstanceId;l=l.parentElement}return!1},o.prototype.getCellPositionForEvent=function(s){var l=this.getRenderedCellForEvent(s);return l?l.getCellPosition():null},o.prototype.getNormalisedPosition=function(s){var h,g,l=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(h=s.clientX,g=s.clientY):(h=s.x,g=s.y),l){var _=this.ctrlsService.getGridBodyCtrl(),y=_.getScrollFeature().getVScrollPosition();h+=_.getScrollFeature().getHScrollPosition().left,g+=y.top}return{x:h,y:g}},o.gridInstanceSequence=new Cs,o.GRID_DOM_KEY="__ag_grid_instance",Gy([P("ctrlsService")],o.prototype,"ctrlsService",void 0),i=Gy([xe("mouseEventService")],o)}(ie),Hy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ku=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Up=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Hy(o,u),o.prototype.getNextCellToFocus=function(i,s){for(var l=s,c=!1;!c;){switch(i){case be.UP:l=this.getCellAbove(l);break;case be.DOWN:l=this.getCellBelow(l);break;case be.RIGHT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(l):this.getCellToRight(l);break;case be.LEFT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(l):this.getCellToLeft(l);break;default:l=null,console.warn("AG Grid: unknown key for navigation "+i)}c=!l||this.isCellGoodToFocusOn(l)}return l},o.prototype.isCellGoodToFocusOn=function(i){var l,s=i.column;switch(i.rowPinned){case q.PINNED_TOP:l=this.pinnedRowModel.getPinnedTopRow(i.rowIndex);break;case q.PINNED_BOTTOM:l=this.pinnedRowModel.getPinnedBottomRow(i.rowIndex);break;default:l=this.rowModel.getRow(i.rowIndex)}return!!l&&!s.isSuppressNavigable(l)},o.prototype.getCellToLeft=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColBefore(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},o.prototype.getCellToRight=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColAfter(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},o.prototype.getRowBelow=function(i){var s=i.rowIndex,l=i.rowPinned;if(this.isLastRowInContainer(i))switch(l){case q.PINNED_BOTTOM:return null;case q.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(q.PINNED_BOTTOM)?{rowIndex:0,rowPinned:q.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(q.PINNED_BOTTOM)?{rowIndex:0,rowPinned:q.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:l}},o.prototype.getCellBelow=function(i){if(!i)return null;var s=this.getRowBelow(i);return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},o.prototype.isLastRowInContainer=function(i){var s=i.rowPinned,l=i.rowIndex;return s===q.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=l:s===q.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=l:this.paginationProxy.getPageLastRow()<=l},o.prototype.getRowAbove=function(i){var s=i.rowIndex,l=i.rowPinned;return(l?0===s:s===this.paginationProxy.getPageFirstRow())?l===q.PINNED_TOP?null:l&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(q.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:l}},o.prototype.getCellAbove=function(i){if(!i)return null;var s=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},o.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:q.PINNED_TOP}},o.prototype.getNextTabbedCell=function(i,s){return s?this.getNextTabbedCellBackwards(i):this.getNextTabbedCellForwards(i)},o.prototype.getNextTabbedCellForwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,c=i.rowPinned,h=this.columnModel.getDisplayedColAfter(i.column);if(!h){h=s[0];var g=this.getRowBelow(i);if(je(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;l=g?g.rowIndex:null,c=g?g.rowPinned:null}return{rowIndex:l,column:h,rowPinned:c}},o.prototype.getNextTabbedCellBackwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,c=i.rowPinned,h=this.columnModel.getDisplayedColBefore(i.column);if(!h){h=Zt(s);var g=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});if(je(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;l=g?g.rowIndex:null,c=g?g.rowPinned:null}return{rowIndex:l,column:h,rowPinned:c}},ku([P("columnModel")],o.prototype,"columnModel",void 0),ku([P("rowModel")],o.prototype,"rowModel",void 0),ku([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ku([P("paginationProxy")],o.prototype,"paginationProxy",void 0),ku([xe("cellNavigationService")],o)}(ie),LD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Vy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return LD(o,u),o.prototype.formatValue=function(i,s,l,c,h,g){void 0===g&&(g=!0);var y,_=null,w=i.getColDef();if(h?y=h:g&&(y=s&&s.rowPinned&&w.pinnedRowValueFormatter?w.pinnedRowValueFormatter:w.valueFormatter),y){var x={value:c,node:s,data:s?s.data:null,colDef:w,column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};x.$scope=l,_=this.expressionService.evaluate(y,x)}else if(w.refData)return w.refData[c]||"";return null==_&&Array.isArray(c)&&(_=c.join(", ")),_},Hg([P("expressionService")],o.prototype,"expressionService",void 0),Hg([xe("valueFormatterService")],o)}(ie),kD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rc=function(u){function o(i){return u.call(this,i,"ag-radio-button","radio")||this}return kD(o,u),o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){u.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,G.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(i){i.selected&&i.name&&this.eInput.name&&this.eInput.name===i.name&&i.id&&this.eInput.id!==i.id&&this.setValue(!1,!0)},o}(Xl),oc=["mouseover","mouseout","mouseenter","mouseleave"],$p=function(){function u(){this.isOutsideAngular=function(o){return ri(oc,o)}}return u.prototype.setTimeout=function(o,i){window.setTimeout(o,i)},u.prototype.setInterval=function(o,i){return new Or(function(s){s(window.setInterval(o,i))})},u.prototype.addEventListener=function(o,i,s,l){o.addEventListener(i,s,l)},u.prototype.dispatchEvent=function(o,i,s){i()},u.prototype.frameworkComponent=function(o){return null},u}(),sc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),As=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},il=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return sc(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var i=this.ctrlsService.getCenterRowContainerCtrl();if(i){var s={horizontalScrollShowing:i.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},o.prototype.setScrollsVisible=function(i){this.horizontalScrollShowing===i.horizontalScrollShowing&&this.verticalScrollShowing===i.verticalScrollShowing||(this.horizontalScrollShowing=i.horizontalScrollShowing,this.verticalScrollShowing=i.verticalScrollShowing,this.eventService.dispatchEvent({type:G.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},As([P("columnApi")],o.prototype,"columnApi",void 0),As([P("gridApi")],o.prototype,"gridApi",void 0),As([P("ctrlsService")],o.prototype,"ctrlsService",void 0),As([Se],o.prototype,"postConstruct",null),As([xe("scrollVisibleService")],o)}(ie),GD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Bg=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return GD(o,u),o.prototype.processAllCellClasses=function(i,s,l,c){this.processClassRules(i.cellClassRules,s,l,c),this.processStaticCellClasses(i,s,l)},o.prototype.processClassRules=function(i,s,l,c){if(null!=i)for(var h=Object.keys(i),g={},_={},y=function(k){var ee,B=h[k],j=i[B];"string"==typeof j?ee=w.expressionService.evaluate(j,s):"function"==typeof j&&(ee=j(s)),B.split(" ").forEach(function(re){null==re||""==re.trim()||(ee?g[re]=!0:_[re]=!0)}),c&&Object.keys(_).forEach(c),Object.keys(g).forEach(l)},w=this,x=0;x<h.length;x++)y(x)},o.prototype.getStaticCellClasses=function(i,s){var c,l=i.cellClass;return l?("string"==typeof(c="function"==typeof l?(0,i.cellClass)(s):l)&&(c=[c]),c):[]},o.prototype.processStaticCellClasses=function(i,s,l){this.getStaticCellClasses(i,s).forEach(function(h){l(h)})},Vg([P("expressionService")],o.prototype,"expressionService",void 0),Vg([xe("stylingService")],o)}(ie),Wg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},By=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Wg(o,u),o.prototype.setMouseOver=function(i){this.selectedColumns=i,this.eventService.dispatchEvent({type:G.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:G.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.isHovered=function(i){return!!this.selectedColumns&&this.selectedColumns.indexOf(i)>=0},Gu([P("columnApi")],o.prototype,"columnApi",void 0),Gu([P("gridApi")],o.prototype,"gridApi",void 0),Gu([xe("columnHoverService")],o)}(ie),zp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Wy=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.executeNextFuncs=[],i.executeLaterFuncs=[],i.active=!1,i.animationThreadCount=0,i}return zp(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){return i.gridBodyCtrl=s.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(i){this.active?this.executeNextFuncs.push(i):i()},o.prototype.executeLaterVMTurn=function(i){this.active?this.executeLaterFuncs.push(i):i()},o.prototype.ensureAnimationCssClassPresent=function(){var i=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){i.animationThreadCount===s&&i.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var i=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==i.length||0!==s.length)&&(window.setTimeout(function(){return i.forEach(function(l){return l()})},0),window.setTimeout(function(){return s.forEach(function(l){return l()})},300))},jg([P("ctrlsService")],o.prototype,"ctrlsService",void 0),jg([Se],o.prototype,"postConstruct",null),jg([xe("columnAnimationService")],o)}(ie),rI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kp=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return rI(o,u),i=o,o.prototype.createAutoGroupColumns=function(s){var l=this,c=[],h=this.gridOptionsWrapper.isTreeData(),g=this.gridOptionsWrapper.isGroupMultiAutoColumn();return h&&g&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),g=!1),g?s.forEach(function(_,y){c.push(l.createOneAutoGroupColumn(_,y))}):c.push(this.createOneAutoGroupColumn()),c},o.prototype.createOneAutoGroupColumn=function(s,l){var h,c=this.generateDefaultColDef(s);h=s?q.GROUP_AUTO_COLUMN_ID+"-"+s.getId():i.GROUP_AUTO_COLUMN_BUNDLE_ID,ho(c,this.gridOptionsWrapper.getAutoGroupColumnDef()),(c=this.columnFactory.mergeColDefs(c)).colId=h,this.gridOptionsWrapper.isTreeData()||je(c.field)&&je(c.valueGetter)&&je(c.filterValueGetter)&&(c.filter=!1),l&&l>0&&(c.headerCheckboxSelection=!1);var y=new Mt(c,null,h,!0);return this.context.createBean(y),y},o.prototype.generateDefaultColDef=function(s){var l=this.gridOptionsWrapper.getAutoGroupColumnDef(),h={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(l&&(l.cellRenderer||l.cellRendererFramework||l.cellRendererSelector)||(h.cellRenderer="agGroupCellRenderer"),s){var _=s.getColDef();Cr(h,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:_.headerValueGetter}),_.cellRenderer&&Cr(h,{cellRendererParams:{innerRenderer:_.cellRenderer,innerRendererParams:_.cellRendererParams}}),h.showRowGroup=s.getColId()}else h.showRowGroup=!0;return h},o.GROUP_AUTO_COLUMN_BUNDLE_ID=q.GROUP_AUTO_COLUMN_ID,Kp([P("columnModel")],o.prototype,"columnModel",void 0),Kp([P("columnFactory")],o.prototype,"columnFactory",void 0),i=Kp([xe("autoGroupColService")],o)}(ie),HD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ac=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Uy=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.currentPage=0,i.topDisplayedRowIndex=0,i.bottomDisplayedRowIndex=0,i.pixelOffset=0,i.masterRowCount=0,i}return HD(o,u),o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,G.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(i,s,l,c){var h=this.rowModel.ensureRowHeightsValid(i,s,this.getPageFirstRow(),this.getPageLastRow());return h&&this.calculatePages(),h},o.prototype.onModelUpdated=function(i){this.calculatePages(),this.eventService.dispatchEvent({type:G.EVENT_PAGINATION_CHANGED,animate:!!i&&i.animate,newData:!!i&&i.newData,newPage:!!i&&i.newPage,keepRenderedRows:!!i&&i.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:G.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},o.prototype.goToPage=function(i){this.active&&this.currentPage!==i&&(this.currentPage=i,this.onModelUpdated({type:G.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(i){return this.rowModel.getRow(i)},o.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},o.prototype.getRowIndexAtPixel=function(i){return this.rowModel.getRowIndexAtPixel(i)},o.prototype.getCurrentPageHeight=function(){return je(this.topRowBounds)||je(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},o.prototype.isRowPresent=function(i){return!!this.rowModel.isRowPresent(i)&&i.rowIndex>=this.topDisplayedRowIndex&&i.rowIndex<=this.bottomDisplayedRowIndex},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(i,s){return this.rowModel.getNodesInRangeForSelection(i,s)},o.prototype.forEachNode=function(i){return this.rowModel.forEachNode(i)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(i){var s=this.rowModel.getRowBounds(i);return s.rowIndex=i,s},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(i){return Math.floor(i/this.pageSize)},o.prototype.goToPageWithIndex=function(i){if(this.active){var s=this.getPageForIndex(i);this.goToPage(s)}},o.prototype.isRowInPage=function(i){return!this.active||this.getPageForIndex(i.rowIndex)===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var i=this.rowModel.getRowCount(),s=Math.floor(i/this.pageSize);this.goToPage(s)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(he(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(i){this.pixelOffset!==i&&(this.pixelOffset=i,this.eventService.dispatchEvent({type:G.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!_f(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var l=this.pageSize*(this.currentPage+1)-1;if(l>i&&(l=i),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),l===i)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(l+1);this.bottomDisplayedRowIndex=c-1}}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!_f(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}else this.setZeroRows()},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},ac([P("rowModel")],o.prototype,"rowModel",void 0),ac([P("columnApi")],o.prototype,"columnApi",void 0),ac([P("gridApi")],o.prototype,"gridApi",void 0),ac([Se],o.prototype,"postConstruct",null),ac([xe("paginationProxy")],o)}(ie),VD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},BD=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return VD(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCon=s.centerRowContainerCtrl,i.addManagedListener(i.eventService,G.EVENT_BODY_HEIGHT_CHANGED,i.onBodyHeightChanged.bind(i)),i.addManagedListener(i.eventService,G.EVENT_SCROLL_VISIBILITY_CHANGED,i.onScrollVisibilityChanged.bind(i)),i.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var i=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var l=Math.floor(s/i);this.gridOptionsWrapper.setProperty("paginationPageSize",l)}}},nr([P("ctrlsService")],o.prototype,"ctrlsService",void 0),nr([Se],o.prototype,"postConstruct",null),nr([xe("paginationAutoPageSizeService")],o)}(ie),WD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jD=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},UD=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.cacheVersion=0,i}return WD(o,u),o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(i,s,l){this.active&&(i.__cacheVersion!==this.cacheVersion&&(i.__cacheVersion=this.cacheVersion,i.__cacheData={}),i.__cacheData[s]=l)},o.prototype.getValue=function(i,s){if(this.active&&i.__cacheVersion===this.cacheVersion)return i.__cacheData[s]},jD([Se],o.prototype,"init",null),jD([xe("valueCache")],o)}(ie),$y=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ug=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},$D=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return $y(o,u),o.prototype.init=function(){this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,G.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(i){i.source!==q.SOURCE_PASTE&&this.doChangeDetection(i.node,i.column)},o.prototype.doChangeDetection=function(i,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!i.isRowPinned()){var l=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new og(l,this.clientSideRowModel.getRootNode());c.addParentNode(i.parent,[s]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},Ug([P("rowModel")],o.prototype,"rowModel",void 0),Ug([P("rowRenderer")],o.prototype,"rowRenderer",void 0),Ug([Se],o.prototype,"init",null),Ug([xe("changeDetectionService")],o)}(ie),$g=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),lc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},zD=function(u,o){return function(i,s){o(i,s,u)}},zy=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.consuming=!1,i}return $g(o,u),o.prototype.setBeans=function(i){this.logger=i.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,G.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,G.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(i){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(l){if(l.api){var c=l.api.__getAlignedGridService();i(c)}})}},o.prototype.onEvent=function(i){this.consuming=!0,i(),this.consuming=!1},o.prototype.fireColumnEvent=function(i){this.fireEvent(function(s){s.onColumnEvent(i)})},o.prototype.fireScrollEvent=function(i){"horizontal"===i.direction&&this.fireEvent(function(s){s.onScrollEvent(i)})},o.prototype.onScrollEvent=function(i){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(i.left)})},o.prototype.getMasterColumns=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l)}):i.column&&s.push(i.column),s},o.prototype.getColumnIds=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l.getColId())}):i.column&&s.push(i.column.getColId()),s},o.prototype.onColumnEvent=function(i){var s=this;this.onEvent(function(){switch(i.type){case G.EVENT_COLUMN_MOVED:case G.EVENT_COLUMN_VISIBLE:case G.EVENT_COLUMN_PINNED:case G.EVENT_COLUMN_RESIZED:s.processColumnEvent(i);break;case G.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(i);break;case G.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},o.prototype.processGroupOpenedEvent=function(i){var s=i.columnGroup,l=null;if(s){var c=s.getGroupId();l=this.columnModel.getOriginalColumnGroup(c)}s&&!l||(this.logger.log("onColumnEvent-> processing "+i+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(l,s.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(i){var s=this,l=i.column,c=null;if(l&&(c=this.columnModel.getPrimaryColumn(l.getColId())),!l||c){var h=this.getMasterColumns(i);switch(i.type){case G.EVENT_COLUMN_MOVED:var g=i,y=i.columnApi.getColumnState().map(function(re){return{colId:re.colId}});this.columnModel.applyColumnState({state:y,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" toIndex = "+g.toIndex);break;case G.EVENT_COLUMN_VISIBLE:var w=i;y=i.columnApi.getColumnState().map(function(ge){return{colId:ge.colId,hide:ge.hide}}),this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" visible = "+w.visible);break;case G.EVENT_COLUMN_PINNED:var x=i;y=i.columnApi.getColumnState().map(function(ge){return{colId:ge.colId,pinned:ge.pinned}}),this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" pinned = "+x.pinned);break;case G.EVENT_COLUMN_RESIZED:var k=i;h.forEach(function(re){s.logger.log("onColumnEvent-> processing "+i.type+" actualWidth = "+re.getActualWidth());var we=[{key:re.getColId(),newWidth:re.getActualWidth()}];s.columnModel.setColumnWidths(we,!1,k.finished,"alignedGridChanged")})}var j=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),ee=this.gridOptionsWrapper.getAlignedGrids();ee&&ee.forEach(function(re){re.api&&re.api.setAlwaysShowVerticalScroll(j)})}},lc([P("columnModel")],o.prototype,"columnModel",void 0),lc([P("ctrlsService")],o.prototype,"ctrlsService",void 0),lc([zD(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),lc([Se],o.prototype,"init",null),lc([xe("alignedGridsService")],o)}(ie),KD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},YD=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return KD(o,u),o.prototype.adaptFunction=function(i,s){var l=this.componentMetadataProvider.retrieve(i);return l&&l.functionAdapter?l.functionAdapter(s):null},o.prototype.adaptCellRendererFunction=function(i){return function(){function l(){}return l.prototype.refresh=function(c){return!1},l.prototype.getGui=function(){var c=i(this.params),h=typeof c;return"string"===h||"number"===h||"boolean"===h?qr("<span>"+c+"</span>"):null==c?qr("<span></span>"):c},l.prototype.init=function(c){this.params=c},l}()},o.prototype.doesImplementIComponent=function(i){return!!i&&i.prototype&&"getGui"in i.prototype},zg([P("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),zg([xe("agComponentUtils")],o)}(ie),Ky=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qD=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ky(o,u),o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(i){return this.componentMetaData[i]},Kg([P("agComponentUtils")],o.prototype,"agComponentUtils",void 0),Kg([Se],o.prototype,"postConstruct",null),Kg([xe("componentMetadataProvider")],o)}(ie),Yy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},QD={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},JD={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},cc={},qy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Yy(o,u),o.prototype.getSassVariable=function(i,s){var l="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),c=QD[l][s],h=0;cc[i]||(cc[i]={});var g=cc[i][s];if(null!=g)return g;if(JD[s]){var _=JD[s],y=document.createElement("div");Ie(y,i),y.style.position="absolute";var w=_.reduce(function(k,B){var j=document.createElement("div");return j.style.position="static",Ie(j,B),k.appendChild(j),j},y);if(document.body){document.body.appendChild(y);var x=-1!==s.toLowerCase().indexOf("height")?"height":"width";h=parseInt(window.getComputedStyle(w)[x],10),document.body.removeChild(y)}}return cc[i][s]=h||c,cc[i][s]},o.prototype.isThemeDark=function(){var i=this.getTheme().theme;return!!i&&i.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var i=this.getTheme().themeFamily;return this.getSassVariable(i,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var i=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,l=null;s&&!(l=i.exec(s.className));)s=s.parentElement||void 0;if(!l)return{};var c=l[0];if(void 0===l[2]){var g=c.replace("ag-","ag-theme-");Cn(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+c+" with "+g+".")},"using-old-theme")}return{theme:c,el:s,themeFamily:c.replace(/-dark$/,"")}},Yg([P("eGridDiv")],o.prototype,"eGridDiv",void 0),Yg([xe("environment")],o)}(ie),XD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jg=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Yp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.createTasksP1={list:[],sorted:!1},i.createTasksP2={list:[],sorted:!1},i.destroyTasks=[],i.ticking=!1,i.scrollGoingDown=!0,i.lastScrollTop=0,i.taskCount=0,i.cancelledTasks=new Set,i}return XD(o,u),o.prototype.setScrollTop=function(i){this.scrollGoingDown=i>this.lastScrollTop,this.lastScrollTop=i},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(i){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+i+" called but animation frames are off")},o.prototype.createTask=function(i,s,l){this.verifyAnimationFrameOn(l);var c={task:i,index:s,createOrder:++this.taskCount};this.addTaskToList(this[l],c),this.schedule()},o.prototype.cancelTask=function(i){this.cancelledTasks.add(i)},o.prototype.addTaskToList=function(i,s){i.list.push(s),i.sorted=!1},o.prototype.sortTaskList=function(i){if(!i.sorted){var s=this.scrollGoingDown?1:-1;i.list.sort(function(l,c){return l.index!==c.index?s*(c.index-l.index):c.createOrder-l.createOrder}),i.sorted=!0}},o.prototype.addDestroyTask=function(i){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(i),this.schedule()},o.prototype.executeFrame=function(i){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,l=s.list,c=this.createTasksP2,h=c.list,g=this.destroyTasks,_=(new Date).getTime(),y=(new Date).getTime()-_,w=i<=0,x=this.ctrlsService.getGridBodyCtrl();w||y<i;){if(!x.getScrollFeature().executeAnimationFrameScroll()){var B=void 0;if(l.length)this.sortTaskList(s),B=l.pop().task;else if(h.length)this.sortTaskList(c),B=h.pop().task;else{if(!g.length){this.cancelledTasks.clear();break}B=g.pop()}this.cancelledTasks.has(B)||B()}y=(new Date).getTime()-_}l.length||h.length||g.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},o.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},o.prototype.requestFrame=function(){var i=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(i):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(i):window.setTimeout(i,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(i){var s=this,l=!1;return function(){s.isOn()?l||(l=!0,s.addDestroyTask(function(){l=!1,i()})):s.getFrameworkOverrides().setTimeout(i,0)}},Jg([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Jg([Se],o.prototype,"init",null),Jg([xe("animationFrameService")],o)}(ie),ZD=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),qp=function(){return qp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},qp.apply(this,arguments)},Ri=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Qp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.timeLastPageEventProcessed=0,i}return ZD(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(i){var s=i.which||i.keyCode,l=i.altKey,c=i.ctrlKey||i.metaKey,h=this.mouseEventService.getCellPositionForEvent(i);if(!h)return!1;var g=!1;switch(s){case be.PAGE_HOME:case be.PAGE_END:!c&&!l&&(this.onHomeOrEndKey(s),g=!0);break;case be.LEFT:case be.RIGHT:c&&!l&&(this.onCtrlLeftOrRight(s,h),g=!0);break;case be.UP:case be.DOWN:c&&!l&&(this.onCtrlUpOrDown(s,h),g=!0);break;case be.PAGE_DOWN:!c&&!l&&(this.onPageDown(h),g=!0);break;case be.PAGE_UP:!c&&!l&&(this.onPageUp(h),g=!0)}return g&&i.preventDefault(),g},o.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},o.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},o.prototype.navigateTo=function(i){var s=i.scrollIndex,l=i.scrollType,c=i.scrollColumn,h=i.focusIndex,g=i.focusColumn;he(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),he(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,l),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(h,g,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:h,rowPinned:null,column:g})},o.prototype.onPageDown=function(i){if(!this.isTimeSinceLastPageEventToRecent()){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),h=l.bottom-l.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(h-=c);var g=this.paginationProxy.getPixelOffset(),w=this.paginationProxy.getRowIndexAtPixel(l.top+h+g),x=this.paginationProxy.getRow(i.rowIndex).rowTop,B=this.paginationProxy.getRowIndexAtPixel(x+h-g+g),j=this.paginationProxy.getPageLastRow();B>j&&(B=j),w>j&&(w=j),this.navigateTo({scrollIndex:w,scrollType:"top",scrollColumn:null,focusIndex:B,focusColumn:i.column}),this.setTimeLastPageEventProcessed()}},o.prototype.onPageUp=function(i){if(!this.isTimeSinceLastPageEventToRecent()){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),h=l.bottom-l.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(h-=c);var g=this.paginationProxy.getPixelOffset(),w=this.paginationProxy.getRowIndexAtPixel(l.top+g),x=this.paginationProxy.getRow(i.rowIndex),B=this.paginationProxy.getRowIndexAtPixel(x.rowTop+x.rowHeight-h-g+g),j=this.paginationProxy.getPageFirstRow();B<j&&(B=j),w<j&&(w=j),this.navigateTo({scrollIndex:w,scrollType:"bottom",scrollColumn:null,focusIndex:B,focusColumn:i.column}),this.setTimeLastPageEventProcessed()}},o.prototype.getIndexToFocus=function(i,s){var l=i;if(s){var c=this.paginationProxy.getRow(i);c&&c.stub&&(l-=1)}return l},o.prototype.onCtrlUpOrDown=function(i,s){var l=i===be.UP,c=l?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:s.column,focusIndex:this.getIndexToFocus(c,!l),focusColumn:s.column})},o.prototype.onCtrlLeftOrRight=function(i,s){var l=i===be.LEFT,c=this.columnModel.getAllDisplayedColumns(),g=l!==this.gridOptionsWrapper.isEnableRtl()?c[0]:Zt(c);this.navigateTo({scrollIndex:s.rowIndex,scrollType:null,scrollColumn:g,focusIndex:s.rowIndex,focusColumn:g})},o.prototype.onHomeOrEndKey=function(i){var s=i===be.PAGE_HOME,l=this.columnModel.getAllDisplayedColumns(),c=s?l[0]:Zt(l),h=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:h,scrollType:null,scrollColumn:c,focusIndex:this.getIndexToFocus(h,!s),focusColumn:c})},o.prototype.onTabKeyDown=function(i,s){var l=s.shiftKey;if(this.tabToNextCellCommon(i,l))s.preventDefault();else if(l){var h=i.getRowPosition(),g=h.rowIndex;if(h.rowPinned?0===g:g===this.paginationProxy.getPageFirstRow()){s.preventDefault();var w=this.headerNavigationService.getHeaderRowCount()-1,x=Zt(this.columnModel.getAllDisplayedColumns());this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:w,column:x},event:s})}}else i instanceof qo&&i.focusCell(!0),this.focusService.focusNextGridCoreContainer(!1)&&s.preventDefault()},o.prototype.tabToNextCell=function(i){var s=this.focusService.getFocusedCell();if(!s)return!1;var l=this.getCellByPosition(s);return!!(l||(l=this.rowRenderer.getRowByPosition(s),l&&l.isFullWidth()))&&this.tabToNextCellCommon(l,i)},o.prototype.tabToNextCellCommon=function(i,s){var l=i.isEditing();if(!l&&i instanceof qo){var h=i.getRowCtrl();h&&(l=h.isEditing())}return(l?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(i,s):this.moveToNextEditingCell(i,s):this.moveToNextCellNotEditing(i,s))||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(i,s){var l=i.getCellPosition();i.stopEditing();var c=this.findNextCellToFocusOn(l,s,!0);return null!=c&&(c.startEditing(null,null,!0),c.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(i,s){var l=i.getCellPosition(),c=this.findNextCellToFocusOn(l,s,!0);if(null==c)return!1;var h=c.getCellPosition(),g=this.isCellEditable(l),_=this.isCellEditable(h),y=h&&l.rowIndex===h.rowIndex&&l.rowPinned===h.rowPinned;return g&&i.setFocusOutOnEditor(),y||(i.getRowCtrl().stopEditing(),c.getRowCtrl().startRowEditing()),_?(c.setFocusInOnEditor(),c.focusCell()):c.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(i,s){var c,l=this.columnModel.getAllDisplayedColumns();c=i instanceof aa?qp(qp({},i.getRowPosition()),{column:s?l[0]:Zt(l)}):i.getCellPosition();var h=this.findNextCellToFocusOn(c,s,!1);if(h instanceof qo)h.focusCell(!0);else if(h)return this.tryToFocusFullWidthRow(h.getRowPosition(),s);return he(h)},o.prototype.findNextCellToFocusOn=function(i,s,l){for(var c=i;;){s||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,s);var h=this.gridOptionsWrapper.getTabToNextCellFunc();if(he(h)){var _=h({backwards:s,editing:l,previousCellPosition:i,nextCellPosition:c||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});he(_)?(_.floating&&(Cn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),_.rowPinned=_.floating),c={rowIndex:_.rowIndex,column:_.column,rowPinned:_.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var y=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:y+c.rowIndex,column:c.column}}),null}var w=this.gridOptionsWrapper.isFullRowEdit();if(!l||w||this.isCellEditable(c)){this.ensureCellVisible(c);var k=this.getCellByPosition(c);if(!k){var B=this.rowRenderer.getRowByPosition(c);if(!B||!B.isFullWidth())continue;return B}if(!k.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),k}}},o.prototype.isCellEditable=function(i){var s=this.lookupRowNodeForCell(i);return!!s&&i.column.isCellEditable(s)},o.prototype.getCellByPosition=function(i){var s=this.rowRenderer.getRowByPosition(i);return s?s.getCellCtrl(i.column):null},o.prototype.lookupRowNodeForCell=function(i){return i.rowPinned===q.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(i.rowIndex):i.rowPinned===q.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(i.rowIndex):this.paginationProxy.getRow(i.rowIndex)},o.prototype.navigateToNextCell=function(i,s,l,c){for(var h=l,g=!1;h&&(h===l||!this.isValidNavigateCell(h));)this.gridOptionsWrapper.isEnableRtl()?s===be.LEFT&&(h=this.getLastCellOfColSpan(h)):s===be.RIGHT&&(h=this.getLastCellOfColSpan(h)),g=je(h=this.cellNavigationService.getNextCellToFocus(s,h));if(g&&i&&i.keyCode===be.UP&&(h={rowIndex:-1,rowPinned:null,column:l.column}),c){var _=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(he(_)){var w=_({key:s,previousCellPosition:l,nextCellPosition:h||null,event:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});he(w)?(w.floating&&(Cn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),w.rowPinned=w.floating),h={rowPinned:w.rowPinned,rowIndex:w.rowIndex,column:w.column}):h=null}}if(h){if(h.rowIndex<0){var x=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x+h.rowIndex,column:l.column},event:i||void 0})}var k=this.getNormalisedPosition(h);k?this.focusPosition(k):this.tryToFocusFullWidthRow(h)}},o.prototype.getNormalisedPosition=function(i){this.ensureCellVisible(i);var s=this.getCellByPosition(i);return s?(i=s.getCellPosition(),this.ensureCellVisible(i),i):null},o.prototype.tryToFocusFullWidthRow=function(i,s){void 0===s&&(s=!1);var l=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(i);if(!c||!c.isFullWidth())return!1;var h={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column||(s?Zt(l):l[0])};return this.focusPosition(h),!0},o.prototype.focusPosition=function(i){this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(i)},o.prototype.isValidNavigateCell=function(i){return!!this.rowPositionUtils.getRowNode(i)},o.prototype.getLastCellOfColSpan=function(i){var s=this.getCellByPosition(i);if(!s)return i;var l=s.getColSpanningList();return 1===l.length?i:{rowIndex:i.rowIndex,column:Zt(l),rowPinned:i.rowPinned}},o.prototype.ensureCellVisible=function(i){je(i.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(i.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Ri([P("mouseEventService")],o.prototype,"mouseEventService",void 0),Ri([P("paginationProxy")],o.prototype,"paginationProxy",void 0),Ri([P("focusService")],o.prototype,"focusService",void 0),Ri([P("animationFrameService")],o.prototype,"animationFrameService",void 0),Ri([mt("rangeService")],o.prototype,"rangeService",void 0),Ri([P("columnModel")],o.prototype,"columnModel",void 0),Ri([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Ri([P("rowRenderer")],o.prototype,"rowRenderer",void 0),Ri([P("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Ri([P("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Ri([P("cellNavigationService")],o.prototype,"cellNavigationService",void 0),Ri([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Ri([Se],o.prototype,"postConstruct",null),Ri([xe("navigationService")],o)}(ie),eT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),uc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Xg=function(u,o){return function(i,s){o(i,s,u)}},Qy=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.scrollY=0,i.uiBodyHeight=0,i}return eT(o,u),o.prototype.agWire=function(i){this.logger=i.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,G.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Ef(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,l=this.getUiBodyHeight();(s!==this.scrollY||l!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=l,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var i=this.scrollY/this.maxScrollY,s=i*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+i+")"),this.setDivStretchOffset(s)},o.prototype.setUiContainerHeight=function(i){i!==this.uiContainerHeight&&(this.uiContainerHeight=i,this.eventService.dispatchEvent({type:G.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(i){var s="number"==typeof i?Math.floor(i):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:G.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(i){this.modelHeight=i,this.stretching=null!=i&&this.maxDivHeight>0&&i>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(i){return i-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},o.prototype.getScrollPositionForPixel=function(i){if(this.pixelsToShave<=0)return i;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(i/s)},uc([P("ctrlsService")],o.prototype,"ctrlsService",void 0),uc([Xg(0,Ft("loggerFactory"))],o.prototype,"agWire",null),uc([Se],o.prototype,"postConstruct",null),uc([xe("rowContainerHeightService")],o)}(ie),tT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jy=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Jp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return tT(o,u),o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(i){this.isRowSelectableFunc&&this.recurseDown(i.childrenAfterGroup,function(l){return l.childrenAfterGroup})},o.prototype.updateSelectableAfterFiltering=function(i){this.isRowSelectableFunc&&this.recurseDown(i.childrenAfterGroup,function(l){return l.childrenAfterFilter})},o.prototype.recurseDown=function(i,s){var l=this;!i||i.forEach(function(c){var h;c.group&&(c.hasChildren()&&l.recurseDown(s(c),s),h=l.groupSelectsChildren?he(Ni(s(c),"selectable",!0)):!!l.isRowSelectableFunc&&l.isRowSelectableFunc(c),c.setRowSelectable(h))})},Jy([Se],o.prototype,"init",null),Jy([xe("selectableService")],o)}(ie),oI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),no=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Xy=function(u){function o(){var i=u.call(this)||this;return i.previousAndFirstButtonsDisabled=!1,i.nextButtonDisabled=!1,i.lastButtonDisabled=!1,i}return oI(o,u),o.prototype.postConstruct=function(){var i=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",si(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",si(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",si(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",si(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,G.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(h){var g=h.el,_=h.fn;i.addManagedListener(g,"click",_),i.addManagedListener(g,"keydown",function(y){(y.keyCode===be.ENTER||y.keyCode===be.SPACE)&&(y.preventDefault(),_())})}),this.onPaginationChanged()):this.setDisplayed(!1)},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var i=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(i?s+1:0)},o.prototype.formatNumber=function(i){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return s?s({value:i}):Cf(i)},o.prototype.getTemplate=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=i("page","Page"),l=i("to","to"),c=i("of","of"),h=i("firstPage","First Page"),g=i("previousPage","Previous Page"),_=i("nextPage","Next Page"),y=i("lastPage","Last Page"),w=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+w+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+w+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+w+'-to">'+l+'</span>\n                    <span id="ag-'+w+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+w+'-of">'+c+'</span>\n                    <span id="ag-'+w+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+h+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+g+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+w+'-start-page">'+s+'</span>\n                        <span id="ag-'+w+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+w+'-of-page">'+c+'</span>\n                        <span id="ag-'+w+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+_+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+y+'" tabindex="0"></div>\n                </span>\n            </div>'},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),l=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===i,ze(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Ll(this.btFirst,this.previousAndFirstButtonsDisabled),ze(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Ll(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&i===l-1||c,ze(this.btNext,"ag-disabled",this.nextButtonDisabled),Ll(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!s||c||i===l-1,ze(this.btLast,"ag-disabled",this.lastButtonDisabled),Ll(this.btLast,this.lastButtonDisabled)},o.prototype.updateRowLabels=function(){var h,g,i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),l=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?h=g=0:(g=(h=s*i+1)+s-1,l&&g>c&&(g=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(h),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(g)},o.prototype.isZeroPagesToDisplay=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return i&&0===s},o.prototype.setTotalLabels=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),l=i?this.paginationProxy.getMasterRowCount():null;if(1===l){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(i)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(l);else{var g=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=g,this.lbRecordCount.innerHTML=g}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},no([P("paginationProxy")],o.prototype,"paginationProxy",void 0),no([P("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),no([me("btFirst")],o.prototype,"btFirst",void 0),no([me("btPrevious")],o.prototype,"btPrevious",void 0),no([me("btNext")],o.prototype,"btNext",void 0),no([me("btLast")],o.prototype,"btLast",void 0),no([me("lbRecordCount")],o.prototype,"lbRecordCount",void 0),no([me("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),no([me("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),no([me("lbCurrent")],o.prototype,"lbCurrent",void 0),no([me("lbTotal")],o.prototype,"lbTotal",void 0),no([Se],o.prototype,"postConstruct",null),o}(vt),Zy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),em=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.polyfillFunctions=[],i}return Zy(o,u),o.prototype.observeResize=function(i,s){var w,l=this,c=fs(s,50),_=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!_?((w=new window.ResizeObserver(c)).observe(i),function(){return w.disconnect()}):function(){var w=Xs(i),x=La(i),k=!0,B=function(){if(k){var j=Xs(i),ee=La(i);(j!==w||ee!==x)&&(w=j,x=ee,s()),l.doNextPolyfillTurn(B)}};return B(),function(){return k=!1}}()},o.prototype.doNextPolyfillTurn=function(i){this.polyfillFunctions.push(i),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var i=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var l=i.polyfillFunctions;i.polyfillScheduled=!1,i.polyfillFunctions=[],l.forEach(function(c){return c()})},50))},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("resizeObserverService")],o),o}(ie),Os=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xs=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},rl=(()=>(function(u){u[u.Loading=0]="Loading",u[u.NoRows=1]="NoRows"}(rl||(rl={})),rl))(),nT=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.inProgress=!1,i.destroyRequested=!1,i}return Os(o,u),o.prototype.updateLayoutClasses=function(i,s){ze(this.eOverlayWrapper,W.LBn.AUTO_HEIGHT,s.autoHeight),ze(this.eOverlayWrapper,W.LBn.NORMAL,s.normal),ze(this.eOverlayWrapper,W.LBn.PRINT,s.print)},o.prototype.postConstruct=function(){this.createManagedBean(new Ip(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,G.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(i){ze(this.eOverlayWrapper,"ag-overlay-loading-wrapper",i===rl.Loading),ze(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",i===rl.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var i={api:this.gridOptionsWrapper.getApi()},l=this.userComponentFactory.getLoadingOverlayCompDetails(i).newAgStackInstance();this.showOverlay(l,rl.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var i={api:this.gridOptionsWrapper.getApi()},l=this.userComponentFactory.getNoRowsOverlayCompDetails(i).newAgStackInstance();this.showOverlay(l,rl.NoRows)}},o.prototype.showOverlay=function(i,s){var l=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,i&&i.then(function(c){l.inProgress=!1,l.eOverlayWrapper.appendChild(c.getGui()),l.activeOverlay=c,l.destroyRequested&&(l.destroyRequested=!1,l.destroyActiveOverlay())}),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),fi(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),u.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var i=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();i&&!s?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},o.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',xs([P("userComponentFactory")],o.prototype,"userComponentFactory",void 0),xs([P("paginationProxy")],o.prototype,"paginationProxy",void 0),xs([P("gridApi")],o.prototype,"gridApi",void 0),xs([P("columnModel")],o.prototype,"columnModel",void 0),xs([me("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),xs([Se],o.prototype,"postConstruct",null),o}(vt),sI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ao=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},tm=function(u){function o(i){void 0===i&&(i={});var s=u.call(this,o.getTemplate(i))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var c=i.enabled,h=i.items,g=i.suppressEnabledCheckbox,_=i.suppressOpenCloseIcons;return s.title=i.title,s.cssIdentifier=i.cssIdentifier||"default",s.enabled=null==c||c,s.items=h||[],s.alignItems=i.alignItems||"center",null!=g&&(s.suppressEnabledCheckbox=g),null!=_&&(s.suppressOpenCloseIcons=_),s}return sI(o,u),o.getTemplate=function(i){var s=i.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(i.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},o.prototype.postConstruct=function(){if(this.items.length){var i=this.items;this.items=[],this.addItems(i)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var i=this;this.eGroupClosedIcon.appendChild(wn("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(wn("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return i.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.keyCode){case be.ENTER:case be.SPACE:s.preventDefault(),i.toggleGroupExpand();break;case be.RIGHT:case be.LEFT:s.preventDefault(),i.toggleGroupExpand(s.keyCode===be.RIGHT)}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||lu(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var i=!this.suppressOpenCloseIcons;Ct(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ct(this.eGroupOpenedIcon,i&&this.expanded),Ct(this.eGroupClosedIcon,i&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(i){var s=this.getGui();return this.alignItems!==i&&Kn(s,"ag-group-item-alignment-"+this.alignItems),this.alignItems=i,Ie(s,"ag-group-item-alignment-"+this.alignItems),this},o.prototype.toggleGroupExpand=function(i){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ct(this.eContainer,!0),this):(this.expanded===(i=null!=i?i:!this.expanded)||(this.expanded=i,this.refreshAriaStatus(),this.refreshChildDisplay(),Ct(this.eContainer,i),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED})),this)},o.prototype.addItems=function(i){var s=this;i.forEach(function(l){return s.addItem(l)})},o.prototype.addItem=function(i){var s=this.eContainer,l=i instanceof vt?i.getGui():i;Ie(l,"ag-group-item"),Ie(l,"ag-"+this.cssIdentifier+"-group-item"),s.appendChild(l),this.items.push(l)},o.prototype.hideItem=function(i,s){ze(this.items[s],"ag-hidden",i)},o.prototype.setTitle=function(i){return this.eTitle.innerText=i,this},o.prototype.addCssClassToTitleBar=function(i){Ie(this.eTitleBar,i)},o.prototype.setEnabled=function(i,s){return this.enabled=i,this.refreshDisabledStyles(),this.toggleGroupExpand(i),s||this.cbGroupEnabled.setValue(i),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(i){var s=this;return this.cbGroupEnabled.onValueChange(function(l){s.setEnabled(l,!0),i(l)}),this},o.prototype.hideEnabledCheckbox=function(i){return this.suppressEnabledCheckbox=i,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(i){return this.suppressOpenCloseIcons=i,i&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){ze(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Ie(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Kn(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),ze(this.eContainer,"ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",Ao([me("eTitleBar")],o.prototype,"eTitleBar",void 0),Ao([me("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),Ao([me("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),Ao([me("eToolbar")],o.prototype,"eToolbar",void 0),Ao([me("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),Ao([me("eTitle")],o.prototype,"eTitle",void 0),Ao([me("eContainer")],o.prototype,"eContainer",void 0),Ao([Se],o.prototype,"postConstruct",null),o}(vt),nm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),dc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},rm=function(u){function o(i,s){var l=u.call(this)||this;return l.element=i,l.dragStartPosition={x:0,y:0},l.position={x:0,y:0},l.lastSize={width:-1,height:-1},l.positioned=!1,l.resizersAdded=!1,l.resizeListeners=[],l.boundaryEl=null,l.isResizing=!1,l.isMoving=!1,l.resizable={},l.movable=!1,l.currentResizer=null,l.config=Cr({},{popup:!1},s),l}return nm(o,u),o.prototype.center=function(){var i=this.offsetParent,s=i.clientHeight,c=i.clientWidth/2-this.getWidth()/2,h=s/2-this.getHeight()/2;this.offsetElement(c,h)},o.prototype.initialisePosition=function(){var i=this.config,s=i.centered,l=i.forcePopupParentAsOffsetParent,c=i.minWidth,h=i.width,g=i.minHeight,_=i.height,y=i.x,w=i.y;this.offsetParent||this.setOffsetParent();var x=0,k=0,B=!!this.element.offsetParent;if(B){var j=this.findBoundaryElement(),ee=window.getComputedStyle(j);if(null!=ee.minWidth){var re=j.offsetWidth-this.element.offsetWidth;k=parseInt(ee.minWidth,10)-re}if(null!=ee.minHeight){var we=j.offsetHeight-this.element.offsetHeight;x=parseInt(ee.minHeight,10)-we}}if(this.minHeight=g||x,this.minWidth=c||k,h&&this.setWidth(h),_&&this.setHeight(_),(!h||!_)&&this.refreshSize(),s)this.center();else if(y||w)this.offsetElement(y,w);else if(B&&l&&this.boundaryEl){var ge=parseFloat(this.boundaryEl.style.top),de=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(de)?0:de,isNaN(ge)?0:ge)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(i,s){if(this.config.popup&&i!==this.movable){this.movable=i;var l=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};i?(this.dragService.addDragSource(l),this.moveElementDragListener=l):(this.dragService.removeDragSource(l),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(i){var s=this;if(this.clearResizeListeners(),i?this.addResizers():this.removeResizers(),"boolean"==typeof i){if(!1===i)return;i={topLeft:i,top:i,topRight:i,right:i,bottomRight:i,bottom:i,bottomLeft:i,left:i}}Object.keys(i).forEach(function(l){var h=!!i[l],g=s.getResizerElement(l),_={dragStartPixels:0,eElement:g,onDragStart:function(y){return s.onResizeStart(y,l)},onDragging:s.onResize.bind(s),onDragStop:function(y){return s.onResizeEnd(y,l)}};(!!s.resizable[l]!==h||!s.isAlive()&&!h)&&(h?(s.dragService.addDragSource(_),s.resizeListeners.push(_),g.style.pointerEvents="all"):g.style.pointerEvents="none")})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var i=this.lastSize,s=i.height,l=i.width;-1!==l&&(this.element.style.width=l+"px"),-1!==s&&(this.element.style.height=s+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(i){var s=this.config.popup,l=this.element,c=!1;if("string"==typeof i&&-1!==i.indexOf("%"))ka(l,i),i=_s(l),c=!0;else if(this.positioned){var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect();i=Math.max(this.minHeight,i);var _=this.offsetParent.clientHeight,y=s?this.position.y:h.top;_&&i+y>_+(s?0:g.top)&&(i=_-y)}this.getHeight()!==i&&(c?(l.style.maxHeight="unset",l.style.minHeight="unset"):s?ka(l,i):(l.style.height=i+"px",l.style.flex="0 0 auto",this.lastSize.height="number"==typeof i?i:parseFloat(i)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(i){var s=this.element,l=this.config.popup,c=!1;if("string"==typeof i&&-1!==i.indexOf("%"))Tr(s,i),i=Vn(s),c=!0;else if(this.positioned){i=Math.max(this.minWidth,i);var h=this.offsetParent.clientWidth,g=l?this.position.x:this.element.getBoundingClientRect().left;h&&i+g>h&&(i=h-g)}this.getWidth()!==i&&(c?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?Tr(s,i):(s.style.width=i+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof i?i:parseFloat(i)))},o.prototype.offsetElement=function(i,s){void 0===i&&(i=0),void 0===s&&(s=0);var l=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:l,x:i,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(l.style.left),parseFloat(l.style.top))},o.prototype.setPosition=function(i,s){this.position.x=i,this.position.y=s},o.prototype.updateDragStartPosition=function(i,s){this.dragStartPosition={x:i,y:s}},o.prototype.calculateMouseMovement=function(i){var s=i.e,c=i.isTop,g=i.topBuffer,_=s.clientX-this.dragStartPosition.x,y=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!i.isLeft,!!i.anywhereWithin,_)?0:_,movementY:this.shouldSkipY(s,!!c,g,y)?0:y}},o.prototype.shouldSkipX=function(i,s,l,c){var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),_=this.boundaryEl.getBoundingClientRect(),y=this.config.popup?this.position.x:h.left,w=y<=0&&g.left>=i.clientX||g.right<=i.clientX&&g.right<=_.right;return!!w||(s?c<0&&i.clientX>y+g.left||c>0&&i.clientX<y+g.left:l?c<0&&i.clientX>_.right||c>0&&i.clientX<y+g.left:c<0&&i.clientX>_.right||c>0&&i.clientX<_.right)},o.prototype.shouldSkipY=function(i,s,l,c){void 0===l&&(l=0);var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),_=this.boundaryEl.getBoundingClientRect(),y=this.config.popup?this.position.y:h.top,w=y<=0&&g.top>=i.clientY||g.bottom<=i.clientY&&g.bottom<=_.bottom;return!!w||(s?c<0&&i.clientY>y+g.top+l||c>0&&i.clientY<y+g.top:c<0&&i.clientY>_.bottom||c>0&&i.clientY<_.bottom)},o.prototype.createResizeMap=function(){var i=this.element;this.resizerMap={topLeft:{element:i.querySelector("[ref=eTopLeftResizer]")},top:{element:i.querySelector("[ref=eTopResizer]")},topRight:{element:i.querySelector("[ref=eTopRightResizer]")},right:{element:i.querySelector("[ref=eRightResizer]")},bottomRight:{element:i.querySelector("[ref=eBottomRightResizer]")},bottom:{element:i.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:i.querySelector("[ref=eBottomLeftResizer]")},left:{element:i.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var i=this.element;if(i){var l=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;i.appendChild(l.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var i=this.element.querySelector(".ag-resizer-wrapper");i&&this.element.removeChild(i),this.resizersAdded=!1},o.prototype.getResizerElement=function(i){return this.resizerMap[i].element},o.prototype.onResizeStart=function(i,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},Ie(this.element,"ag-resizing"),Ie(this.resizerMap[s].element,"ag-active");var l=this.config;!l.popup&&!l.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(i.clientX,i.clientY)},o.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(l){return!Sr(l,"ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var i=this.getSiblings()||[],s=0,l=0,c=0;c<i.length;c++){var h=i[c];if(h!==this.element){var _=this.minHeight||0,y=this.minWidth||0;if(h.style.flex&&"0 0 auto"!==h.style.flex){var w=window.getComputedStyle(h);w.minHeight&&(_=parseInt(w.minHeight,10)),w.minWidth&&(y=parseInt(w.minWidth,10))}else _=h.offsetHeight,y=h.offsetWidth;s+=_,l+=y}}return{height:s,width:l}},o.prototype.applySizeToSiblings=function(i){var s=null,l=this.getSiblings();if(l){for(var c=0;c<l.length;c++){var h=l[c];h!==s&&(i?h.style.height=h.offsetHeight+"px":h.style.width=h.offsetWidth+"px",h.style.flex="0 0 auto",h===this.element&&(s=l[c+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},o.prototype.onResize=function(i){if(this.isResizing&&this.currentResizer){var s=this.config,l=s.popup,c=s.forcePopupParentAsOffsetParent,h=this.currentResizer,g=h.isTop,w=h.isLeft,x=h.isRight||w,k=h.isBottom||g,B=this.calculateMouseMovement({e:i,isLeft:w,isTop:g}),j=B.movementX,ee=B.movementY,re=this.position.x,we=this.position.y,ge=0,de=0;if(x&&j){var Te=w?-1:1,We=this.getWidth(),Dt=We+j*Te,Ze=!1;w&&(re+(ge=We-Dt)<=0||Dt<=this.minWidth)&&(Ze=!0,ge=0),Ze||this.setWidth(Dt)}if(k&&ee){Te=g?-1:1;var Et=this.getHeight(),zt=Et+ee*Te,Ot=!1;g?(we+(de=Et-zt)<=0||zt<=this.minHeight)&&(Ot=!0,de=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Et<zt&&this.getMinSizeOfSiblings().height+zt>this.element.parentElement.offsetHeight&&(Ot=!0),Ot||this.setHeight(zt)}this.updateDragStartPosition(i.clientX,i.clientY),((l||c)&&ge||de)&&this.offsetElement(re+ge,we+de)}},o.prototype.onResizeEnd=function(i,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var l={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};Kn(this.element,"ag-resizing"),Kn(this.resizerMap[s].element,"ag-active"),this.dispatchEvent(l)},o.prototype.refreshSize=function(){var i=this.element;this.config.popup&&(this.config.width||this.setWidth(i.offsetWidth),this.config.height||this.setHeight(i.offsetHeight))},o.prototype.onMoveStart=function(i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,Ie(this.element,"ag-moving"),this.updateDragStartPosition(i.clientX,i.clientY)},o.prototype.onMove=function(i){if(this.isMoving){var h,s=this.position,l=s.x,c=s.y;this.config.calculateTopBuffer&&(h=this.config.calculateTopBuffer());var g=this.calculateMouseMovement({e:i,isTop:!0,anywhereWithin:!0,topBuffer:h});this.offsetElement(l+g.movementX,c+g.movementY),this.updateDragStartPosition(i.clientX,i.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,Kn(this.element,"ag-moving")},o.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var i=this.element;i;){if("static"!==window.getComputedStyle(i).position)return i;i=i.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var i=this.resizeListeners.pop();this.dragService.removeDragSource(i)}},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},dc([P("popupService")],o.prototype,"popupService",void 0),dc([P("dragService")],o.prototype,"dragService",void 0),o}(ie),nC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},om=function(u){function o(i){var s=u.call(this,o.getTemplate(i))||this;return s.closable=!0,s.config=i,s}return nC(o,u),o.getTemplate=function(i){var s=i&&i.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},o.prototype.postConstruct=function(){var i=this,s=this.config,l=s.component,c=s.closable,h=s.hideTitleBar,g=s.title,_=s.minWidth,y=void 0===_?250:_,w=s.width,x=s.minHeight,k=void 0===x?250:x,B=s.height,j=s.centered,ee=s.popup,re=s.x,we=s.y;this.positionableFeature=new rm(this.getGui(),{minWidth:y,width:w,minHeight:k,height:B,centered:j,x:re,y:we,popup:ee,calculateTopBuffer:function(){return i.positionableFeature.getHeight()-i.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var ge=this.getGui();l&&this.setBodyComponent(l),h?Ie(this.eTitleBar,"ag-hidden"):(g&&this.setTitle(g),this.setClosable(null!=c?c:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(de){if(ge.contains(de.relatedTarget)||ge.contains(document.activeElement)||i.eTitleBarButtons.contains(de.target))de.preventDefault();else{var Te=i.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Te&&Te.focus()}}),(!ee||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var i=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),i.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(i){this.positionableFeature.setHeight(i)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(i){this.positionableFeature.setWidth(i)},o.prototype.setClosable=function(i){if(i!==this.closable&&(this.closable=i),i){var s=this.closeButtonComp=new vt(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s),(l=s.getGui()).appendChild(Ie(si("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(s),s.addManagedListener(l,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var l;(l=this.closeButtonComp.getGui()).parentElement.removeChild(l),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},o.prototype.setBodyComponent=function(i){i.setParentComponent(this),this.eContentWrapper.appendChild(i.getGui())},o.prototype.addTitleBarButton=function(i,s){var l=this.eTitleBarButtons,c=l.children,h=c.length;null==s&&(s=h),s=Math.max(0,Math.min(s,h));var g=i.getGui();Ie(g,"ag-panel-title-bar-button"),0===s?l.insertAdjacentElement("afterbegin",g):s===h?l.insertAdjacentElement("beforeend",g):c[s-1].insertAdjacentElement("afterend",g),i.setParentComponent(this)},o.prototype.getBodyHeight=function(){return nn(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return Li(this.eContentWrapper)},o.prototype.setTitle=function(i){this.eTitle.innerText=i},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var i=this.getGui();i&&i.offsetParent&&this.close(),u.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',pc([me("eContentWrapper")],o.prototype,"eContentWrapper",void 0),pc([me("eTitleBar")],o.prototype,"eTitleBar",void 0),pc([me("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),pc([me("eTitle")],o.prototype,"eTitle",void 0),pc([Se],o.prototype,"postConstruct",null),o}(vt),sm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xp=function(){return Xp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Xp.apply(this,arguments)},Zp=function(u){function o(i){var s=u.call(this,Xp(Xp({},i),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return sm(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=this.config,c=l.movable,h=l.resizable,g=l.maximizable;Ie(s,"ag-dialog"),u.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(_){s.contains(_.relatedTarget)||i.popupService.bringPopupToFront(s)}),c&&this.setMovable(c),g&&this.setMaximizable(g),h&&this.setResizable(h)},o.prototype.renderComponent=function(){var i=this.getGui(),s=this.config,l=s.alwaysOnTop,c=s.modal,h=s.title,g=this.gridOptionsWrapper.getLocaleTextFunc(),_=this.popupService.addPopup({modal:c,eChild:i,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:l,ariaLabel:h||g("ariaLabelDialog","Dialog")});_&&(this.close=_.hideFunc)},o.prototype.toggleMaximize=function(){var i=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,l=s.x,c=s.y,g=s.height;this.setWidth(s.width),this.setHeight(g),this.positionableFeature.offsetElement(l,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=i.x,this.lastPosition.y=i.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){Ct(this.maximizeIcon,!this.isMaximized),Ct(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(i){return i()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),u.prototype.destroy.call(this)},o.prototype.setResizable=function(i){this.positionableFeature.setResizable(i)},o.prototype.setMovable=function(i){this.positionableFeature.setMovable(i,this.eTitleBar)},o.prototype.setMaximizable=function(i){var s=this;if(!i)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var l=this.eTitleBar;if(l&&i!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new vt('<div class="ag-dialog-button"></span>')),h=c.getGui();h.appendChild(this.maximizeIcon=si("maximize",this.gridOptionsWrapper)),Ie(this.maximizeIcon,"ag-panel-title-bar-button-icon"),h.appendChild(this.minimizeIcon=si("minimize",this.gridOptionsWrapper)),Ie(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Ie(this.minimizeIcon,"ag-hidden"),c.addManagedListener(h,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(l,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([P("popupService")],o.prototype,"popupService",void 0),o}(om),hc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),eh=function(u){function o(i,s,l){return void 0===s&&(s="ag-text-field"),void 0===l&&(l="text"),u.call(this,i,s,l)||this}return hc(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(i,s){var l=u.prototype.setValue.call(this,i,s);return this.eInput.value!==i&&(this.eInput.value=he(i)?i:""),l},o.prototype.preventDisallowedCharacters=function(){var i=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(l){l.key&&!i.test(l.key)&&l.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(l){xl(l.clipboardData.getData("text"),function(h){return!i.test(h)})&&l.preventDefault()})},o}(Co),rT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),iC=function(u){function o(i){return u.call(this,i,"ag-text-area",null,"textarea")||this}return rT(o,u),o.prototype.setValue=function(i,s){var l=u.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},o.prototype.setCols=function(i){return this.eInput.cols=i,this},o.prototype.setRows=function(i){return this.eInput.rows=i,this},o}(Co),fc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),th=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},rC=function(u){function o(i){var s=u.call(this,i,o.TEMPLATE)||this;return s.labelAlignment="top",s}return fc(o,u),o.prototype.init=function(){Ie(this.eSlider.getGui(),"ag-slider-field")},o.prototype.onValueChange=function(i){var s=this,l=zo.EVENT_CHANGED;return this.addManagedListener(this.eText,l,function(){var c=parseFloat(s.eText.getValue());s.eSlider.setValue(c.toString(),!0),i(c||0)}),this.addManagedListener(this.eSlider,l,function(){var c=s.eSlider.getValue();s.eText.setValue(c,!0),i(parseFloat(c))}),this},o.prototype.setSliderWidth=function(i){return this.eSlider.setWidth(i),this},o.prototype.setTextFieldWidth=function(i){return this.eText.setWidth(i),this},o.prototype.setMinValue=function(i){return this.eSlider.setMinValue(i),this.eText.setMin(i),this},o.prototype.setMaxValue=function(i){return this.eSlider.setMaxValue(i),this.eText.setMax(i),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(i){return this.getValue()===i||(this.eText.setValue(i,!0),this.eSlider.setValue(i,!0),this.dispatchEvent({type:zo.EVENT_CHANGED})),this},o.prototype.setStep=function(i){return this.eSlider.setStep(i),this.eText.setStep(i),this},o.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',th([me("eLabel")],o.prototype,"eLabel",void 0),th([me("eSlider")],o.prototype,"eSlider",void 0),th([me("eText")],o.prototype,"eText",void 0),th([Se],o.prototype,"init",null),o}(Lf),oT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Is=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qt=function(u){function o(i){var s=u.call(this,o.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=i.picker,s}return oT(o,u),o.prototype.postConstruct=function(){var i=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(i){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(i)},o.prototype.onSpectrumDraggerMove=function(i){this.isSpectrumDragging&&this.moveDragger(i)},o.prototype.onSpectrumHueDown=function(i){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(i)},o.prototype.onSpectrumHueMove=function(i){this.isSpectrumHueDragging&&this.moveHueSlider(i)},o.prototype.onSpectrumAlphaDown=function(i){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(i)},o.prototype.onSpectrumAlphaMove=function(i){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(i)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(i){var s=this.spectrumValRect;if(s){var l=i.clientX-s.left,c=i.clientY-s.top;l=Math.max(l,0),l=Math.min(l,s.width),c=Math.max(c,0),c=Math.min(c,s.height),this.setSpectrumValue(l/s.width,1-c/s.height)}},o.prototype.moveHueSlider=function(i){var s=this.spectrumHueRect;if(s){var l=this.spectrumHueSlider,c=l.getBoundingClientRect(),h=i.clientX-s.left;h=Math.max(h,0),h=Math.min(h,s.width),this.H=1-h/s.width,l.style.left=h+c.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(i){var s=this.spectrumAlphaRect;if(s){var l=this.spectrumAlphaSlider,c=l.getBoundingClientRect(),h=i.clientX-s.left;h=Math.max(h,0),h=Math.min(h,s.width),this.A=h/s.width,l.style.left=h+c.width/2+"px",this.update()}},o.prototype.update=function(){var i=Pl.fromHSB(360*this.H,this.S,this.B,this.A),s=Pl.fromHSB(360*this.H,1,1),l=i.toRgbaString(),c=this.picker;Pl.fromString(c.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),c.setValue(l),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=l},o.prototype.setSpectrumValue=function(i,s){var l=this.spectrumValRect||this.refreshSpectrumRect();if(l){var c=this.spectrumDragger,h=c.getBoundingClientRect();i=Math.max(0,i),i=Math.min(1,i),s=Math.max(0,s),s=Math.min(1,s),this.S=i,this.B=s,c.style.left=i*l.width-h.width/2+"px",c.style.top=(1-s)*l.height-h.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var s=o.recentColors.map(function(l,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+l+'; width: 15px; height: 15px;" recent-color="'+l+'"></div>'});this.recentColors.innerHTML=s.join("")},o.prototype.setValue=function(i){var s=Pl.fromString(i),l=s.toHSB(),c=l[0],h=l[1],g=l[2];this.H=(isNaN(c)?0:c)/360,this.A=s.a;var _=this.spectrumHueRect||this.refreshHueRect(),y=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-_.width+"px",this.spectrumAlphaSlider.style.left=this.A*y.width+"px",this.setSpectrumValue(h,g)},o.prototype.onRecentColorClick=function(i){var s=i.target;if(he(s.id)){var l=parseInt(s.id,10);this.setValue(o.recentColors[l]),this.destroy()}},o.prototype.addRecentColor=function(){var s=Pl.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),l=o.recentColors;!this.colorChanged||l[0]===s||(l=l.filter(function(c){return c!=s}),(l=[s].concat(l)).length>o.maxRecentColors&&(l=l.slice(0,o.maxRecentColors)),o.recentColors=l)},o.prototype.destroy=function(){this.addRecentColor(),u.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Is([me("spectrumColor")],o.prototype,"spectrumColor",void 0),Is([me("spectrumVal")],o.prototype,"spectrumVal",void 0),Is([me("spectrumDragger")],o.prototype,"spectrumDragger",void 0),Is([me("spectrumHue")],o.prototype,"spectrumHue",void 0),Is([me("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),Is([me("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),Is([me("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),Is([me("recentColors")],o.prototype,"recentColors",void 0),Is([Se],o.prototype,"postConstruct",null),o}(vt),am=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),lm=function(u){function o(i){var s=u.call(this,i,"ag-color-picker","colorPicker")||this;return i&&i.color&&(s.value=i.color),s}return am(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var i=this,s=this.getGui().getBoundingClientRect(),l=this.createBean(new Zp({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,Ie(l.getGui(),"ag-color-dialog");var c=this.createBean(new qt({picker:this}));return c.addDestroyFunc(function(){l.isAlive()&&i.destroyBean(l)}),l.setParentComponent(this),l.setBodyComponent(c),c.setValue(this.getValue()),l.addDestroyFunc(function(){i.isDestroyingPicker?i.isDestroyingPicker=!1:(i.isDestroyingPicker=!0,c.isAlive()&&i.destroyBean(c)),i.isAlive()&&i.getFocusableElement().focus(),i.isPickerDisplayed=!1}),l},o.prototype.setValue=function(i){return this.value===i?this:(this.eDisplayField.style.backgroundColor=i,u.prototype.setValue.call(this,i))},o.prototype.getValue=function(){return this.value},o}(uu),oC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cm=function(u){function o(i){return u.call(this,i,"ag-number-field","number")||this}return oC(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(i.eInput.value),l=isNaN(s)?"":i.normalizeValue(s.toString());i.value!==l&&i.setValue(l)})},o.prototype.normalizeValue=function(i){if(""===i)return"";this.precision&&(i=this.adjustPrecision(i));var s=parseFloat(i);return null!=this.min&&s<this.min?i=this.min.toString():null!=this.max&&s>this.max&&(i=this.max.toString()),i},o.prototype.adjustPrecision=function(i){if(this.precision){var s=parseFloat(i).toFixed(this.precision);i=parseFloat(s).toString()}return i},o.prototype.setMin=function(i){return this.min===i||(this.min=i,Bd(this.eInput,"min",i)),this},o.prototype.setMax=function(i){return this.max===i||(this.max=i,Bd(this.eInput,"max",i)),this},o.prototype.setPrecision=function(i){return this.precision=i,this},o.prototype.setStep=function(i){return this.step===i||(this.step=i,Bd(this.eInput,"step",i)),this},o.prototype.setValue=function(i,s){return(i=this.adjustPrecision(i))!=this.normalizeValue(i)?this:u.prototype.setValue.call(this,i,s)},o}(eh),sC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),aC=function(u){function o(i){return u.call(this,i,"ag-range-field","range")||this}return sC(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this);var i=this.config,s=i.min,l=i.max,c=i.step;null!=s&&this.setMinValue(s),null!=l&&this.setMaxValue(l),this.setStep(c||1)},o.prototype.addInputListeners=function(){var i=this,s=zn();this.addManagedListener(this.eInput,s?"change":"input",function(c){i.setValue(c.target.value)})},o.prototype.setMinValue=function(i){return this.min=i,this.eInput.setAttribute("min",i.toString()),this},o.prototype.setMaxValue=function(i){return this.max=i,this.eInput.setAttribute("max",i.toString()),this},o.prototype.setStep=function(i){return this.eInput.setAttribute("step",i.toString()),this},o.prototype.setValue=function(i,s){null!=this.min&&(i=Math.max(parseFloat(i),this.min).toString()),null!=this.max&&(i=Math.min(parseFloat(i),this.max).toString());var l=u.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},o}(Co),sT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},lC=function(u){function o(i){var s=u.call(this,i,o.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return sT(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){i.parentCircleRect=i.eParentCircle.getBoundingClientRect()},onDragging:function(s){return i.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=i.eAngleValue.normalizeValue(s);var l=parseFloat(s);l>180&&(l-=360),i.setValue(l)}),this.updateNumberInput(),he(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,zo.EVENT_CHANGED,function(){i.eAngleValue.getInputElement().contains(document.activeElement)||i.updateNumberInput()})},o.prototype.updateNumberInput=function(){var i=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(i.toString())},o.prototype.positionChildCircle=function(i){var s=this.parentCircleRect||{width:24,height:24},l=this.eChildCircle,h=s.height/2;l.style.left=s.width/2+8*Math.cos(i)+"px",l.style.top=h+8*Math.sin(i)+"px"},o.prototype.calculatePolar=function(){var i=this.offsetX,s=this.offsetY,l=Math.atan2(s,i);this.degrees=this.toDegrees(l),this.radius=Math.sqrt(i*i+s*s),this.positionChildCircle(l)},o.prototype.calculateCartesian=function(){var i=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(i)*s).setOffsetY(Math.sin(i)*s)},o.prototype.setOffsetX=function(i){return this.offsetX!==i&&(this.offsetX=i,this.calculatePolar()),this},o.prototype.setOffsetY=function(i){return this.offsetY!==i&&(this.offsetY=i,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(i){var s=this.parentCircleRect,w=Math.atan2(i.clientY-s.top-s.height/2,i.clientX-s.left-s.width/2);this.setValue(w,!0)},o.prototype.toDegrees=function(i){return i/Math.PI*180},o.prototype.toRadians=function(i){return i/180*Math.PI},o.prototype.normalizeNegativeValue=function(i){return i<0?360+i:i},o.prototype.normalizeAngle180=function(i){return(i%=2*Math.PI)<-Math.PI?i+=2*Math.PI:i>=Math.PI&&(i-=2*Math.PI),i},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(i){return this.radius===i||(this.radius=i,this.calculateCartesian()),this},o.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,zo.EVENT_CHANGED,function(){i(s.degrees)}),this},o.prototype.getValue=function(i){return i?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(i,s){var l;return l=s?i:this.normalizeAngle180(this.toRadians(i)),i=this.toDegrees(l),this.degrees!==i&&(this.degrees=Math.floor(i),this.calculateCartesian(),this.positionChildCircle(l),this.dispatchEvent({type:zo.EVENT_CHANGED})),this},o.prototype.setWidth=function(i){return Tr(this.getGui(),i),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),u.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Vu([me("eLabel")],o.prototype,"eLabel",void 0),Vu([me("eParentCircle")],o.prototype,"eParentCircle",void 0),Vu([me("eChildCircle")],o.prototype,"eChildCircle",void 0),Vu([me("eAngleValue")],o.prototype,"eAngleValue",void 0),Vu([P("dragService")],o.prototype,"dragService",void 0),o}(Lf),cC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),aT=function(u){function o(i){return u.call(this,i,"ag-toggle-button")||this}return cC(o,u),o.prototype.setValue=function(i,s){return u.prototype.setValue.call(this,i,s),ze(this.getGui(),"ag-selected",this.getValue()),this},o}(Xl),uC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nh=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},dC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return uC(o,u),o.prototype.getFirstRow=function(){var s,i=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=q.PINNED_TOP:this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=q.PINNED_BOTTOM),void 0===s?null:{rowIndex:i,rowPinned:s}},o.prototype.getLastRow=function(){var i,s=null,l=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return l?(s=q.PINNED_BOTTOM,i=l-1):this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageLastRow()):c&&(s=q.PINNED_TOP,i=c-1),void 0===i?null:{rowIndex:i,rowPinned:s}},o.prototype.getRowNode=function(i){switch(i.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},o.prototype.sameRow=function(i,s){return!i&&!s||!(i&&!s||!i&&s)&&i.rowIndex===s.rowIndex&&i.rowPinned==s.rowPinned},o.prototype.before=function(i,s){switch(i.rowPinned){case q.PINNED_TOP:if(s.rowPinned!==q.PINNED_TOP)return!0;break;case q.PINNED_BOTTOM:if(s.rowPinned!==q.PINNED_BOTTOM)return!1;break;default:if(he(s.rowPinned))return s.rowPinned!==q.PINNED_TOP}return i.rowIndex<s.rowIndex},nh([P("rowModel")],o.prototype,"rowModel",void 0),nh([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),nh([P("paginationProxy")],o.prototype,"paginationProxy",void 0),nh([xe("rowPositionUtils")],o)}(ie),aI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ih=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return aI(o,u),o.prototype.createId=function(i){return this.createIdFromValues(i.rowIndex,i.column,i.rowPinned)},o.prototype.createIdFromValues=function(i,s,l){return i+"."+(null==l?"null":l)+"."+s.getId()},o.prototype.equals=function(i,s){return i.column===s.column&&i.rowPinned===s.rowPinned&&i.rowIndex===s.rowIndex},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("cellPositionUtils")],o),o}(ie),lT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},um=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return lT(o,u),o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(i){return Fi(i===q.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},o.prototype.isRowsToRender=function(i){return!this.isEmpty(i)},o.prototype.getRowAtPixel=function(i,s){var l=s===q.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Fi(l))return 0;for(var c=0;c<l.length;c++){var h=l[c];if(h.rowTop+h.rowHeight-1>=i)return c}return l.length-1},o.prototype.setPinnedTopRowData=function(i){this.pinnedTopRows=this.createNodesFromData(i,!0),this.eventService.dispatchEvent({type:G.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setPinnedBottomRowData=function(i){this.pinnedBottomRows=this.createNodesFromData(i,!1),this.eventService.dispatchEvent({type:G.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.createNodesFromData=function(i,s){var l=this,c=[];if(i){var h=0;i.forEach(function(g,_){var y=new wt(l.beans);y.data=g,y.id=(s?wt.ID_PREFIX_TOP_PINNED:wt.ID_PREFIX_BOTTOM_PINNED)+_,y.rowPinned=s?q.PINNED_TOP:q.PINNED_BOTTOM,y.setRowTop(h),y.setRowHeight(l.gridOptionsWrapper.getRowHeightForNode(y).height),y.setRowIndex(_),h+=y.rowHeight,c.push(y)})}return c},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(i){return this.pinnedTopRows[i]},o.prototype.getPinnedBottomRow=function(i){return this.pinnedBottomRows[i]},o.prototype.forEachPinnedTopRow=function(i){Fi(this.pinnedTopRows)||this.pinnedTopRows.forEach(i)},o.prototype.forEachPinnedBottomRow=function(i){Fi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(i)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(i){if(!i||0===i.length)return 0;var s=Zt(i);return s.rowTop+s.rowHeight},gc([P("columnApi")],o.prototype,"columnApi",void 0),gc([P("gridApi")],o.prototype,"gridApi",void 0),gc([P("beans")],o.prototype,"beans",void 0),gc([Se],o.prototype,"init",null),gc([xe("pinnedRowModel")],o)}(ie),cI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pr=function u(o){this.cellValueChanges=o},pC=function(u){function o(i,s,l){var c=u.call(this,i)||this;return c.initialRange=s,c.finalRange=l,c}return cI(o,u),o}(pr),cT=function(){function u(o){this.actionStack=[],this.maxStackSize=o||u.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return u.prototype.pop=function(){return this.actionStack.pop()},u.prototype.push=function(o){!(o.cellValueChanges&&o.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},u.prototype.clear=function(){this.actionStack=[]},u.prototype.getCurrentStackSize=function(){return this.actionStack.length},u.DEFAULT_STACK_SIZE=10,u}(),hC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ms=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},fC=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.cellValueChanges=[],i.activeCellEdit=null,i.activeRowEdit=null,i.isPasting=!1,i.isFilling=!1,i.onCellValueChanged=function(s){var l={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},c=null!==i.activeCellEdit&&i.cellPositionUtils.equals(i.activeCellEdit,l),h=null!==i.activeRowEdit&&i.rowPositionUtils.sameRow(i.activeRowEdit,l);if(c||h||i.isPasting||i.isFilling){var x=s.oldValue,k=s.value,B={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:k,oldValue:x};i.cellValueChanges.push(B)}},i.clearStacks=function(){i.undoStack.clear(),i.redoStack.clear()},i}return hC(o,u),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var i=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();i<=0||(this.undoStack=new cT(i),this.redoStack=new cT(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,G.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,G.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,G.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var i=this.undoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.oldValue}),i instanceof pC?this.processRangeAndCellFocus(i.cellValueChanges,i.initialRange):this.processRangeAndCellFocus(i.cellValueChanges),this.redoStack.push(i))}},o.prototype.redo=function(){if(this.redoStack){var i=this.redoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.newValue}),i instanceof pC?this.processRangeAndCellFocus(i.cellValueChanges,i.finalRange):this.processRangeAndCellFocus(i.cellValueChanges),this.undoStack.push(i))}},o.prototype.processAction=function(i,s){var l=this;i.cellValueChanges.forEach(function(c){var _=c.columnId,w=l.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!w.displayed||w.setDataValue(_,s(c))})},o.prototype.processRangeAndCellFocus=function(i,s){var l;if(s){var c=s.startRow,h=s.endRow;return l={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(l),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnStart:s.startColumn,columns:s.columns})}var _=i[0],k=this.getRowNode({rowIndex:_.rowIndex,rowPinned:_.rowPinned});this.setLastFocusedCell(l={rowPinned:_.rowPinned,rowIndex:k.rowIndex,columnId:_.columnId})},o.prototype.setLastFocusedCell=function(i){var s=i.rowIndex,l=i.columnId,c=i.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(l),tt.isRegistered(W.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,l,c,!0)},o.prototype.addRowEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_ROW_EDITING_STARTED,function(s){i.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,G.EVENT_ROW_EDITING_STOPPED,function(){var s=new pr(i.cellValueChanges);i.pushActionsToUndoStack(s),i.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_CELL_EDITING_STARTED,function(s){i.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,G.EVENT_CELL_EDITING_STOPPED,function(){if(i.activeCellEdit=null,!i.activeRowEdit&&!i.isPasting&&!i.isFilling){var l=new pr(i.cellValueChanges);i.pushActionsToUndoStack(l)}})},o.prototype.addPasteListeners=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_PASTE_START,function(){i.isPasting=!0}),this.addManagedListener(this.eventService,G.EVENT_PASTE_END,function(){var s=new pr(i.cellValueChanges);i.pushActionsToUndoStack(s),i.isPasting=!1})},o.prototype.addFillListeners=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_FILL_START,function(){i.isFilling=!0}),this.addManagedListener(this.eventService,G.EVENT_FILL_END,function(s){var l=new pC(i.cellValueChanges,s.initialRange,s.finalRange);i.pushActionsToUndoStack(l),i.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(i){this.undoStack.push(i),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(i){switch(i.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},Ms([P("focusService")],o.prototype,"focusService",void 0),Ms([P("gridApi")],o.prototype,"gridApi",void 0),Ms([P("rowModel")],o.prototype,"rowModel",void 0),Ms([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Ms([P("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),Ms([P("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Ms([Se],o.prototype,"init",null),Ms([xe("undoRedoService")],o)}(ie),uT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gC=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},dm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return uT(o,u),o.prototype.findHeader=function(i,s){var l;if(l=i.column instanceof pi?this.columnModel["getDisplayedGroup"+s](i.column):this.columnModel["getDisplayedCol"+s](i.column))return{column:l,headerRowIndex:i.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(i,s){var l=this.columnModel.getAllDisplayedColumns(),c=l["start"===s?0:l.length-1];if(c){var g=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(i);return console.log("level="+i+" type = "+g),g==W.A6C.COLUMN_GROUP?{headerRowIndex:i,column:this.columnModel.getColumnGroupAtLevel(c,i)}:{headerRowIndex:null==g?-1:i,column:c}}},gC([P("columnModel")],o.prototype,"columnModel",void 0),gC([P("ctrlsService")],o.prototype,"ctrlsService",void 0),gC([xe("headerPositionUtils")],o)}(ie),dT=function(){function u(){}return u.prototype.buildColumnDefs=function(o,i,s){var l=this,c=[],h={};return o.forEach(function(g){for(var y=!0,w=l.createDefFromColumn(g,i,s),x=g.getOriginalParent();x;){var k=null;if(x.isPadding())x=x.getOriginalParent();else{var B=h[x.getGroupId()];if(B){B.children.push(w),y=!1;break}(k=l.createDefFromGroup(x))&&(k.children=[w],h[k.groupId]=k,w=k,x=x.getOriginalParent())}}y&&c.push(w)}),c},u.prototype.createDefFromGroup=function(o){var i=uf(o.getColGroupDef(),["children"]);return i&&(i.groupId=o.getGroupId()),i},u.prototype.createDefFromColumn=function(o,i,s){var l=uf(o.getColDef());return l.colId=o.getColId(),l.width=o.getActualWidth(),l.rowGroup=o.isRowGroupActive(),l.rowGroupIndex=o.isRowGroupActive()?i.indexOf(o):null,l.pivot=o.isPivotActive(),l.pivotIndex=o.isPivotActive()?s.indexOf(o):null,l.aggFunc=o.isValueActive()?o.getAggFunc():null,l.hide=!o.isVisible()||void 0,l.pinned=o.isPinned()?o.getPinned():null,l.sort=o.getSort()?o.getSort():null,l.sortIndex=null!=o.getSortIndex()?o.getSortIndex():null,l},u=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("columnDefFactory")],u),u}(),Bu=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},pT=function(){function u(){}return u.prototype.getInitialRowClasses=function(o){var i=[];return he(o.extraCssClass)&&i.push(o.extraCssClass),i.push("ag-row"),i.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&i.push("ag-opacity-zero"),i.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&i.push("ag-row-pinned"),o.rowNode.isSelected()&&i.push("ag-row-selected"),o.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&i.push("ag-row-loading"),o.fullWidthRow&&i.push("ag-full-width-row"),o.expandable&&(i.push("ag-row-group"),i.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&i.push("ag-row-dragging"),xd(i,this.processClassesFromGridOptions(o.rowNode,o.scope)),xd(i,this.preProcessRowClassRules(o.rowNode,o.scope)),i.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&i.push("ag-row-first"),o.lastRowOnPage&&i.push("ag-row-last"),o.fullWidthRow&&(o.pinned===q.PINNED_LEFT&&i.push("ag-cell-last-left-pinned"),o.pinned===q.PINNED_RIGHT&&i.push("ag-cell-first-right-pinned")),i},u.prototype.processClassesFromGridOptions=function(o,i){var s=[],l=function(y){"string"==typeof y?s.push(y):Array.isArray(y)&&y.forEach(function(w){return s.push(w)})},c=this.gridOptionsWrapper.getRowClass();if(c){if("function"==typeof c)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];l(c)}var h=this.gridOptionsWrapper.getRowClassFunc();return h&&l(h({data:o.data,node:o,rowIndex:o.rowIndex,$scope:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),s},u.prototype.preProcessRowClassRules=function(o,i){var s=[];return this.processRowClassRules(o,i,function(l){s.push(l)},function(l){}),s},u.prototype.processRowClassRules=function(o,i,s,l){var c={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:i,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),c,s,l)},u.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},Bu([P("stylingService")],u.prototype,"stylingService",void 0),Bu([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Bu([xe("rowCssClassCalculator")],u)}(),hT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rh=function(u){function o(i){var s=u.call(this)||this;return s.state=o.STATE_WAITING_TO_LOAD,s.version=0,s.id=i,s}return hT(o,u),o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(i){this.isRequestMostRecentAndLive(i)&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(i,s){this.successCommon(i,s)},o.prototype.pageLoaded=function(i,s,l){this.successCommon(i,{rowData:s,rowCount:l})},o.prototype.isRequestMostRecentAndLive=function(i){var s=i===this.version,l=this.isAlive();return s&&l},o.prototype.successCommon=function(i,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(i)&&(this.state=o.STATE_LOADED,this.processServerResult(s))},o.prototype.dispatchLoadCompleted=function(i){void 0===i&&(i=!0),this.dispatchEvent({type:o.EVENT_LOAD_COMPLETE,success:i,block:this})},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(ie),fT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pm=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},gT=function(u,o){return function(i,s){o(i,s,u)}},Wu=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var i;return fT(o,u),i=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=Me.debounce(this.performCheckBlocksToLoad.bind(this),s))},o.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},o.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(rh.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(s){Me.removeFromArray(this.blocks,s)},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:i.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(l){l.getState()===rh.STATE_WAITING_TO_LOAD&&(s=l)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},o.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(l){var c=l.getBlockStateJson();s[c.id]=c.state}),s},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",pm([Se],o.prototype,"postConstruct",null),pm([gT(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),i=pm([xe("rowNodeBlockLoader")],o)}(ie),Ps=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mC=function(){function u(){}return u.prototype.doFullSort=function(o,i){var l=o.map(function(c,h){return{currentPos:h,rowNode:c}});return l.sort(this.compareRowNodes.bind(this,i)),l.map(function(c){return c.rowNode})},u.prototype.compareRowNodes=function(o,i,s){for(var l=i.rowNode,c=s.rowNode,h=0,g=o.length;h<g;h++){var k,_=o[h],y=_.sort===q.SORT_DESC,w=this.getValue(l,_.column),x=this.getValue(c,_.column),B=this.getComparator(_,l);if(k=B?B(w,x,l,c,y):Me.defaultComparator(w,x,this.gridOptionsWrapper.isAccentedSort()),!isNaN(k)&&0!==k)return _.sort===q.SORT_ASC?k:-1*k}return i.currentPos-s.currentPos},u.prototype.getComparator=function(o,i){var s=o.column,l=s.getColDef().comparator;if(null!=l)return l;if(i.rowGroupColumn)return i.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var c=!i.group&&s.getColDef().field;if(c){var h=this.columnModel.getPrimaryColumn(c);if(h)return h.getColDef().comparator}}},u.prototype.getValue=function(o,i){return this.valueService.getValue(i,o,!1,!1)},Ps([P("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Ps([P("valueService")],u.prototype,"valueService",void 0),Ps([P("columnModel")],u.prototype,"columnModel",void 0),Ps([xe("rowNodeSorter")],u)}(),ju=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vC=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}return ju(o,u),o.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(s){return s(i)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(i){this.fakeHScrollCtrl=i,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},o.prototype.registerHeaderContainer=function(i,s){switch(s){case q.PINNED_LEFT:this.leftHeaderRowContainerCtrl=i;break;case q.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i}this.checkReady()},o.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},o.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case q.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case q.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("ctrlsService")],o),o}(ie),hm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Uu=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.registry={},i}return hm(o,u),o.prototype.register=function(i){this.registry[i.controllerName]=i.controllerClass},o.prototype.getInstance=function(i){var s=this.registry[i];if(null!=s)return new s},o=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([xe("ctrlsFactory")],o),o}(ie),zi=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),es=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},oh=function(u){function o(){return u.call(this)||this}return zi(o,u),o.prototype.setComp=function(i,s,l,c){this.view=i,this.eViewport=l,this.eContainer=c,this.eGui=s,this.addManagedListener(this.eventService,G.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var h=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,h),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,h),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,h),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},o.prototype.addActiveListenerToggles=function(){var i=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return i.addManagedListener(i.eGui,c,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(c){return i.addManagedListener(i.eGui,c,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Df()},o.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var i=this;this.addManagedListener(this.eventService,G.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,G.EVENT_BODY_SCROLL_END,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var i=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),l=!this.enableRtl&&i,c=this.gridOptionsWrapper.getScrollbarWidth();l&&(s+=c),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=c);var h=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&i&&(h+=c),this.view.setLeftSpacerFixedWidth(h),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",h<=c)},o.prototype.setScrollVisible=function(){var i=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,l=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=i&&this.gridOptionsWrapper.getScrollbarWidth()||0,g=l?0:0===c&&s?15:c,_=zn()&&i;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(g),this.view.setViewportHeight(g+(_?1:0)),this.view.setContainerHeight(g)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},es([P("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),es([P("columnModel")],o.prototype,"columnModel",void 0),es([P("ctrlsService")],o.prototype,"ctrlsService",void 0),es([Se],o.prototype,"postConstruct",null),o}(ie),io=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rt=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mc=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return io(o,u),o.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(c,h){return i.addOrRemoveCssClass(c,h)},setHeight:function(c){return ka(i.getGui(),c)},setContainerHeight:function(c){return ka(i.eContainer,c)},setViewportHeight:function(c){return ka(i.eViewport,c)},setRightSpacerFixedWidth:function(c){return Tr(i.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return Tr(i.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,h){return ze(i.eLeftSpacer,c,h)},includeRightSpacerScrollerCss:function(c,h){return ze(i.eRightSpacer,c,h)}};this.createManagedBean(new oh).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Ep(function(c){return i.eContainer.style.width=c+"px"}))},o.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',rt([me("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),rt([me("eRightSpacer")],o.prototype,"eRightSpacer",void 0),rt([me("eViewport")],o.prototype,"eViewport",void 0),rt([me("eContainer")],o.prototype,"eContainer",void 0),rt([Se],o.prototype,"postConstruct",null),o}(vt),vc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pa=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},_c=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vc(o,u),o.prototype.postConstruct=function(){var i=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,G.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_DOM_LAYOUT,i)},o.prototype.checkContainerWidths=function(){var i=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,s=i?0:this.columnModel.getDisplayedColumnsLeftWidth(),l=i?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:G.EVENT_LEFT_PINNED_WIDTH_CHANGED})),l!=this.rightWidth&&(this.rightWidth=l,this.eventService.dispatchEvent({type:G.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},pa([P("columnModel")],o.prototype,"columnModel",void 0),pa([Se],o.prototype,"postConstruct",null),pa([xe("pinnedWidthService")],o)}(ie),yc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ol=function(u){function o(i){var s=u.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=i,s}return yc(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var i=this,s=this.getGui(),l=this.params;this.addManagedListener(s,"keydown",function(h){it(i.gridOptionsWrapper,h,l.node,l.column,!0)||l.onKeyDown(h)})},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Se],o.prototype,"postConstruct",null),o}(wo),bc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ha=function(){return ha=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},ha.apply(this,arguments)},fm=function(u){function o(i,s,l,c,h,g,_){var y=u.call(this)||this;y.scope=null,y.rendererVersion=0,y.editorVersion=0,y.scope=i,y.beans=s,y.column=l.getColumn(),y.rowNode=l.getRowNode(),y.rowCtrl=l.getRowCtrl(),y.autoHeightCell=c,y.eRow=g,y.setTemplate('<div comp-id="'+y.getCompId()+'"/>');var w=y.getGui(),x=w.style;y.eCellValue=w;var k=function(j,ee,re){var we=re||w;null!=ee&&""!=ee?we.setAttribute(j,ee):we.removeAttribute(j)},B={addOrRemoveCssClass:function(j,ee){return y.addOrRemoveCssClass(j,ee)},setUserStyles:function(j){return Qr(w,j)},setAriaSelected:function(j){return ta(w,j)},setAriaExpanded:function(j){return lu(w,j)},getFocusableElement:function(){return y.getFocusableElement()},setLeft:function(j){return x.left=j},setWidth:function(j){return x.width=j},setAriaColIndex:function(j){return Af(y.getGui(),j)},setHeight:function(j){return x.height=j},setZIndex:function(j){return x.zIndex=j},setTabIndex:function(j){return k("tabindex",j.toString())},setRole:function(j){return ur(w,j)},setColId:function(j){return k("col-id",j)},setTitle:function(j){return k("title",j)},setUnselectable:function(j){return k("unselectable",j,y.eCellValue)},setTransition:function(j){return x.transition=j||""},setIncludeSelection:function(j){return y.includeSelection=j},setIncludeRowDrag:function(j){return y.includeRowDrag=j},setIncludeDndSource:function(j){return y.includeDndSource=j},setForceWrapper:function(j){return y.forceWrapper=j},setRenderDetails:function(j,ee,re){return y.setRenderDetails(j,ee,re)},setEditDetails:function(j,ee,re){return y.setEditDetails(j,ee,re)},getCellEditor:function(){return y.cellEditor||null},getCellRenderer:function(){return y.cellRenderer||null},getParentOfValue:function(){return y.eCellValue}};return y.cellCtrl=l,l.setComp(B,y.scope,y.getGui(),h,_),y}return bc(o,u),o.prototype.setRenderDetails=function(i,s,l){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var h=this.isUsingAngular1Template(),g=this.setupControlsWrapper();i?!l&&!g&&this.refreshCellRenderer(i)||(this.destroyRenderer(),this.createCellRendererInstance(i)):(this.destroyRenderer(),h?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(s))}},o.prototype.setEditDetails=function(i,s,l){i?this.createCellEditorInstance(i,s,l):this.destroyEditor()},o.prototype.removeControlsWrapper=function(){this.eCellValue=this.getGui(),this.eCellWrapper=null,this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.setupControlsWrapper=function(){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection||this.forceWrapper;return this.addOrRemoveCssClass("ag-cell-value",!i),i&&!this.eCellWrapper?(this.addControlsWrapper(),!0):!(i||!this.eCellWrapper||(this.removeControlsWrapper(),0))},o.prototype.addControlsWrapper=function(){this.getGui().innerHTML='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" class="ag-cell-value" role="presentation"></span>\n            </div>',this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.forceWrapper||this.eCellValue.setAttribute("unselectable","on");var s=this.eCellValue.id="cell-"+this.getCompId(),l=[];this.includeRowDrag&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue),l.push(this.checkboxSelectionComp.getCheckboxId())),l.push(s),Ud(this.getGui(),l.join(" "))},o.prototype.createCellEditorInstance=function(i,s,l){var c=this,h=this.editorVersion,g=i.newAgStackInstance();if(g){var _=i.params;g.then(function(w){return c.afterCellEditorCreated(h,w,_,s,l)}),je(this.cellEditor)&&_.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(i){var s=null!=i?oi(i):null;null!=s?this.eCellValue.innerHTML=s:fi(this.eCellValue)},o.prototype.insertValueUsingAngular1Template=function(){var h,i=this,s=this.column.getColDef(),l=s.template,c=s.templateUrl;null!=l?h=l:null!=c&&(h=this.beans.templateService.getTemplate(c,function(){return i.cellCtrl.refreshCell({forceRefresh:!0})})),null!=h&&(this.eCellValue.innerHTML=h,this.updateAngular1ScopeAndCompile())},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Yr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var i=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=i.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=i.destroyBean(this.cellEditorPopupWrapper),Yr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(i){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==i.componentClass)return!1;var s=this.cellRenderer.refresh(i.params);return!0===s||void 0===s},o.prototype.createCellRendererInstance=function(i){var s=this,l=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),g=this.rendererVersion,_=i.componentClass,y=function(){if(s.rendererVersion===g&&s.isAlive()){var x=i.newAgStackInstance(),k=s.afterCellRendererCreated.bind(s,g,_);x&&x.then(k)}};l||c||this.autoHeightCell||!this.firstRender?y():this.beans.animationFrameService.createTask(y,this.rowNode.rowIndex,"createTasksP2")},o.prototype.isUsingAngular1Template=function(){var i=this.column.getColDef();return null!=i.template||null!=i.templateUrl},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(i,s,l){this.isAlive()&&i===this.rendererVersion?(this.cellRenderer=l,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui&&(fi(this.eCellValue),this.eCellValue.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile())):this.beans.context.destroyBean(l)},o.prototype.afterCellEditorCreated=function(i,s,l,c,h){if(i!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),c||void 0!==s.isPopup&&s.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(l,h)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},o.prototype.addInCellEditor=function(){var i=this.getGui();i.contains(document.activeElement)&&i.focus(),this.destroyRenderer(),this.removeControlsWrapper(),this.clearCellElement(),this.cellEditorGui&&i.appendChild(this.cellEditorGui)},o.prototype.addPopupCellEditor=function(i,s){var l=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new ol(i));var h=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&h.appendChild(this.cellEditorGui);var g=this.beans.popupService,_=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),w=(null!=s||c.getPopupPosition&&c.getPopupPosition(),{column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:h,keepWithinBounds:!0}),x="under"===s?g.positionPopupUnderComponent.bind(g,w):g.positionPopupOverComponent.bind(g,w),k=this.beans.gridOptionsWrapper.getLocaleTextFunc(),B=g.addPopup({modal:_,eChild:h,closeOnEsc:!0,closedCallback:function(){l.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:x,ariaLabel:k("ariaLabelCellEditor","Cell Editor")});B&&(this.hideEditorPopup=B.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControlsWrapper(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),u.prototype.destroy.call(this)},o.prototype.clearCellElement=function(){var i=this.getGui();i.contains(document.activeElement)&&!zn()&&i.focus({preventScroll:!0}),fi(i)},o.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=ha({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove(),this.angularCompiledElement=this.beans.$compile(this.eCellValue.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply())},o}(vt),_C=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yC=function(u){function o(i,s,l){var c=u.call(this)||this;c.cellComps={},c.beans=s,c.rowCtrl=i,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var h=c.getGui(),g=h.style;return i.setComp({setDisplay:function(y){null==y?g.removeProperty("display"):g.setProperty("display","none")},setDomOrder:function(y){return c.domOrder=y},setCellCtrls:function(y){return c.setCellCtrls(y)},showFullWidth:function(y){return c.showFullWidth(y)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(y,w){return c.addOrRemoveCssClass(y,w)},setAriaExpanded:function(y){return lu(h,y)},setUserStyles:function(y){return Qr(h,y)},setAriaSelected:function(y){return ta(h,y)},setAriaLabel:function(y){$t(h,null==y?"":y)},setHeight:function(y){return g.height=y},setTop:function(y){return g.top=y},setTransform:function(y){return g.transform=y},setRowIndex:function(y){return h.setAttribute("row-index",y)},setRole:function(y){return ur(h,y)},setAriaRowIndex:function(y){return Rf(c.getGui(),y)},setRowId:function(y){return h.setAttribute("row-id",y)},setRowBusinessKey:function(y){return h.setAttribute("row-business-key",y)},setTabIndex:function(y){return h.setAttribute("tabindex",y.toString())}},c.getGui(),l),c}return _C(o,u),o.prototype.getInitialStyle=function(){var i=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return i?"transform: "+i:"top: "+s},o.prototype.showFullWidth=function(i){var s=this,c=i.newAgStackInstance(this.rowCtrl.getFullWidthCellRendererType());!c||c.then(function(h){if(s.isAlive()){var g=h.getGui();s.getGui().appendChild(g),s.rowCtrl.getRowType()===li.FullWidthDetail&&s.rowCtrl.setupDetailRowAutoHeight(g),s.setFullWidthRowComp(h)}else s.beans.context.destroyBean(h)})},o.prototype.setCellCtrls=function(i){var s=this,l=Cr({},this.cellComps);i.forEach(function(h){var g=h.getInstanceId();null==s.cellComps[g]?s.newCellComp(h):l[g]=null});var c=po(l).filter(function(h){return null!=h});this.destroyCells(c),this.ensureDomOrder(i)},o.prototype.ensureDomOrder=function(i){var s=this;if(this.domOrder){var l=[];i.forEach(function(c){var h=s.cellComps[c.getInstanceId()];h&&l.push(h.getGui())}),rn(this.getGui(),l)}},o.prototype.newCellComp=function(i){var s=new fm(this.rowCtrl.getScope(),this.beans,i,!1,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[i.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var i=po(this.cellComps).filter(function(s){return null!=s});this.destroyCells(i)},o.prototype.setFullWidthRowComp=function(i){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=i,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(i){var s=this;i.forEach(function(l){if(l){var c=l.getCtrl().getInstanceId();s.cellComps[c]===l&&(l.detach(),l.destroy(),s.cellComps[c]=null)}})},o}(vt),CC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),sh=function(){return sh=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},sh.apply(this,arguments)},sl=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},gm=function(u){function o(){var i=u.call(this,function bC(){var u=vt.elementGettingCreated.getAttribute("name"),o=Hp.getRowContainerCssClasses(u);return u===W.hA6.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation" unselectable="on">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>':u===W.hA6.TOP_CENTER||u===W.hA6.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation" unselectable="on">\n                <div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>'}())||this;return i.rowComps={},i.name=vt.elementGettingCreated.getAttribute("name"),i}return CC(o,u),o.prototype.postConstruct=function(){var i=this,s={setViewportHeight:function(c){return i.eViewport.style.height=c},setRowCtrls:function(c){return i.setRowCtrls(c)},setDomOrder:function(c){i.domOrder=c},setContainerWidth:function(c){return i.eContainer.style.width=c}};this.createManagedBean(new Hp(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(i){var s=this,l=sh({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,i.forEach(function(h){var g=h.getInstanceId(),_=l[g];if(_)s.rowComps[g]=_,delete l[g],s.ensureDomOrder(_.getGui());else{var y=s.newRowComp(h);s.rowComps[g]=y,s.appendRow(y.getGui())}}),po(l).forEach(function(h){s.eContainer.removeChild(h.getGui()),h.destroy()})},o.prototype.appendRow=function(i){this.domOrder?v_(this.eContainer,i,this.lastPlacedElement):this.eContainer.appendChild(i),this.lastPlacedElement=i},o.prototype.ensureDomOrder=function(i){this.domOrder&&(Er(this.eContainer,i,this.lastPlacedElement),this.lastPlacedElement=i)},o.prototype.newRowComp=function(i){var s=Hp.getPinned(this.name);return new yC(i,this.beans,s)},sl([P("beans")],o.prototype,"beans",void 0),sl([me("eViewport")],o.prototype,"eViewport",void 0),sl([me("eContainer")],o.prototype,"eContainer",void 0),sl([me("eWrapper")],o.prototype,"eWrapper",void 0),sl([Se],o.prototype,"postConstruct",null),sl([di],o.prototype,"preDestroy",null),o}(vt),wC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ah=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},V=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.events=[],i}return wC(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()==q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(i){var s=this;this.events.push(i),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(l){return s.eventService.dispatchEvent(l)}),s.events=[]})),this.dispatchExpandedDebounced()},ah([P("animationFrameService")],o.prototype,"animationFrameService",void 0),ah([P("rowModel")],o.prototype,"rowModel",void 0),ah([Se],o.prototype,"postConstruct",null),ah([xe("rowNodeEventThrottle")],o)}(ie),vT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lr=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vT(o,u),o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(i,s){var l=this;this.showPopup(i,function(c){l.popupService.positionPopupUnderMouseEvent({column:i,type:"columnMenu",mouseEvent:s,ePopup:c})},s.target)},o.prototype.showMenuAfterButtonClick=function(i,s,l){var c=this;this.showPopup(i,function(h){c.popupService.positionPopupUnderComponent({type:l,eventSource:s,ePopup:h,keepWithinBounds:!0,column:i})},s)},o.prototype.showPopup=function(i,s,l){var c=this,h=this.filterManager.getOrCreateFilterWrapper(i,"COLUMN_MENU"),g=document.createElement("div");ur(g,"presentation"),Ie(g,"ag-menu"),this.tabListener=this.addManagedListener(g,"keydown",function(B){return c.trapFocusWithin(B,g)}),h.guiPromise.then(function(B){return g.appendChild(B)});var _,y=l||this.ctrlsService.getGridBodyCtrl().getGui(),x=this.gridOptionsWrapper.getLocaleTextFunc(),k=this.popupService.addPopup({modal:!0,eChild:g,closeOnEsc:!0,closedCallback:function(B){i.setMenuVisible(!1,"contextMenu");var j=B instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),j&&l&&vo(l)){var ee=c.focusService.findTabbableParent(l);ee&&ee.focus()}},positionCallback:function(){return s(g)},anchorToElement:y,ariaLabel:x("ariaLabelColumnMenu","Column Menu")});k&&(this.hidePopup=_=k.hideFunc),h.filterPromise.then(function(B){s(g),B.afterGuiAttached&&B.afterGuiAttached({container:"columnMenu",hidePopup:_})}),i.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(i,s){i.keyCode!==be.TAB||i.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,i.shiftKey)||(i.preventDefault(),this.focusService.focusInto(s,i.shiftKey))},o.prototype.isMenuEnabled=function(i){return i.isFilterAllowed()},Lr([P("filterManager")],o.prototype,"filterManager",void 0),Lr([P("popupService")],o.prototype,"popupService",void 0),Lr([P("focusService")],o.prototype,"focusService",void 0),Lr([P("ctrlsService")],o.prototype,"ctrlsService",void 0),Lr([xe("menuFactory")],o)}(ie),vm=function(){function u(o,i,s){i?(this.gridOptions=i,(new SC).create(o,i,function(l){var c=new ND(o);l.createBean(c)},s)):console.error("AG Grid: no gridOptions provided to the grid")}return u.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},u}(),SC=function(){function u(){}return u.prototype.create=function(o,i,s,l){var c=this,h=!!i.debug,g=this.getRegisteredModules(l),_=this.createBeansList(i.rowModelType,g),y=this.createProvidedBeans(o,i,l);if(_){var w={providedBeanInstances:y,beanClasses:_,debug:h},x=new Nu("AG Grid",function(){return i.debug}),k=new Nu("Context",function(){return w.debug}),B=new Jv(w,k),j=B.getBean("beans");this.registerModuleUserComponents(j,g),this.registerStackComponents(j,g),this.registerControllers(j,g),s(B),j.ctrlsService.whenReady(function(){c.setColumnsAndData(j),c.dispatchGridReadyEvent(j,i);var ee=tt.isRegistered(W.GXE.EnterpriseCoreModule);x.log("initialised successfully, enterprise = "+ee)})}},u.prototype.registerControllers=function(o,i){i.forEach(function(s){s.controllers&&s.controllers.forEach(function(l){return o.ctrlsFactory.register(l)})})},u.prototype.registerStackComponents=function(o,i){var s=this.createAgStackComponentsList(i);o.agStackComponentsRegistry.setupComponents(s)},u.prototype.getRegisteredModules=function(o){var i=o?o.modules:null,s=tt.getRegisteredModules(),l=[],c={};function h(g,_){(function y(w){c[w.moduleName]||(c[w.moduleName]=!0,l.push(w),tt.register(w,g))})(_),_.dependantModules&&_.dependantModules.forEach(h.bind(null,g))}return i&&i.forEach(h.bind(null,!0)),s&&s.forEach(h.bind(null,!tt.isPackageBased())),l},u.prototype.registerModuleUserComponents=function(o,i){this.extractModuleEntity(i,function(l){return l.userComponents?l.userComponents:[]}).forEach(function(l){o.userComponentRegistry.registerDefaultComponent(l.componentName,l.componentClass)})},u.prototype.createProvidedBeans=function(o,i,s){var l=s?s.frameworkOverrides:null;je(l)&&(l=new $p);var c={gridOptions:i,eGridDiv:o,$scope:s?s.$scope:null,$compile:s?s.$compile:null,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:l};return s&&s.providedBeanInstances&&Cr(c,s.providedBeanInstances),c},u.prototype.createAgStackComponentsList=function(o){var i=[{componentName:"AgCheckbox",componentClass:Xl},{componentName:"AgRadioButton",componentClass:rc},{componentName:"AgToggleButton",componentClass:aT},{componentName:"AgInputTextField",componentClass:eh},{componentName:"AgInputTextArea",componentClass:iC},{componentName:"AgInputNumberField",componentClass:cm},{componentName:"AgInputRange",componentClass:aC},{componentName:"AgSelect",componentClass:Gf},{componentName:"AgSlider",componentClass:rC},{componentName:"AgAngleSelect",componentClass:lC},{componentName:"AgColorPicker",componentClass:lm},{componentName:"AgGridBody",componentClass:Ig},{componentName:"AgHeaderRoot",componentClass:fy},{componentName:"AgPagination",componentClass:Xy},{componentName:"AgOverlayWrapper",componentClass:nT},{componentName:"AgGroupComponent",componentClass:tm},{componentName:"AgPanel",componentClass:om},{componentName:"AgDialog",componentClass:Zp},{componentName:"AgRowContainer",componentClass:gm},{componentName:"AgFakeHorizontalScroll",componentClass:mc}],s=this.extractModuleEntity(o,function(l){return l.agStackComponents?l.agStackComponents:[]});return i.concat(s)},u.prototype.createBeansList=function(o,i){var s=this.getRowModelClass(o,i);if(s){var l=[s,ag,dC,ih,dm,BD,eo,z_,YD,qD,em,ng,Qy,Fy,um,Ly,d_,gs,Pe,AD,wu,xp,BS,hg,Uy,bp,Jo,Ld,Vp,zy,Qp,UD,Tg,My,u_,ID,mm,Bi,Ya,Ts,Rs,qy,Up,Vy,Bg,il,kg,By,Wy,Jp,jy,$D,Yp,fC,Kr,dT,pT,Wu,mC,vC,_c,V,Uu],c=this.extractModuleEntity(i,function(g){return g.beans?g.beans:[]});l.push.apply(l,c);var h=[];return l.forEach(function(g){h.indexOf(g)<0&&h.push(g)}),h}},u.prototype.extractModuleEntity=function(o,i){return[].concat.apply([],o.map(i))},u.prototype.setColumnsAndData=function(o){var i=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(i||[],"gridInitializing"),o.rowModel.start()},u.prototype.dispatchGridReadyEvent=function(o,i){o.eventService.dispatchEvent({type:G.EVENT_GRID_READY,api:i.api,columnApi:i.columnApi})},u.prototype.getRowModelClass=function(o,i){o||(o=q.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};i.forEach(function(c){It(c.rowModels,function(h,g){s[h]=g})});var l=s[o];if(he(l))return l;o===q.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+W.GXE.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+o),o===q.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+W.GXE.ViewportRowModelModule+" is registered.';"),o===q.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+W.GXE.ServerSideRowModelModule+" is registered.';"),o===q.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+W.GXE.ClientSideRowModelModule+" is registered.';")},u}();var uI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),lh=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){function o(i){var s=u.call(this,o.getTemplate(i.cssClass))||this;return s.items=[],s.params=i,i.items&&i.items.forEach(function(l){return s.addItem(l)}),s}uI(o,u),o.prototype.postConstruct=function(){this.createManagedBean(new On(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(i){return'<div class="ag-tabs '+i+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(i?i+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(i?i+"-body":"")+'"></div>\n        </div>'},o.prototype.handleKeyDown=function(i){switch(i.keyCode){case be.RIGHT:case be.LEFT:if(!this.eHeader.contains(document.activeElement))return;var s=this.items.indexOf(this.activeItem),l=i.keyCode===be.RIGHT?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===l)return;i.preventDefault();var c=this.items[l];this.showItemWrapper(c),c.eHeaderButton.focus();break;case be.UP:case be.DOWN:i.stopPropagation()}},o.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented){var s=this,l=s.focusService,c=s.eHeader,h=s.eBody,g=s.activeItem,_=document.activeElement;if(i.preventDefault(),c.contains(_))l.focusInto(h,i.shiftKey);else if(l.isFocusUnderManagedComponent(h))g.eHeaderButton.focus();else{var y=l.findNextFocusableElement(h,!1,i.shiftKey);y?y.focus():g.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(i){this.afterAttachedParams=i},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(i){var s=document.createElement("span");ur(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(i.title),Ie(s,"ag-tab"),this.eHeader.appendChild(s),$t(s,i.titleLabel);var l={tabbedItem:i,eHeaderButton:s};this.items.push(l),s.addEventListener("click",this.showItemWrapper.bind(this,l))},o.prototype.showItem=function(i){var s=Ni(this.items,function(l){return l.tabbedItem===i});s&&this.showItemWrapper(s)},o.prototype.showItemWrapper=function(i){var s=this;this.params.onItemClicked&&this.params.onItemClicked({item:i.tabbedItem}),this.activeItem!==i?(fi(this.eBody),i.tabbedItem.bodyPromise.then(function(l){s.eBody.appendChild(l);var c=!s.focusService.isKeyboardMode();s.focusService.focusInto(s.eBody,!1,c),i.tabbedItem.afterAttachedCallback&&i.tabbedItem.afterAttachedCallback(s.afterAttachedParams)}),this.activeItem&&Kn(this.activeItem.eHeaderButton,"ag-tab-selected"),Ie(i.eHeaderButton,"ag-tab-selected"),this.activeItem=i):ff(this.params.onActiveItemClicked)},lh([P("focusService")],o.prototype,"focusService",void 0),lh([me("eHeader")],o.prototype,"eHeader",void 0),lh([me("eBody")],o.prototype,"eBody",void 0),lh([Se],o.prototype,"postConstruct",null)}(vt);!function(u){u.Applied="Applied",u.StoreNotFound="StoreNotFound",u.StoreLoading="StoreLoading",u.StoreWaitingToLoad="StoreWaitingToLoad",u.StoreLoadingFailed="StoreLoadingFailed",u.StoreWrongType="StoreWrongType",u.Cancelled="Cancelled"}(W.Qk6||(W.Qk6={}));var bT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bm=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wT=(function(u){function o(i,s,l){void 0===i&&(i="default"),void 0===s&&(s="listbox");var c=u.call(this,o.getTemplate(i))||this;return c.cssIdentifier=i,c.ariaRole=s,c.listName=l,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}bT(o,u),o.prototype.postConstruct=function(){var i=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)},focusInnerElement:function(s){return i.focusInnerElement(s)},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),l=this.eContainer;ur(l,this.ariaRole),$t(l,s)},o.prototype.addResizeObserver=function(){var i=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),i);this.addDestroyFunc(s)},o.prototype.focusInnerElement=function(i){this.focusRow(i?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(i){var s=i.target;return Sr(s,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=ea(s)-1),!1},o.prototype.onFocusOut=function(i){return this.getFocusableElement().contains(i.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(i){switch(i.keyCode){case be.UP:case be.DOWN:this.navigate(i.keyCode===be.UP)&&i.preventDefault()}},o.prototype.onTabKeyDown=function(i){this.navigate(i.shiftKey)?i.preventDefault():this.focusService.focusInto(this.getGui(),!i.shiftKey)},o.prototype.navigate=function(i){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(i?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(i){var s=this;this.ensureIndexVisible(i),window.setTimeout(function(){var l=s.renderedRows.get(i);l&&l.eDiv.focus()},10)},o.prototype.getComponentAt=function(i){var s=this.renderedRows.get(i);return s&&s.rowComponent},o.getTemplate=function(i){return'\n            <div class="ag-virtual-list-viewport ag-'+i+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+i+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(i){var s=this.model.getRowCount();if("number"!=typeof i||i<0||i>=s)console.warn("invalid row index for ensureIndexVisible: "+i);else{var l=i*this.rowHeight,c=l+this.rowHeight,h=this.getGui(),g=h.scrollTop,_=h.offsetHeight,x=g+_<c;g>l?h.scrollTop=l:x&&(h.scrollTop=c-_)}},o.prototype.setComponentCreator=function(i){this.componentCreator=i},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(i){this.rowHeight=i,this.refresh()},o.prototype.refresh=function(){var i=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",hf(function(){return i.eContainer.clientHeight>=s*i.rowHeight},function(){i.isDestroyed||(i.clearVirtualRows(),i.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var i=this;this.renderedRows.forEach(function(s,l){return i.removeRow(l)})},o.prototype.drawVirtualRows=function(){var i=this.getGui(),s=i.scrollTop,l=s+i.offsetHeight,c=Math.floor(s/this.rowHeight),h=Math.floor(l/this.rowHeight);this.ensureRowsRendered(c,h)},o.prototype.ensureRowsRendered=function(i,s){var l=this;this.renderedRows.forEach(function(h,g){(g<i||g>s)&&g!==l.lastFocusedRowIndex&&l.removeRow(g)});for(var c=i;c<=s;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},o.prototype.insertRow=function(i){var s=this,l=this.model.getRow(i),c=document.createElement("div");if(Ie(c,"ag-virtual-list-item"),Ie(c,"ag-"+this.cssIdentifier+"-virtual-list-item"),ur(c,"tree"===this.ariaRole?"treeitem":"option"),$d(c,this.model.getRowCount()),w_(c,i+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var h=this.model.isRowSelected(i);ta(c,!!h),XS(c,h)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*i+"px";var g=this.componentCreator(l,c);g.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=i}),c.appendChild(g.getGui()),this.renderedRows.has(i-1)?this.renderedRows.get(i-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(i+1)?this.renderedRows.get(i+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(i,{rowComponent:g,eDiv:c})},o.prototype.removeRow=function(i){var s=this.renderedRows.get(i);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(i)},o.prototype.addScrollListener=function(){var i=this;this.addGuiEventListener("scroll",function(){return i.drawVirtualRows()})},o.prototype.setModel=function(i){this.model=i},o.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,u.prototype.destroy.call(this))},bm([P("resizeObserverService")],o.prototype,"resizeObserverService",void 0),bm([P("focusService")],o.prototype,"focusService",void 0),bm([me("eContainer")],o.prototype,"eContainer",void 0),bm([Se],o.prototype,"postConstruct",null)}(Ny),function(){function u(){}return u.prototype.wrap=function(o,i,s,l,c){var h=this;void 0===s&&(s=[]);var g=this.createWrapper(o,l,c);return i.forEach(function(_){h.createMethod(g,_,!0)}),s.forEach(function(_){h.createMethod(g,_,!1)}),g},u.prototype.unwrap=function(o){return o},u.prototype.createMethod=function(o,i,s){o.addMethod(i,this.createMethodProxy(o,i,s))},u.prototype.createMethodProxy=function(o,i,s){return function(){return o.hasMethod(i)?o.callMethod(i,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+i+"()"),null)}},u}());!function(u){u.Column="column",u.GroupedColumn="groupedColumn",u.StackedColumn="stackedColumn",u.NormalizedColumn="normalizedColumn",u.Bar="bar",u.GroupedBar="groupedBar",u.StackedBar="stackedBar",u.NormalizedBar="normalizedBar",u.Line="line",u.Scatter="scatter",u.Bubble="bubble",u.Pie="pie",u.Doughnut="doughnut",u.Area="area",u.StackedArea="stackedArea",u.NormalizedArea="normalizedArea",u.Histogram="histogram"}(W.oXM||(W.oXM={}));var al="undefined"==typeof global?{}:global;al.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,al.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,al.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,al.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,al.Node="undefined"==typeof Node?{}:Node,al.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var ST=function(){for(var u=0,o=0,i=arguments.length;o<i;o++)u+=arguments[o].length;var s=Array(u),l=0;for(o=0;o<i;o++)for(var c=arguments[o],h=0,g=c.length;h<g;h++,l++)s[l]=c[h];return s},ET=function(){function u(o,i,s,l,c,h,g,_){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=i,this.eventService=s,this.columnModel=l,this.gridApi=c,this.columnApi=h,this.beans=_,this.selectionService=g,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=u.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return u.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},u.prototype.getCopyOfNodesMap=function(){return Me.cloneObject(this.allNodesMap)},u.prototype.getRowNode=function(o){return this.allNodesMap[o]},u.prototype.setRowData=function(o){var i=this;if("string"!=typeof o){var s=this.rootNode,l=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?s.allLeafChildren=o.map(function(c){return i.createNode(c,i.rootNode,u.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),l&&(l.childrenAfterFilter=s.childrenAfterFilter,l.childrenAfterGroup=s.childrenAfterGroup,l.childrenAfterSort=s.childrenAfterSort,l.childrenMapped=s.childrenMapped,l.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},u.prototype.updateRowData=function(o,i){var s={remove:[],update:[],add:[]},l=[];return this.executeRemove(o,s,l),this.executeUpdate(o,s,l),this.executeAdd(o,s),this.updateSelection(l),i&&Me.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),s},u.prototype.updateSelection=function(o){var i=o.length>0;i&&o.forEach(function(l){l.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),i&&this.eventService.dispatchEvent({type:G.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},u.prototype.executeAdd=function(o,i){var s=this,l=o.add,c=o.addIndex;if(!Me.missingOrEmpty(l)){var h=l.map(function(x){return s.createNode(x,s.rootNode,u.TOP_LEVEL)});if("number"==typeof c&&c>=0){var _=this.rootNode.allLeafChildren,y=_.slice(0,c),w=_.slice(c,_.length);this.rootNode.allLeafChildren=ST(y,h,w)}else this.rootNode.allLeafChildren=ST(this.rootNode.allLeafChildren,h);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=h}},u.prototype.executeRemove=function(o,i,s){var l=this,c=o.remove;if(!Me.missingOrEmpty(c)){var h={};c.forEach(function(g){var _=l.lookupRowNode(g);!_||(_.isSelected()&&s.push(_),_.clearRowTopAndRowIndex(),h[_.id]=!0,delete l.allNodesMap[_.id],i.remove.push(_))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(g){return!h[g.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},u.prototype.executeUpdate=function(o,i,s){var l=this,c=o.update;Me.missingOrEmpty(c)||c.forEach(function(h){var g=l.lookupRowNode(h);!g||(g.updateData(h),!g.selectable&&g.isSelected()&&s.push(g),l.setMasterForRow(g,h,u.TOP_LEVEL,!1),i.update.push(g))})},u.prototype.lookupRowNode=function(o){var s,i=this.gridOptionsWrapper.getRowNodeIdFunc();if(Me.exists(i)){var l=i(o);if(!(s=this.allNodesMap[l]))return console.error("AG Grid: could not find row id="+l+", data item was not found for this id"),null}else if(!(s=Me.find(this.rootNode.allLeafChildren,function(c){return c.data===o})))return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowNodeId to help the Grid find matching row data"),null;return s},u.prototype.createNode=function(o,i,s){var l=new wt(this.beans);return l.group=!1,this.setMasterForRow(l,o,s,!0),i&&!this.suppressParentsInRowNodes&&(l.parent=i),l.level=s,l.setDataAndId(o,this.nextId.toString()),this.allNodesMap[l.id]&&console.warn("ag-grid: duplicate node id '"+l.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[l.id]=l,this.nextId++,l},u.prototype.setMasterForRow=function(o,i,s,l){if(this.doingTreeData)o.setMaster(!1),l&&(o.expanded=!1);else if(o.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),l){var c=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(s+(c?c.length:0))}},u.prototype.isExpanded=function(o){var i=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===i||o<i},u.TOP_LEVEL=0,u.ROOT_NODE_ID="ROOT_NODE_ID",u}(),wc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ki=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ro=(()=>(function(u){u[u.Normal=0]="Normal",u[u.AfterFilter=1]="AfterFilter",u[u.AfterFilterAndSort=2]="AfterFilterAndSort",u[u.PivotNodes=3]="PivotNodes"}(ro||(ro={})),ro))(),DT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return wc(o,u),o.prototype.init=function(){var i=this.refreshModel.bind(this,{step:W.j_r.EVERYTHING}),s=this.refreshModel.bind(this,{step:W.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,s),this.addManagedListener(this.eventService,G.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,G.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:W.j_r.PIVOT})),this.addManagedListener(this.eventService,G.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_COLUMN_PIVOT_MODE_CHANGED,i);var l=this.refreshModel.bind(this,{step:W.j_r.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,l),this.addManagedListener(this.gridOptionsWrapper,Pe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,l),this.rootNode=new wt(this.beans),this.nodeManager=new ET(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},o.prototype.start=function(){var i=this.gridOptionsWrapper.getRowData();i&&this.setRowData(i)},o.prototype.ensureRowHeightsValid=function(i,s,l,c){var h,g=!1;do{h=!1;for(var _=this.getRowIndexAtPixel(i),y=this.getRowIndexAtPixel(s),w=Math.max(_,l),x=Math.min(y,c),k=w;k<=x;k++){var B=this.getRow(k);if(B.rowHeightEstimated){var j=this.gridOptionsWrapper.getRowHeightForNode(B);B.setRowHeight(j.height),h=!0,g=!0}}h&&this.setRowTopAndRowIndex()}while(h);return g},o.prototype.setRowTopAndRowIndex=function(){for(var i=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,l=new Set,c=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL,h=0;h<this.rowsToDisplay.length;h++){var g=this.rowsToDisplay[h];if(null!=g.id&&l.add(g.id),null==g.rowHeight){var _=this.gridOptionsWrapper.getRowHeightForNode(g,c,i);g.setRowHeight(_.height,_.estimated)}g.setRowTop(s),g.setRowIndex(h),s+=g.rowHeight}return l},o.prototype.clearRowTopAndRowIndex=function(i,s){var l=i.isActive(),c=function(g){g&&null!=g.id&&!s.has(g.id)&&g.clearRowTopAndRowIndex()},h=function(g){c(g),c(g.detailNode),c(g.sibling),g.hasChildren()&&g.childrenAfterGroup&&(l&&-1!=g.level&&!g.expanded||g.childrenAfterGroup.forEach(h))};h(this.rootNode)},o.prototype.ensureRowsAtPixel=function(i,s,l){var c=this;void 0===l&&(l=0);var h=this.getRowIndexAtPixel(s);return this.getRow(h)!==i[0]&&(i.forEach(function(_){Me.removeFromArray(c.rootNode.allLeafChildren,_)}),i.forEach(function(_,y){Me.insertIntoArray(c.rootNode.allLeafChildren,_,Math.max(h+l,0)+y)}),this.refreshModel({step:W.j_r.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},o.prototype.highlightRowAtPixel=function(i,s){var l=null!=s?this.getRowIndexAtPixel(s):null,c=null!=l?this.getRow(l):null;if(c&&i&&c!==i&&null!=s){var h=this.getHighlightPosition(s,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(h),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},o.prototype.getHighlightPosition=function(i,s){if(!s){var l=this.getRowIndexAtPixel(i);if(!(s=this.getRow(l||0)))return W.oh5.Below}return i-s.rowTop<s.rowHeight/2?W.oh5.Above:W.oh5.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(i){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return i;var l=this.rootNode.childrenAfterSort[i];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},o.prototype.getRowBounds=function(i){if(Me.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[i];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.j_r.MAP,keepRenderedRows:!0,animate:i})},o.prototype.onFilterChanged=function(i){if(!i.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.j_r.FILTER,keepRenderedRows:!0,animate:s})}},o.prototype.onSortChanged=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.j_r.SORT,keepRenderedRows:!0,animate:i,keepEditingRows:!0})},o.prototype.getType=function(){return q.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:W.j_r.PIVOT}):this.refreshModel({step:W.j_r.AGGREGATE})},o.prototype.createChangePath=function(i){var s=Me.missingOrEmpty(i),l=new og(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&l.setInactive(),l},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(i){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==i.rowNodeTransactions)return!1;var s=Me.filter(i.rowNodeTransactions,function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==s||0==s.length},o.prototype.refreshModel=function(i){var s=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var l=this.createChangePath(i.rowNodeTransactions);switch(i.step){case W.j_r.EVERYTHING:this.doRowGrouping(i.groupState,i.rowNodeTransactions,i.rowNodeOrder,l,!!i.afterColumnsChanged);case W.j_r.FILTER:this.doFilter(l);case W.j_r.PIVOT:this.doPivot(l);case W.j_r.AGGREGATE:this.doAggregate(l);case W.j_r.SORT:this.doSort(i.rowNodeTransactions,l);case W.j_r.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(l,c),this.eventService.dispatchEvent({type:G.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){s.$scope.$apply()},0)}},o.prototype.isEmpty=function(){var i=Me.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Me.missing(this.rootNode)||i||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return Me.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(i,s){var h,l=!s,c=!1,g=[],_=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(y){var w=l&&!c;if(l||(y===s||y===i)&&(l=!0),!y.group||!_){var k=l&&!c,B=y.isParentOfNode(h);(k||B)&&g.push(y)}w&&(y===s||y===i)&&(c=!0,h=y===s?s:i)}),g},o.prototype.setDatasource=function(i){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(i){return this.rowsToDisplay[i]},o.prototype.isRowPresent=function(i){return this.rowsToDisplay.indexOf(i)>=0},o.prototype.getRowIndexAtPixel=function(i){if(this.isEmpty())return-1;var s=0,l=this.rowsToDisplay.length-1;if(i<=0)return 0;if(Me.last(this.rowsToDisplay).rowTop<=i)return this.rowsToDisplay.length-1;for(;;){var h=Math.floor((s+l)/2),g=this.rowsToDisplay[h];if(this.isRowInPixel(g,i))return h;g.rowTop<i?s=h+1:g.rowTop>i&&(l=h-1)}},o.prototype.isRowInPixel=function(i,s){return i.rowTop<=s&&i.rowTop+i.rowHeight>s},o.prototype.forEachLeafNode=function(i){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,l){return i(s,l)})},o.prototype.forEachNode=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,i,ro.Normal,0)},o.prototype.forEachNodeAfterFilter=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,i,ro.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,i,ro.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(i){this.recursivelyWalkNodesAndCallback([this.rootNode],i,ro.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(i,s,l,c){if(!i)return c;for(var h=0;h<i.length;h++){var g=i[h];if(s(g,c++),g.hasChildren()){var _=null;switch(l){case ro.Normal:_=g.childrenAfterGroup;break;case ro.AfterFilter:_=g.childrenAfterFilter;break;case ro.AfterFilterAndSort:_=g.childrenAfterSort;break;case ro.PivotNodes:_=g.leafGroup?null:g.childrenAfterSort}_&&(c=this.recursivelyWalkNodesAndCallback(_,s,l,c))}}return c},o.prototype.doAggregate=function(i){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.expandOrCollapseAll=function(i){var s=this.gridOptionsWrapper.isTreeData();this.rootNode&&function l(g){!g||g.forEach(function(_){(s?Me.exists(_.childrenAfterGroup):_.group)&&(_.expanded=i,l(_.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:W.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:G.EVENT_EXPAND_COLLAPSE_ALL,source:i?"expandAll":"collapseAll"})},o.prototype.doSort=function(i,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,changedPath:s})},o.prototype.doRowGrouping=function(i,s,l,c,h){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:l,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:h}),this.restoreGroupState(i)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(i){!i||Me.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){"boolean"==typeof i[l]&&(s.expanded=i[l])})},o.prototype.doFilter=function(i){this.filterStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.doPivot=function(i){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var i={};return Me.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){return i[l]=s.expanded}),i},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(i){if("string"==typeof i&&0==i.indexOf(wt.ID_PREFIX_ROW_GROUP)){var l=void 0;return this.forEachNode(function(c){c.id===i&&(l=c)}),l}return this.nodeManager.getRowNode(i)},o.prototype.setRowData=function(i){var s=this.getGroupState();this.nodeManager.setRowData(i),this.eventService.dispatchEvent({type:G.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:W.j_r.EVERYTHING,groupState:s,newData:!0})},o.prototype.batchUpdateRowData=function(i,s){var l=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){l.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:i,callback:s})},o.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var i=this;this.valueCache.onDataChanged();var s=[],l=[],c=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(g){var _=i.nodeManager.updateRowData(g.rowDataTransaction,void 0);l.push(_),g.callback&&s.push(g.callback.bind(null,_)),"number"==typeof g.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(l,void 0,c),s.length>0&&window.setTimeout(function(){s.forEach(function(g){return g()})},0),l.length>0){var h={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:G.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:l};this.eventService.dispatchEvent(h)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(i,s){this.valueCache.onDataChanged();var l=this.nodeManager.updateRowData(i,s);return this.commonUpdateRowData([l],s,"number"==typeof i.addIndex),l},o.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var l=0;l<this.rootNode.allLeafChildren.length;l++)s[this.rootNode.allLeafChildren[l].id]=l;return s}},o.prototype.commonUpdateRowData=function(i,s,l){l&&(s=this.createRowNodeOrder()),this.refreshModel({step:W.j_r.EVERYTHING,rowNodeTransactions:i,rowNodeOrder:s,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:G.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:W.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},o.prototype.resetRowHeights=function(){var i=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var l=s.detailNode;l&&l.setRowHeight(l.rowHeight,!0),i=!0}),i&&this.onRowHeightChanged()},Ki([P("columnModel")],o.prototype,"columnModel",void 0),Ki([P("$scope")],o.prototype,"$scope",void 0),Ki([P("selectionService")],o.prototype,"selectionService",void 0),Ki([P("valueCache")],o.prototype,"valueCache",void 0),Ki([P("columnApi")],o.prototype,"columnApi",void 0),Ki([P("gridApi")],o.prototype,"gridApi",void 0),Ki([P("animationFrameService")],o.prototype,"animationFrameService",void 0),Ki([P("beans")],o.prototype,"beans",void 0),Ki([P("filterStage")],o.prototype,"filterStage",void 0),Ki([P("sortStage")],o.prototype,"sortStage",void 0),Ki([P("flattenStage")],o.prototype,"flattenStage",void 0),Ki([mt("groupStage")],o.prototype,"groupStage",void 0),Ki([mt("aggregationStage")],o.prototype,"aggregationStage",void 0),Ki([mt("pivotStage")],o.prototype,"pivotStage",void 0),Ki([Se],o.prototype,"init",null),Ki([xe("rowModel")],o)}(ie),DC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},TT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return DC(o,u),o.prototype.execute=function(i){var s=i.rowNode;this.filterService.filter(i.changedPath),this.selectableService.updateSelectableAfterFiltering(s)},Sc([P("selectableService")],o.prototype,"selectableService",void 0),Sc([P("filterService")],o.prototype,"filterService",void 0),Sc([xe("filterStage")],o)}(ie),TC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ch=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},RT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return TC(o,u),o.prototype.execute=function(i){var s=this.sortController.getSortOptions(),l=Me.exists(s)&&s.length>0,c=l&&Me.exists(i.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),h=c?this.calculateDirtyNodes(i.rowNodeTransactions):null,g=Me.missingOrEmpty(this.columnModel.getValueColumns()),_=Me.some(s,function(y){return!!y.column.getColDef().showRowGroup});this.sortService.sort(s,l,c,h,i.changedPath,g,_)},o.prototype.calculateDirtyNodes=function(i){var s={},l=function(c){c&&c.forEach(function(h){return s[h.id]=!0})};return i&&i.forEach(function(c){l(c.add),l(c.update),l(c.remove)}),s},ch([P("sortService")],o.prototype,"sortService",void 0),ch([P("sortController")],o.prototype,"sortController",void 0),ch([P("columnModel")],o.prototype,"columnModel",void 0),ch([xe("sortStage")],o)}(ie),AT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wm=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},OT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return AT(o,u),o.prototype.execute=function(i){var s=i.rowNode,l=[],c={value:0},h=this.columnModel.isPivotMode(),g=h&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(g?[s]:s.childrenAfterSort,l,c,h,0),!g&&l.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,l,c,0)),l},o.prototype.recursivelyAddToRowsToDisplay=function(i,s,l,c,h){if(!Me.missingOrEmpty(i))for(var g=this.gridOptionsWrapper.isGroupHideOpenParents(),_=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),y=!_&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),w=0;w<i.length;w++){var x=i[w],k=x.hasChildren(),j=_&&k&&1===x.childrenAfterGroup.length,ee=y&&k&&x.leafGroup&&1===x.childrenAfterGroup.length;if(!(c&&!k||g&&x.expanded&&(!c||!x.leafGroup)||j||ee)&&this.addRowNodeToRowsToDisplay(x,s,l,h),!c||!x.leafGroup)if(k){var de=j||ee;(x.expanded||de)&&(this.recursivelyAddToRowsToDisplay(x.childrenAfterSort,s,l,c,de?h:h+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(x),this.addRowNodeToRowsToDisplay(x.sibling,s,l,h)))}else if(x.master&&x.expanded){var We=this.createDetailNode(x);this.addRowNodeToRowsToDisplay(We,s,l,h)}}},o.prototype.addRowNodeToRowsToDisplay=function(i,s,l,c){var h=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(i),i.setUiLevel(h?0:c)},o.prototype.ensureFooterNodeExists=function(i){if(!Me.exists(i.sibling)){var s=new wt(this.beans);Object.keys(i).forEach(function(l){s[l]=i[l]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,Me.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=i,i.sibling=s}},o.prototype.createDetailNode=function(i){if(Me.exists(i.detailNode))return i.detailNode;var s=new wt(this.beans);return s.detail=!0,s.selectable=!1,s.parent=i,Me.exists(i.id)&&(s.id="detail_"+i.id),s.data=i.data,s.level=i.level+1,i.detailNode=s,s},wm([P("columnModel")],o.prototype,"columnModel",void 0),wm([P("beans")],o.prototype,"beans",void 0),wm([xe("flattenStage")],o)}(ie),RC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),uh=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},AC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return RC(o,u),o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(i,s,l,c,h,g,_){var y=this,w=this.gridOptionsWrapper.isGroupMaintainOrder(),x=Me.some(this.columnModel.getAllGridColumns(),function(B){return B.isRowGroupActive()});h&&h.forEachChangedNodeDepthFirst(function(B){y.pullDownGroupDataForHideOpenParents(B.childrenAfterFilter,!0),B.childrenAfterSort=s?w&&x&&!B.leafGroup&&!_?B.childrenAfterFilter.slice(0):l?y.doDeltaSort(B,i,c,h,g):y.rowNodeSorter.doFullSort(B.childrenAfterFilter,i):B.childrenAfterFilter.slice(0),B.sibling&&(B.sibling.childrenAfterSort=B.childrenAfterSort),y.updateChildIndexes(B),y.postSortFunc&&y.postSortFunc(B.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(h)},o.prototype.mapNodeToSortedNode=function(i,s){return{currentPos:s,rowNode:i}},o.prototype.doDeltaSort=function(i,s,l,c,h){var g=i.childrenAfterSort.filter(function(x){var k=!l[x.id],B=h||c&&c.canSkip(x);return k&&B}).map(this.mapNodeToSortedNode.bind(this)),_={};g.forEach(function(x){return _[x.rowNode.id]=x.rowNode});var y=i.childrenAfterFilter.filter(function(x){return!_[x.id]}).map(this.mapNodeToSortedNode.bind(this));return y.sort(this.rowNodeSorter.compareRowNodes.bind(this,s)),(0===y.length?g:0===g.length?y:this.mergeSortedArrays(s,g,y)).map(function(x){return x.rowNode})},o.prototype.mergeSortedArrays=function(i,s,l){for(var c=[],h=0,g=0;h<s.length&&g<l.length;){var _=this.rowNodeSorter.compareRowNodes(i,s[h],l[g]);c.push(_<0?s[h++]:l[g++])}for(;h<s.length;)c.push(s[h++]);for(;g<l.length;)c.push(l[g++]);return c},o.prototype.updateChildIndexes=function(i){if(!Me.missing(i.childrenAfterSort))for(var s=i.childrenAfterSort,l=0;l<s.length;l++){var c=s[l],g=l===i.childrenAfterSort.length-1;c.setFirstChild(0===l),c.setLastChild(g),c.setChildIndex(l)}},o.prototype.updateGroupDataForHideOpenParents=function(i){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Me.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(h){s.pullDownGroupDataForHideOpenParents(h.childrenAfterSort,!1),h.childrenAfterSort.forEach(function(g){g.hasChildren()&&c(g)})};i&&i.executeFromRootNode(function(h){return c(h)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(i,s){var l=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Me.missing(i)||i.forEach(function(c){l.columnModel.getGroupDisplayColumns().forEach(function(g){var _=g.getColDef().showRowGroup;if("string"==typeof _){var w=l.columnModel.getPrimaryColumn(_);if(w!==c.rowGroupColumn)if(s)c.setGroupValue(g.getId(),void 0);else{var k=c.getFirstChildOfFirstChild(w);k&&c.setGroupValue(g.getId(),k.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},uh([P("columnModel")],o.prototype,"columnModel",void 0),uh([P("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),uh([Se],o.prototype,"init",null),uh([xe("sortService")],o)}(ie),OC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$u=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},hI=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return OC(o,u),o.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},o.prototype.filter=function(i){var s=this.filterManager.isAnyFilterPresent();this.filterNodes(s,i)},o.prototype.filterNodes=function(i,s){var l=this,c=function(y,w){y.hasChildren()?(y.childrenAfterFilter=i&&!w?y.childrenAfterGroup.filter(function(x){var k=x.childrenAfterFilter&&x.childrenAfterFilter.length>0,B=x.data&&l.filterManager.doesRowPassFilter({rowNode:x});return k||B}):y.childrenAfterGroup,l.setAllChildrenCount(y)):(y.childrenAfterFilter=y.childrenAfterGroup,y.setAllChildrenCount(null)),y.sibling&&(y.sibling.childrenAfterFilter=y.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var h=function(y,w){if(y.childrenAfterGroup)for(var x=0;x<y.childrenAfterGroup.length;x++){var k=y.childrenAfterGroup[x],B=w||l.filterManager.doesRowPassFilter({rowNode:k});k.childrenAfterGroup?h(y.childrenAfterGroup[x],B):c(k,B)}c(y,w)};s.executeFromRootNode(function(y){return h(y,!1)})}else s.forEachChangedNodeDepthFirst(function(y){return c(y,!1)},!0)},o.prototype.setAllChildrenCountTreeData=function(i){var s=0;i.childrenAfterFilter.forEach(function(l){s++,s+=l.allChildrenCount}),i.setAllChildrenCount(s)},o.prototype.setAllChildrenCountGridGrouping=function(i){var s=0;i.childrenAfterFilter.forEach(function(l){l.group?s+=l.allChildrenCount:s++}),i.setAllChildrenCount(s)},o.prototype.setAllChildrenCount=function(i){this.doingTreeData?this.setAllChildrenCountTreeData(i):this.setAllChildrenCountGridGrouping(i)},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},$u([P("filterManager")],o.prototype,"filterManager",void 0),$u([Se],o.prototype,"postConstruct",null),$u([xe("filterService")],o)}(ie),Sm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Em=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},fI=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Sm(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.createTransactionForRowData=function(i){if(Me.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowNodeIdFunc();if(s&&!Me.missing(s)){var l={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),g=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Me.exists(i)&&i.forEach(function(_,y){var w=s(_),x=c[w];g&&(g[w]=y),x?(x.data!==_&&l.update.push(_),c[w]=void 0):l.add.push(_)}),Me.iterateObject(c,function(_,y){y&&l.remove.push(y.data)}),[l,g]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Em([P("rowModel")],o.prototype,"rowModel",void 0),Em([Se],o.prototype,"postConstruct",null),Em([xe("immutableService")],o)}(ie),R={moduleName:W.GXE.ClientSideRowModelModule,beans:[TT,RT,OT,AC,hI,fI],rowModels:{clientSide:DT}},Dm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),I=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},dh=function(u){function o(i,s,l){var c=u.call(this,i)||this;return c.parentCache=s,c.params=l,c.startRow=i*l.blockSize,c.endRow=c.startRow+l.blockSize,c}return Dm(o,u),o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(i,s,l){!i.id&&i.alreadyRendered&&(i.alreadyRendered=!1),Me.exists(s)?i.setDataAndId(s,l.toString()):i.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var i=this,s=this.createLoadParams();Me.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){i.params.datasource.getRows(s)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},o.prototype.forEachNode=function(i,s,l){var c=this;this.rowNodes.forEach(function(h,g){c.startRow+g<l&&i(h,s.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(i,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[i-this.startRow]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var i=0;i<this.params.blockSize;i++){var s=this.startRow+i,l=new wt(this.beans);l.setRowHeight(this.params.rowHeight),l.uiLevel=0,l.setRowIndex(s),l.setRowTop(this.params.rowHeight*s),this.rowNodes.push(l)}},o.prototype.processServerResult=function(i){var s=this;this.rowNodes.forEach(function(c,h){s.setDataAndId(c,i.rowData?i.rowData[h]:void 0,s.startRow+h)}),this.parentCache.pageLoaded(this,null!=i.rowCount&&i.rowCount>=0?i.rowCount:void 0)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(i){i.clearRowTopAndRowIndex()})},I([P("beans")],o.prototype,"beans",void 0),I([Se],o.prototype,"postConstruct",null),I([di],o.prototype,"destroyRowNodes",null),o}(rh),xT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),S=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},E=function(u,o){return function(i,s){o(i,s,u)}},X=function(u){function o(i){var s=u.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=i.initialRowCount,s.params=i,s}return xT(o,u),o.prototype.setBeans=function(i){this.logger=i.create("InfiniteCache")},o.prototype.getRow=function(i,s){void 0===s&&(s=!1);var l=Math.floor(i/this.params.blockSize),c=this.blocks[l];if(!c){if(s)return;c=this.createBlock(l)}return c.getRow(i)},o.prototype.createBlock=function(i){var s=this.createBean(new dh(i,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},o.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},o.prototype.destroyAllBlocks=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.destroyBlock(s)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(i,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+i.getId()+", lastRow = "+s),this.checkRowCount(i,s),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(i){var s=this,l=this.getBlocksInOrder().filter(function(y){return y!=i});l.sort(function(y,w){return w.getLastAccessed()-y.getLastAccessed()});var h=this.params.maxBlocksInCache>0,g=h?this.params.maxBlocksInCache-1:null,_=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;l.forEach(function(y,w){if(y.getState()===dh.STATE_WAITING_TO_LOAD&&w>=_||h&&w>=g){if(s.isBlockCurrentlyDisplayed(y)||s.isBlockFocused(y))return;s.removeBlockFromCache(y)}})},o.prototype.isBlockFocused=function(i){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var l=i.getStartRow(),c=i.getEndRow();return s.rowIndex>=l&&s.rowIndex<c},o.prototype.isBlockCurrentlyDisplayed=function(i){var s=i.getStartRow(),l=i.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,l)},o.prototype.removeBlockFromCache=function(i){!i||this.destroyBlock(i)},o.prototype.checkRowCount=function(i,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(i.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},o.prototype.setRowCount=function(i,s){this.rowCount=i,Me.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(i){var s=this,l=new Cs;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(i,l,s.rowCount)})},o.prototype.getBlocksInOrder=function(){return Me.getAllValuesInObject(this.blocks).sort(function(l,c){return l.getId()-c.getId()})},o.prototype.destroyBlock=function(i){delete this.blocks[i.getId()],this.destroyBean(i),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(i)},o.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:G.EVENT_STORE_UPDATED}))},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var i=this,s=[];this.getBlocksInOrder().forEach(function(l){l.getId()*i.params.blockSize>=i.rowCount&&s.push(l)}),s.length>0&&s.forEach(function(l){return i.destroyBlock(l)})},o.prototype.purgeCache=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(i,s){var l=this,c=[],h=-1,g=!1,_=new Cs;Me.missing(i)&&(g=!0);var y=!1;return this.getBlocksInOrder().forEach(function(x){if(!y){if(g&&h+1!==x.getId())return void(y=!0);h=x.getId(),x.forEachNode(function(k){var B=k===i||k===s;(g||B)&&c.push(k),B&&(g=!g)},_,l.rowCount)}}),y||g?[]:c},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,S([P("rowRenderer")],o.prototype,"rowRenderer",void 0),S([P("focusService")],o.prototype,"focusService",void 0),S([E(0,Ft("loggerFactory"))],o.prototype,"setBeans",null),S([di],o.prototype,"destroyAllBlocks",null),o}(ie),gI=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ts=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},gi=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return gI(o,u),o.prototype.getRowBounds=function(i){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*i}},o.prototype.ensureRowHeightsValid=function(i,s,l,c){return!1},o.prototype.init=function(){var i=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return i.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&Me.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,G.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,G.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,G.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},o.prototype.isSortModelDifferent=function(){return!Me.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return q.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(i){this.destroyDatasource(),this.datasource=i,i&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(i,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(i,s):[]},o.prototype.reset=function(){if(this.datasource){Me.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var s=this.createModelUpdatedEvent();this.eventService.dispatchEvent(s)}},o.prototype.createModelUpdatedEvent=function(){return{type:G.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache();var i=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(i,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Cs},this.infiniteCache=this.createBean(new X(this.cacheParams))},o.prototype.defaultIfInvalid=function(i,s){return i>0?i:s},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)},o.prototype.getRow=function(i){if(this.infiniteCache&&!(i>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(i)},o.prototype.getRowNode=function(i){var s=void 0;return this.forEachNode(function(l){l.id===i&&(s=l)}),s},o.prototype.forEachNode=function(i){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(i)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(i){return i},o.prototype.getRowIndexAtPixel=function(i){if(0!==this.rowHeight){var s=Math.floor(i/this.rowHeight),l=this.getRowCount()-1;return s>l?l:s}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(i){return!!this.getRowNode(i.id)},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},o.prototype.setRowCount=function(i,s){this.infiniteCache&&this.infiniteCache.setRowCount(i,s)},ts([P("filterManager")],o.prototype,"filterManager",void 0),ts([P("sortController")],o.prototype,"sortController",void 0),ts([P("selectionService")],o.prototype,"selectionService",void 0),ts([P("gridApi")],o.prototype,"gridApi",void 0),ts([P("columnApi")],o.prototype,"columnApi",void 0),ts([P("rowRenderer")],o.prototype,"rowRenderer",void 0),ts([P("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),ts([Se],o.prototype,"init",null),ts([di],o.prototype,"destroyDatasource",null),ts([xe("rowModel")],o)}(ie),mi={moduleName:W.GXE.InfiniteRowModelModule,rowModels:{infinite:gi}},Fs=function(){function u(){}return u.prototype.setBeans=function(o){this.beans=o},u.prototype.getFileName=function(o){var i=this.getDefaultFileExtension();return(null==o||!o.length)&&(o=this.getDefaultFileName()),-1===o.indexOf(".")?o+"."+i:o},u.prototype.getMergedParamsAndData=function(o){var i=this.mergeDefaultParams(o);return{mergedParams:i,data:this.beans.gridSerializer.serialize(this.createSerializingSession(i),i)}},u.prototype.mergeDefaultParams=function(o){var i=this.getDefaultExportParams(),s={};return Me.assign(s,i),Me.assign(s,o),s},u}(),le=function(){function u(o){this.groupColumns=[];var s=o.valueService,l=o.gridOptionsWrapper,c=o.processCellCallback,h=o.processHeaderCallback,g=o.processGroupHeaderCallback,_=o.processRowGroupCallback;this.columnModel=o.columnModel,this.valueService=s,this.gridOptionsWrapper=l,this.processCellCallback=c,this.processHeaderCallback=h,this.processGroupHeaderCallback=g,this.processRowGroupCallback=_}return u.prototype.prepare=function(o){this.groupColumns=Me.filter(o,function(i){return!!i.getColDef().showRowGroup})},u.prototype.extractHeaderValue=function(o){var i=this.getHeaderName(this.processHeaderCallback,o);return null!=i?i:""},u.prototype.extractRowCellValue=function(o,i,s,l,c){var _,h=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;_=c&&c.group&&(i===h&&-1!==this.groupColumns.indexOf(o)||0===i&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(o,c);var y=this.processCell(s,c,o,_,this.processCellCallback,l);return null!=y?y:""},u.prototype.getHeaderName=function(o,i){return o?o({column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(i,"csv",!0)},u.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var i=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)i.push((o=o.parent).key);return i.reverse().join(" -> ")},u.prototype.processCell=function(o,i,s,l,c,h){return c?c({accumulatedRowIndex:o,column:s,node:i,value:l,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:h}):null!=l?l:""},u}(),Ec=function(){function u(){}return u.download=function(o,i){var s=document.defaultView||window;if(s)if(s.navigator.msSaveOrOpenBlob)s.navigator.msSaveOrOpenBlob(i,o);else{var l=document.createElement("a"),c=s.URL.createObjectURL(i);l.setAttribute("href",c),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(l),s.setTimeout(function(){s.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},u}(),xC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),U=function(u){function o(i){var s=u.call(this,i)||this;s.isFirstLine=!0,s.result="";var c=i.columnSeparator;return s.suppressQuotes=i.suppressQuotes,s.columnSeparator=c,s}return xC(o,u),o.prototype.addCustomContent=function(i){var s=this;!i||("string"==typeof i?(/^\s*\n/.test(i)||this.beginNewLine(),i=i.replace(/\r?\n/g,"\r\n"),this.result+=i):i.forEach(function(l){s.beginNewLine(),l.forEach(function(c,h){0!==h&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(c.data.value||""),c.mergeAcross&&s.appendEmptyCells(c.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(l)},o.prototype.appendEmptyCells=function(i){for(var s=1;s<=i;s++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(i,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(i))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(i,s,s,q.EXPORT_TYPE_CSV,l))},o.prototype.putInQuotes=function(i){return this.suppressQuotes?i:null==i?'""':("string"==typeof i?s=i:"function"==typeof i.toString?s=i.toString():(console.warn("unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},o}(le),Tm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dc=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Rm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Tm(o,u),o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},o.prototype.export=function(i){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParamsAndData(i),l=s.mergedParams,c=s.data,h=new Blob(["\ufeff",c],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return Ec.download(this.getFileName(l.fileName),h),c},o.prototype.exportDataAsCsv=function(i){return this.export(i)},o.prototype.getDataAsCsv=function(i){return this.getMergedParamsAndData(i).data},o.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(i){var s=this;return new U({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:i.processCellCallback||void 0,processHeaderCallback:i.processHeaderCallback||void 0,processGroupHeaderCallback:i.processGroupHeaderCallback||void 0,processRowGroupCallback:i.processRowGroupCallback||void 0,suppressQuotes:i.suppressQuotes||!1,columnSeparator:i.columnSeparator||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Dc([P("columnModel")],o.prototype,"columnModel",void 0),Dc([P("valueService")],o.prototype,"valueService",void 0),Dc([P("gridSerializer")],o.prototype,"gridSerializer",void 0),Dc([P("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Dc([Se],o.prototype,"postConstruct",null),Dc([xe("csvCreator")],o)}(Fs),IC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),fa=function(u,o,i,s){var h,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var g=u.length-1;g>=0;g--)(h=u[g])&&(c=(l<3?h(c):l>3?h(o,i,c):h(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u[u.HEADER_GROUPING=0]="HEADER_GROUPING",u[u.HEADER=1]="HEADER",u[u.BODY=2]="BODY"}(W.aCu||(W.aCu={}));var L=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return IC(o,u),o.prototype.serialize=function(i,s){void 0===s&&(s={});var l=this.getColumnsToExport(s.allColumns,s.columnKeys);return Me.compose(this.prepareSession(l),this.prependContent(s),this.exportColumnGroups(s,l),this.exportHeaders(s,l),this.processPinnedTopRows(s,l),this.processRows(s,l),this.processPinnedBottomRows(s,l),this.appendContent(s))(i).parse()},o.prototype.processRow=function(i,s,l,c){var h=s.shouldRowBeSkipped||function(){return!1},g=this.gridOptionsWrapper,_=g.getContext(),y=g.getApi(),w=g.getColumnApi(),x=g.isGroupRemoveSingleChildren(),k=g.isGroupHideOpenParents(),B=g.isGroupRemoveLowestSingleChildren(),j=this.columnModel.isPivotMode()?c.leafGroup:!c.group,we=1===c.allChildrenCount&&(x||B&&c.leafGroup);if((s.skipGroups||s.skipRowGroups)&&s.skipGroups&&Me.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!j&&(s.skipRowGroups||we||k)||s.onlySelected&&!c.isSelected()||s.skipPinnedTop&&"top"===c.rowPinned||s.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!h({node:c,api:y,context:_})){var Te=i.onNewBodyRow();if(l.forEach(function(Dt,Ze){Te.onColumn(Dt,Ze,c)}),s.getCustomContentBelowRow){var We=s.getCustomContentBelowRow({node:c,api:y,columnApi:w,context:_});We&&i.addCustomContent(We)}}},o.prototype.appendContent=function(i){return function(s){var l=i.customFooter||i.appendContent;return l&&(i.customFooter&&Me.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(l)),s}},o.prototype.prependContent=function(i){return function(s){var l=i.customHeader||i.prependContent;return l&&(i.customHeader&&Me.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(l)),s}},o.prototype.prepareSession=function(i){return function(s){return s.prepare(i),s}},o.prototype.exportColumnGroups=function(i,s){var l=this;return function(c){if(i.skipColumnGroupHeaders)i.columnGroups&&Me.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var h=new Si,g=l.displayedGroupCreator.createDisplayedGroups(s,l.columnModel.getGridBalancedTree(),h,null);l.recursivelyAddHeaderGroups(g,c,i.processGroupHeaderCallback)}return c}},o.prototype.exportHeaders=function(i,s){return function(l){if(i.skipHeader||i.skipColumnHeaders)i.skipHeader&&Me.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=l.onNewHeaderRow();s.forEach(function(h,g){c.onColumn(h,g,void 0)})}return l}},o.prototype.processPinnedTopRows=function(i,s){var l=this;return function(c){var h=l.processRow.bind(l,c,i,s);return l.pinnedRowModel.forEachPinnedTopRow(h),c}},o.prototype.processRows=function(i,s){var l=this;return function(c){var h=l.rowModel,g=h.getType(),_=g===q.ROW_MODEL_TYPE_CLIENT_SIDE,y=g===q.ROW_MODEL_TYPE_SERVER_SIDE,w=!_&&i.onlySelected,x=l.processRow.bind(l,c,i,s);return l.columnModel.isPivotMode()?_?h.forEachPivotNode(x):h.forEachNode(x):i.onlySelectedAllPages||w?l.selectionService.getSelectedNodes().forEach(x):_||y?h.forEachNodeAfterFilterAndSort(x):h.forEachNode(x),c}},o.prototype.processPinnedBottomRows=function(i,s){var l=this;return function(c){var h=l.processRow.bind(l,c,i,s);return l.pinnedRowModel.forEachPinnedBottomRow(h),c}},o.prototype.getColumnsToExport=function(i,s){void 0===i&&(i=!1);var l=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):i&&!l?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([q.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(i,s,l){var c=[];i.forEach(function(h){!h.getChildren||h.getChildren().forEach(function(_){return c.push(_)})}),i.length>0&&i[0]instanceof pi&&this.doAddHeaderHeader(s,i,l),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,s,l)},o.prototype.doAddHeaderHeader=function(i,s,l){var c=this,h=i.onNewHeaderGroupingRow(),g=0;s.forEach(function(_){var w,y=_;w=l?l({columnGroup:y,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(y,"header"),h.onColumn(w||"",g++,y.getLeafColumns().length-1)})},fa([P("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),fa([P("columnModel")],o.prototype,"columnModel",void 0),fa([P("rowModel")],o.prototype,"rowModel",void 0),fa([P("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),fa([P("selectionService")],o.prototype,"selectionService",void 0),fa([xe("gridSerializer")],o)}(ie),MC={moduleName:W.GXE.CsvExportModule,beans:[Rm,L]},Fn=(function(){function u(){}u.createHeader=function(o){void 0===o&&(o={});var l=["version"];return o.version||(o.version="1.0"),o.encoding&&l.push("encoding"),o.standalone&&l.push("standalone"),"<?xml "+l.map(function(h){return h+'="'+o[h]+'"'}).join(" ")+" ?>"},u.createXml=function(o,i){var s=this,l="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(h){Object.keys(h.map).forEach(function(g){l+=s.returnAttributeIfPopulated(h.prefix+g,h.map[g],i)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(h){l+=s.returnAttributeIfPopulated(h,o.properties.rawMap[h],i)}));var c="<"+o.name+l;return o.children||null!=o.textNode?null!=o.textNode?c+">"+o.textNode+"</"+o.name+">\r\n":(c+=">\r\n",o.children&&o.children.forEach(function(h){c+=s.createXml(h,i)}),c+"</"+o.name+">\r\n"):c+"/>\r\n"},u.returnAttributeIfPopulated=function(o,i,s){if(!i&&""!==i&&0!==i)return"";var l=i;return"boolean"==typeof i&&s&&(l=s(i))," "+o+'="'+l+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function u(){}u.addFolders=function(o){o.forEach(this.addFolder.bind(this))},u.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},u.addFile=function(o,i,s){void 0===s&&(s=!1),this.files.push({path:o,created:new Date,content:i,isBase64:s})},u.getContent=function(o){void 0===o&&(o="application/zip");var i=this.buildFileStream(),s=this.buildUint8Array(i);return this.clearStream(),new Blob([s],{type:o})},u.clearStream=function(){this.folders=[],this.files=[]},u.buildFileStream=function(o){void 0===o&&(o="");for(var i=this.folders.concat(this.files),s=i.length,l="",c=0,h=0,g=0,_=i;g<_.length;g++){var w=this.getHeader(_[g],c),x=w.fileHeader,k=w.folderHeader,B=w.content;c+=x.length+B.length,h+=k.length,o+=x+B,l+=k}return o+l+this.buildFolderEnd(s,h,c)},u.getHeader=function(o,i){var s=o.content,l=o.path,c=o.created,h=o.isBase64,_=Me.decToHex,y=(0,Me.utf8_encode)(l),w=y!==l,x=this.convertTime(c),k=this.convertDate(c),B="";if(w){var j=_(1,1)+_(this.getFromCrc32Table(y),4)+y;B="up"+_(j.length,2)+j}var ee=s?this.getConvertedContent(s,h):{size:0,content:""},re=ee.size,we=ee.content,ge="\n\0"+(w?"\0\b":"\0\0")+"\0\0"+_(x,2)+_(k,2)+_(re?this.getFromCrc32Table(we):0,4)+_(re,4)+_(re,4)+_(y.length,2)+_(B.length,2);return{fileHeader:"PK\x03\x04"+ge+y+B,folderHeader:"PK\x01\x02\x14\0"+ge+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+_(i,4)+y+B,content:we||""}},u.getConvertedContent=function(o,i){return void 0===i&&(i=!1),i&&(o=o.split(";base64,")[1]),{size:(o=i?atob(o):o).length,content:o}},u.buildFolderEnd=function(o,i,s){var l=Me.decToHex;return"PK\x05\x06\0\0\0\0"+l(o,2)+l(o,2)+l(i,4)+l(s,4)+"\0\0"},u.buildUint8Array=function(o){for(var i=new Uint8Array(o.length),s=0;s<i.length;s++)i[s]=o.charCodeAt(s);return i},u.getFromCrc32Table=function(o){if(!o.length)return 0;for(var i=o.length,s=new Uint8Array(i),l=0;l<i;l++)s[l]=o.charCodeAt(l);var c=-1;for(l=0;l<i;l++)c=c>>>8^Fn[255&(c^s[l])];return-1^c},u.convertTime=function(o){var i=o.getHours();return i<<=6,i|=o.getMinutes(),(i<<=5)|o.getSeconds()/2},u.convertDate=function(o){var i=o.getFullYear()-1980;return i<<=4,i|=o.getMonth()+1,(i<<=5)|o.getDate()},u.folders=[],u.files=[]}();tt.register(R,!1),tt.register(mi,!1),tt.register(MC,!1),W.j_S=Or,W.Nk3=wT,W.plv=Mn,W.rjZ=vm,W.vA3=$p}},$r=>{$r($r.s=721)}]);